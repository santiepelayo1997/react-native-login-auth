if (self.CavalryLogger) { CavalryLogger.start_js(["+OdSV"]); }

__d("XCometInstantGamesHubPlayControllerRouteBuilder",["cometRouteBuilder"],(function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/instantgames/play/{gameorlink}/",Object.freeze({source:"www_bookmark"}),void 0);e.exports=a}),null);
__d("MWChatUserBirthdayQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Date",kind:"LinkedField",name:"birthdate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"year",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2229218363872708",metadata:{},name:"MWChatUserBirthdayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserEmailQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Email",kind:"LinkedField",name:"all_emails",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_primary",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserEmailQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserEmailQuery",selections:a},params:{id:"2533792060016176",metadata:{},name:"MWChatUserEmailQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserPhoneNumberQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_preferred",storageKey:null},{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2480352425341129",metadata:{},name:"MWChatUserPhoneNumberQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserProfileLocationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2260280317411482",metadata:{},name:"MWChatUserProfileLocationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatBlockMessagesMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"MessengerBlockData!"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"is_message_blocked_by_viewer",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatBlockMessagesMutation",selections:[{alias:null,args:b,concreteType:"MessengerBlockResponsePayload",kind:"LinkedField",name:"messenger_block",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[c],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatBlockMessagesMutation",selections:[{alias:null,args:b,concreteType:"MessengerBlockResponsePayload",kind:"LinkedField",name:"messenger_block",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2390142231101136",metadata:{},name:"MWChatBlockMessagesMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MWMSRevealImageMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"MessengerBusinessRevealImageData!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],kind:"ScalarField",name:"messenger_business_reveal_image",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWMSRevealImageMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWMSRevealImageMutation",selections:b},params:{id:"2665462936913464",metadata:{},name:"MWMSRevealImageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MWMSCreateThreadMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"MessengerGroupThreadCreateData!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerGroupThreadCreateResponsePayload",kind:"LinkedField",name:"messenger_group_thread_create",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWMSCreateThreadMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWMSCreateThreadMutation",selections:b},params:{id:"3065251363509657",metadata:{},name:"MWMSCreateThreadMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMWChatMessageReactionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"MessageReactionData!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessageReactionResponsePayload",kind:"LinkedField",name:"message_reaction",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMWChatMessageReactionMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMWChatMessageReactionMutation",selections:b},params:{id:"2601556119890180",metadata:{},name:"useMWChatMessageReactionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MWChatComposerP2PPaymentEligibilityQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"fbids",type:"[ID!]!"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"PeerToPeerPaymentAccount",kind:"LinkedField",name:"peer_to_peer_payments",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"fbids",variableName:"fbids"}],concreteType:"PeerToPeerPaymentUserEligibility",kind:"LinkedField",name:"can_send_to",plural:!0,selections:[{alias:null,args:null,concreteType:"P2PPaymentUserFacingError",kind:"LinkedField",name:"exception",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatComposerP2PPaymentEligibilityQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatComposerP2PPaymentEligibilityQuery",selections:b},params:{id:"2858925340888348",metadata:{},name:"MWChatComposerP2PPaymentEligibilityQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"has_converted_to_view_side_settings",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null},d={alias:null,args:null,concreteType:"ProductSpecificViewSidePresencePrivacySetting",kind:"LinkedField",name:"product_specific_view_side_privacy_settings",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"product_id",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[a,{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[b,c,d],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[a,{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[b,c,d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"1294042704052975",metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatComposerP2PPopoverQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"2965933846785989",metadata:{relayPreloadable:!0},name:"MWChatComposerP2PPopoverQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("AudioPlayerControls",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({SKIP_BACK:"",SKIP_BACK_INCREMENTAL:"",PLAY_PAUSE:"",SKIP_FORWARD:"",SKIP_FORWARD_INCREMENTAL:""});e.exports=a}),null);
__d("AudioPlayerControlButton.react",["cx","Image.react","Link.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={onHover:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.props.imageOnHoverURI?this.props.imageOnHoverURI:this.props.imageURI;return h.jsx(b("Link.react"),{onClick:this.props.onClick,children:h.jsx(b("Image.react"),{className:"_2jjr",src:this.state.onHover?c:this.props.imageURI,onMouseOver:function(){a.setState({onHover:!0})},onMouseOut:function(){a.setState({onHover:!1})}})})};return c}(h.Component);e.exports=a}),null);
__d("AudioPlayerControlPanel.react",["ix","cx","AudioPlayerControlButton.react","AudioPlayerControls","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return i.jsx("div",{className:"_zwm",children:this.props.controlPanelButtons.map(function(c){var d,e;switch(c.typeName){case b("AudioPlayerControls").PLAY_PAUSE:d=a.props.playing?g("417657"):g("417688");e=a.props.playing?g("417661"):g("417687");break;case b("AudioPlayerControls").SKIP_BACK:d=g("478171");e=g("478172");break;case b("AudioPlayerControls").SKIP_BACK_INCREMENTAL:d=g("478173");e=g("478174");break;case b("AudioPlayerControls").SKIP_FORWARD:d=g("478169");e=g("478170");break;case b("AudioPlayerControls").SKIP_FORWARD_INCREMENTAL:d=g("478175");e=g("478176");break}return d?i.jsx(b("AudioPlayerControlButton.react"),{imageURI:d,imageOnHoverURI:e,onClick:c.onClick},c.typeName):null})})};return c}(i.Component);e.exports=a}),null);
__d("AudioPlayerAssets",["ix","asset"],(function(a,b,c,d,e,f,g){"use strict";var h={MUTE:{LIGHT:{MEDIUM:g("462993"),LARGE:g("462996")},DARK:{MEDIUM:g("462991"),LARGE:g("462994")}},LOW:{LIGHT:{MEDIUM:g("462984"),LARGE:g("462990")},DARK:{MEDIUM:g("462983"),LARGE:g("462985")}},MID:{LIGHT:{MEDIUM:g("462988"),LARGE:g("462990")},DARK:{MEDIUM:g("462987"),LARGE:g("462989")}},HIGH:{LIGHT:{MEDIUM:g("443962"),LARGE:g("462980")},DARK:{MEDIUM:g("462971"),LARGE:g("462975")}},PLAY:{LIGHT:{MEDIUM:g("374088"),LARGE:g("431972")},DARK:{MEDIUM:g("462853"),LARGE:g("462854")}},PAUSE:{LIGHT:{MEDIUM:g("463005"),LARGE:g("463008")},DARK:{MEDIUM:g("463003"),LARGE:g("463006")}}};a=function(a,b,c){return h[a][c][b]};e.exports={getAudioPlayerIconAsset:a}}),null);
__d("AudioPlayerPlayPauseButton.react",["cx","fbt","AudioPlayerAssets","Image.react","React","XUIButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){var c,d;a.playing?(c=h._("Pause"),d=b("AudioPlayerAssets").getAudioPlayerIconAsset("PAUSE",a.iconSize,a.theme)):(c=h._("Play"),d=b("AudioPlayerAssets").getAudioPlayerIconAsset("PLAY",a.iconSize,a.theme));d=i.jsx(b("Image.react"),{src:d});return i.jsx(b("XUIButton.react"),{className:b("joinClasses")(a.className,"_6592"),onClick:a.onClick,image:d,label:c,labelIsHidden:!0,size:"large"})};e.exports=a}),null);
__d("AudioPlayerScrubberBar.react",["cssVar","cx","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a={backgroundColor:"#90949c",barHeight:2,cornerRadius:0,lapsedColor:"#56A1EB"};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=(this.props.height-this.props.barHeight)/2;return i.jsxs("svg",{className:"_3z8e",height:this.props.height,viewBox:"0 0 "+this.props.width+" "+this.props.height,width:this.props.width,children:[i.jsxs("g",{onMouseDown:this.props.onMouseDown,children:[i.jsx("rect",{x:0,y:0,width:this.props.width,height:this.props.height,opacity:"0",rx:this.props.cornerRadius,ry:this.props.cornerRadius}),i.jsx("rect",{x:0,y:a,width:this.props.width,height:this.props.barHeight,fill:this.props.theme==="LIGHT"?"#FFFFFF":this.props.backgroundColor,rx:this.props.cornerRadius,ry:this.props.cornerRadius}),i.jsx("rect",{x:0,y:a,width:this.props.translate,height:this.props.barHeight,fill:this.props.lapsedColor,rx:this.props.cornerRadius,ry:this.props.cornerRadius})]}),this.props.children]})};return b}(i.PureComponent);c.defaultProps=a;e.exports=c}),null);
__d("AudioPlayerScrubberBarHandle.react",["cssVar","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a={color:"#4080ff"};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("g",{transform:this.props.translate,onMouseDown:this.props.onMouseDown,children:h.jsx("ellipse",{cx:this.props.radius,cy:this.props.radius,rx:this.props.radius,ry:this.props.radius,fill:this.props.color})})};return b}(h.PureComponent);c.defaultProps=a;e.exports=c}),null);
__d("AudioPlayerScrubber.react",["cx","AudioPlayerScrubberBar.react","AudioPlayerScrubberBarHandle.react","Event","React","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a={scrubberBarHeight:2,scrubberHandleRadius:6,showScrubberHandle:!0};c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.subscriptionsHandler=new(b("SubscriptionsHandler"))();d.$1=function(a){a.stopPropagation();var c=d.scrubberRef.current;c=(c=c==null?void 0:c.getBoundingClientRect().left)!=null?c:0;c=a.pageX-c;d.props.onSeekStart(c/d.props.width*d.props.duration);d.isMouseDown=!0;d.onMouseMoveHandlerRef=d.$2(a.pageX,c);d.subscriptionsHandler.addSubscriptions(b("Event").listen(document,"mousemove",d.onMouseMoveHandlerRef),b("Event").listen(document,"mouseup",d.$3))};d.$3=function(){d.isMouseDown=!1,d.props.onSeekEnd(),d.releaseSubscriptions()};d.isMouseDown=!1;d.onMouseMoveHandlerRef=null;d.scrubberRef=h.createRef();return d}var d=c.prototype;d.componentWillUnmount=function(){this.releaseSubscriptions()};d.releaseSubscriptions=function(){this.subscriptionsHandler.release(),this.subscriptionsHandler.engage()};d.$2=function(a,b){var c=this;return function(d){if(c.isMouseDown){d=d.pageX-a+b;c.props.onSeekUpdate(d/c.props.width*c.props.duration)}}};d.render=function(){var a=0;this.props.duration>0&&(a=this.props.width/this.props.duration);a=this.props.progress*a;var c=this.props.showScrubberHandle?this.props.scrubberHandleRadius:0,d=Math.max(this.props.scrubberBarHeight,c*2);return h.jsx("div",{className:"_65da",ref:this.scrubberRef,style:{width:this.props.width-c},children:h.jsx(b("AudioPlayerScrubberBar.react"),{backgroundColor:this.props.scrubberBackgroundColor,barHeight:this.props.scrubberBarHeight,cornerRadius:this.props.cornerRadius,height:d,lapsedColor:this.props.scrubberLapsedColor,onMouseDown:this.$1,translate:a,theme:this.props.theme,width:this.props.width,children:this.props.showScrubberHandle?h.jsx(b("AudioPlayerScrubberBarHandle.react"),{color:this.props.scrubberHandleColor,onMouseDown:this.$1,radius:this.props.scrubberHandleRadius,translate:"translate("+(a-this.props.scrubberHandleRadius)+")"}):null})})};return c}(h.Component);c.defaultProps=a;e.exports=c}),null);
__d("AudioPlayerTimestamp.react",["cx","FlexLayout.react","React","formatDurationSeconds"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.location,d=a.position,e=a.progress;a=a.duration;if(d==="none")return null;e={left:h.jsx("div",{className:"_6596"+(this.props.theme==="LIGHT"?" _qwp":""),children:b("formatDurationSeconds")(e)}),right:h.jsx("div",{className:"_6596"+(this.props.theme==="LIGHT"?" _qwp":""),children:b("formatDurationSeconds")(a)})};a=h.jsxs(b("FlexLayout.react"),{justify:"end",className:"_1h7d"+(this.props.theme==="LIGHT"?" _qwp":""),children:[e.left,"/",e.right]});if(d===c)return a;else if(d==="split")return e[c];else return null};return c}(h.Component);a.defaultProps={location:"left",position:"left"};e.exports=a}),null);
__d("AudioPlayerVolumeSettings",["WebStorage","keyMirror"],(function(a,b,c,d,e,f){var g,h=b("keyMirror")({AUDIO_PLAYER_CONTROLLER_VOLUME_BEFORE_MUTE:"",AUDIO_PLAYER_CONTROLLER_VOLUME:""});a=function(){"use strict";function a(){this.$1=1,this.$2=1,this.$3=(g||(g=b("WebStorage"))).getLocalStorage()}var c=a.prototype;c.getVolume=function(){if(this.$3){var a=this.$3.getItem(h.AUDIO_PLAYER_CONTROLLER_VOLUME);if(a!==null&&!isNaN(+a))return+a}return this.$1};c.saveVolume=function(a){this.$3&&this.$3.setItem(h.AUDIO_PLAYER_CONTROLLER_VOLUME,String(a)),this.$1=a};c.getLastVolumeBeforeMute=function(){if(this.$3){var a=this.$3.getItem(h.AUDIO_PLAYER_CONTROLLER_VOLUME_BEFORE_MUTE);if(a!==null&&!isNaN(+a))return+a}return this.$2};c.saveLastVolumeBeforeMute=function(a){this.$3&&this.$3.setItem(h.AUDIO_PLAYER_CONTROLLER_VOLUME_BEFORE_MUTE,String(a)),this.$2=a};return a}();e.exports=new a()}),null);
__d("AudioPlayerVolumeSlider.react",["cx","Event","React","SubscriptionsHandler","emptyFunction","getElementPosition","shallowCompare"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=new(b("SubscriptionsHandler"))();d.state={engaged:!1,volume:d.props.volume};d.$6=function(a){d.props.onVolumeChangeEnd(d.state.volume),d.setState({engaged:!1}),a.preventDefault(),a.stopPropagation(),d.$2()};d.$5=function(a){d.$10(a,a.clientX,a.clientY)};d.$7=function(a){d.$10(a,a.touches[0].clientX,a.touches[0].clientY)};d.sliderRef=h.createRef();d.nubRef=h.createRef();return d}var d=c.prototype;d.componentWillUnmount=function(){this.$2()};d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.$2=function(){this.$1.release(),this.$1.engage()};d.$3=function(a,c,d){this.props.onVolumeChangeBegin();this.setState({engaged:!0,volume:this.$4(d)});a.preventDefault();a.stopPropagation();this.$1.addSubscriptions((c=b("Event")).listen(document,"mousemove",this.$5),c.listen(document,"mouseup",this.$6),c.listen(document,"touchmove",this.$7),c.listen(document,"touchend",this.$6))};d.$8=function(a){this.$3(a,a.clientX,a.clientY)};d.$9=function(a){this.$3(a,a.touches[0].clientX,a.touches[0].clientY)};d.$4=function(a){var c=b("getElementPosition")(this.sliderRef.current),d=b("getElementPosition")(this.nubRef.current).height;a=c.y-a+c.height+d/2;return Math.max(0,Math.min(1,a/c.height))};d.$10=function(a,b,c){this.setState({volume:this.$4(c)}),this.props.onVolumeChange(this.state.volume),a.preventDefault(),a.stopPropagation()};d.render=function(){var a={height:Math.round(this.props.volume*100)+"%"},b="_1iul"+(this.state.engaged?" _1iun":"");return h.jsxs("div",{className:b,onMouseDown:this.$8.bind(this),onTouchStart:this.$9.bind(this),children:[h.jsx("div",{className:"_294-",children:h.jsx("div",{className:"_1iuw"+(this.props.theme==="LIGHT"?" _qwp":""),ref:this.sliderRef,children:h.jsx("div",{className:"_1iuy",style:a,children:h.jsx("div",{className:"_1iuz"+(this.props.theme==="LIGHT"?" _qwp":""),ref:this.nubRef})})})}),h.jsx("div",{className:"_1iux"})]})};return c}(h.Component);a.defaultProps={volume:0,onVolumeChangeBegin:b("emptyFunction"),onVolumeChangeEnd:b("emptyFunction")};e.exports=a}),null);
__d("AudioPlayerVolumeControl.react",["cx","fbt","invariant","AbstractButton.react","AudioPlayerAssets","AudioPlayerVolumeSettings","AudioPlayerVolumeSlider.react","Image.react","Keys","React","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){var j=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={nubEngaged:!1,focused:!1,lastVolumeBeforeMute:1};d.$1=function(){d.$2();return d.props.volume===0?d.$3(d.state.lastVolumeBeforeMute):d.$3(0)};d.$4=function(){d.setState({focused:!0})};d.$5=function(){d.setState({focused:!1})};d.$6=function(a){var c=d.props.volume;if(a.keyCode===b("Keys").UP)a.preventDefault(),a.stopPropagation(),c=Math.min(c+.05,1);else if(a.keyCode===b("Keys").DOWN)a.preventDefault(),a.stopPropagation(),c=Math.max(c-.05,0);else return;d.$7(c)};d.$8=function(a){d.buttonRef.current.blur()};d.$10=function(){var a=d.props.volume;a>0&&(d.setState({nubEngaged:!0,lastVolumeBeforeMute:a}),b("AudioPlayerVolumeSettings").saveLastVolumeBeforeMute(a))};d.$7=function(a){a>0&&(d.setState({lastVolumeBeforeMute:a}),b("AudioPlayerVolumeSettings").saveLastVolumeBeforeMute(a)),d.props.onVolumeChange(a),d.setState({nubEngaged:!1})};d.$3=function(a){d.props.onVolumeChange&&d.props.onVolumeChange(a)};d.buttonRef=j.createRef();return d}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.$9=function(){return this.props.volume};d.$2=function(){this.state.lastVolumeBeforeMute>0&&this.state.lastVolumeBeforeMute<=1||i(0,2385)};d.render=function(){var a=Math.round(this.$9()*100),c;a===0?c="MUTE":a<=33?c="LOW":a<=66?c="MID":c="HIGH";c=b("AudioPlayerAssets").getAudioPlayerIconAsset(c,this.props.iconSize,this.props.theme);c=j.jsx("div",{className:"_1iuj"+(this.props.iconSize==="LARGE"?" _40-2":""),children:j.jsx(b("Image.react"),{src:c})});a=a===0?h._("Unmute"):h._("Mute");return j.jsxs("div",{className:"_1iuf"+(this.state.nubEngaged?" _1iun":"")+(this.state.focused?" _3b6p":"")+(this.props.iconSize==="LARGE"?" _40-2":""),children:[j.jsx(b("AudioPlayerVolumeSlider.react"),{onVolumeChangeBegin:this.$10,onVolumeChangeEnd:this.$7,onVolumeChange:this.$3,theme:this.props.theme,volume:this.$9()}),j.jsx(b("AbstractButton.react"),{className:"_1iuh",image:c,label:a,labelIsHidden:!0,onBlur:this.$5,onClick:this.$1,onFocus:this.$4,onKeyDown:this.$6,onMouseOut:this.$8,ref:this.buttonRef,tabIndex:this.props.tabIndex,type:"button"})]})};return c}(j.Component);e.exports=a}),null);
__d("SoundCollectionHoverIcon.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_6d53",children:[h.jsx("div",{className:"_6d54",children:h.jsx(b("Image.react"),{src:this.props.icon})}),h.jsx("div",{className:"_6d56",children:h.jsx(b("Image.react"),{src:this.props.iconHover})})]})};return c}(h.Component);e.exports=a}),null);
__d("SoundCollectionDownloadButton.react",["ix","Link.react","React","SoundCollectionHoverIcon.react","asset","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("Link.react"),{className:this.props.margin,download:this.props.title,href:this.props.href,s:"yes",onClick:this.props.onDownload,children:h.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("425468"),iconHover:g("425467")})})};return c}(h.Component);a.defaultProps={title:"Untitled",onDownload:b("emptyFunction")};e.exports=a}),null);
__d("AudioPlayerView.react",["cx","AudioPlayerControlPanel.react","AudioPlayerPlayPauseButton.react","AudioPlayerScrubber.react","AudioPlayerTimestamp.react","AudioPlayerVolumeControl.react","DateConsts","FlexLayout.react","React","SoundCollectionDownloadButton.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.calculateScrubberWidth=function(a){var c=this.props,d=c.duration,e=c.simplePlayPauseButton,f=c.showDownload;c=c.showVolume;f&&(a-=32);c&&(a-=32);e&&(a-=32);if(d>10*b("DateConsts").SEC_PER_HOUR)return a-152;if(d>b("DateConsts").SEC_PER_HOUR)return a-142;return d>10*b("DateConsts").SEC_PER_MIN?a-122:a-112};d.render=function(){var a=this.props,c=a.className,d=a.controlPanelButtons,e=a.containerRef,f=a.duration,g=a.iconSize,i=a.isPlaying,j=a.onVolumeChange,k=a.onDownload,l=a.progress,m=a.showDownload,n=a.showVolume,o=a.showScrubber,p=a.simplePlayPauseButton,q=a.src,r=a.timestampPosition,s=a.title,t=a.theme,u=a.togglePlayPause,v=a.volume;a=a.width;p=p?h.jsx(b("AudioPlayerPlayPauseButton.react"),{className:"_6595",iconSize:g,onClick:u,playing:i,theme:t}):null;u=d.length>0?h.jsx(b("AudioPlayerControlPanel.react"),{controlPanelButtons:d,playing:i}):null;return h.jsxs("div",{className:c,style:{width:a},ref:e,children:[u,h.jsxs(b("FlexLayout.react"),{justify:"center",align:"center",children:[p,h.jsx(b("AudioPlayerTimestamp.react"),{progress:l,duration:f,location:"left",position:r,theme:t}),o?h.jsx(b("AudioPlayerScrubber.react"),babelHelpers["extends"]({},this.props,{width:this.calculateScrubberWidth(a)})):null,h.jsx(b("AudioPlayerTimestamp.react"),{progress:l,duration:f,location:"right",position:r,theme:t}),n?h.jsx(b("AudioPlayerVolumeControl.react"),{iconSize:g,theme:t,onVolumeChange:j,volume:v,tabIndex:"0"}):null,m?h.jsx(b("SoundCollectionDownloadButton.react"),{href:q,margin:"_3-8r",onDownload:k,title:s}):null]})]})};return c}(h.Component);a.defaultProps={showDownload:!1,showScrubber:!0,showVolume:!1};e.exports=a}),null);
__d("AudioPlayer.react",["AudioPlayerControls","AudioPlayerView.react","AudioPlayerVolumeSettings","Event","React","SubscriptionsHandler","emptyFunction"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=250,i=!0,j=!1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.forceUpdateInterval=null;d.onCanPlay=function(){d.props.onReadyToPlay&&(d.props.onReadyToPlay(),d.forceUpdate())};d.onPlay=function(){d.playing=!0,d.forceUpdateInterval===null&&(d.forceUpdateInterval=window.setInterval(function(){d.forceUpdate()},h)),d.props.onTogglePlayPause(i)};d.onPause=function(){d.playing=!1,d.forceUpdate(),d.props.onTogglePlayPause(j),d.$1()};d.togglePlayPause=function(){var a=!d.isPlaying();d.props.onTogglePlayPause(a);d.setPlayPauseTo(a)};d.playAudio=function(){if(d.getDuration()===0)return;d.playing=!0;d.audioElement.play()};d.pauseAudio=function(){if(d.getDuration()===0)return;d.playing=!1;d.audioElement.pause()};d.setVolume=function(a){b("AudioPlayerVolumeSettings").saveVolume(a),d.audioElement.volume=a,d.forceUpdate()};d.onSeekStart=function(a){d.wasPlaying=d.isPlaying(),d.setPlayPauseTo(j),d.setProgress(a)};d.onSeekUpdate=function(a){d.setProgress(a)};d.onSeekEnd=function(){d.wasPlaying&&!d.isTrackCompleted()&&d.setPlayPauseTo(i)};d.containerRef=g.createRef();return d}var d=c.prototype;d.reset=function(){this.setPlayPauseTo(j),this.onPause(),this.getDuration()>0&&this.getProgress()!==0&&(this.audioElement.currentTime=0,this.forceUpdate())};d.setProgress=function(a){this.audioElement.currentTime=Math.min(Math.max(a,0),this.getDuration()),this.forceUpdate()};d.getProgress=function(){return this.audioElement&&this.audioElement.currentTime?this.audioElement.currentTime:0};d.getDuration=function(){return this.audioElement&&this.audioElement.duration?this.audioElement.duration:0};d.getVolume=function(){return this.audioElement&&this.audioElement.volume?this.audioElement.volume:0};d.isPlaying=function(){return this.audioElement!==void 0&&!this.audioElement.paused};d.isTrackCompleted=function(){return this.getDuration()===this.getProgress()};d.setPlayPauseTo=function(a){this.isPlaying()!==a&&this.playing!==a&&(a?this.playAudio():this.pauseAudio())};d.moveProgressBySec=function(a){this.setProgress(this.getProgress()+a)};d.componentDidMount=function(){var a;this.audioElement=document.createElement("audio");this.subscriptionsHandler=new(b("SubscriptionsHandler"))();this.subscriptionsHandler.addSubscriptions((a=b("Event")).listen(this.audioElement,"canplay",this.onCanPlay),a.listen(this.audioElement,"play",this.onPlay),a.listen(this.audioElement,"pause",this.onPause),a.listen(this.containerRef.current,"audio-play",this.playAudio),a.listen(this.containerRef.current,"audio-pause",this.pauseAudio),a.listen(this.audioElement,"ended",this.props.onTrackEnded));this.audioElement.src=this.props.src;this.audioElement.loop=this.props.loop;this.setVolume(this.props.defaultVolume);this.audioElement.autoplay=this.props.autoplay;this.audioElement.load()};d.componentDidUpdate=function(a){this.props.src!==a.src&&(this.audioElement.src=this.props.src,this.audioElement.load(),this.forceUpdate())};d.$1=function(){this.forceUpdateInterval!==null&&(window.clearInterval(this.forceUpdateInterval),this.forceUpdateInterval=null)};d.componentWillUnmount=function(){this.audioElement&&(this.audioElement.pause(),this.audioElement.remove()),this.subscriptionsHandler.release(),this.$1()};d.getOnClickFunctionForControlPanelButton=function(a){var c=this;switch(a){case b("AudioPlayerControls").PLAY_PAUSE:return this.togglePlayPause;case b("AudioPlayerControls").SKIP_BACK_INCREMENTAL:return function(){c.moveProgressBySec(-10)};case b("AudioPlayerControls").SKIP_FORWARD_INCREMENTAL:return function(){c.moveProgressBySec(10)};case b("AudioPlayerControls").SKIP_FORWARD:return this.props.onSkipToNext?this.props.onSkipToNext:function(){c.setProgress(c.getDuration())};case b("AudioPlayerControls").SKIP_BACK:return this.props.onRewindToPrevious&&this.getProgress()<=1?this.props.onRewindToPrevious:function(){c.setProgress(0),c.setPlayPauseTo(i)};default:return function(){}}};d.render=function(){var a=this,c=this.props.controlPanelSelection.map(function(b){return{typeName:b,onClick:a.getOnClickFunctionForControlPanelButton(b)}});return g.jsx(b("AudioPlayerView.react"),babelHelpers["extends"]({},this.state,this.props,{controlPanelButtons:c,containerRef:this.containerRef,isPlaying:this.isPlaying(),duration:this.getDuration(),progress:this.getProgress(),volume:this.getVolume(),onSeekEnd:this.onSeekEnd,onSeekStart:this.onSeekStart,onSeekUpdate:this.onSeekUpdate,togglePlayPause:this.togglePlayPause,onVolumeChange:this.setVolume}))};return c}(g.Component);a.defaultProps={autoplay:!1,defaultVolume:.7,controlPanelSelection:[],iconSize:"MEDIUM",loop:!1,simplePlayPauseButton:!0,timestampPosition:"left",theme:"DARK",width:400,onDownload:c=b("emptyFunction"),onTogglePlayPause:c,onReadyToPlay:c,onTrackEnded:c};e.exports=a}),null);
__d("useOnBeforeUnloadBlue",["React","Run"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useEffect;function a(a){var c=function(){var b=a();return b==null?void 0:b.warnMessage};g(function(){return b("Run").onBeforeUnload(c,!0).remove})}e.exports=a}),null);
__d("CometLeftRailLayoutContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(!1);e.exports=c}),null);
__d("useCometPressableEventHandlers",["ExecutionEnvironment","React","emptyObject","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=new Set();b("ExecutionEnvironment").canUseDOM&&document.addEventListener("mousedown",function(){h.forEach(function(a){return a()})},!0);var i=function(a){h.add(a);return function(){h["delete"](a)}},j=new Set();b("ExecutionEnvironment").canUseDOM&&document.addEventListener("keydown",function(a){switch(a.key){case"ArrowUp":case"ArrowRight":case"ArrowDown":case"ArrowLeft":case"Tab":case"Enter":case" ":case"Escape":j.forEach(function(a){return a()})}},!0);var k=function(a){j.add(a);return function(){j["delete"](a)}},l=b("ExecutionEnvironment").canUseDOM?null:!0;function m(){l==null&&(l=!window.matchMedia("(pointer: coarse)").matches);return l}var n=0,o=1;c=b("React");d=c.createContext;var p=c.useCallback,q=c.useContext,r=c.useEffect,s=c.useRef,t=c.useState,u=d(!1);function a(a){var c=a.clickOnSpace,d=c===void 0?!1:c;c=a.disabled;c=c===void 0?!1:c;var e=a.onFocusChange,f=a.onFocusIn,h=a.onFocusOut,j=a.onFocusVisibleChange,l=a.onHoverChange,v=a.onHoverIn,w=a.onHoverOut,x=a.onPress,y=a.onPressChange,z=a.onPressIn,A=a.onPressOut;a=a.testOnly_pressed;var B=a===void 0?!1:a;a=q(u);var C=s(n),D=t(!1),E=D[0],F=D[1];D=t(c);var G=D[0];D=D[1];var H=t(B),I=H[0],J=H[1];H=t(!1);var K=H[0],L=H[1];H=t(!1);var M=H[0],N=H[1];H=t(!1);var O=H[0],P=H[1];r(function(){var a=i(function(){C.current=n}),b=k(function(){C.current=o});return function(){a(),b()}},[]);var Q=p(function(a){J(a),y&&y(a)},[y]),R=p(function(a){L(a),e&&e(a),(C.current===o||!a&&M)&&(N(a),j&&j(a))},[e,j,M]),S=p(function(a){P(a),l&&l(a)},[l]);H=t(B);var T=H[0],U=H[1];b("useLayoutEffect_SAFE_FOR_SSR")(function(){B!==T&&(Q(B),U(B))},[T,Q,B]);H=s(null);var V=p(function(a){R(!0),f&&f(a)},[f,R]),W=p(function(a){K&&(R(!1),h&&h(a))},[K,h,R]),X=p(function(a){if(!m())return;E&&(Q(!0),!I&&z&&z(a));S(!0);v&&v(a)},[E,v,z,I,S,Q]),Y=p(function(a){I&&(Q(!1),A&&A(a)),O&&(S(!1),w&&w(a))},[O,w,A,I,S,Q]),Z=p(function(a){F(!0),Q(!0),z&&z(a)},[z,Q]),aa=p(function(a){F(!1),I&&(Q(!1),A&&A(a))},[A,I,Q]),ba=p(function(a){F(!1),I&&(Q(!1),A&&A(a))},[A,I,Q]),$=s(!1),ca=p(function(a){$.current=a.touches.length===1,Q($.current),$.current&&z!=null&&z(a)},[z,Q]),da=p(function(a){$.current=!1,I&&(Q(!1),A&&A(a))},[A,I,Q]),ea=p(function(a){I&&(Q(!1),$.current&&a.touches.length===1&&(A&&A(a)))},[A,I,Q]);r(function(){if(E&&!O){var a=function(){F(!1)};document.addEventListener("mouseup",a,{capture:!0,passive:!0});return function(){document.removeEventListener("mouseup",a,{capture:!0,passive:!0})}}return function(){}},[a,E,Q,O]);var fa=p(function(a){F(!1),x&&x(a)},[x]),ga=p(function(a){a.key==="Enter"&&(x&&x(a)),a.key===" "&&d&&(x&&x(a))},[d,x]);c!==G&&(c&&(Q(!1),R(!1),S(!1)),D(c));G=c?b("emptyObject"):{onBlur:W,onClick:fa,onDragStart:ba,onFocus:V,onKeyDown:ga,onMouseDown:Z,onMouseEnter:X,onMouseLeave:Y,onMouseUp:aa,onTouchEnd:ea,onTouchMove:da,onTouchStart:ca};D=p(function(a){a=a.children;return g.jsx(u.Provider,{value:!0,children:a})},[]);return[H,a,{disabled:c,focusVisible:M,focused:K,hovered:O,pressed:I},G,D]}e.exports=a}),null);
__d("CometPhotoGrid.react",["CometAspectRatioContainer.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function i(a,b){return a<2&&b%3===2}function a(a){var c=a.spacing,d=c===void 0?"narrow":c;c=babelHelpers.objectWithoutPropertiesLoose(a,["spacing"]);a=h.Children.toArray(c.children);var e=a.length;return h.jsx("div",{className:(g||(g=b("stylex"))).dedupe({"display-1":"j83agx80","flex-direction-1":"btwxx1t3","flex-wrap-1":"lhclo0ds"},d==="narrow"?{"margin-top-1":"hop8lmos","margin-end-1":"nkwizq5d","margin-bottom-1":"scwd0bx6","margin-start-1":"roh60bw9"}:null,d==="wide"?{"margin-top-1":"s89635nw","margin-end-1":"c4xchbtz","margin-bottom-1":"dco85op0","margin-start-1":"by2jbhx6"}:null),children:h.Children.map(a,function(a,c){return h.jsx("div",{className:(g||(g=b("stylex"))).dedupe({"box-sizing-1":"rq0escxv","flex-basis-1":"kuivcneq"},d==="wide"?{"padding-top-1":"linoseic","padding-end-1":"ihtri3yf","padding-bottom-1":"pby63qed","padding-start-1":"e9o6kcyi"}:null,d==="narrow"?{"padding-top-1":"jwdofwj8","padding-end-1":"n8tt0mok","padding-bottom-1":"r8blr3vg","padding-start-1":"hyh9befq"}:null,i(c,e)?{"flex-basis-1":"hkbzh7o3"}:null),children:h.jsx(b("CometAspectRatioContainer.react"),{aspectRatio:1,children:a})})})})}e.exports=a}),null);
__d("CometImageCover.react",["BaseImage.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");d=b("React");var h=d.useCallback,i=d.useRef,j=d.useState;f=function(){var a=document.documentElement;return a==null?!0:Boolean("objectFit"in a.style)}();function a(a){var c=a.loading,d=a.onLoad,e=a.src;a=a.style;var f=j(null),k=f[0],l=f[1],m=i();f=h(function(){var a=m.current;if(a==null||!(a instanceof HTMLImageElement)||typeof a.src!=="string")return;l(a.src);d!=null&&d()},[d]);return k!=null?g.jsx("div",{className:"k4urcfbm bixrwtb6 datstx6m q9uorilb",style:babelHelpers["extends"]({backgroundImage:"url("+k+")",backgroundPosition:"center center",backgroundSize:"cover"},a)}):g.jsx(b("BaseImage.react"),{className:"ttbfdpzt do00u71z",loading:c||void 0,onLoad:f,ref:m,src:e,style:a})}function c(a){return g.jsx(b("BaseImage.react"),babelHelpers["extends"]({className:"k4urcfbm bixrwtb6 datstx6m q9uorilb"},a))}e.exports=f?c:a}),null);
__d("TetraishHScroll.react",["ix","fbt","BaseScrollableAreaContext","CometLeftRailLayoutContext","CometRouteRenderType","CometTrackingNodeProvider.react","ExecutionEnvironment","FocusInertRegion.react","Locale","React","TabbableScopeQuery.react","TetraCircleButton.react","UserAgent","fbicon","stylex","useLayoutEffect_SAFE_FOR_SSR","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("CometRouteRenderType").useIsHosted,k=b("React");c=b("React");var l=c.useCallback,m=c.useContext,n=c.useMemo,o=c.useRef,p=c.useState,q={buttonContainer:{position:"l9j0dhe7",zIndex:"du4w35lb"},buttonWrapper:{display:"a8c37x1j",opacity:"pedkr2u6",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg",top:"d3dyzuny",transform:"ke6wolob",transitionDuration:"dpja2al7",transitionProperty:"art1omkt",transitionTimingFunction:"nw2je8n7",zIndex:"tkr6xdv7"},buttonWrapperLeft:{left:"o15a8410"},buttonWrapperLeftPeek:{left:"qew7ijjg"},buttonWrapperRight:{right:"hfvi190u"},buttonWrapperRightPeek:{right:"samo6ylo"},card:{alignItems:"gs1a9yip",boxSizing:"rq0escxv",display:"j83agx80",flexShrink:"pfnyh3mw",marginEnd:"cgat1ltu",marginStart:"kkf49tns",scrollSnapAlign:"qdtcsgvi",whiteSpace:"l3itjdph"},container:{MsOverflowStyle:"q5bimw55",WebkitOverflowScrolling:"gvuykj2m",boxSizing:"rq0escxv",display:"j83agx80",marginBottom:"nvd5e08m",marginEnd:"dlv3wnog",marginStart:"rl04r1d5",overflowX:"d76ob5m9",overflowY:"eg9m0zos",paddingBottom:"tu1s4ah4",paddingTop:"cxgpxx05",scrollPadding:"rx6hrq12",scrollSnapDestination:"fq9i8bis",scrollSnapPointsX:"cvgtb6nh",scrollbarWidth:"ofs802cu",whiteSpace:"g0qnabr5",width:"g2wf7z4h","::-webkit-scrollbar":{height:"dkue75c7",width:"mb9wzai9"}},containerSnap:{scrollSnapType:"tu18w1b4"},containerNoPeek:{marginEnd:"nks68n2l",marginStart:"pvr25hwf",width:"ojx2bl83"},containerNoScroll:{overflowX:"ni8dbmo4",overflowY:"stjgntxs"},hidden:{opacity:"b5wmifdl",pointerEvents:"hzruof5a"},root:{marginBottom:"c8r2yrt7",marginTop:"o7xrwllt",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingBottom:"dy7m38rt",paddingTop:"jktsbyx5",position:"l9j0dhe7",width:"k4urcfbm"}},r=(d={},d[0]={width:"sb3ic3sl","@media (max-width: 299px)":{width:"tfksjxg8"}},d[404]={width:"gppcmqpj","@media (min-width: 404px) and (max-width: 561px)":{width:"g5egk45q"}},d[562]={width:"exqoj0th","@media (min-width: 562px) and (max-width: 719px)":{width:"m8vaowjb"}},d[720]={width:"tsqz73po","@media (min-width: 720px) and (max-width: 877px)":{width:"jcu8m7xq"}},d[878]={width:"i3xa5tg0","@media (min-width: 878px) and (max-width: 1035px)":{width:"pjkidawo"}},d[1036]={width:"ec8vz1gl","@media (min-width: 1036px) and (max-width: 1193px)":{width:"c5u9tzze"}},d[1194]={width:"my6nnm0o","@media (min-width: 1194px) and (max-width: 1351px)":{width:"ini5337z"}},d[1352]={width:"lkirtjs1","@media (min-width: 1352px) and (max-width: 1509px)":{width:"bzc5tk0l"}},d[1510]={width:"r1dhg97c","@media (min-width: 1510px) and (max-width: 1667px)":{width:"bavll0uj"}},d[1668]={width:"efyom8fn","@media (min-width: 1668px) and (max-width: 1825px)":{width:"qsko1vyi"}},d[1826]={width:"d0rb5ewr","@media (min-width: 1826px) and (max-width: 1983px)":{width:"hjbymipb"}},d[1984]={width:"ichfwjo2","@media (min-width: 1984px) and (max-width: 2142px)":{width:"gp43md67"}},d),s=(f={},f[0]={width:"sb3ic3sl","@media (max-width: 299px)":{width:"tfksjxg8"}},f[404]={width:"gppcmqpj","@media (min-width: 404px) and (max-width: 561px)":{width:"qhtsz48y"}},f[562]={width:"exqoj0th","@media (min-width: 562px) and (max-width: 719px)":{width:"m8vaowjb"}},f[720]={width:"tsqz73po","@media (min-width: 720px) and (max-width: 1237px)":{width:"bkjlpdxx"}},f[1238]={width:"i3xa5tg0","@media (min-width: 1238px) and (max-width: 1395px)":{width:"kl0yo3gr"}},f[1396]={width:"ec8vz1gl","@media (min-width: 1396px) and (max-width: 1553px)":{width:"n3ivibgo"}},f[1554]={width:"my6nnm0o","@media (min-width: 1554px) and (max-width: 1711px)":{width:"roh3v0gf"}},f[1712]={width:"lkirtjs1","@media (min-width: 1712px) and (max-width: 1869px)":{width:"c9ahs2yb"}},f[1870]={width:"r1dhg97c","@media (min-width: 1870px) and (max-width: 2027px)":{width:"hh1zwtvl"}},f[2028]={width:"efyom8fn","@media (min-width: 2028px) and (max-width: 2300px)":{width:"ozlxgwhh"}},f),t=(c={},c[0]={width:"sb3ic3sl","@media (max-width: 599px)":{width:"f5lzy05q"}},c[704]={width:"gppcmqpj","@media (min-width: 704px) and (max-width: 1071px)":{width:"b18ygmpc"}},c[1072]={width:"exqoj0th","@media (min-width: 1072px) and (max-width: 1319px)":{width:"dwge3j3f"}},c[1320]={width:"tsqz73po","@media (min-width: 1320px) and (max-width: 1627px)":{width:"mcbgzc2n"}},c[1628]={width:"i3xa5tg0","@media (min-width: 1628px) and (max-width: 1935px)":{width:"bakekrat"}},c[1936]={width:"ec8vz1gl","@media (min-width: 1936px) and (max-width: 2243px)":{width:"cuilj9wa"}},c[2244]={width:"my6nnm0o","@media (min-width: 2244px) and (max-width: 2552px)":{width:"hqb7jmro"}},c),u=(d={},d[0]={width:"sb3ic3sl","@media (max-width: 600px)":{width:"lhlhj9us"}},d[704]={width:"gppcmqpj","@media (min-width: 704px) and (max-width: 1371px)":{width:"cwrakf3e"}},d[1372]={width:"exqoj0th","@media (min-width: 1372px) and (max-width: 1679px)":{width:"e66w1f63"}},d[1680]={width:"tsqz73po","@media (min-width: 1680px) and (max-width: 1987px)":{width:"o70erczg"}},d[1988]={width:"i3xa5tg0","@media (min-width: 1988px) and (max-width: 2295px)":{width:"dh23er2d"}},d[2296]={width:"ec8vz1gl","@media (min-width: 2296px) and (max-width: 2604px)":{width:"sx5dm6gh"}},d),v=4,w=16,x=h._("Next Items"),y=h._("Previous Items");f=b("ExecutionEnvironment").canUseDOM&&window.matchMedia("(prefers-reduced-motion: reduce)");var z=f&&f.matches,A=b("UserAgent").isBrowser("Chrome"),B=document.documentElement!=null&&"scrollBehavior"in document.documentElement.style,C=function(a,b){typeof a.scrollTo==="function"?B?a.scrollTo({behavior:z?"auto":"smooth",left:b,top:0}):a.scrollTo(b,0):a.scrollLeft=b},D=b("Locale").isRTL(),E=function(a){return a%1<.2?Math.floor(a):Math.ceil(a)},F=function(a){return a%1>.8?Math.ceil(a):Math.floor(a)};function G(a){var c=a.children;a=a.xstyle;var d=p(!1),e=d[0],f=d[1];d=b("useVisibilityObserver")({onHidden:function(){return f(!1)},onVisible:function(){return f(!0)}});return k.jsx("div",{"aria-hidden":!e,className:(i||(i=b("stylex")))(a),ref:d,children:k.jsx(b("FocusInertRegion.react"),{disabled:e,focusQuery:b("TabbableScopeQuery.react"),children:c})})}function a(a){var c=a.accessibilityLabel,d=a.baseCardWidth,e=a.children,f=a.disableScrolling;f=f===void 0?!1:f;var h=a.hideArrows;h=h===void 0?!1:h;var z=a.maxWidth,B=z===void 0?Infinity:z;z=a.nextButtonLabel;z=z===void 0?x:z;var H=a.prevButtonLabel;H=H===void 0?y:H;var I=a.onPressNext,J=I===void 0?function(){}:I;I=a.peek;var K=I===void 0?!1:I;I=a.peekPadding;a=a.peekPaddingEnd;var L=m(b("BaseScrollableAreaContext")),M=m(b("CometLeftRailLayoutContext")),N=j(),O=K?(I=I)!=null?I:0:0;a=K?(I=a)!=null?I:44:0;I=p(!0);var P=I[0],Q=I[1];b("useLayoutEffect_SAFE_FOR_SSR")(function(){if(A){var a=window.requestAnimationFrame(function(){Q(!0)});return function(){window.cancelAnimationFrame(a),Q(!1)}}},[e.length]);var R=M||N;I=p(D?null:!0);M=I[0];var S=I[1];N=p(D?!0:null);I=N[0];var T=N[1],U=o(null),V=function(){var a=U.current;if(a==null)return;var b=a.clientWidth,c=a.scrollLeft;a=a.scrollWidth;S(c<=v);T(a-b-c<=v)};N=function(){V()};var W=l(function(a,b){var c=U.current;if(c==null)return;var d=c.clientWidth,e=c.scrollLeft,f=c.scrollWidth,g=f-88;d=d-88;var h=K?44:D?88:0,i=D?d-f%d:0;h=h+i-(D?-O:O);i=E(g/d);g=e+h;e=g%d;e=e<w?g-e:d-e<w?g+(d-e):g;g=b(e/d);b=Math.min(i,Math.max(0,g+a));e=b===i-1&&b!==0?f:b*d-h;g=b===0?0:b*d-h;C(c,D?g:e)},[K,O]),X=function(){return W(-1,E)},Y=function(){W(1,F),J()},Z=d===150?R?s:r:R?u:t,$=Object.keys(Z).filter(function(a){return R?a<=B+360:a<=B}).map(function(a){return Z[a]}),aa=n(function(){return[].concat(L,[{getDOMNode:function(){return U.current}}])},[L]);return k.jsxs("div",{className:(i||(i=b("stylex")))(q.buttonContainer),children:[k.jsx("div",{"aria-hidden":h||!!M,className:i(q.buttonWrapper,q.buttonWrapperLeft,K&&q.buttonWrapperLeftPeek,(h||!!M)&&q.hidden),style:M==null?{maxWidth:48,minWidth:0,width:"calc(("+e.length*(d+8)+"px - 100%) * 9999)"}:{},children:k.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:D?420:419,children:k.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("492488"),20),label:D?z:H,onPress:X,size:48,type:"overlay"})})}),k.jsx("div",{"aria-label":c,className:i(q.root),children:k.jsxs("div",{className:i(q.container,P&&q.containerSnap,!K&&q.containerNoPeek,f&&q.containerNoScroll),onScroll:N,ref:U,children:[!K&&k.jsx("div",{style:{minWidth:44}}),K&&O>0&&k.jsx("div",{style:{minWidth:O}}),k.jsx(b("BaseScrollableAreaContext").Provider,{value:aa,children:e.map(function(a,b){return k.jsx(G,{xstyle:[q.card,$],children:a},b)})}),!K&&k.jsx("div",{style:{minWidth:44}}),K&&a>0&&k.jsx("div",{style:{minWidth:a}})]})}),k.jsx("div",{"aria-hidden":h||!!I,className:i(q.buttonWrapper,q.buttonWrapperRight,K&&q.buttonWrapperRightPeek,(h||!!I)&&q.hidden),style:I==null?{maxWidth:48,minWidth:0,width:"calc(("+e.length*(d+8)+"px - 100%) * 9999)"}:{},children:k.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:D?419:420,children:k.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("492536"),20),label:D?H:z,onPress:Y,size:48,type:"overlay"})})})]})}e.exports=a}),null);
__d("VideoThumbnail",["invariant"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.$1=a}var b=a.prototype;b.getURL=function(){return this.$1};b.getData=function(){g(0,4844)};a.addTextToCanvasContext=function(a,b,c,d,e,f,g,h,i){a.fillStyle=h;a.textAlign=i;a.font=f+"px "+g;h=i==="center"?d+e/2:d;g=1;i=b.split("\n");for(var d=i,b=Array.isArray(d),i=0,d=b?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(b){if(i>=d.length)break;j=d[i++]}else{i=d.next();if(i.done)break;j=i.value}j=j;var k="",l="";j=j.split(" ");for(var j=j,m=Array.isArray(j),n=0,j=m?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=j.length)break;o=j[n++]}else{n=j.next();if(n.done)break;o=n.value}o=o;l+=o;var p=a.measureText(l).width,q=a.measureText(o).width;if(q>e){k.length>0&&(a.fillText(k,h,c+f*g),g++);q="";var r="";for(var s=o,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}v=v;r+=v;var w=a.measureText(r).width;w>e?(a.fillText(q,h,c+f*g),q=v,r=v,g++):q=r}k=q+" ";l=q+" "}else p>e?(a.fillText(k,h,c+f*g),k=o+" ",l=o+" ",g++):(l+=" ",k=l)}a.fillText(k,h,c+f*g);g++}return a};return a}();e.exports=a}),null);
__d("CanvasToBlobImpl",["BlobFactory"],(function(a,b,c,d,e,f){function a(a,c){a=atob(a.substr(a.indexOf(",")+1));var d=new Uint8Array(a.length);for(var e=0;e<a.length;e++)d[e]=a.charCodeAt(e);return b("BlobFactory").getBlob([d],{type:c})}e.exports={getBlob:a}}),null);
__d("dataURLToBlob",["Promise","BlobFactory","CanvasToBlobImpl","CanvasToBlobResource","WebWorker"],(function(a,b,c,d,e,f){var g=b("CanvasToBlobImpl").getBlob,h=a.URL||a.webkitURL||{};function c(a,c){if(!h.createObjectURL||!b("BlobFactory").isSupported)return b("Promise").reject("Browser doesn't support this feature");if(b("WebWorker").isSupported())return new(b("Promise"))(function(d,e){var f=new(b("WebWorker"))(b("CanvasToBlobResource")).setMessageHandler(function(a){d(a),f.terminate()}).setErrorHandler(function(a){e(a.message),f.terminate()}).execute().postMessage({dataURL:a,fileType:c})});else return b("Promise").resolve(g(a,c))}e.exports=c}),null);
__d("canvasToBlob",["Promise","dataURLToBlob","promiseDone"],(function(a,b,c,d,e,f){function a(a,c,d){return new(b("Promise"))(function(e,f){if(a.toBlob)a.toBlob(e,c,d);else{var g=a.toDataURL(c,d);b("promiseDone")(b("dataURLToBlob")(g,c).then(function(a){e(a)},f))}})}e.exports=a}),null);
__d("CanvasVideoThumbnail",["Promise","EventListener","VideoThumbnail","canvasToBlob","promiseDone"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h){var i;e===void 0&&(e=null);f===void 0&&(f=null);g===void 0&&(g=0);h===void 0&&(h=0);i=a.call(this,null)||this;i.$CanvasVideoThumbnail1=b;i.$CanvasVideoThumbnail2=c;i.$CanvasVideoThumbnail3=d;i.$CanvasVideoThumbnail4=e;i.$CanvasVideoThumbnail5=f;i.$CanvasVideoThumbnail6=g;i.$CanvasVideoThumbnail7=h;return i}var d=c.prototype;d.getCanvas=function(){return this.$CanvasVideoThumbnail1};d.getTime=function(){return this.$CanvasVideoThumbnail3?this.$CanvasVideoThumbnail3:0};d.getURL=function(){this.$CanvasVideoThumbnail8||(this.$CanvasVideoThumbnail8=this.$CanvasVideoThumbnail1.toDataURL("image/jpeg"));return this.$CanvasVideoThumbnail8};d.getData=function(){var a=this,c=document.createElement("canvas"),d=c.getContext("2d"),e=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(f,g){var h=b("EventListener").listen(e,"seeked",function(){h.remove(),a.$CanvasVideoThumbnail9(c,d),b("promiseDone")(b("canvasToBlob")(c,"image/jpeg").then(f,g))});e.currentTime=a.$CanvasVideoThumbnail3})};d.getDataWithText=function(a,c,d,e,f,g,h,i){var j=this,k=document.createElement("canvas"),l=k.getContext("2d"),m=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(n,o){var p=b("EventListener").listen(m,"seeked",function(){p.remove(),l.fillStyle=h,l.textAlign=i,j.$CanvasVideoThumbnail9(k,l),l=b("VideoThumbnail").addTextToCanvasContext(l,a,c,d,e,f,g,h,i),b("promiseDone")(b("canvasToBlob")(k,"image/jpeg").then(n,o))});m.currentTime=j.$CanvasVideoThumbnail3})};d.$CanvasVideoThumbnail9=function(a,b){var c=this.$CanvasVideoThumbnail2;this.$CanvasVideoThumbnail4||this.$CanvasVideoThumbnail5?(a.width=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:c.videoWidth,a.height=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:c.videoHeight,this.$CanvasVideoThumbnail10(a,b)):(a.width=c.videoWidth,a.height=c.videoHeight,b.drawImage(c,0,0,a.width,a.height))};d.$CanvasVideoThumbnail10=function(a,b){var c=this.$CanvasVideoThumbnail2,d=this.$CanvasVideoThumbnail6,e=this.$CanvasVideoThumbnail7,f=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:a.width,g=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:a.height;b.drawImage(c,d,e,f,g,0,0,a.width,a.height)};return c}(b("VideoThumbnail"));e.exports=a}),null);
__d("VideoFrameBuffer",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,b,c,d,e,f,g){d===void 0&&(d=null),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.$2=b,this.$1=a,this.$3=c||"contain",this.$6=d,this.$7=e,this.$8=f,this.$9=g}var c=a.prototype;c.updateFrameBuffer=function(){this.$4&&(this.$1.width=this.$4,this.$4=null);this.$5&&(this.$1.height=this.$5,this.$5=null);if(this.$2.readyState<b("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)return;var a=this.$1.clientWidth||this.$1.width,c=this.$1.clientHeight||this.$1.height,d=a,e=c,f=this.$2.videoWidth/this.$2.videoHeight,g=d/e;this.$3==="cover"&&(g*=-1,f*=-1);g>f?d=e*f:g<f&&(e=d/f);g=this.$1.getContext("2d");if(!(g instanceof window.CanvasRenderingContext2D))return;try{if(this.$6||this.$7){g.drawImage(this.$2,(f=this.$8)!=null?f:0,(f=this.$9)!=null?f:0,(f=this.$6)!=null?f:a,(f=this.$7)!=null?f:c,0,0,a,c)}else g.drawImage(this.$2,(a-d)/2,(c-e)/2,d,e)}catch(a){if(a.name!=="NS_ERROR_NOT_AVAILABLE")throw a}};c.getDOMNode=function(){return this.$1};c.updateDimensions=function(a,b){this.$4=a,this.$5=b};return a}();e.exports=a}),null);
__d("generateVideoThumbnails",["Promise","requireCond","CanvasVideoThumbnail","cr:909281","HTMLMediaElementReadyStates","VideoFrameBuffer"],(function(a,b,c,d,e,f){function a(a,c,d,e,f,k,l,m,n){f===void 0&&(f="contain");k===void 0&&(k=0);l===void 0&&(l=null);m===void 0&&(m=null);n===void 0&&(n=null);return new(b("Promise"))(function(o,p){var q,r=document.createElement("canvas"),s=[],t=0,u=(a.duration-k)/e,v=null,w,x,y=(q=m)!=null?q:g(l,c),z=(q=n)!=null?q:h(l,d),A=i(l,c),B=j(l,d);w=new(b("VideoFrameBuffer"))(r,a,f,y,z,A,B);r.width=(q=y)!=null?q:c;r.height=(q=z)!=null?q:d;var C=function(){w.updateFrameBuffer();var c=new(b("CanvasVideoThumbnail"))(r,a,k+(t-1)*u,y,z,A,B);s.push(c);(!v||c.getURL().length>v.getURL().length)&&(v=c);E()},D=function(){if(a.readyState>=b("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)C();else if(b("cr:909281")!==null)var c=b("cr:909281").listen(a,"loadeddata",function(){c.remove(),C()});else a.addEventListener("loadeddata",C,{once:!0})},E=function(){t===0&&(b("cr:909281")!==null?x=b("cr:909281").listen(a,"seeked",D):a.addEventListener("seeked",D)),t<e?(a.currentTime=k+t*u,t++):(b("cr:909281")!==null?x&&x.remove():a.removeEventListener("seeked",D),o({thumbnails:s,selectedThumbnail:v}))};if(a.videoWidth===0||a.videoHeight===0){p();return}E()})}function g(a,b){if(a&&a.spherical){if(a.stereoMode==="left-right")return b/2;if(a.projectionType==="cubemap")return b/3}return null}function h(a,b){return a&&a.spherical&&(a.stereoMode==="top-bottom"||a.projectionType==="cubemap")?b/2:null}function i(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/3:0}function j(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/2:0}e.exports=a}),null);
__d("CometLocalVideoFileThumbnailSuspense.react",["Promise","CometBackgroundImage.react","React","generateVideoThumbnails","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=a.file,d=a.height,e=d===void 0?100:d;d=a.renderer;a=a.width;var f=a===void 0?100:a;a=h.getFromCache(c,f,e);if((a==null?void 0:a.error)!=null)throw a.error;else if((a==null?void 0:a.src)!=null&&a.src!=="")return d?d(a.src):g.jsx(b("CometBackgroundImage.react"),{alt:c.name,src:a.src});else{var i=document.body;if(i){var j=document.createElement("video");throw new(b("Promise"))(function(a){j.setAttribute("style","display: none"),j.setAttribute("src",URL.createObjectURL(c)),j.addEventListener("loadedmetadata",function(){a(b("generateVideoThumbnails")(j,f,e,1))}),i.appendChild(j)}).then(function(a){h.cache[f+"x"+e+"/"+c.name+"/"+c.lastModified]={src:a.thumbnails[0].getURL()}})["catch"](function(a){a=new Error("Video metadata could not be read.");h.cache[f+"x"+e+"/"+c.name+"/"+c.lastModified]={error:a};b("recoverableViolation")(a.message,"video");throw a})["finally"](function(){i.removeChild(j)})}}}h.cache={};h.getFromCache=function(a,b,c){return h.cache[b+"x"+c+"/"+a.name+"/"+a.lastModified]};e.exports=h}),null);
__d("useCometComposerHandler",["CometComposerPluginsDispatchContext","React"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useContext,h=c.useEffect;function a(a){var c=g(b("CometComposerPluginsDispatchContext"));h(function(){c({handler:a,type:"install_handler"});return function(){return c({handler:a,type:"uninstall_handler"})}},[c,a])}e.exports=a}),null);
__d("useControlledComposerViewStateDispatcher",["React","ReactDOMComet","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useCallback,h=b("ReactDOMComet").unstable_flushControlled;function a(){var a=b("useComposerViewStateDispatcher")();return g(function(b){h!=null?h(function(){return a(b)}):a(b)},[a])}e.exports=a}),null);
__d("EmojiSpan.react",["cx","FBEmojiResource","React","UnicodeUtils"],(function(a,b,c,d,e,f,g){var h,i=b("React");function a(a){var c=a.children;a.contentState;var d=a.decoratedText,e=a.dir,f=a.offsetKey;a=a.size;var g=0,j=d.length,k=[];while(g<j){var l=(h||(h=b("UnicodeUtils"))).getUTF16Length(d,g);k.push(d.substr(g,l));g+=l}l=b("FBEmojiResource").fromCodepoints(k);g=l!=null?l.getImageURL(a):null;return g!=null?i.jsx("span",{className:"_3gl1 _5zz4","data-offset-key":f,dir:e,style:{backgroundImage:"url("+g+")",backgroundSize:a+"px "+a+"px",height:a,width:a},children:i.jsx("span",{className:"_ncl",children:c})}):i.jsx("span",{"data-offset-key":f,children:d})}e.exports=a}),null);
__d("CometComposerEmojiPickerTrigger.react",["CometLazyPopoverTrigger.react","JSResource","CometPopoverLoadingState.react","EmojiRenderer","EmojiSpan.react","React","emptyFunction","handleBeforeInputForMessengerEmoji","useCometComposerDecorator","useCometComposerHandler","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("JSResource")("CometEmojiPickerCard.react").__setRef("CometComposerEmojiPickerTrigger.react"),h=b("React");c=b("React");var i=c.useMemo,j={component:b("EmojiSpan.react"),priority:0,props:{size:16},strategy:function(a,c){b("EmojiRenderer").parse(a.getText()).forEach(function(a){var b=a.length;a=a.offset;c(a,a+b)})}};function k(a){return{handleBeforeInput:function(c,d){c=b("handleBeforeInputForMessengerEmoji")(d,c);if(c!==d){a({draftEditorState:c,type:"update_draft_editor_state"});return"handled"}return"not-handled"},priority:0}}function a(a){var c=a.align;c=c===void 0?"middle":c;var d=a.children,e=a.onVisibilityChange;e=e===void 0?b("emptyFunction"):e;a=a.position;a=a===void 0?"above":a;b("useCometComposerDecorator")(j);var f=b("useComposerViewStateDispatcher")(),l=i(function(){return k(f)},[f]);b("useCometComposerHandler")(l);return h.jsx(b("CometLazyPopoverTrigger.react"),{align:c,fallback:h.jsx(b("CometPopoverLoadingState.react"),{minWidth:320,withArrow:!0}),onVisibilityChange:e,popoverProps:{},popoverResource:g,position:a,children:d})}e.exports=a}),null);
__d("MWUILoadParticipants.bs",["requireCond","cr:1459406"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1459406").useMercuryParticipants;c=b("cr:1459406").useParticipants;f.useMercuryParticipants=a;f.useParticipants=c}),null);
__d("MWUILoadParticipants.re",["bs_curry","MWUILoadParticipants.bs"],(function(a,b,c,d,e,f){a=function(a){var c=b("MWUILoadParticipants.bs").useMercuryParticipants(a.threadId);return[c[0],c[1],function(a,d){a=b("bs_curry")._2(c[2],a,d==null?void 0:d);return a}]};f.useMercuryParticipants=a;c=b("MWUILoadParticipants.bs").useParticipants;f.useParticipants=c}),null);
__d("MWUILoadTypingParticipants.bs",["requireCond","cr:1448191"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1448191").useHook;f.$MWLSLoadTypingParticipants$OR$MWMSLoadTypingParticipants$requireCond=b("cr:1448191");f.useHook=a}),null);
__d("MWUIMediaSendManager.bs",["requireCond","cr:1454163"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1454163");f.$MWLSMediaSendManagerProvider$OR$MWMSMediaSendManagerProvider$requireCond=b("cr:1454163");f.Provider=a}),null);
__d("MWUIPresenceIsThreadActive.bs",["requireCond","cr:1470398"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1470398").useHook;f.$MWLSPresenceIsThreadActive$OR$MWMSPresenceIsThreadActive$requireCond=b("cr:1470398");f.useHook=a}),null);
__d("LSAppState.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1];f.background=a;f.foreground=b}),null);
__d("nativePromiseRegeneratorRuntime",[],(function(a,b,c,d,e,f){"use strict";var g=Object.prototype.hasOwnProperty;b=typeof Symbol==="function"?Symbol:{};var h=b.iterator||"@@iterator";c=b.asyncIterator||"@@asyncIterator";var i=e.exports;function j(a,b,c,d){b=Object.create((b||q).prototype);d=new A(d||[]);b._invoke=w(a,c,d);return b}i.wrap=j;function k(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}var l="suspendedStart",m="suspendedYield",n="executing",o="completed",p={};function q(){}function r(){}function s(){}var t=s.prototype=q.prototype;r.prototype=t.constructor=s;s.constructor=r;r.displayName="GeneratorFunction";function a(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}v.prototype[c]=function(){return this};i.isGeneratorFunction=function(a){a=typeof a==="function"&&a.constructor;return a?a===r||(a.displayName||a.name)==="GeneratorFunction":!1};i.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,s):Object.assign(a,s);a.prototype=Object.create(t);return a};i.awrap=function(a){return new u(a)};function u(a){this.arg=a}function v(a){function b(b,e){var f=a[b](e);b=f.value;return b instanceof u?window.Promise.resolve(b.arg).then(c,d):window.Promise.resolve(b).then(function(a){f.value=a;return f})}typeof process==="object"&&process.domain&&(b=process.domain.bind(b));var c=b.bind(a,"next"),d=b.bind(a,"throw");b.bind(a,"return");var e;function f(a,c){var d=e?e.then(function(){return b(a,c)}):new window.Promise(function(d){d(b(a,c))});e=d["catch"](function(a){});return d}this._invoke=f}a(v.prototype);i.async=function(a,b,c,d){var e=new v(j(a,b,c,d));return i.isGeneratorFunction(b)?e:e.next().then(function(a){return a.done?a.value:e.next()})};function w(a,b,c){var d=l;return function(e,f){if(d===n)throw new Error("Generator is already running");if(d===o){if(e==="throw")throw f;return C()}while(!0){var g=c.delegate;if(g){if(e==="return"||e==="throw"&&g.iterator[e]===void 0){c.delegate=null;var h=g.iterator["return"];if(h){h=k(h,g.iterator,f);if(h.type==="throw"){e="throw";f=h.arg;continue}}if(e==="return")continue}h=k(g.iterator[e],g.iterator,f);if(h.type==="throw"){c.delegate=null;e="throw";f=h.arg;continue}e="next";f=void 0;var i=h.arg;if(i.done)c[g.resultName]=i.value,c.next=g.nextLoc;else{d=m;return i}c.delegate=null}if(e==="next")d===m?c.sent=f:c.sent=void 0;else if(e==="throw"){if(d===l){d=o;throw f}c.dispatchException(f)&&(e="next",f=void 0)}else e==="return"&&c.abrupt("return",f);d=n;h=k(a,b,c);if(h.type==="normal"){d=c.done?o:m;var i={value:h.arg,done:c.done};if(h.arg===p)c.delegate&&e==="next"&&(f=void 0);else return i}else h.type==="throw"&&(d=o,e="throw",f=h.arg)}}}a(t);var x=!1;i.defineGeneratorMethods=function(){if(x)return;x=!0;t[h]=function(){return this};t.toString=function(){return"[object Generator]"}};i.defineGeneratorMethods();function y(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function z(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function A(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(y,this),this.reset(!0)}i.keys=function(a){var b=[];for(var c in a)b.push(c);b.reverse();return function c(){while(b.length){var d=b.pop();if(d in a){c.value=d;c.done=!1;return c}}c.done=!0;return c}};function B(a){if(a){var b=a[h];if(b)return b.call(a);if(typeof a.next==="function")return a;if(!isNaN(a.length)){var c=-1;b=function b(){while(++c<a.length)if(g.call(a,c)){b.value=a[c];b.done=!1;return b}b.value=void 0;b.done=!0;return b};return b.next=b}}return{next:C}}i.values=B;function C(){return{value:void 0,done:!0}}A.prototype={constructor:A,reset:function(a){this.prev=0;this.next=0;this.sent=void 0;this.done=!1;this.delegate=null;this.tryEntries.forEach(z);if(!a)for(var b in this)b.charAt(0)==="t"&&g.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=void 0)},stop:function(){this.done=!0;var a=this.tryEntries[0];a=a.completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var b=this;function c(c,d){f.type="throw";f.arg=a;b.next=c;return!!d}for(var d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if(e.tryLoc==="root")return c("end");if(e.tryLoc<=this.prev){var h=g.call(e,"catchLoc"),i=g.call(e,"finallyLoc");if(h&&i){if(this.prev<e.catchLoc)return c(e.catchLoc,!0);else if(this.prev<e.finallyLoc)return c(e.finallyLoc)}else if(h){if(this.prev<e.catchLoc)return c(e.catchLoc,!0)}else if(i){if(this.prev<e.finallyLoc)return c(e.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&g.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&(a==="break"||a==="continue")&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);d=e?e.completion:{};d.type=a;d.arg=b;e?this.next=e.finallyLoc:this.complete(d);return p},complete:function(a,b){if(a.type==="throw")throw a.arg;a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=a.arg,this.next="end"):a.type==="normal"&&b&&(this.next=b)},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a){this.complete(c.completion,c.afterLoc);z(c);return p}}},"catch":function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if(d.type==="throw"){var e=d.arg;z(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){this.delegate={iterator:B(a),resultName:b,nextLoc:c};return p}}}),null);
__d("LSDict",["invariant","nativePromiseRegeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a.tag="ls-array";return a}function i(a){var c=this,d=new Map([].concat(a||[]).map(function(a){var b=a[0];a=a[1];return[JSON.stringify(b),a]}));this.get=function(a){return d.get(JSON.stringify(a))};this.set=function(a,b){d.set(JSON.stringify(a),b);return c};this["delete"]=function(a){return d["delete"](JSON.stringify(a))};this.clear=function(){return d.clear()};this.forEach=function(a,b){return d.forEach(function(b,d){return a(b,JSON.parse(d),c)},b)};this._getSize=function(){return d.size};Object.defineProperties(this,{size:{get:function(){return d.size}}});this.has=function(a){return d.has(JSON.stringify(a))};this.entries=b("nativePromiseRegeneratorRuntime").mark(function a(){var c,e,f,g,h,i,j;return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:c=d.entries(),e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 1:if(!e){a.next=7;break}if(!(f>=c.length)){a.next=4;break}return a.abrupt("break",18);case 4:g=c[f++];a.next=11;break;case 7:f=c.next();if(!f.done){a.next=10;break}return a.abrupt("break",18);case 10:g=f.value;case 11:h=g;i=h[0];j=h[1];a.next=16;return[JSON.parse(i),j];case 16:a.next=1;break;case 18:case"end":return a.stop()}},a,this)});this[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=this.entries;this.keys=function(){return h(Array.from(d.keys()).map(function(a){return JSON.parse(a)}))};this.values=d.values.bind(d)}i.fromObject=function(a){return new i(Object.entries(a))};i.shapeToRecord=function(a){return Array.from(a).reduce(function(a,b){var c=b[0];b=b[1];typeof c==="string"||g(0,22198);return babelHelpers["extends"]({},a,(a={},a[c]=b,a))},{})};e.exports=i}),null);
__d("LSJson",["invariant","bs_caml_int64","LSDict"],(function(a,b,c,d,e,f,g){"use strict";var h=512,i={stringify:function(a,c){c===void 0&&(c=0);c<h||g(0,17937);if(typeof a==="string"||typeof a==="number"||typeof a==="boolean")return JSON.stringify(a);else if(a===void 0)return"null";else if(typeof a==="object")if(Array.isArray(a))return a.tag==="ls-array"?"["+a.map(function(a){return i.stringify(a,c+1)}).join(",")+"]":b("bs_caml_int64").to_string(a);else if(a instanceof b("LSDict"))return"{"+Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];typeof b==="string"||g(0,17925);return JSON.stringify(b)+":"+i.stringify(a,c+1)}).join(",")+"}";g(0,19710,typeof a,JSON.stringify(a))}};e.exports=i}),null);
__d("LS",["invariant","LSDict","LSJson","bs_caml_format","bs_caml_int64","nativePromiseRegeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(a){return a.name.match(/secure_|inbox(?!_)/i)}function m(a,b){return a===b?0:a<b?-1:1}var n=babelHelpers["extends"]({},b("bs_caml_int64"),{eq:function(a,c){return a==null&&c==null||a!=null&&c!=null&&b("bs_caml_int64").eq(a,c)},neq:function(a,c){return a==null&&c!=null||a!=null&&c==null||a!=null&&c!=null&&b("bs_caml_int64").neq(a,c)},to_int32:function(a){return a==null?a:b("bs_caml_int64").to_int32(a)},to_string:function(a){return a==null?a:b("bs_caml_int64").to_string(a)},from_string:function(a){try{return b("bs_caml_format").caml_int64_of_string(a)}catch(b){throw new Error('Unable to cast "'+a+'" to int64')}},random:function(){var b=a.crypto||a.msCrypto;return Array.from(b.getRandomValues(new Uint32Array(2)))}});function o(a){a.length===1||g(0,17923);return b("bs_caml_format").caml_int64_of_string(a[0])}function p(a){a.filter=function(c){var d=b("nativePromiseRegeneratorRuntime").mark(function d(){var e;return b("nativePromiseRegeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("nativePromiseRegeneratorRuntime").awrap(a.next());case 2:e=d.sent;case 3:if(e.done){d.next=14;break}d.next=6;return b("nativePromiseRegeneratorRuntime").awrap(c(e.value.item));case 6:if(!d.sent){d.next=9;break}d.next=9;return e.value;case 9:d.next=11;return b("nativePromiseRegeneratorRuntime").awrap(a.next());case 11:e=d.sent;d.next=3;break;case 14:case"end":return d.stop()}},d,this)});return p(d())};a.slice=function(c,d){var e=b("nativePromiseRegeneratorRuntime").mark(function e(){var f,g,h,i,j,k;return b("nativePromiseRegeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:f=0;case 1:if(!(f<c)){e.next=12;break}e.next=4;return b("nativePromiseRegeneratorRuntime").awrap(a.next());case 4:g=e.sent;h=g.done;if(!h){e.next=9;break}return e.abrupt("return");case 9:f++;e.next=1;break;case 12:if(!(f<d)){e.next=25;break}e.next=15;return b("nativePromiseRegeneratorRuntime").awrap(a.next());case 15:i=e.sent;j=i.value;k=i.done;if(!k){e.next=20;break}return e.abrupt("return");case 20:e.next=22;return j;case 22:f++;e.next=12;break;case 25:case"end":return e.stop()}},e,this)});return p(e())};a.forEach=function(c){var d,e,f,g,h;return b("nativePromiseRegeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return b("nativePromiseRegeneratorRuntime").awrap(a.toArray());case 2:d=i.sent,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 6:if(!e){i.next=12;break}if(!(f>=d.length)){i.next=9;break}return i.abrupt("break",21);case 9:g=d[f++];i.next=16;break;case 12:f=d.next();if(!f.done){i.next=15;break}return i.abrupt("break",21);case 15:g=f.value;case 16:h=g;i.next=19;return b("nativePromiseRegeneratorRuntime").awrap(c(h));case 19:i.next=6;break;case 21:case"end":return i.stop()}},null,this)};a.toArray=function(){var c,d;return b("nativePromiseRegeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c=[];e.next=3;return b("nativePromiseRegeneratorRuntime").awrap(a.next());case 3:d=e.sent;case 4:if(d.done){e.next=11;break}c.push(d.value);e.next=8;return b("nativePromiseRegeneratorRuntime").awrap(a.next());case 8:d=e.sent;e.next=4;break;case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}},null,this)};a.sortBy=function(c){var d={ASC:1,DESC:-1},e=function(a,b){for(var e=0;e<c.length;e++){var f=c[e][0],g=a[f];f=b[f];var h;g===void 0&&f===void 0?h=0:g===void 0&&f!==void 0?h=-1:g!==void 0&&f===void 0?h=1:h=(c[e][2]||m)(g,f);if(h===0)continue;return h*d[c[e][1]]}return 0},f=b("nativePromiseRegeneratorRuntime").mark(function c(){var d,f,g,h,i;return b("nativePromiseRegeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("nativePromiseRegeneratorRuntime").awrap(a.toArray());case 2:c.t0=function(a,b){return e(a.item,b.item)},d=c.sent.sort(c.t0),f=Array.isArray(d),g=0,d=f?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 7:if(!f){c.next=13;break}if(!(g>=d.length)){c.next=10;break}return c.abrupt("break",22);case 10:h=d[g++];c.next=17;break;case 13:g=d.next();if(!g.done){c.next=16;break}return c.abrupt("break",22);case 16:h=g.value;case 17:i=h;c.next=20;return i;case 20:c.next=7;break;case 22:case"end":return c.stop()}},c,this)});return p(f())};a.count=function(){var c,d;return b("nativePromiseRegeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c=0;e.next=3;return b("nativePromiseRegeneratorRuntime").awrap(a.next());case 3:d=e.sent;case 4:if(d.done){e.next=11;break}c++;e.next=8;return b("nativePromiseRegeneratorRuntime").awrap(a.next());case 8:d=e.sent;e.next=4;break;case 11:return e.abrupt("return",n.of_int32(c));case 12:case"end":return e.stop()}},null,this)};a.groupBy=function(c){return{forEach:function(d){var e,f,g,h,i,j,k,l,m,o;return b("nativePromiseRegeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:p.next=2;return b("nativePromiseRegeneratorRuntime").awrap(a.toArray());case 2:e=p.sent,f=e.reduce(function(a,b){b=b.item[c];var d=(a.get(b)||0)+1;return a.set(b,d)},new(b("LSDict"))()),(g=f,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 5:if(!h){p.next=11;break}if(!(i>=g.length)){p.next=8;break}return p.abrupt("break",22);case 8:k=g[i++];p.next=15;break;case 11:i=g.next();if(!i.done){p.next=14;break}return p.abrupt("break",22);case 14:k=i.value;case 15:l=k;m=l[0];o=l[1];p.next=20;return b("nativePromiseRegeneratorRuntime").awrap(d((j={},j[c]=m,j.group_count=n.of_int32(o),j)));case 20:p.next=5;break;case 22:case"end":return p.stop()}},null,this)}}};return a}function q(a,b){var c=u[b.name];return!c?a:Object.keys(c).reduce(function(a,d){var e=b.columnNames[d];Object.prototype.hasOwnProperty.call(a,e)||(a[e]=c[d]);return a},babelHelpers["extends"]({},a))}function r(a,c){var d=a.table(c.name);function e(a,b){return{item:b,"delete":function(){return d["delete"](a)},update:function(b){return d.upsert(a,b)}}}return{getArr:function(){for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];var h=b("nativePromiseRegeneratorRuntime").mark(function a(){var g,h,i,j,k,l,m,n,o,p,q;return b("nativePromiseRegeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:g=0;case 1:if(!(g<f.length)){a.next=32;break}h=f[g];i=h[0];j=h[1];k=i,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 6:if(!l){a.next=12;break}if(!(m>=k.length)){a.next=9;break}return a.abrupt("break",29);case 9:n=k[m++];a.next=16;break;case 12:m=k.next();if(!m.done){a.next=15;break}return a.abrupt("break",29);case 15:n=m.value;case 16:o=n;if(!(o==null||Array.isArray(o)&&o.some(function(a){return a==null}))){a.next=19;break}return a.abrupt("continue",27);case 19:a.next=21;return b("nativePromiseRegeneratorRuntime").awrap(j===void 0?d.get(o):d.index(j).get(o));case 21:p=a.sent;if(p){a.next=24;break}return a.abrupt("continue",27);case 24:q=j===void 0?o:c.primaryKeyIds.length===1?p[c.primaryKeyIds[0]]:c.primaryKeyIds.map(function(a){return p[a]});a.next=27;return e(q,p);case 27:a.next=6;break;case 29:g++;a.next=1;break;case 32:case"end":return a.stop()}},a,this)});return p(h())},add:function(a){return d.add(q(a,c))},put:function(a){var b=c.primaryKeyIds;b=b.map(function(b){return a[b]});return d.upsert(b.length===1?b[0]:b,a)},openCursor:function(){return p(b("nativePromiseRegeneratorRuntime").mark(function a(){var c,f,g,h,i;return b("nativePromiseRegeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:c=d.entries(new WeakMap());a.next=3;return b("nativePromiseRegeneratorRuntime").awrap(c.next());case 3:f=a.sent;case 4:if(f.done){a.next=13;break}g=f.value,h=g[0],i=g[1];a.next=8;return e(h,i);case 8:a.next=10;return b("nativePromiseRegeneratorRuntime").awrap(c.next());case 10:f=a.sent;a.next=4;break;case 13:case"end":return a.stop()}},a,this)})())}}}function s(a,b,c){return{table:function(d){d=c.tableIds[d];b===0&&(l(d)&&g(0,19095));return r(a,d)}}}function t(a,c,d,e,f,l){var m=s(l,a,c);return{db:m,rm:n.of_int32(a),i64:n,n:o,constructor:{n:o},slc:function(a,b){return Array.prototype.slice.call(a,b)},log:function(a){},notnull:function(a){a!=null||g(0,17354);return a},toJSON:function(a){return b("LSJson").stringify(a)},ntop:function(b,d){var f,h=c.nativeTypeOperationIds[b];h!=null||g(0,19425,b);var i=h[d];i!=null||g(0,17151,d);(e[b]||{})[i]!=null||g(0,19426,b,i);for(var j=arguments.length,k=new Array(j>2?j-2:0),m=2;m<j;m++)k[m-2]=arguments[m];return(f=e[b])[i].apply(f,[l,a].concat(k))},nop:function(b){var e=c.nativeOperationIds[b];e!=null||g(0,17153,b);d[e]!=null||g(0,17148,e);for(var f=arguments.length,h=new Array(f>1?f-1:0),i=1;i<f;i++)h[i-1]=arguments[i];return d[e].apply(d,[l,a].concat(h))},sp:function(b){var h=c.storedProcedureIds[b];h!=null||g(0,17149,b);f[h]!=null||g(0,17150,h);var i=this;switch(a){case 0:i=t(2,c,d,e,f,l);break;case 2:i=t(1,c,d,e,f,l);break}for(var j=arguments.length,k=new Array(j>1?j-1:0),m=1;m<j;m++)k[m-1]=arguments[m];return f[h].apply(f,[i].concat(k))},createArray:function(){return Object.defineProperty([],"tag",{value:"ls-array"})},Map:b("LSDict"),like:function(a,b){return a.match(b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,"."))},"throw":function(a){throw new Error(a)},loopSync:function(a,b){for(var c=o(k());n.lt(c,a);c=n.add(c,o(j())))b(c)},loopAsync:function(a,b){function c(d){return n.lt(d,a)?b(d).then(function(){return c(n.add(d,o(i())))}):Promise.resolve()}return c(o(h()))},seq:function(a){return a.slice(1).reduce(function(a,b){return a.then(b)},a[0]())}}}t.n=o;e.exports=t;var u={threads:{last_activity_timestamp_ms:[0,0],last_read_watermark_timestamp_ms:[0,0],remove_watermark_timestamp_ms:[0,0],mute_expire_time_ms:[0,0],is_admin_snippet:[0,0],authority_level:[0,0],ongoing_call_state:[0,0],snippet_has_emoji:[0,0],has_persistent_menu:[0,0],disable_composer_input:[0,0],capabilities:[0,0],is_custom_thread_picture:[0,0]},participants:{read_watermark_timestamp_ms:[0,0],delivered_watermark_timestamp_ms:[0,0],authority_level:[0,0]},contacts:{is_messenger_user:[0,0],is_memorialized:[0,0],blocked_by_viewer_status:[0,0],rank:[0,0],authority_level:[0,0],contact_type:[0,0],contact_type_exact:[0,0],can_viewer_message:[0,1]},messages:{timestamp_ms:[0,0],is_admin_message:[0,0],authority_level:[0,0],send_status:[0,0],send_status_v:[0,0],is_unsent:[0,0],has_quick_replies:[0,0],quick_reply_type:[0,0],reply_attachment_type:[0,0],reply_status:[0,0],text_has_links:[0,0],view_flags:[0,0],displayed_content_types:[0,1],primary_sort_key:[0,0],secondary_sort_key:[0,0]},attachments:{timestamp_ms:[0,0],attachment_type:[0,0],attachment_index:[0,0],has_media:[0,0],has_xma:[0,0],is_sharable:[0,0],authority_level:[0,0]},attachment_items:{attachment_index:[0,0]},attachments_ranges_v:{media_group:[0,0],_has_more_before:[0,0],_has_more_after:[0,0],_is_loading_before:[0,0],_is_loading_after:[0,0]},sync_groups:{sync_status:[0,0],send_sync_params:[0,0],min_time_to_sync_timestamp_ms:[0,0],can_ignore_timestamp:[0,0],sync_channel:[0,1]},pending_tasks:{enqueue_timestamp_ms:[0,0],first_executed_timestamp_ms:[0,0],failure_count:[0,0],min_time_to_sync_timestamp_ms:[0,0],plugin_type:[0,0]},messages_ranges__generated:{_is_loading_before:[0,0],_is_loading_after:[0,0]},messages_ranges_v:{_has_more_before:[0,0],_has_more_after:[0,0],_is_loading_before:[0,0],_is_loading_after:[0,0]},threads_ranges__generated:{_is_loading_before:[0,0],_is_loading_after:[0,0]},presence_states:{status:[0,1],expiration_timestamp_ms:[0,0]},story_buckets:{page_num:[0,0],read_state:[0,0]},stories:{authority_level:[0,0]},reactions:{timestamp_ms:[0,0],authority_level:[0,0]},ranking_scores:{score:[0,0]},story_viewers:{interaction_type:[0,1],authority_level:[0,0]},secure_message_pre_keys:{timestamp_ms:[0,0]},secure_message_session_state:{timestamp_ms:[0,0]},secure_message_other_devices:{first_seen_timestamp_ms:[0,0]},universal_search_recent_searches:{last_accessed_timestamp_ms:[0,0]},secure_threads:{last_activity_timestamp_ms:[0,0],last_read_watermark_timestamp_ms:[0,0],remove_watermark_timestamp_ms:[0,0],mute_expire_time_ms:[0,0],is_admin_snippet:[0,0],authority_level:[0,0],secure_thread_status:[0,0],thread_type:[0,7]},secure_message_sender_key:{device_seen_timestamp_ms:[0,0]},secure_messages:{timestamp_ms:[0,0],is_admin_message:[0,0],authority_level:[0,0],send_status:[0,0],is_local_message:[0,0],retry_count:[0,0],message_visible_timespan_ms:[0,0]},secure_attachments:{attachment_index:[0,0]},inbox_ad_unit:{should_show_ad_choice:[0,0]},story_reactions:{authority_level:[0,0]},story_ad_unit:{should_show_ad_choice:[0,0]},notification_settings:{group_notification_setting:[0,0]},admin_message_ctas:{timestamp_ms:[0,0],show_ad_choice_icon:[0,0]},contact_upload_settings:{authority_level:[0,0]},group_membership_approval_requests:{authority_level:[0,0]},story_overlays:{authority_level:[0,0]},secure_thread_participants:{read_watermark_timestamp_ms:[0,0],delivered_watermark_timestamp_ms:[0,0]},thread_nullstate:{cta_type:[0,0]},upload_contact_snapshot:{authority_level:[0,0]},threads_ranges_v:{_min_thread_key:[0,0],_min_last_activity_timestamp_ms:[0,0],_max_thread_key:[0,0],_max_last_activity_timestamp_ms:[0,0],_is_loading_before:[0,0],_is_loading_after:[0,0],_has_more_before:[0,0],_has_more_after:[0,0]},video_chat_links:{can_anonymous_users_join:[0,0]},video_chat_links_creation:{can_anonymous_users_join:[0,0]},transaction_history:{timestamp_ms:[0,0]},messages_status:{timestamp_ms:[0,0]},pending_uploads:{enqueue_timestamp_ms:[0,0]}}}),null);
__d("LSNativeTypeOperations",["Promise","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";e.exports={Array:{getObjectAt:function(a,c,d,e){return b("Promise").resolve([d[b("bs_caml_int64").to_int32(e)],d])},removeObjectAt:function(a,c,d,e){return b("Promise").resolve([d.splice(b("bs_caml_int64").to_int32(e),1)])}}}}),null);
__d("LSMetadata",[],(function(a,b,c,d,e,f){e.exports={buildMetadata:function(a){var b={},c={},d={},e={},f={};for(var a=a,g=Array.isArray(a),h=0,a=g?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=a.length)break;i=a[h++]}else{h=a.next();if(h.done)break;i=h.value}i=i;var j=i.tables,k=i.stored_procedures,l=i.native_operations;i=i.native_type_operations;for(var j=j,m=Array.isArray(j),n=0,j=m?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=j.length)break;o=j[n++]}else{n=j.next();if(n.done)break;o=n.value}o=o;var p=[],q={},r={};for(var s=o.columns,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}v=v;v.is_primary&&p.push(""+v.id);q[v.id]=v.name;r[v.name]=v.id}v={name:o.name,id:parseInt(o.id,10),columnIds:q,columnNames:r,primaryKeyIds:p,autoIncrement:o.auto_increment,indexes:o.indexes,cascadeUpdates:[]};b[v.id]=v;c[v.name]=v}k.forEach(function(a){d[""+a.id]=a.name});l.forEach(function(a){e[""+a.id]=a.name});i.forEach(function(a){f[""+a.type]=f[""+a.type]||{},f[""+a.type][""+a.id]=a.name})}return{tableIds:b,tableNames:c,storedProcedureIds:d,nativeOperationIds:e,nativeTypeOperationIds:f}}}}),null);
__d("LS.bs",["LS","LSNativeOperations","LSStoredProcedures","MPWLSDBCreateSchema.bs","LSNativeTypeOperations"],(function(a,b,c,d,e,f){"use strict";var g=b("LSStoredProcedures"),h=b("LSNativeTypeOperations"),i=b("LSNativeOperations");function a(a){return b("LS")(1,b("MPWLSDBCreateSchema.bs").metadata,i,h,g,a)}f.make=a}),null);
__d("LSCoreCreateArray.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSCoreCreateArray not implemented","messenger_comet")}f.call=a}),null);
__d("LSCoreCreateDictionary.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSCoreCreateDictionary not implemented","messenger_comet")}f.call=a}),null);
__d("LSCoreCreateInvertibleBloomFilterEncoder.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSCoreCreateInvertibleBloomFilterEncoder not implemented","messenger_comet")}f.call=a}),null);
__d("LSCoreCreateStringByCombiningStrings.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSCoreCreateStringByCombiningStrings not implemented","messenger_comet")}f.call=a}),null);
__d("LSCoreFunctionProfileEnter.bs",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("Promise").resolve([])}f.call=a}),null);
__d("LSCoreFunctionProfileLeave.bs",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("Promise").resolve([])}f.call=a}),null);
__d("LSCoreGetCurrentTime.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSCoreGetCurrentTime not implemented","messenger_comet")}f.call=a}),null);
__d("LSCoreGetRandomNumber.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSCoreGetRandomNumber not implemented","messenger_comet")}f.call=a}),null);
__d("LSCoreIsLocalizationSupported.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSCoreIsLocalizationSupported not implemented","messenger_comet")}f.call=a}),null);
__d("LSCoreLog.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSCoreLog not implemented","messenger_comet")}f.call=a}),null);
__d("LSCoreLogEventAnnotate.bs",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){return b("Promise").resolve([])}f.call=a}),null);
__d("LSCoreResolveLocalizedString.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSCoreResolveLocalizedString not implemented","messenger_comet")}f.call=a}),null);
__d("LSCoreSerializeIntoJson.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSCoreSerializeIntoJson not implemented","messenger_comet")}f.call=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("base64-js-1.3.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){g.byteLength=h;g.toByteArray=d;g.fromByteArray=e;var a=[],b=[],c=typeof Uint8Array!=="undefined"?Uint8Array:Array;h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var d=0,e=h.length;d<e;++d)a[d]=h[d],b[h.charCodeAt(d)]=d;b["-".charCodeAt(0)]=62;b["_".charCodeAt(0)]=63;function f(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=a.indexOf("=");a===-1&&(a=b);b=a===b?0:4-a%4;return[a,b]}function h(a){a=f(a);var b=a[0];a=a[1];return(b+a)*3/4-a}function i(a,b,c){return(b+c)*3/4-c}function d(a){var d,e=f(a),g=e[0];e=e[1];var h=new c(i(a,g,e)),j=0;g=e>0?g-4:g;for(var k=0;k<g;k+=4)d=b[a.charCodeAt(k)]<<18|b[a.charCodeAt(k+1)]<<12|b[a.charCodeAt(k+2)]<<6|b[a.charCodeAt(k+3)],h[j++]=d>>16&255,h[j++]=d>>8&255,h[j++]=d&255;e===2&&(d=b[a.charCodeAt(k)]<<2|b[a.charCodeAt(k+1)]>>4,h[j++]=d&255);e===1&&(d=b[a.charCodeAt(k)]<<10|b[a.charCodeAt(k+1)]<<4|b[a.charCodeAt(k+2)]>>2,h[j++]=d>>8&255,h[j++]=d&255);return h}function j(b){return a[b>>18&63]+a[b>>12&63]+a[b>>6&63]+a[b&63]}function k(a,b,c){var d,e=[];for(var b=b;b<c;b+=3)d=(a[b]<<16&16711680)+(a[b+1]<<8&65280)+(a[b+2]&255),e.push(j(d));return e.join("")}function e(b){var c=b.length,d=c%3,e=[],f=16383;for(var g=0,h=c-d;g<h;g+=f)e.push(k(b,g,g+f>h?h:g+f));d===1?(g=b[c-1],e.push(a[g>>2]+a[g<<4&63]+"==")):d===2&&(g=(b[c-2]<<8)+b[c-1],e.push(a[g>>10]+a[g>>4&63]+a[g<<2&63]+"="));return e.join("")}}var j=!1,k=function(){j||(j=!0,i());return h.exports};a=function(a){switch(a){case void 0:return k()}};e.exports=a}),null);
__d("base64-js",["base64-js-1.3.0"],(function(a,b,c,d,e,f){e.exports=b("base64-js-1.3.0")()}),null);
__d("MWEncryptedUrl.bs",["invariant","Promise","bs_curry","React","Base64.bs","promiseDone","CancellationToken.bs","CancellablePromise.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a,c){var d=h.useState(function(){if(c!==void 0)return;else return a}),e=d[1];h.useEffect(function(){var d=b("CancellationToken.bs").make(0);if(c!==void 0){var f,h=c,i=window.fetch(a);i=(f=b("CancellablePromise.bs")).then_(d,function(a){return a.arrayBuffer()},i);i=f.then_(d,function(a){var c=b("Base64.bs").toArrayBuffer(h);c.byteLength===32||g(0,20660);return b("Promise").all([crypto.subtle.importKey("raw",c,"AES-GCM",!1,["decrypt"]),b("Promise").resolve(a)])},i);i=f.then_(d,function(a){var b=a[1],c=b.slice(0,2),d=b.slice(2,14);b=b.slice(14);return crypto.subtle.decrypt({name:"AES-GCM",iv:d,additionalData:c,tagLength:128},a[0],b)},i);f=f.ignoreFailed(0,f.then_(d,function(a){b("bs_curry")._1(e,function(c){return"data:image/jpeg;base64,"+b("Base64.bs").fromArrayBuffer(a)});return b("Promise").resolve(0)},i));b("promiseDone")(f,void 0,void 0)}else b("bs_curry")._1(e,function(b){return a});return d.cancel},[a,c,e]);return d[0]}c=32;d=16;e=12;var i=2;f.gcmModeKeyLength=c;f.gcmTagLength=d;f.gcmIVLength=e;f.aadLen=i;f.useMaybeEncryptedUrl=a}),null);
__d("LSSecureMailboxNativeOperationResultCode.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[-1,4294967295];c=[-1,4294967286];d=[-1,4294967284];e=[-1,4294967274];var g=[-1,4294966296],h=[-1,4294966295],i=[-1,4294966294],j=[-1,4294966293],k=[-1,4294966292],l=[-1,4294966291],m=[-1,4294966290],n=[-1,4294966289],o=[-1,4294966288],p=[-1,4294966287],q=[-1,4294966286],r=[-1,4294966285],s=[-1,4294966196],t=[-1,4294966096],u=[-1,4294966095],v=[-1,4294965295];f.msm_success=a;f.msm_err_generic=b;f.msm_err_thrift_decode=c;f.sg_err_nomem=d;f.sg_err_inval=e;f.sg_err_unknown=g;f.sg_err_duplicate_message=h;f.sg_err_invalid_key=i;f.sg_err_invalid_key_id=j;f.sg_err_invalid_mac=k;f.sg_err_invalid_message=l;f.sg_err_invalid_version=m;f.sg_err_legacy_message=n;f.sg_err_no_session=o;f.sg_err_stale_key_exchange=p;f.sg_err_untrusted_identity=q;f.sg_err_vrf_sig_verif_failed=r;f.sg_err_invalid_proto_buf=s;f.sg_err_fp_version_mismatch=t;f.sg_err_fp_ident_mismatch=u;f.msm_err_ephemeral_unsupported=v}),null);
__d("LSJson.bs",["bs_block","bs_curry","LSDict","bs_js_dict","bs_caml_array","bs_pervasives","bs_belt_Option","bs_caml_format","bs_caml_option","bs_caml_string","bs_caml_exceptions"],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a}function c(a){a=a.slice();a.tag="ls-array";return a}function d(a){return new(b("LSDict"))([["user_id",a.user_id],["instance_id",a.instance_id]])}var g=b("bs_caml_exceptions").create("LSJson.Parser.Invalid_json"),h=/^\"((?:[^\"\\]|\\.)*)\"/,i=/^-?\d+(?:(?:\.\d+)?[eE][-\+]?\d+|\.\d+)/,j=/^-?\d+/;function e(d){var e=function(c){while(!0){var e=c;if(e<d.length){var a=b("bs_caml_string").get(d,e);a=a-9|0;if(a>4||a<0)if(a!==23)return e;else{c=e+1|0;continue}else if(a===3||a===2)return e;else{c=e+1|0;continue}}else return e}},f=function(a,c){if(c>d.length)return b("bs_block").__(1,["No more input"]);else if(d.startsWith(a,c))return b("bs_block").__(0,[a,c+a.length|0]);else{c=b("bs_caml_string").get(d,0);return b("bs_block").__(1,["Unexpected '"+(String(c)+"'")])}},g=function(a,c){if(c>d.length)return b("bs_block").__(1,["No more input"]);else{a=a.exec(d.substr(c));if(a!==null){a=b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(b("bs_caml_array").caml_array_get(a,0)));return b("bs_block").__(0,[a,c+a.length|0])}else{c=b("bs_caml_string").get(d,0);return b("bs_block").__(1,["Unexpected '"+(String(c)+"'")])}}},l=function(c,d,a){c=b("bs_curry")._1(c,a);if(c.tag)return c;else return b("bs_block").__(0,[b("bs_curry")._1(d,c[0]),c[1]])},m=function(c,d,a){c=b("bs_curry")._1(c,a);if(c.tag)return b("bs_curry")._1(d,a);else return c},o=function(c,d,a){c=b("bs_curry")._1(c,e(a));if(c.tag)return c;else{a=b("bs_curry")._1(d,e(c[1]));if(a.tag)return a;else return b("bs_block").__(0,[[c[0],a[0]],a[1]])}},p=function(a){var c=function(c){return l(a,function(a){return b("bs_caml_option").some(a)},c)},d=function(a){return b("bs_block").__(0,[void 0,a])};return function(a){return m(c,d,a)}},q=function(a){var c=function(c,d,e){while(!0){var f=d,a=b("bs_curry")._1(c,f);if(a.tag)return f;else{e.push(a[0]);d=a[1];continue}}};return function(d){var e=[];d=c(a,d,e);return b("bs_block").__(0,[e,d])}},c=function(a){return l(function(a){return g(h,a)},function(a){return JSON.parse(a)},a)},r=function(a){return l(function(a){return g(i,a)},function(a){return Number(a)},a)},s=function(a){return l(function(a){return g(j,a)},b("bs_caml_format").caml_int64_of_string,a)},t=function(a){return f("false",a)},u=function(a){return l(t,function(a){return!1},a)},v=function(a){return f("true",a)},w=function(a){return l(v,function(a){return!0},a)},x=function(a){return m(w,u,a)},y=function(a){return f("null",a)},z=function(a){return l(y,function(a){return 0},a)},A=function(a){var b=q(function(a){return o(function(a){return f(",",a)},B,a)}),c=p(function(a){return o(B,b,a)}),d=function(a){return l(c,function(a){if(a!==void 0){a=a;return[a[0]].concat(a[1].map(function(a){return a[1]}))}else return[]},a)},e=function(a){return o(d,function(a){return f("]",a)},a)};return l(function(a){return o(function(a){return f("[",a)},e,a)},function(a){return a[1][0]},a)},a=function(a){var d=q(function(a){return o(function(a){return f(",",a)},function(a){return o(c,function(a){return o(function(a){return f(":",a)},B,a)},a)},a)}),e=function(a){return o(B,d,a)},g=function(a){return o(function(a){return f(":",a)},e,a)},h=p(function(a){return o(c,g,a)}),i=function(a){return l(h,function(a){if(a!==void 0){a=a;var c=a[1][1];return b("bs_js_dict").fromArray([[a[0],c[0]]].concat(c[1].map(function(a){a=a[1];return[a[0],a[1][1]]})))}else return{}},a)},j=function(a){return o(i,function(a){return f("}",a)},a)};return l(function(a){return o(function(a){return f("{",a)},j,a)},function(a){return a[1][0]},a)},B=function(d){return m(function(a){return l(c,function(a){return b("bs_block").__(5,[a])},a)},function(c){return m(function(a){return l(r,function(a){return b("bs_block").__(2,[a])},a)},function(c){return m(function(a){return l(s,function(a){return b("bs_block").__(3,[a])},a)},function(c){return m(function(a){return l(x,function(a){return b("bs_block").__(1,[a])},a)},function(c){return m(function(a){return l(z,function(a){return 0},a)},function(c){return m(function(a){return l(A,function(a){return b("bs_block").__(4,[a])},a)},function(c){return l(a,function(a){return b("bs_block").__(0,[a])},c)},c)},c)},c)},c)},c)},d)},C=B(e(0));if(C.tag)return b("bs_pervasives").failwith(C[0]);else if(e(C[1])===d.length)return C[0];else return b("bs_pervasives").failwith("unexpected end of input")}function k(a){if(typeof a==="number"||a.tag)return b("bs_pervasives").failwith("expected dictionary");else return a[0]}function l(a){if(typeof a==="number"||a.tag!==4)return b("bs_pervasives").failwith("expected array");else return a[0]}function m(a){if(typeof a==="number")return b("bs_pervasives").failwith("expected int"+b("bs_belt_Option").getExn(JSON.stringify(a)));else if(a.tag===3)return a[0];else return b("bs_pervasives").failwith("expected int"+b("bs_belt_Option").getExn(JSON.stringify(a)))}function n(a){if(typeof a==="number"||a.tag!==5)return b("bs_pervasives").failwith("expected string");else return a[0]}function o(a,c){if(typeof a==="number")return;else return b("bs_caml_option").some(b("bs_curry")._1(c,a))}g={Invalid_json:g,doubleQuoteStringRegex:h,floatRegex:i,intRegex:j,parse:e,dict:k,array:l,int64:m,string:n,nullable:o};f.optional=a;f.array=c;f.tincanDeviceAddress=d;f.Parser=g}),null);
__d("MessagingAttachmentType.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1];c=[0,2];d=[0,3];e=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9];f.none=a;f.sticker=b;f.image=c;f.animated_image=d;f.video=e;f.audio=g;f.file=h;f.xma=i;f.ephemeral_image=j;f.ephemeral_video=k}),null);
__d("IndexedDbKeyComparer",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=Object.freeze({array:0,binary:1,string:2,date:3,number:4});function h(a){return typeof a==="number"}function i(a){return a instanceof Date}function j(a){return typeof a==="string"}function k(a){return a instanceof ArrayBuffer}function l(a){return Array.isArray(a)}function m(a){if(l(a))return"array";else if(k(a))return"binary";else if(j(a))return"string";else if(i(a))return"date";else if(h(a))return"number";throw b("unrecoverableViolation")("unexpected type","messenger_comet")}function n(a,c){var d=m(a),e=m(c);if(d!==e)return g[d]>g[e]?-1:1;switch(d){case"number":case"date":if(h(a)&&h(c)||i(a)&&i(c))return a>c?1:a<c?-1:0;else throw b("unrecoverableViolation")("already checked these are comparable","messenger_comet");case"string":if(j(a)&&j(c)){e=Math.min(a.length,c.length);for(var d=0;d<e;d++){var f=a.codePointAt(d),o=c.codePointAt(d);if(f>o)return 1;else if(f<o)return-1}return a.length>c.length?1:a.length<c.length?-1:0}else throw b("unrecoverableViolation")("already checked these are comparable","messenger_comet");case"binary":if(k(a)&&k(c)){f=Math.min(a.byteLength,c.byteLength);o=new Uint8Array(a);d=new Uint8Array(c);for(var e=0;e<f;e++){var p=o[e],q=d[e];if(p>q)return 1;else if(p<q)return-1}return a.byteLength>c.byteLength?1:a.byteLength<c.byteLength?-1:0}else throw b("unrecoverableViolation")("already checked these are comparable","messenger_comet");case"array":if(l(a)&&l(c)){p=Math.min(a.length,c.length);for(var q=0;q<p;q++){e=n(a[q],c[q]);if(e!==0)return e}return a.length>c.length?1:a.length<c.length?-1:0}else throw b("unrecoverableViolation")("already checked these are comparable","messenger_comet");default:throw b("unrecoverableViolation")("unexpected type, should be unreachable","messenger_comet")}}e.exports=n}),null);
__d("JSMap.bs",["bs_curry","bs_belt_Option","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){d=d.has(a)?d:d.set(a,b("bs_curry")._1(c,0));return b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(d.get(a)))}f.getOrMake=a}),null);
__d("PromiseOrValue.bs",["bs_block","bs_curry","promiseDone"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(a.tag)return b("bs_block").__(1,[b("bs_curry")._1(c,a[0])]);else return b("bs_block").__(0,[a[0].then(b("bs_curry").__1(c))])}function c(a,c){if(a.tag)return b("bs_curry")._1(c,a[0]);else{b("promiseDone")(a[0],c,void 0);return 0}}function d(a){if(a.tag)return a[0];else return b("bs_block").__(0,[a[0].then(function(a){return a[0]})])}function e(a,c){if(a.tag){var d=a[0];if(c.tag)return b("bs_block").__(1,[[d,c[0]]]);else return b("bs_block").__(0,[c[0].then(function(a){return[d,a]})])}else{a=a[0];if(c.tag){var e=c[0];return b("bs_block").__(0,[a.then(function(a){return[a,e]})])}else return b("bs_block").__(0,[window.Promise.all([a,c[0]])])}}function g(a){if(a.tag)return window.Promise.resolve(a[0]);else return a[0]}function h(a){return b("bs_block").__(1,[a])}function i(a){return b("bs_block").__(0,[a])}function j(a,c){while(!0){var d=c;d=b("bs_curry")._1(a,d);if(d.tag){var e=d[0];if(e.tag){c=e[0];continue}else return b("bs_block").__(1,[e[0]])}else return b("bs_block").__(0,[d[0].then(function(c){c=c.tag?j(a,c[0]):b("bs_block").__(1,[c[0]]);return c[0]})])}}f.map=a;f.mapDone=c;f.flatten=d;f.all2=e;f.toPromise=g;f.fromValue=h;f.fromPromise=i;f.loop=j}),null);
__d("SkytaleDB.bs",["bs_block","bs_curry","bs_js_dict","SkytaleDB","bs_pervasives"],(function(a,b,c,d,e,f){"use strict";function a(a){return[a]}function c(a,b){return b.concat([a])}function d(a){var c=function(a){var c=a[0];if(c>=-179650181)if(c>=448478038)return["gte",b("bs_curry")._1(a[1],[])];else return["gt",b("SkytaleDB").nextKey(b("bs_curry")._1(a[1],[]))];else if(c>=-214671526)return["lt",b("bs_curry")._1(a[1],[])];else return["lte",b("SkytaleDB").nextKey(b("bs_curry")._1(a[1],[]))]},d=a[0];if(d!==-467688003)if(d>=-179650181)return b("bs_js_dict").fromArray([c(a)]);else return b("bs_js_dict").fromArray([c(a)]);else{d=a[1];return b("bs_js_dict").fromArray([c(d[0]),c(d[1])])}}function e(a){var c=a.operation;switch(c){case"add":return b("bs_block").__(0,[a.value]);case"delete":return 0;case"put":return b("bs_block").__(1,[a.value]);default:return b("bs_pervasives").failwith("unexpected operation")}}var g={},h={};function i(a,c,d){return a.get(c).then(function(e){return a.upsert(c,b("bs_curry")._1(d,e))})}h={Index:h,update:i};f.createKey=a;f.addKey=c;f.mapBounds=d;f.mapEventToOperation=e;f.Direction=g;f.Table=h}),null);
__d("LSStorage",["nullthrows"],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d){a=a.tableNames[b];b=a.primaryKeyIds;a=a.indexes;b=d==null?b:a[d].keyIds;a=b.map(function(a){return c[a]});return a.some(function(a){return a==null})?void 0:a.length===1?a[0]:a}function h(a,b){return Array.isArray(a)&&Array.isArray(b)&&a.length===b.length?a.every(function(a,c){return h(a,b[c])}):a===b}e.exports={areKeysEqual:h,searchKey:g,createSubscriptionManager:function(a,c){var d=new Map(),e=new Map();function f(a,b,c,d){return Promise.all(Array.from(a.values()).map(function(e){if(a.has(e))return e(c,d,b)}))}function h(a){return b("nullthrows")((d.has(a)?d:d.set(a,[new Set(),new Map()])).get(a))}function i(a,c){a=h(a);a[0];a=a[1];return b("nullthrows")((a.has(c)?a:a.set(c,new Set())).get(c))}function j(d,e,h,i,j,k){var l=f.bind(null,d,k);d=g(c,e,h||{},j);var m=g(c,e,i||{},j);if(m==null&&d!=null)return l(d,{operation:"delete"});if(d==null&&m!=null)return l(m,{operation:"add",value:b("nullthrows")(i)});return d!=null&&m!=null?a(d,m)===0?l(d,{operation:"put",value:b("nullthrows")(i)}):l(d,{operation:"delete"}).then(function(){return l(m,{operation:"add",value:b("nullthrows")(i)})}):Promise.resolve()}return{subscribeTable:function(a,b){a=h(a);var c=a[0];c.add(b);return function(){c["delete"](b)}},subscribeIndex:function(a,b,c){var d=i(a,b);d.add(c);return function(){d["delete"](c)}},notifyTableAndIndexSubscribers:function(a,b,c,d){var e=h(a),f=e[0],g=e[1];return j(f,a,b,c,null,d).then(function(){return Promise.all(Array.from(g.entries()).map(function(e){var f=e[0];e=e[1];return j(e,a,b,c,f,d)}).filter(function(a){return a!=null}))})},subscribeToCommit:function(a){e.set(a,a);return function(){e["delete"](a)}},notifyCommit:function(){e.forEach(function(a){return a()})},dispose:function(){d.clear(),e.clear()}}}}}),null);
__d("SkytaleDB",["invariant","LSMetadata","LSSchemas","SkytaleDB.bs","nativePromiseRegeneratorRuntime","PromiseOrValue.bs","LSStorage","IndexedDbKeyComparer","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("SkytaleDB.bs").mapBounds,i=b("SkytaleDB.bs").mapEventToOperation,j=b("LSMetadata").buildMetadata(b("LSSchemas")),k=b("PromiseOrValue.bs").fromPromise,l=b("PromiseOrValue.bs").fromValue,m=b("LSStorage").searchKey;function n(a,b){return b>1?a:[a]}function o(a,b){return p(a([]),b)}function p(a,b){if(b===1){Array.isArray(a)&&a.length===1||g(0,20969);return a[0]}return a}function q(a,b){return a==null?void 0:Object.entries(h(a)).reduce(function(a,c){var d=c[0];c=c[1];d=babelHelpers["extends"]({},a,(a={},a[d]=p(c.slice(0,Math.min(b,c.length)),b),a));return d},{})}function r(a,b){return{next:function(c){c=a.next(c!==void 0?p(c,b):void 0);if(c instanceof Promise)return c.then(function(c){if(c.done)return c;c=c.value;var a=c[0];c=c[1];return{done:!1,value:[n(a,b),c]}});if(c.done)return{done:!0};c=c.value;var d=c[0];c=c[1];return{done:!1,value:[n(d,b),c]}}}}function s(a){var b=a.next;a.next=function(){var a=b.apply(this,arguments);return a instanceof Promise?k(a):l(a)};return a}function t(a,c){return c==null?!0:(Object.prototype.hasOwnProperty.call(c,"gt")?b("IndexedDbKeyComparer")(a,c.gt)>0:Object.prototype.hasOwnProperty.call(c,"gte")?b("IndexedDbKeyComparer")(a,c.gte)>=0:!0)&&(Object.prototype.hasOwnProperty.call(c,"lt")?b("IndexedDbKeyComparer")(a,c.lt)<0:Object.prototype.hasOwnProperty.call(c,"lte")?b("IndexedDbKeyComparer")(a,c.lte)<=0:!0)}e.exports={nextKey:function(a){return[].concat(a,[[[]]])},removeKey:function(a,b){b=b([]).length;return a.slice(b)},table:function(a,c){var d=j.tableNames[c],e=a.table(c),f=d.primaryKeyIds.length;return babelHelpers["extends"]({},e,{upsert:function(a,b){return e.upsert(o(a,f),b)},put:function(a){return e.upsert(b("nullthrows")(m(j,c,a)),a)},get:function(a){return e.get(o(a,f))},"delete":function(a){return e["delete"](o(a,f))},entries:function(a){return{iterator:function(b,c){return s(r(e.entries(c,a,q(b,f)),f))},subscribe:function(a,b){var c=q(a,f);return e.subscribe(function(a,d,e){if(t(a,c))return b(n(a,f),i(d),e);else return Promise.resolve()})},tables:new Set([c]),direction:a}},index:function(a){var d=j.tableNames[c].indexes[a],g=e.index(a),h=d.keyIds.length;return babelHelpers["extends"]({},g,{get:function(a){return g.get(o(a,h))},getKey:function(a){var c;return b("nativePromiseRegeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("nativePromiseRegeneratorRuntime").awrap(g.getKey(o(a,h)));case 2:c=d.sent;if(!(c==null)){d.next=5;break}return d.abrupt("return",void 0);case 5:return d.abrupt("return",n(c,f));case 6:case"end":return d.stop()}},null,this)},entries:function(a){return{iterator:function(b,c){return s(r(g.entries(c,a,q(b,h)),h))},subscribe:function(a,b){var c=q(a,h);return g.subscribe(function(a,d,e){if(t(a,c))return b(n(a,h),i(d),e);else return Promise.resolve()})},direction:a}}})}})}}}),null);
__d("WeakMap.bs",["bs_curry","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("bs_belt_Option").getExn((a.has(c)?a:a.set(c,b("bs_curry")._1(d,0))).get(c))}f.getOrMake=a}),null);
__d("SkytaleDBQueryDependencyContext.bs",["WeakMap.bs"],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){return new WeakMap()}function c(a){return b("WeakMap.bs").getOrMake(a,g,function(a){return[]})}function d(a,b){a.set(g,b);return 0}f.dependencyKey=g;f.make=a;f.getDependencies=c;f.setDependencies=d}),null);
__d("LSSuspense.bs",["Promise","bs_block"],(function(a,b,c,d,e,f){"use strict";var g=function(a){throw a};function a(a){return{contents:0}}function c(a,c){var d=a.contents;if(typeof d==="number"){c=c.then(function(c){a.contents=b("bs_block").__(1,[c]);return b("Promise").resolve(0)});a.contents=b("bs_block").__(0,[c]);return g(c)}else if(d.tag)return d[0];else return g(d[0])}f.$$throw=g;f.make=a;f.load=c}),null);
__d("SortedAsyncIterable.bs",["bs_block","bs_curry","bs_js_dict","LSSuspense.bs","bs_belt_Option","bs_caml_option","PromiseOrValue.bs","SkytaleDBQueryDependencyContext.bs"],(function(a,b,c,d,e,f){"use strict";var g={};function a(a,c){return b("bs_curry")._2(a.subscribe,void 0,function(a,d,e){b("bs_curry")._2(c,a,d);return 0})}var h={contents:void 0};function i(a){var c=h.contents;if(c!==void 0){c=b("bs_caml_option").valFromOption(c);b("SkytaleDBQueryDependencyContext.bs").getDependencies(c).push(function(c){var d=a;c=c;return b("bs_curry")._2(d.subscribe,void 0,b("bs_curry").__3(c))});return c}else return b("SkytaleDBQueryDependencyContext.bs").make(0)}function c(a){var c=[],d=b("bs_curry")._2(a.iterator,void 0,i(a));a=function(a){return b("PromiseOrValue.bs").loop(function(a){return b("PromiseOrValue.bs").map(d.next(void 0),function(a){if(a.done)return b("bs_block").__(0,[c]);else{c.push(b("bs_belt_Option").getExn(a.value)[1]);return b("bs_block").__(1,[0])}})},a)};a=a(0);if(a.tag)return a[0];else return b("LSSuspense.bs").$$throw(a[0])}function j(a){a=b("bs_curry")._2(a.iterator,void 0,i(a));a=a.next(void 0);if(a.tag){var c=a[0];if(c.done)return;else return b("bs_caml_option").some(b("bs_belt_Option").getExn(c.value)[1])}else return b("LSSuspense.bs").$$throw(a[0])}function d(a){return b("bs_belt_Option").getExn(j(a))}function e(a){return b("bs_curry")._2(a.iterator,void 0,new WeakMap())}function k(c,d,a){a=b("bs_js_dict").fromArray([["direction",a]]);a.iterator=c;a.subscribe=d;return a}function l(a){return k(function(a,c){return{next:function(a){return b("PromiseOrValue.bs").fromValue({done:!0,value:void 0})}}},function(a,b){return function(a){return 0}},4849457)}function m(a){return a.direction}f.Bounds=g;f.iterator=e;f.subscribe=a;f.direction=m;f.toArray=c;f.first=j;f.firstExn=d;f.context=h;f.make=k;f.empty=l}),null);
__d("SkytaleDBQuery.bs",["bs_block","bs_curry","JSMap.bs","bs_js_exn","bs_js_dict","SkytaleDB","bs_belt_Array","bs_caml_int32","bs_belt_Option","bs_caml_option","PromiseOrValue.bs","bs_caml_js_exceptions","CancellablePromise.bs","SortedAsyncIterable.bs","IndexedDbKeyComparer","SkytaleDBQueryDependencyContext.bs"],(function(a,b,c,d,e,f){"use strict";var g=window.Promise,h=function(a,b){return b instanceof a};function a(a){return h(g,a)}function i(a,c,d){d=b("bs_js_dict").fromArray([["direction",d]]);d.iterator=a;d.subscribe=c;return d}function c(a,c,d){return b("bs_curry")._1(c,b("bs_curry")._1(a,d))}c={$percent$great:c};function j(a){if(typeof a==="number")return;else{var c=a[0];if(c!==-467688003)if(c!==-179650181)if(c!==448478038)return;else return[b("bs_curry")._1(a[1],[]),a];else return[b("SkytaleDB").nextKey(b("bs_curry")._1(a[1],[])),a];else{c=a[1][0];if(typeof c==="number")return;else{a=c[0];if(a!==-179650181)if(a!==448478038)return;else return[b("bs_curry")._1(c[1],[]),c];else return[b("SkytaleDB").nextKey(b("bs_curry")._1(c[1],[])),c]}}}}function k(a){if(typeof a==="number")return;else{var c=a[0];if(c!==-555702441)if(c!==-467688003)if(c!==-214671526)return;else return[b("bs_curry")._1(a[1],[]),a];else{c=a[1][1];if(typeof c==="number")return;else{var d=c[0];if(d!==-555702441)if(d!==-214671526)return;else return[b("bs_curry")._1(c[1],[]),c];else return[b("SkytaleDB").nextKey(b("bs_curry")._1(c[1],[])),c]}}else return[b("SkytaleDB").nextKey(b("bs_curry")._1(a[1],[])),a]}}function l(a,c,d){if(a!==void 0){a=a;var e=a[1];if(c!==void 0){var f=c;if(b("bs_caml_int32").imul(b("IndexedDbKeyComparer")(a[0],f[0]),d)>0)return b("bs_caml_option").some(e);else return b("bs_caml_option").some(f[1])}else return b("bs_caml_option").some(e)}else if(c!==void 0)return b("bs_caml_option").some(c[1]);else return}function m(a,c){if(c!==void 0){c=b("bs_caml_option").valFromOption(c);var d=l(j(c),j(a),1);c=l(k(c),k(a),-1);if(d!==void 0){d=d;if(c!==void 0)return[-467688003,[d,c]];else return d}else if(c!==void 0)return c;else return}else return a}function n(c,d){try{var e,f=b("SortedAsyncIterable.bs").context.contents,g=(e=b("SkytaleDBQueryDependencyContext.bs")).getDependencies(d);e.setDependencies(d,[]);b("SortedAsyncIterable.bs").context.contents=b("bs_caml_option").some(d);try{e=b("bs_curry")._1(c,0)}catch(a){b("SkytaleDBQueryDependencyContext.bs").setDependencies(d,g);b("SortedAsyncIterable.bs").context.contents=f;throw a}var h=b("SkytaleDBQueryDependencyContext.bs").getDependencies(d);return b("bs_block").__(1,[(b("SkytaleDBQueryDependencyContext.bs").setDependencies(d,g),b("SortedAsyncIterable.bs").context.contents=f,[e,h])])}catch(e){g=b("bs_caml_js_exceptions").internalToOCamlException(e);if(g[0]===b("bs_js_exn").$$Error){f=g[1];if(b("bs_curry")._1(a,f))return b("bs_block").__(0,[f.then(function(a){a=n(c,d);return a[0]})]);else throw g}else throw g}}function d(a,c){return i(function(d,e){var f=b("bs_curry")._2(a.iterator,d,e);return{next:function(a){return b("PromiseOrValue.bs").loop(function(a){return b("PromiseOrValue.bs").map(f.next(a),function(a){if(a.done||b("bs_curry")._1(c,b("bs_belt_Option").getExn(a.value)[1]))return b("bs_block").__(0,[a]);else return b("bs_block").__(1,[void 0])})},a)}}},a.subscribe,b("SortedAsyncIterable.bs").direction(a))}function e(a,c){var d={contents:void 0},e=new Map(),f=function(a,c,f){var h=d.contents;if(h!==void 0){var i=h,j=b("JSMap.bs").getOrMake(JSON.stringify(a),function(a){return[]},e);j.forEach(function(a){return b("bs_curry")._1(a,0)});j.length=0;f.forEach(function(d){j.push(b("bs_curry")._1(d,function(d,e,f){return b("PromiseOrValue.bs").toPromise(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(g(a,c,f),function(c){return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(i,a,b("bs_block").__(1,[c]),f))})))}));return 0});return 0}else return 0},g=function(a,d,e){return b("PromiseOrValue.bs").map(n(function(a){return b("bs_curry")._1(c,d)},e),function(b){f(a,d,b[1]);return b[0]})},h=function(a){a=b("JSMap.bs").getOrMake(JSON.stringify(a),function(a){return[]},e);a.forEach(function(a){return b("bs_curry")._1(a,0)});return 0};return i(function(c,d){var e=b("bs_curry")._2(a.iterator,c,d);return{next:function(a){return b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(e.next(a),function(c){if(c.done)return b("bs_block").__(1,[{done:!0,value:void 0}]);else{c=b("bs_belt_Option").getExn(c.value);var a=c[0];return b("PromiseOrValue.bs").map(g(a,c[1],d),function(b){return{done:!1,value:[a,b]}})}}))}}},function(c,f){d.contents=f;var i=b("bs_curry")._2(a.subscribe,c,function(a,c,d){if(typeof c==="number"){h(a);return b("bs_curry")._3(f,a,0,d)}else if(c.tag)return b("PromiseOrValue.bs").toPromise(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(g(a,c[0],d),function(c){return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(f,a,b("bs_block").__(1,[c]),d))})));else return b("PromiseOrValue.bs").toPromise(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(g(a,c[0],d),function(c){return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(f,a,b("bs_block").__(0,[c]),d))})))});return function(a){e.forEach(function(c,a,d){c.forEach(function(a){return b("bs_curry")._1(a,0)});return 0});d.contents=void 0;e.clear();return b("bs_curry")._1(i,0)}},b("SortedAsyncIterable.bs").direction(a))}function o(a){var c=[],d=b("SortedAsyncIterable.bs").iterator(a);a=function(a){return b("PromiseOrValue.bs").loop(function(a){return b("PromiseOrValue.bs").map(d.next(void 0),function(a){if(a.done)return b("bs_block").__(0,[c]);else{c.push(b("bs_belt_Option").getExn(a.value)[1]);return b("bs_block").__(1,[0])}})},a)};return b("PromiseOrValue.bs").toPromise(a(0))}function p(a,c){return i(function(d,e){var f=b("bs_curry")._2(a.iterator,d,e),g=b("bs_curry")._2(c.iterator,d,e),h=function(a){return b("PromiseOrValue.bs").loop(function(a){var c=a[1];a=a[0];if(a.done||c.done)return b("bs_block").__(1,[b("bs_block").__(0,[{done:!0,value:void 0}])]);else{var d=b("bs_belt_Option").getExn(a.value),e=d[0],h=b("bs_belt_Option").getExn(c.value),i=h[0],j=b("IndexedDbKeyComparer")(e,i);if(j>0)return b("PromiseOrValue.bs").map(b("PromiseOrValue.bs").all2(b("bs_block").__(1,[a]),g.next(b("bs_caml_option").some(e))),function(a){return b("bs_block").__(1,[a])});else if(j<0)return b("PromiseOrValue.bs").map(b("PromiseOrValue.bs").all2(f.next(b("bs_caml_option").some(i)),b("bs_block").__(1,[c])),function(a){return b("bs_block").__(1,[a])});else return b("bs_block").__(1,[b("bs_block").__(0,[{done:!1,value:[e,[d[1],h[1]]]}])])}},a)};return{next:function(a){return b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(b("PromiseOrValue.bs").all2(f.next(a),g.next(a)),h))}}},function(d,e){var f={contents:!0},g=function(a,c,d,g,h,i){return b("PromiseOrValue.bs").toPromise(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(b("bs_curry")._2(a.iterator,[-467688003,[[448478038,function(a){return a.concat(g)}],[-555702441,function(a){return a.concat(g)}]]],i).next(void 0),function(a){if(!a.done&&f.contents){a=b("bs_belt_Option").getExn(a.value);var j=a[1];j=typeof h==="number"?0:h.tag?b("bs_block").__(1,[b("bs_curry")._2(d,h[0],j)]):b("bs_block").__(0,[b("bs_curry")._2(d,h[0],j)]);return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(e,b("bs_curry")._1(c,[g,a[0]]),j,i))}else return b("bs_block").__(1,[0])})))},h=b("bs_curry")._2(a.subscribe,d,function(a,b,d){return g(c,function(a){return a[0]},function(a,b){return[a,b]},a,b,d)}),i=b("bs_curry")._2(c.subscribe,d,function(b,c,d){return g(a,function(a){return a[1]},function(a,b){return[b,a]},b,c,d)});return function(a){f.contents=!1;b("bs_curry")._1(h,0);return b("bs_curry")._1(i,0)}},b("SortedAsyncIterable.bs").direction(a))}function q(a,c){return i(function(d,e){return b("bs_curry")._2(a.iterator,m(c,d),e)},function(d,e){return b("bs_curry")._2(a.subscribe,m(c,d),e)},b("SortedAsyncIterable.bs").direction(a))}function r(a,c){var d=[448478038,c],e=[-555702441,c],f=function(a){if(a[0]>=448478038){var d=a[1];return[448478038,function(a){return b("bs_curry")._1(d,b("bs_curry")._1(c,a))}]}else{var e=a[1];return[-179650181,function(a){return b("bs_curry")._1(e,b("bs_curry")._1(c,a))}]}},g=function(a){if(a[0]>=-214671526){var d=a[1];return[-214671526,function(a){return b("bs_curry")._1(d,b("bs_curry")._1(c,a))}]}else{var e=a[1];return[-555702441,function(a){return b("bs_curry")._1(e,b("bs_curry")._1(c,a))}]}},h=function(a){if(a!==void 0){a=a;var b=a[0];if(b!==-467688003)b=b>=-179650181?[-467688003,[f(a),e]]:[-467688003,[d,g(a)]];else{a=a[1];b=[-467688003,[f(a[0]),g(a[1])]]}}else b=[-467688003,[d,e]];return b};return i(function(d,e){var f=b("bs_curry")._2(a.iterator,h(d),e);return{next:function(a){return b("PromiseOrValue.bs").map(f.next(b("bs_belt_Option").map(a,function(a){return b("bs_curry")._1(c,[]).concat(a)})),function(a){return{done:a.done,value:b("bs_belt_Option").map(a.value,function(a){return[b("SkytaleDB").removeKey(a[0],c),a[1]]})}})}}},function(d,e){return b("bs_curry")._2(a.subscribe,h(d),function(a,d,f){return b("bs_curry")._3(e,b("SkytaleDB").removeKey(a,c),d,f)})},b("SortedAsyncIterable.bs").direction(a))}function s(a,c){return i(function(d,e){var f=b("bs_curry")._2(a.iterator,d,e),g={contents:0};return{next:function(a){if(g.contents>=c)return b("bs_block").__(1,[{done:!0,value:void 0}]);else{g.contents=g.contents+1|0;return f.next(a)}}}},a.subscribe,b("SortedAsyncIterable.bs").direction(a))}function t(a){return o(s(a,1)).then(function(a){return b("bs_belt_Array").get(a,0)})}function u(a){return o(s(a,1)).then(function(a){return b("bs_belt_Array").getExn(a,0)})}function v(a,c){return i(function(d,e){var f=b("bs_curry")._2(a.iterator,d,e);return{next:function(a){a=f.next(a);if(a.tag)return a;else return b("bs_block").__(0,[b("CancellablePromise.bs").then_(c,function(a){return a},a[0])])}}},a.subscribe,b("SortedAsyncIterable.bs").direction(a))}f.Key=c;f.filter=d;f.map=e;f.toArray=o;f.mergeJoin=p;f.bounds=q;f.getKeyRange=r;f.take=s;f.first=t;f.firstExn=u;f.makeCancellable=v}),null);
__d("LSSecureMailboxSenderKeyStatus.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,1];b=[0,10];c=[0,2];d=[0,4];f.pending_send=a;f.sending_to_server=b;f.sent_to_server=c;f.local_device=d}),null);
__d("Tincan_PacketType.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,1];b=[0,2];c=[0,6];d=[0,7];e=[0,10];var g=[0,12],h=[0,20],i=[0,21],j=[0,22],k=[0,23],l=[0,24],m=[0,30],n=[0,32],o=[0,33],p=[0,41],q=[0,50],r=[0,51],s=[0,52],t=[0,60],u=[0,70],v=[0,71],w=[0,73],x=[0,75],y=[0,100],z=[0,300],A=[0,400],B=[0,450],C=[0,451],D=[0,452],E=[0,453],F=[0,499],G=[0,6e3],H=[0,6100],I=[0,6500],J=[0,6520],K=[0,6530],L=[0,6540],M=[0,6550],N=[0,6600],O=[0,6999],P=[0,7e3],Q=[0,8e3];f.salamander_plaintext_unsafe=a;f.salamander_signed_encrypted=b;f.backend_packet_bounced=c;f.thread_sender_key=d;f.register=e;f.prekey_upload=g;f.lookup=h;f.batch_lookup=i;f.verify_checksum=j;f.verify_prekeys=k;f.thread_mute_expire_time=l;f.set_primary_device=m;f.primary_device_change=n;f.status_thread_participants_changed=o;f.link_needs_new_lookup=p;f.receipt_delivered=q;f.receipt_seen=r;f.mark_unseen=s;f.create_thread=t;f.enable_device=u;f.disable_device=v;f.device_disabled=w;f.device_status_changed=x;f.caller_id_info=y;f.status_topup_prekeys=z;f.status_packet_error=A;f.status_packet_block_insecure=B;f.status_packet_block_country=C;f.status_packet_version_too_old=D;f.status_packet_version_too_new=E;f.max_value_packet_error=F;f.status_salamander_error=G;f.status_salamander_error_nonspecific=H;f.status_salamander_error_outer_decrypt=I;f.status_salamander_error_signature_fail=J;f.status_salamander_error_inner_deserialize=K;f.status_salamander_error_invalid_type=L;f.status_salamander_error_invalid_body=M;f.status_salamander_type_unrecognized=N;f.max_value_status_salamander_error=O;f.status_salamander_bounced=P;f.status_si_rate_limit_exceeded=Q}),null);
__d("Tincan_SalamanderType.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,2];b=[0,3];c=[0,4];d=[0,5];e=[0,6];var g=[0,7],h=[0,8],i=[0,9];f.link_deleted=a;f.plain_text=b;f.attachment_info_list=c;f.device_local_text=d;f.sticker_info=e;f.thread_sender_key=g;f.thread_message_lifetime_changed=h;f.screenshot_notification=i}),null);
__d("LSAuthorityLevel.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,20];b=[0,40];c=[0,60];d=[0,75];e=[0,80];var g=[0,100];f.optimistic=a;f.client_partial=b;f.server_partial=c;f.authoritative_pending_replacement=d;f.authoritative=e;f.client_authoritative_delete=g}),null);
__d("LSMessageSendStatus.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1];c=[0,2];d=[0,4];e=[0,5];f.none=a;f.sending_to_server=b;f.server_received=c;f.non_retriable_error=d;f.retriable_error=e}),null);
__d("MessagingThreadType.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,1];b=[0,2];c=[0,3];d=[0,4];e=[0,5];var g=[0,6],h=[0,7],i=[0,8],j=[0,10],k=[0,11],l=[0,13];f.one_to_one=a;f.group=b;f.room=c;f.montage=d;f.marketplace=e;f.folder=g;f.tincan_one_to_one=h;f.tincan_group=i;f.carrier_messaging_one_to_one=j;f.carrier_messaging_group=k;f.tincan_one_to_one_disappearing=l}),null);
__d("LSSecureMailboxLogToMSMLog.bs",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("Promise").resolve([!0])}f.call=a}),null);
__d("LSMessagingThreadTypeUtil.bs",["bs_caml_int64","MessagingThreadType.bs","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a){if(b("bs_caml_int64").eq(a,b("MessagingThreadType.bs").one_to_one)||b("bs_caml_int64").eq(a,b("MessagingThreadType.bs").group)||b("bs_caml_int64").eq(a,b("MessagingThreadType.bs").room)||b("bs_caml_int64").eq(a,b("MessagingThreadType.bs").montage)||b("bs_caml_int64").eq(a,b("MessagingThreadType.bs").marketplace)||b("bs_caml_int64").eq(a,b("MessagingThreadType.bs").folder))return!1;else if(b("bs_caml_int64").eq(a,b("MessagingThreadType.bs").tincan_one_to_one)||b("bs_caml_int64").eq(a,b("MessagingThreadType.bs").tincan_group))return!0;else return b("unrecoverableViolation")("Unknown thread type","comet_messenger")}function c(a){if(b("bs_caml_int64").eq(a,b("MessagingThreadType.bs").group)||b("bs_caml_int64").eq(a,b("MessagingThreadType.bs").tincan_group))return!0;else return!1}function d(a){a=a[0];if(a!==757211935)if(a>=-914332868)return b("MessagingThreadType.bs").one_to_one;else return b("MessagingThreadType.bs").tincan_one_to_one;else return b("MessagingThreadType.bs").group}f.isSecure=a;f.isGroup=c;f.ofThreadId=d}),null);
__d("CometComposerViewState.bs",["bs_block","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g={};function h(a){if(a==="PHOTO")return 0;else if(a==="VIDEO")return 1;else if(a==="FILE"||a==="UNKNOWN")return 2;else{b("recoverableViolation")("Unrecognized CometComposerMediaAttachment file type "+(String(a)+"!"),"messenger_comet");return 2}}var i={ofString:h};function a(a){return a.state}function c(a){if(a.state==="NEW")return b("bs_block").__(0,[h(a.fileType),a.file]);else if(a.state==="QUEUED")return b("bs_block").__(1,[h(a.fileType),a.file]);else if(a.state==="UPLOADING")return b("bs_block").__(2,[h(a.fileType),a.file,a.percentComplete]);else if(a.state==="UPLOADED")return b("bs_block").__(3,[h(a.fileType),a.file,a.data]);else if(a.state==="FAILED")return b("bs_block").__(4,[h(a.fileType),a.file,a.error]);else{a=a.state;throw b("unrecoverableViolation")("Unrecognized CometComposerMediaAttachment state "+(String(a)+"!"),"messenger_comet")}}function d(a){switch(a.tag|0){case 0:case 1:return a[0];default:return a[0]}}function e(a){switch(a.tag|0){case 0:case 1:return a[1];default:return a[1]}}a={stateJS:a,fromJS:c,fileType:d,file:e};f.$$File=g;f.FileType=i;f.MediaAttachment=a}),null);
__d("LSSecureMailboxThreadStatus.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1];c=[0,2];d=[0,3];e=[0,4];var g=[0,5],h=[0,6],i=[0,7];f.not_started=a;f.looking_up=b;f.completed=c;f.failed=d;f.creating_multi_device_thread=e;f.auto_retry=g;f.pre_looking_up=h;f.conversation_in_progress=i}),null);
__d("BPlusTreeBase",["invariant","nativePromiseRegeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";e.exports=function(a,c,d){var e=b("nativePromiseRegeneratorRuntime").mark(j),f=b("nativePromiseRegeneratorRuntime").mark(m);c===void 0&&(c=16);var h={children:[],isLeaf:!0,keys:[]},i={gte:[function(a){return a<0},0],lt:[function(a){return a<0},1],gt:[function(a){return a<=0},0],lte:[function(a){return a<=0},1]};function j(c,f){var g,h,i,j,k;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(d.readExn(c),"t0",1);case 1:g=b.t0,h=[],(i=g,j=c),k=-1;case 5:if(i.isLeaf){b.next=19;break}h.push([i,j,k]);k=0;case 8:if(!(k<i.keys.length)){b.next=14;break}if(!(a(f,i.keys[k])<0)){b.next=11;break}return b.abrupt("break",14);case 11:k++;b.next=8;break;case 14:j=i.children[k];return b.delegateYield(d.readExn(j),"t1",16);case 16:i=b.t1;b.next=5;break;case 19:return b.abrupt("return",[i,j,h,k]);case 20:case"end":return b.stop()}},e,this)}function k(b,c,d,e,f){e===void 0&&(e=0);f===void 0&&(f=b.length-1);while(e<=f){var g=e+f>>1;d[0](a(b[g],c))?e=g+1:f=g-1}g=[e,f][d[1]];return g===b.length?-1:g}function l(b,c){if(!b.length){b.push(c);return[0,0]}var d=k(b,c,i.gte);if(d===-1)return[b.push(c)-1,0];else if(a(b[d],c)===0)return[d,1];b.splice(d,0,c);return[d,0]}function m(){var a,c;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(d.readHeader(),"t0",1);case 1:a=b.t0;if(!(a==null)){b.next=7;break}return b.delegateYield(d.writeNew({isLeaf:!0,children:[],keys:[]}),"t1",4);case 4:c=b.t1;a={rootId:c,tailId:c,headId:c};return b.delegateYield(d.writeHeader(a),"t2",7);case 7:return b.abrupt("return",a);case 8:case"end":return b.stop()}},f,this)}return{get:b("nativePromiseRegeneratorRuntime").mark(function c(d){var e,f,h;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:b.t0=j;return b.delegateYield(m(),"t1",2);case 2:b.t2=b.t1.rootId;b.t3=d;return b.delegateYield(b.t0(b.t2,b.t3),"t4",5);case 5:e=b.t4;f=e[0];h=k(f.keys,d,i.gte);h!==-1&&a(f.keys[h],d)===0||g(0,19679,d);return b.abrupt("return",f.children[h]);case 10:case"end":return b.stop()}},c,this)}),has:b("nativePromiseRegeneratorRuntime").mark(function c(d){var e,f;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:b.t0=j;return b.delegateYield(m(),"t1",2);case 2:b.t2=b.t1.rootId;b.t3=d;return b.delegateYield(b.t0(b.t2,b.t3),"t4",5);case 5:e=b.t4;f=e[0];return b.abrupt("return",f.keys.findIndex(function(b){return a(d,b)===0})!==-1);case 8:case"end":return b.stop()}},c,this)}),set:b("nativePromiseRegeneratorRuntime").mark(function a(e,f){var g,h,i,k,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.delegateYield(m(),"t0",1);case 1:g=a.t0;h={};return a.delegateYield(j(g.rootId,e),"t1",4);case 4:i=a.t1,k=i[0],n=i[1],o=i[2],(p=l(k.keys,e),q=p[0],r=p[1]),k.children.splice(q,r,f),(s=k,t=n);case 11:if(!(s.keys.length>=c)){a.next=47;break}w=o.pop()||[{keys:[],children:[t],isLeaf:!1}];u=w[0];v=w[1];x=Math.floor(s.keys.length/2);y=void 0,z=void 0;if(!s.isLeaf){a.next=36;break}y={isLeaf:!0,children:s.children.slice(x),keys:s.keys.slice(x),nextId:s.nextId,prevId:t};return a.delegateYield(d.writeNew(y),"t2",20);case 20:z=s.nextId=a.t2;if(!y.nextId){a.next=33;break}a.t3=d;a.t4=y.nextId;a.t5=babelHelpers;a.t6={};return a.delegateYield(d.readExn(y.nextId),"t7",27);case 27:a.t8=a.t7;a.t9={prevId:z};a.t10=a.t5["extends"].call(a.t5,a.t6,a.t8,a.t9);return a.delegateYield(a.t3.write.call(a.t3,a.t4,a.t10),"t11",31);case 31:a.next=34;break;case 33:h.tailId=z;case 34:a.next=39;break;case 36:y={isLeaf:!1,children:s.children.slice(x+1),keys:s.keys.slice(x+1)};return a.delegateYield(d.writeNew(y),"t12",38);case 38:z=a.t12;case 39:A=l(u.keys,s.keys[x]),B=A[0];u.children.splice(B+1,0,z);s.keys.length=x;s.children.length=x+(s.isLeaf?0:1);return a.delegateYield(d.write(t,s),"t13",44);case 44:s=u,t=v;a.next=11;break;case 47:if(!(t==null)){a.next=52;break}return a.delegateYield(d.writeNew(s),"t14",49);case 49:h.rootId=a.t14;a.next=53;break;case 52:return a.delegateYield(d.write(t,s),"t15",53);case 53:if(!Object.keys(h).length){a.next=55;break}return a.delegateYield(d.writeHeader(babelHelpers["extends"]({},g,h)),"t16",55);case 55:case"end":return a.stop()}},a,this)}),"delete":b("nativePromiseRegeneratorRuntime").mark(function e(f){var h,i,k,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(m(),"t0",1);case 1:h=b.t0;i={};k=Math.floor(c/2);return b.delegateYield(j(h.rootId,f),"t1",5);case 5:l=b.t1;n=l[0];o=l[1];p=l[2];q=l[3];r=n.keys.findIndex(function(b){return a(b,f)===0});if(!(r===-1)){b.next=13;break}return b.abrupt("return",!1);case 13:n.keys.splice(r,1),n.children.splice(r,1),s=n,t=o,u=q;case 18:if(!(s.keys.length<k&&p.length)){b.next=106;break}z=p.pop();v=z[0];w=z[1];x=z[2];A=[[{nodeId:v.children[u-1]},{nodeId:t,node:s},u-1],[{nodeId:t,node:s},{nodeId:v.children[u+1]},u]].filter(function(a){var b=a[0];a=a[1];return b.nodeId!==void 0&&a.nodeId!==void 0});B=A,C=Array.isArray(B),D=0,B=C?B:B[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 25:if(!C){b.next=31;break}if(!(D>=B.length)){b.next=28;break}return b.abrupt("break",59);case 28:E=B[D++];b.next=35;break;case 31:D=B.next();if(!D.done){b.next=34;break}return b.abrupt("break",59);case 34:E=D.value;case 35:F=E;G=F[0];H=F[1];I=F[2];b.t2=G.node;if(b.t2){b.next=43;break}return b.delegateYield(d.readExn(G.nodeId),"t3",42);case 42:b.t2=b.t3;case 43:G.node=b.t2;b.t4=H.node;if(b.t4){b.next=48;break}return b.delegateYield(d.readExn(H.nodeId),"t5",47);case 47:b.t4=b.t5;case 48:H.node=b.t4;if(!(G.node.keys.length+H.node.keys.length>=k*2)){b.next=57;break}s.isLeaf?(J=[].concat(G.node.children,H.node.children),K=[].concat(G.node.keys,H.node.keys),G.node.children=(H.node.children=J).splice(0,k),G.node.keys=(H.node.keys=K).splice(0,k),v.keys[I]=K[0]):(L=[].concat(G.node.children,H.node.children),M=[].concat(G.node.keys,[v.keys[I]],H.node.keys),G.node.children=(H.node.children=L).splice(0,k+1),v.keys[I]=M.splice(k,1)[0],G.node.keys=(H.node.keys=M).splice(0,k));return b.delegateYield(d.write(G.nodeId,G.node),"t6",52);case 52:return b.delegateYield(d.write(H.nodeId,H.node),"t7",53);case 53:return b.delegateYield(d.write(w,v),"t8",54);case 54:if(!Object.keys(i).length){b.next=56;break}return b.delegateYield(d.writeHeader(babelHelpers["extends"]({},h,i)),"t9",56);case 56:return b.abrupt("return",!0);case 57:b.next=25;break;case 59:N=A,O=Array.isArray(N),P=0,N=O?N:N[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 60:if(!O){b.next=66;break}if(!(P>=N.length)){b.next=63;break}return b.abrupt("break",103);case 63:Q=N[P++];b.next=70;break;case 66:P=N.next();if(!P.done){b.next=69;break}return b.abrupt("break",103);case 69:Q=P.value;case 70:R=Q;S=R[0];T=R[1];U=R[2];S.node.children=[].concat(S.node.children,T.node.children);if(!s.isLeaf){b.next=95;break}S.node.keys=[].concat(S.node.keys,T.node.keys);v.keys.splice(U,1);v.children.splice(U+1,1);if(!T.node.nextId){b.next=91;break}b.t10=d;b.t11=T.node.nextId;b.t12=babelHelpers;b.t13={};return b.delegateYield(d.readExn(T.node.nextId),"t14",85);case 85:b.t15=b.t14;b.t16={prevId:S.nodeId};b.t17=b.t12["extends"].call(b.t12,b.t13,b.t15,b.t16);return b.delegateYield(b.t10.write.call(b.t10,b.t11,b.t17),"t18",89);case 89:b.next=92;break;case 91:i.tailId=S.nodeId;case 92:S.node.nextId=T.node.nextId;b.next=98;break;case 95:S.node.keys=[].concat(S.node.keys,[v.keys[U]],T.node.keys),v.keys.splice(U,1),v.children.splice(U+1,1);case 98:return b.delegateYield(d.write(S.nodeId,S.node),"t19",99);case 99:return b.delegateYield(d.remove(T.nodeId),"t20",100);case 100:return b.abrupt("break",103);case 101:b.next=60;break;case 103:y=[v,w,x],s=y[0],t=y[1],u=y[2],y;b.next=18;break;case 106:return b.delegateYield(d.write(t,s),"t21",107);case 107:return b.delegateYield(d.readExn(h.rootId),"t22",108);case 108:V=b.t22;!V.keys.length&&V.children.length&&(V.isLeaf&&g(0,19680),i.rootId=V.children[0]);if(!Object.keys(i).length){b.next=112;break}return b.delegateYield(d.writeHeader(babelHelpers["extends"]({},h,i)),"t23",112);case 112:return b.abrupt("return",!0);case 113:case"end":return b.stop()}},e,this)}),entries:b("nativePromiseRegeneratorRuntime").mark(function c(e){var f,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:f=e===void 0?{}:e,l=f.dir,n=l===void 0?"asc":l,o=babelHelpers.objectWithoutPropertiesLoose(f,["dir"]);Object.prototype.hasOwnProperty.call(o,"gt")&&Object.prototype.hasOwnProperty.call(o,"gte")&&g(0,19824);Object.prototype.hasOwnProperty.call(o,"lt")&&Object.prototype.hasOwnProperty.call(o,"lte")&&g(0,19825);return b.delegateYield(m(),"t0",4);case 4:r=b.t0;if(!(n==="asc")){b.next=72;break}if(!Object.prototype.hasOwnProperty.call(o,"gt")){b.next=13;break}return b.delegateYield(j(r.rootId,o.gt),"t1",8);case 8:s=b.t1;p=s[0];q=s[1];b.next=26;break;case 13:if(!Object.prototype.hasOwnProperty.call(o,"gte")){b.next=20;break}return b.delegateYield(j(r.rootId,o.gte),"t2",15);case 15:t=b.t2;p=t[0];q=t[1];b.next=26;break;case 20:return b.delegateYield(d.readExn(r.headId),"t3",21);case 21:b.t4=b.t3,b.t5=r.headId,u=[b.t4,b.t5],p=u[0],q=u[1];case 26:v=Object.prototype.hasOwnProperty.call(o,"gt")?k(p.keys,o.gt,i.gt):Object.prototype.hasOwnProperty.call(o,"gte")?k(p.keys,o.gte,i.gte):0;case 27:if(!(p&&q!==void 0)){b.next=70;break}case 28:if(!(v!==-1&&v<p.keys.length)){b.next=61;break}w=p.keys[v];if(!(Object.prototype.hasOwnProperty.call(o,"lt")&&a(w,o.lt)>=0||Object.prototype.hasOwnProperty.call(o,"lte")&&a(w,o.lte)>0)){b.next=32;break}return b.abrupt("return");case 32:b.next=34;return[p.keys[v],p.children[v]];case 34:x=b.sent;return b.delegateYield(d.read(q),"t7",36);case 36:b.t6=b.t7;if(b.t6){b.next=39;break}b.t6=h;case 39:p=b.t6;if(!(x!=null)){b.next=50;break}a(x,w)>0||g(0,20472);v=k(p.keys,x,i.gte);if(!(v===-1)){b.next=48;break}return b.delegateYield(j(r.rootId,x),"t8",45);case 45:y=b.t8,p=y[0],v=k(p.keys,x,i.gte);case 48:b.next=59;break;case 50:z=v>=p.keys.length||a(p.keys[v],w)!==0;if(!z){b.next=58;break}v=k(p.keys,w,i.lte);if(!(v===-1)){b.next=58;break}return b.delegateYield(j(r.rootId,w),"t9",55);case 55:A=b.t9,p=A[0],v=k(p.keys,w,i.lte);case 58:v++;case 59:b.next=28;break;case 61:q=p.nextId;b.t10=q!==void 0;if(!b.t10){b.next=66;break}return b.delegateYield(d.readExn(q),"t11",65);case 65:b.t10=b.t11;case 66:p=b.t10;v=0;b.next=27;break;case 70:b.next=136;break;case 72:if(!Object.prototype.hasOwnProperty.call(o,"lt")){b.next=79;break}return b.delegateYield(j(r.rootId,o.lt),"t12",74);case 74:B=b.t12;p=B[0];q=B[1];b.next=92;break;case 79:if(!Object.prototype.hasOwnProperty.call(o,"lte")){b.next=86;break}return b.delegateYield(j(r.rootId,o.lte),"t13",81);case 81:C=b.t13;p=C[0];q=C[1];b.next=92;break;case 86:return b.delegateYield(d.readExn(r.tailId),"t14",87);case 87:b.t15=b.t14,b.t16=r.tailId,D=[b.t15,b.t16],p=D[0],q=D[1];case 92:E=Object.prototype.hasOwnProperty.call(o,"lt")?k(p.keys,o.lt,i.lt):Object.prototype.hasOwnProperty.call(o,"lte")?k(p.keys,o.lte,i.lte):p.keys.length-1;case 93:if(!(p&&q!==void 0)){b.next=136;break}case 94:if(!(E!==-1&&E>=0)){b.next=127;break}F=p.keys[E];if(!(Object.prototype.hasOwnProperty.call(o,"gt")&&a(F,o.gt)<=0||Object.prototype.hasOwnProperty.call(o,"gte")&&a(F,o.gte)<0)){b.next=98;break}return b.abrupt("return");case 98:b.next=100;return[p.keys[E],p.children[E]];case 100:G=b.sent;return b.delegateYield(d.read(q),"t18",102);case 102:b.t17=b.t18;if(b.t17){b.next=105;break}b.t17=h;case 105:p=b.t17;if(!(G!=null)){b.next=116;break}a(G,F)<0||g(0,20473);E=k(p.keys,G,i.lte);if(!(E===-1)){b.next=114;break}return b.delegateYield(j(r.rootId,G),"t19",111);case 111:H=b.t19,p=H[0],E=k(p.keys,G,i.lte);case 114:b.next=125;break;case 116:I=E>=p.keys.length||a(p.keys[E],F)!==0;if(!I){b.next=124;break}E=k(p.keys,F,i.gte);if(!(E===-1)){b.next=124;break}return b.delegateYield(j(r.rootId,F),"t20",121);case 121:J=b.t20,p=J[0],E=k(p.keys,F,i.gte);case 124:E--;case 125:b.next=94;break;case 127:q=p.prevId;b.t21=q!==void 0;if(!b.t21){b.next=132;break}return b.delegateYield(d.readExn(q),"t22",131);case 131:b.t21=b.t22;case 132:p=b.t21;E=p?p.keys.length-1:-1;b.next=93;break;case 136:case"end":return b.stop()}},c,this)})}}}),null);
__d("BPlusTree",["invariant","nativePromiseRegeneratorRuntime","BPlusTreeBase"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a,c={},d=void 0,e=0;return{read:(a=b("nativePromiseRegeneratorRuntime")).mark(function a(d){return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",c[d]);case 1:case"end":return a.stop()}},a,this)}),readExn:a.mark(function a(d){return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object.prototype.hasOwnProperty.call(c,d)?c[d]:g(!1,"expected key"));case 1:case"end":return a.stop()}},a,this)}),readHeader:a.mark(function a(){return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",d);case 1:case"end":return a.stop()}},a,this)}),remove:a.mark(function a(d){return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:delete c[d];case 1:case"end":return a.stop()}},a,this)}),write:a.mark(function a(d,e){return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:c[d]=e;case 1:case"end":return a.stop()}},a,this)}),writeHeader:a.mark(function a(c){return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:d=c;case 1:case"end":return a.stop()}},a,this)}),writeNew:a.mark(function a(d){return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:c[e++]=d;return a.abrupt("return",e-1);case 2:case"end":return a.stop()}},a,this)})}}function i(a){var b=a.next();while(!b.done)b=a.next(b.value);return b.value}e.exports=function(a,c){var d=this;c===void 0&&(c=16);var e=b("BPlusTreeBase")(a,c,h());return{"delete":function(a){return i(e["delete"](a))},entries:function(a){return e.entries(a)},get:function(a){return i(e.get(a))},has:function(a){return i(e.has(a))},set:function(a,b){i(e.set(a,b));return d}}}}),null);
__d("ReadThroughBatchedTransaction",["invariant","BPlusTree","LSStorage","bs_caml_int64","nativePromiseRegeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("LSStorage").createSubscriptionManager,i=b("LSStorage").areKeysEqual,j=new WeakMap();function k(a){var b=JSON.stringify(a);return b==null?a:JSON.parse(b)}function l(a){j.has(a)||j.set(a,JSON.stringify([].concat(a).sort()));return j.get(a)}var m=Promise.resolve(),n=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,"Transaction has finished")||this}return a}(babelHelpers.wrapNativeSuper(Error));e.exports=function(a,c,d,e){var f=b("nativePromiseRegeneratorRuntime").mark(z),j=[],o=a.getMetadata(),p=h(c,o),q=b("LSStorage").searchKey.bind(null,o),r=Object.keys(o.tableNames).reduce(function(a,b){var c=o.tableNames[b];a[b]=Object.keys(c.indexes).map(function(a){return c.indexes[a]}).filter(function(a){a=a.keyIds;return l(a)!==l(c.primaryKeyIds)});return a},{}),s=function(){},t=new Promise(function(a,b){s=function(){u=!0,b()}}),u=!1,v=new Map();function w(d){var e=v.get(d);if(e===void 0){var f=b("BPlusTree")(c),h=Object.keys(o.tableNames[d].indexes).reduce(function(a,d){a[d]=b("BPlusTree")(c);return a},{}),i;e={has:function(a){return f.has(a)},get:function(a){return f.get(a)},set:function(a,b,c){if(c!=null){var e=Object.keys(h);for(var g=0;g<e.length;g++){var i=e[g],j=q(d,c,i);j!=null&&h[i].set(j,void 0)}}f.set(a,b);if(b.value!=null){i=Object.keys(h);for(var j=0;j<i.length;j++){e=i[j];g=q(d,b.value,e);g!=null&&h[e].set(g,b)}}return b},entities:f,nextAutoIncrementId:function(){return b("nativePromiseRegeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:o.tableNames[d].autoIncrement||g(0,19734);i===void 0?i=a.table(d).peekNextAutoIncrementId():i=i.then(function(a){a=b("bs_caml_int64").add(b("bs_caml_int64").one,a);return a});return c.abrupt("return",i);case 3:case"end":return c.stop()}},null,this)},indexes:h};v.set(d,e)}return e}function x(d,e,f){var g,h,i,j,k,m,n,p,r,s,t;return b("nativePromiseRegeneratorRuntime").async(function(u){while(1)switch(u.prev=u.next){case 0:g=o.tableNames[d].indexes,h=new Set(),i=w(d),j=Object.keys(g),k=0;case 5:if(!(k<j.length)){u.next=38;break}m=j[k];n=g[m];if(n.unique){u.next=10;break}return u.abrupt("continue",35);case 10:p=l(n.keyIds);if(!h.has(p)){u.next=13;break}return u.abrupt("continue",35);case 13:h.add(p);r=q(d,f,m);if(!(r==null)){u.next=17;break}return u.abrupt("continue",35);case 17:if(!i.indexes[m].has(r)){u.next=30;break}s=i.indexes[m].get(r);u.t0=s!=null&&s.state==="addedOrUnmodified";if(!u.t0){u.next=25;break}u.next=23;return b("nativePromiseRegeneratorRuntime").awrap(y(d,s));case 23:u.t1=u.sent.state,u.t0=u.t1==="unmodified";case 25:if(!u.t0){u.next=27;break}s=i.indexes[m].get(r);case 27:if(!(s==null||s.value==null||c(q(d,s.value),e)===0)){u.next=29;break}return u.abrupt("continue",35);case 29:return u.abrupt("return",!1);case 30:u.next=32;return b("nativePromiseRegeneratorRuntime").awrap(a.table(d).index(m).getKey(r));case 32:t=u.sent;if(!(t!=null&&c(t,e)!==0)){u.next=35;break}return u.abrupt("return",!1);case 35:k++;u.next=5;break;case 38:return u.abrupt("return",!0);case 39:case"end":return u.stop()}},null,this)}function y(c,d){var e,f,h;return b("nativePromiseRegeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:if(!(d.state==="addedOrUnmodified")){i.next=8;break}d.value!=null||g(0,8630);e=b("nullthrows")(q(c,d.value));i.next=5;return b("nativePromiseRegeneratorRuntime").awrap(a.table(c).get(e));case 5:f=i.sent;h=w(c);return i.abrupt("return",f!=null?h.set(e,{state:"unmodified",value:f},d.value):h.set(e,{state:"added",value:d.value}));case 8:return i.abrupt("return",d);case 9:case"end":return i.stop()}},null,this)}function z(a,d,e,g){var h,i,j,k,l,m,n,o,p,r,s,t,u,v,x;return b("nativePromiseRegeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:h=b("nullthrows")({asc:1,desc:-1}[g]);f.next=3;return b("nativePromiseRegeneratorRuntime").awrap(a.next());case 3:i=f.sent,j=d.next(),k=void 0;case 6:if(!i.done){f.next=18;break}case 8:if(j.done){f.next=17;break}l=j.value,m=l[0],n=l[1];if(!(n!=null&&n.value!=null)){f.next=14;break}f.next=13;return[m,n.value];case 13:k=f.sent;case 14:j=d.next(k);f.next=8;break;case 17:return f.abrupt("return");case 18:if(!j.done){f.next=29;break}case 19:if(i.done){f.next=28;break}f.next=22;return i.value;case 22:k=f.sent;f.next=25;return b("nativePromiseRegeneratorRuntime").awrap(a.next(k));case 25:i=f.sent;f.next=19;break;case 28:return f.abrupt("return");case 29:o=j.value,p=o[0],r=o[1];s=i,t=s.value,u=t[0],v=t[1];x=c(u,p)*h;if(!(x<0)){f.next=42;break}f.next=35;return[u,v];case 35:k=f.sent;f.next=38;return b("nativePromiseRegeneratorRuntime").awrap(a.next(k));case 38:i=f.sent;k!==void 0&&c(k,p)*h>0&&(j=d.next(k));f.next=75;break;case 42:if(!(x===0)){f.next=61;break}if(!(r!=null)){f.next=55;break}if(!(r.state==="addedOrUnmodified")){f.next=51;break}w(e).set(b("nullthrows")(q(e,v)),{state:"unmodified",value:v});f.next=48;return[u,v];case 48:k=f.sent;f.next=55;break;case 51:if(!(r.value!=null)){f.next=55;break}f.next=54;return[p,r.value];case 54:k=f.sent;case 55:f.next=57;return b("nativePromiseRegeneratorRuntime").awrap(a.next(k));case 57:i=f.sent;j=d.next(k);f.next=75;break;case 61:if(!(r!=null)){f.next=70;break}r.state==="addedOrUnmodified"&&w(e).set(b("nullthrows")(q(e,b("nullthrows")(r.value))),{state:"added",value:r.value});if(!(r.value!=null)){f.next=69;break}f.next=66;return[p,r.value];case 66:k=f.sent;f.next=70;break;case 69:k=void 0;case 70:j=d.next(k);if(!(k!==void 0&&c(k,u)*h>0)){f.next=75;break}f.next=74;return b("nativePromiseRegeneratorRuntime").awrap(a.next(k));case 74:i=f.sent;case 75:f.next=6;break;case 77:case"end":return f.stop()}},f,this)}var A={table:function(d){function e(a){var b=o.tableNames[d];return(b.primaryKeyIds.length===1?[a]:a).reduce(function(a,c,d){a[b.primaryKeyIds[d]]=c;return a},{})}function f(a,b){j.push([d,a,b]),p.notifyTableAndIndexSubscribers(d,a,b,new WeakMap())}function h(a,c){var e,f,g,h,i,j,k,l,m;return b("nativePromiseRegeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:(e=o.tableNames[d],f=e.primaryKeyIds,g=e.cascadeUpdates),h=function(){var e,d,g,h,m,n,p,r,s,t,u,v,w,x,y;return b("nativePromiseRegeneratorRuntime").async(function(z){while(1)switch(z.prev=z.next){case 0:if(!j){z.next=6;break}if(!(k>=i.length)){z.next=3;break}return z.abrupt("return","break");case 3:l=i[k++];z.next=10;break;case 6:k=i.next();if(!k.done){z.next=9;break}return z.abrupt("return","break");case 9:l=k.value;case 10:e=l;d=e.tableName;g=e.indexName;h=o.tableNames[d],m=h.primaryKeyIds,n=h.indexes;p=g==null?m:n[g].keyIds;r={gte:f.length===1&&p.length>1?[a]:a,lte:p.length>f.length?f.length===1?[a,[]]:[].concat(a,[[]]):a};s=(g==null?A.table(d):A.table(d).index(g)).entries(new WeakMap(),"asc",r);z.next=19;return b("nativePromiseRegeneratorRuntime").awrap(s.next());case 19:t=z.sent,u=[];case 21:if(t.done){z.next=28;break}u.push(t.value);z.next=25;return b("nativePromiseRegeneratorRuntime").awrap(s.next());case 25:t=z.sent;z.next=21;break;case 28:v=0;case 29:if(!(v<u.length)){z.next=39;break}w=u[v];w[0];x=w[1];y=b("nullthrows")(q(d,x));z.next=36;return b("nativePromiseRegeneratorRuntime").awrap(A.table(d).upsert(y,f.reduce(function(a,b,d){a[p[d]]=f.length===1?c:c[d];return a},babelHelpers["extends"]({},x))));case 36:v++;z.next=29;break;case 39:case"end":return z.stop()}},null,this)},(i=g,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 3:n.next=5;return b("nativePromiseRegeneratorRuntime").awrap(h());case 5:m=n.sent;if(!(m==="break")){n.next=8;break}return n.abrupt("break",10);case 8:n.next=3;break;case 10:case"end":return n.stop()}},null,this)}return{get:function(c){var e,f;return b("nativePromiseRegeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:if(!u){g.next=2;break}throw new n();case 2:e=w(d);if(e.has(c)){g.next=9;break}g.next=6;return b("nativePromiseRegeneratorRuntime").awrap(a.table(d).get(c));case 6:f=g.sent;e.set(c,{value:f,state:"unmodified"});return g.abrupt("return",f);case 9:g.next=11;return b("nativePromiseRegeneratorRuntime").awrap(y(d,e.get(c)));case 11:return g.abrupt("return",g.sent.value);case 12:case"end":return g.stop()}},null,this)},add:function(a){var c,e,g,h,i,j,l,m;return b("nativePromiseRegeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:if(!u){p.next=2;break}throw new n();case 2:c=o.tableNames[d],e=c.autoIncrement,g=c.primaryKeyIds;h=k(a);i=w(d);if(!e){p.next=9;break}p.next=8;return b("nativePromiseRegeneratorRuntime").awrap(i.nextAutoIncrementId());case 8:h[g[0]]=p.sent;case 9:j=b("nullthrows")(q(d,h));p.next=12;return b("nativePromiseRegeneratorRuntime").awrap(x(d,j,a));case 12:if(p.sent){p.next=15;break}s();throw new Error("Unique constraint violation");case 15:l={state:"addedOrUnmodified",value:h};if(!i.has(j)){p.next=21;break}m=i.get(j);if(!(m.value!=null)){p.next=20;break}return p.abrupt("return");case 20:l.state="upserted";case 21:f(void 0,l.value),i.set(j,l);case 23:case"end":return p.stop()}},null,this)},"delete":function(a){var c,g;return b("nativePromiseRegeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:if(!u){h.next=2;break}throw new n();case 2:c=w(d);if(!r[d].length){h.next=9;break}h.next=6;return b("nativePromiseRegeneratorRuntime").awrap(A.table(d).get(a));case 6:h.t0=h.sent;h.next=10;break;case 9:h.t0=e(a);case 10:g=h.t0,f(g,void 0),c.set(a,{state:"deleted",value:void 0},g);case 13:case"end":return h.stop()}},null,this)},upsert:function(a,c){var g,j,k;return b("nativePromiseRegeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:if(!u){l.next=2;break}throw new n();case 2:g=w(d);j=b("nullthrows")(q(d,c));if(!r[d].length){l.next=10;break}l.next=7;return b("nativePromiseRegeneratorRuntime").awrap(A.table(d).get(a));case 7:l.t0=l.sent;l.next=11;break;case 10:l.t0=e(a);case 11:k=l.t0;if(i(a,j)){l.next=16;break}l.next=15;return b("nativePromiseRegeneratorRuntime").awrap(h(a,j));case 15:g.set(a,{state:"deleted",value:void 0},k);case 16:l.next=18;return b("nativePromiseRegeneratorRuntime").awrap(x(d,j,c));case 18:if(l.sent){l.next=21;break}s();throw new Error("Unique constraint violation");case 21:f(k,c),g.set(j,{state:"upserted",value:c},k);case 23:case"end":return l.stop()}},null,this)},entries:function(b,c,e){c===void 0&&(c="asc");e===void 0&&(e={});if(u)throw new n();return z(a.table(d).entries(b,c,e),w(d).entities.entries(babelHelpers["extends"]({},e,{dir:c})),d,"asc")},subscribe:function(a){return p.subscribeTable(d,a)},peekNextAutoIncrementId:function(){return b("nativePromiseRegeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",w(d).nextAutoIncrementId());case 1:case"end":return a.stop()}},null,this)},index:function(e){return{getKey:function(a){var c;return b("nativePromiseRegeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(!u){f.next=2;break}throw new n();case 2:f.next=4;return b("nativePromiseRegeneratorRuntime").awrap(A.table(d).index(e).get(a));case 4:c=f.sent;return f.abrupt("return",c==null?void 0:q(d,c));case 6:case"end":return f.stop()}},null,this)},get:function(f){var h,i,j,k,l,m;return b("nativePromiseRegeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:if(!u){p.next=2;break}throw new n();case 2:h=w(d);i=h.indexes[e];i!=null||g(0,19687);j=o.tableNames[d].indexes[e].unique;if(!j){p.next=24;break}if(i.has(f)){p.next=15;break}p.next=10;return b("nativePromiseRegeneratorRuntime").awrap(a.table(d).index(e).get(f));case 10:k=p.sent;if(!(k==null)){p.next=14;break}i.set(f,void 0);return p.abrupt("return",void 0);case 14:h.set(b("nullthrows")(q(d,k)),{state:"unmodified",value:k});case 15:l=i.get(f);if(!(l==null)){p.next=18;break}return p.abrupt("return",void 0);case 18:p.next=20;return b("nativePromiseRegeneratorRuntime").awrap(y(d,l));case 20:m=p.sent.value;if(!(m==null||c(q(d,m,e),f)!==0)){p.next=23;break}return p.abrupt("return",void 0);case 23:return p.abrupt("return",m);case 24:g(0,19850);case 25:case"end":return p.stop()}},null,this)},entries:function(b,c,f){c===void 0&&(c="asc");f===void 0&&(f={});if(u)throw new n();return z(a.table(d).index(e).entries(b,c,f),w(d).indexes[e].entries(babelHelpers["extends"]({},f,{dir:c})),d,c)},subscribe:function(a){return p.subscribeIndex(d,e,a)}}}}}};return new Promise(function(c,e){m=m.then(function(){var f;return b("nativePromiseRegeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.prev=0;g.next=3;return b("nativePromiseRegeneratorRuntime").awrap(Promise.race([d(A),t]));case 3:f=g.sent;g.next=6;return b("nativePromiseRegeneratorRuntime").awrap(a.flushWrites(j));case 6:c(f);g.next=12;break;case 9:g.prev=9,g.t0=g["catch"](0),e(g.t0);case 12:g.prev=12;u=!0;p.dispose();return g.finish(12);case 16:case"end":return g.stop()}},null,this,[[0,9,12,16]])})})};e.exports.TransactionClosedError=n}),null);
__d("ReadThroughBatchedTransaction.bs",["IndexedDbKeyComparer","ReadThroughBatchedTransaction"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReadThroughBatchedTransaction")(a,b("IndexedDbKeyComparer"),c,function(){switch(d){case-240492574:return"readonly";case 557889961:return"readwrite"}}())}f.runInTransaction=a}),null);
__d("LSFireForgetLabel.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1];c=[0,2];d=[0,3];e=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,99];f.test=a;f.presence_report=b;f.availability_settings=c;f.typing=d;f.live_location_deprecated=e;f.live_location=g;f.mark_folder_seen=h;f.secure_template_client_event=i;f.debug_log_datascript_internal_use=j}),null);
__d("SkytaleDBContext.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(void 0);f.context=c}),null);
__d("SkytaleDBHook.bs",["React","SkytaleDBContext.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.useContext(b("SkytaleDBContext.bs").context)}f.useHook=a}),null);
__d("MWLSReportPresence.bs",["LS.bs","React","LSDict","LSJson","promiseDone","SkytaleDBHook.bs","LSFireForgetLabel.bs","ReadThroughBatchedTransaction.bs","LSCoreIssueNewFireAndForgetTaskStoredProcedure"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(0);return g.useCallback(function(d){d=b("ReadThroughBatchedTransaction.bs").runInTransaction(c,function(c){return b("LSCoreIssueNewFireAndForgetTaskStoredProcedure")(b("LS.bs").make(c),"presence",b("LSFireForgetLabel.bs").presence_report,b("LSJson").stringify(new(b("LSDict"))([["app_state",a]])))},557889961);b("promiseDone")(d,void 0,void 0);return 0},[c,a])}f.useReportPresence=a}),null);
__d("MWUIReportPresence.bs",["LSAppState.bs","MWLSReportPresence.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("MWLSReportPresence.bs").useReportPresence(b("LSAppState.bs").foreground)}function c(a){return b("MWLSReportPresence.bs").useReportPresence(b("LSAppState.bs").background)}f.useReportForeground=a;f.useReportBackground=c}),null);
__d("MWUIPresenceManager.bs",["Run","bs_curry","Event","React","MWUIReportPresence.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=g.useRef(0),d=b("MWUIReportPresence.bs").useReportForeground(0),e=b("MWUIReportPresence.bs").useReportBackground(0);g.useEffect(function(){b("bs_curry")._1(d,0);var a=b("Event").listen(window,"focus",function(a){a=c.current;if(a){b("bs_curry")._1(d,0);c.current=0;return 0}else return 0}),f=b("Event").listen(window,"blur",function(a){a=c.current;if(a)return 0;else{b("bs_curry")._1(e,0);c.current=1;return 0}}),g=b("Run").onBeforeUnload(e,!1);return function(b){a.remove();f.remove();return g.remove()}},[d,e]);return 0}f.useWatchFocusChanges=a}),null);
__d("MWUISendFileMessage.bs",["requireCond","cr:1451092"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1451092").useSendFileMessage;f.$MWLSSendFileMessage$OR$MWMSSendAttachments$requireCond=b("cr:1451092");f.useSendFileMessage=a}),null);
__d("MWUISendGifMessage.bs",["requireCond","cr:1429241"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1429241").useSendGifMessage;f.$MWLSSendGifMessage$OR$MWMSSendGIFMessage$requireCond=b("cr:1429241");f.useSendGifMessage=a}),null);
__d("MWUISendOrRemoveReaction.bs",["requireCond","cr:1444891"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1444891").useSendOrRemoveReaction;f.$MWLSSendOrRemoveReaction$OR$MWMSSendOrRemoveReaction$requireCond=b("cr:1444891");f.useSendOrRemoveReaction=a}),null);
__d("MWUISendStickerMessage.bs",["requireCond","cr:1429242"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1429242").useSendStickerMessage;f.$MWLSSendStickerMessage$OR$MWMSSendStickerMessage$requireCond=b("cr:1429242");f.useSendStickerMessage=a}),null);
__d("MWUISendTextMessage.bs",["requireCond","cr:1429243"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1429243").useSendTextMessage;f.$MWLSSendTextMessage$OR$MWMSSendTextMessage$requireCond=b("cr:1429243");f.useSendTextMessage=a}),null);
__d("MWUIThreadCapabilities.bs",["requireCond","cr:1463902"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1463902")).useCapabilities;d=a.canSendGif;e=a.canSendPayment;f.$MWLSThreadCapabilities$OR$MWMSThreadCapabilities$requireCond=a;f.useCapabilities=c;f.canSendGif=d;f.canSendPayment=e}),null);
__d("LSMailboxType.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1024];c=[0,2048];d=[0,2049];f.messenger=a;f.tincan=b;f.whatsapp_phone=c;f.whatsapp_interop=d}),null);
__d("LSMessageReplySourceType.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1];c=[0,2];f.none=a;f.message=b;f.story=c}),null);
__d("LSMessageReplySourceTypeV2.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1];c=[0,2];d=[0,3];e=[0,4];var g=[0,5];f.none=a;f.message=b;f.story=c;f.forward=d;f.fb_story_share=e;f.ig_story_share=g}),null);
__d("LSMessagingThreadAttributionType.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1];c=[0,2];d=[0,65536];e=[0,65537];var g=[0,65538],h=[0,65539],i=[0,65540],j=[0,65541],k=[0,65542],l=[0,65543],m=[0,131072],n=[0,131073],o=[0,131074],p=[0,131075],q=[0,196608],r=[0,196609],s=[0,196610],t=[0,196611],u=[0,196612],v=[0,262144],w=[0,262145],x=[0,262146],y=[0,327680],z=[0,327681],A=[0,327682],B=[0,393216],C=[0,393217],D=[0,393218],E=[0,393219],F=[0,393220],G=[0,458752],H=[0,458753],I=[0,458754],J=[0,524288],K=[0,524289],L=[0,524290],M=[0,524291],N=[0,589824],O=[0,589825],P=[0,589826],Q=[0,589827],R=[0,655360],S=[0,655361],T=[0,720896],U=[0,720897],V=[0,786432],W=[0,786433],X=[0,786434],Y=[0,786435],Z=[0,786436],$=[0,851968],aa=[0,851969],ba=[0,851970],ca=[0,917504],da=[0,917505],ea=[0,917506],fa=[0,917507],ga=[0,983040],ha=[0,1048576],ia=[0,1048577],ja=[0,1114112],ka=[0,1114113],la=[0,1114114],ma=[0,1114115],na=[0,1114116],oa=[0,1114117],pa=[0,1114118],qa=[0,1179648],ra=[0,1245184],sa=[0,1245185],ta=[0,1310720],ua=[0,1310721],va=[0,1310722],wa=[0,1310723],xa=[0,1310724],ya=[0,1310725],za=[0,1310726],Aa=[0,1310727],Ba=[0,1310728],Ca=[0,1376256],Da=[0,1376257],Ea=[0,1376258],Fa=[0,1441792],Ga=[0,1507328],Ha=[0,1507329],Ia=[0,1507330],Ja=[0,1572864],Ka=[0,1572865],La=[0,1572866],Ma=[0,1572867];f.unknown=a;f.unknown_test=b;f.unknown_failure_retry=c;f.messenger_inbox=d;f.messenger_inbox_in_thread=e;f.messenger_inbox_thread_list=g;f.messenger_inbox_nested_folder=h;f.messenger_inbox_recent_threads=i;f.messenger_inbox_remaining_threads=j;f.messenger_inbox_message_search=k;f.messenger_inbox_image_sending=l;f.messenger_universal_search=m;f.messenger_universal_search_null_state=n;f.messenger_universal_search_key_pressed=o;f.messenger_universal_search_message_search=p;f.montage_and_active_now=q;f.montage_and_active_now_montage_inbox_unit=r;f.montage_and_active_now_active_now=s;f.montage_and_active_now_inbox_composer=t;f.montage_and_active_now_active_and_has_story=u;f.messenger_active_now_friends_tab=v;f.messenger_active_now_friends_tab_friends_tab=w;f.messenger_active_now_friends_tab_place_holder=x;f.messenger_pending_requests=y;f.messenger_pending_requests_inbox_thread_list=z;f.messenger_pending_requests_pending_requests_page=A;f.messenger_broadcast_flow=B;f.messenger_broadcast_flow_from_messenger=C;f.messenger_broadcast_flow_from_fb=D;f.messenger_broadcast_flow_from_external=E;f.messenger_broadcast_flow_from_fb__newsfeed_sharesheet=F;f.messenger_omnipicker=G;f.messenger_omnipicker_null_state=H;f.messenger_omnipicker_key_pressed=I;f.messenger_notification=J;f.messenger_notification_in_thread_reply=K;f.messenger_notification_longpress_reply=L;f.messenger_notification_longpress_reaction=M;f.click_to_messenger_ad=N;f.click_to_messenger_ad_from_newsfeed=O;f.click_to_messenger_ad_send_message_cta=P;f.click_to_messenger_ad_view_and_message=Q;f.payments=R;f.payments_bubble_click=S;f.rtc=T;f.rtc_voip_incall=U;f.fb_page=V;f.fb_page_about_card=W;f.fb_page_profile_header_message_button=X;f.fb_page_profile_footer_message_button=Y;f.fb_page_profile_more_drawer=Z;f.fb_profile=$;f.fb_profile_timeline_message_button=aa;f.fb_profile_facebook_profile=ba;f.fb_search=ca;f.fb_search_contextual_profile_action_bar_from_search=da;f.fb_search_search_message_button=ea;f.fb_search_fb_message_search_results=fa;f.crypto=ga;f.messenger_montage_composer=ha;f.messenger_montage_composer_friends_tab=ia;f.messenger_montage_reply=ja;f.messenger_montage_reply_inbox_thread_list_profile=ka;f.messenger_montage_reply_reply_context=la;f.messenger_montage_reply_thread_nav_bar=ma;f.messenger_montage_reply_inbox_thread_list_profile_author_profile=na;f.messenger_montage_reply_reply_context_author_profile=oa;f.messenger_montage_reply_thread_nav_bar_author_profile=pa;f.messenger_thread_members_list=qa;f.marketplace=ra;f.marketplace_activity_banner=sa;f.fb_story=ta;f.fb_story_viewer_sheet_menu=ua;f.fb_story_viewer_sheet_row=va;f.fb_story_stories_jewel_notification=wa;f.fb_story_stories_push_notification=xa;f.fb_story_stories_viewer_consumer_reply=ya;f.fb_story_stories_viewer_consumer_artifact=za;f.fb_story_stories_page_story_conversations=Aa;f.fb_story_social_context_conversations=Ba;f.workspeed=Ca;f.workspeed_composer_like_button=Da;f.workspeed_composer_gif_picker=Ea;f.mdotme=Fa;f.messaging_plugin=Ga;f.messaging_plugin_mobile_redirect=Ha;f.messaging_plugin_upgrade_flow=Ia;f.fb_feed=Ja;f.fb_feed_organic_post=Ka;f.fb_feed_organic_post_view_and_message=La;f.fb_feed_question_triggered_convo=Ma}),null);
__d("MWChatBusinessQuickReply.bs",["bs_curry","React","stylex","bs_caml_option","CometImage.react","TetraTextPairing.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{alignItems:"bp9cbjyn",backgroundColor:"nred35xi",borderTop:"pmh9v2dz",borderEnd:"do122s91",borderBottom:"gvgeiihk",borderStart:"fntpfh0s",borderTopStartRadius:"emml16de",borderTopEndRadius:"gmcszhul",borderBottomEndRadius:"ols5edhi",borderBottomStartRadius:"gob819ct",boxShadow:"rm35z8s5",boxSizing:"rq0escxv",cursor:"nhd2j8a9",fontFamily:"ihxqhq3m",fontWeight:"ekzkrbhg",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"oi9244e8",marginBottom:"dicw6rsg",marginStart:"h676nmdw",overflowWrap:"jm1wdb64",paddingBottom:"osnr6wyh",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",paddingTop:"jktsbyx5",textAlign:"hzawbc8m",wordBreak:"qv66sw1b"},image:{borderTopStartRadius:"ocebsr1h",borderTopEndRadius:"cur7e4n5",borderBottomEndRadius:"nr3idzxk",borderBottomStartRadius:"gsapk3bl","float":"bzsjyuwj",height:"mihw7u13",marginTop:"irj2b8pg",marginEnd:"qq4y78aw",marginBottom:"ew0dbk1b",marginStart:"lq239pai",width:"rgehdy3i"}};function a(a){var c=a.bodyLineLimit,d=a.onClick,e=a.text;a=a.imageUrl;c=c!==void 0?c:1;a=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;return h.jsxs("button",{children:[a!==void 0?h.jsx(b("CometImage.react"),{className:(g||(g=b("stylex")))(i.image),src:a}):null,h.jsx(b("TetraTextPairing.react"),{body:e,level:3,bodyLineLimit:c})],className:(g||(g=b("stylex")))(i.root),onClick:function(a){return b("bs_curry")._1(d,0)}})}c=32;d=a;f.mediumHeight=c;f.styles=i;f.make=d}),null);
__d("MWChatBusinessQuickReplyText.bs",["bs_curry","React","bs_caml_option","MWChatBusinessQuickReply.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.onSend,d=a.quickReply;a=function(a){return b("bs_curry")._1(c,d)};var e=d.image_url;return g.jsx("div",{children:g.jsx(b("MWChatBusinessQuickReply.bs").make,{onClick:a,text:d.title,imageUrl:e!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(e)):void 0})})}c=a;f.make=c}),null);
__d("MWChatUserBirthdayQuery",["CometRelay","promiseDone","MWChatUserBirthdayQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometRelay").fetchQuery;b("CometRelay").graphql;var i=b("CometRelay").useRelayEnvironment,j="en-US";function k(a,b,c,d){c=new Date(c,b-1,a);return c.toLocaleDateString(d,{day:"numeric",month:"numeric",year:"numeric"})}a=function(){var a=i();return function(c){var d=h(a,l,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.birthdate;if(a){var b=a==null?void 0:a.day,d=a==null?void 0:a.month;a=a==null?void 0:a.year;b&&d&&a&&c(k(b,d,a,j))}});b("promiseDone")(d)}};var l=g!==void 0?g:g=b("MWChatUserBirthdayQuery.graphql");e.exports={useUserBirthdayDataQuery:a}}),null);
__d("MWChatBusinessQuickReplyUserBirthday.bs",["bs_curry","React","MWChatUserBirthdayQuery","MWChatBusinessQuickReply.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.onSend,d=a.quickReply;a=a.userID;var e=b("MWChatUserBirthdayQuery").useUserBirthdayDataQuery(),f=g.useState(function(){return}),h=f[1];f=f[0];g.useEffect(function(){e(function(a){return b("bs_curry")._1(h,function(b){return a})});return},[a,e,h]);if(f!==void 0){a=f;f=d.content_type;var i=d.data,j=d.image_url;d=d.payload;var k={content_type:f,data:i,image_url:j,payload:d,title:a};f=function(a){return b("bs_curry")._1(c,k)};return g.jsx(b("MWChatBusinessQuickReply.bs").make,{onClick:f,text:a})}else return null}c=a;f.make=c}),null);
__d("MWChatUserEmailQuery",["CometRelay","promiseDone","MWChatUserEmailQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometRelay").fetchQuery;b("CometRelay").graphql;var i=b("CometRelay").useRelayEnvironment;a=function(){var a=i();return function(c){var d=h(a,j,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.all_emails;if(a&&a.length>0){var b=a.find(function(a){return a.is_primary});b!=null?c(b.display_email):c(a[0].display_email)}});b("promiseDone")(d)}};var j=g!==void 0?g:g=b("MWChatUserEmailQuery.graphql");e.exports={useUserEmailDataQuery:a}}),null);
__d("MWChatBusinessQuickReplyUserEmail.bs",["bs_curry","React","MWChatUserEmailQuery","MWChatBusinessQuickReply.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.onSend,d=a.quickReply;a=a.userID;var e=b("MWChatUserEmailQuery").useUserEmailDataQuery(),f=g.useState(function(){return}),h=f[1];f=f[0];g.useEffect(function(){e(function(a){return b("bs_curry")._1(h,function(b){return a})});return},[a,e,h]);if(f!==void 0){a=f;f=d.content_type;var i=d.data,j=d.image_url;d=d.payload;var k={content_type:f,data:i,image_url:j,payload:d,title:a};f=function(a){return b("bs_curry")._1(c,k)};return g.jsx(b("MWChatBusinessQuickReply.bs").make,{onClick:f,text:a})}else return null}c=a;f.make=c}),null);
__d("MWChatUserPhoneNumberQuery",["CometRelay","promiseDone","MWChatUserPhoneNumberQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometRelay").fetchQuery;b("CometRelay").graphql;var i=b("CometRelay").useRelayEnvironment;a=function(){var a=i();return function(c){var d=h(a,j,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.all_phones;if(a&&a.length>0){var b=a.find(function(a){return a.is_preferred});if(b!=null){c((b=b.phone_number)==null?void 0:b.universal_number)}else{c((b=a[0].phone_number)==null?void 0:b.universal_number)}}});b("promiseDone")(d)}};var j=g!==void 0?g:g=b("MWChatUserPhoneNumberQuery.graphql");e.exports={useUserPhoneNumberDataQuery:a}}),null);
__d("MWChatBusinessQuickReplyUserPhoneNumber.bs",["bs_curry","React","MWChatBusinessQuickReply.bs","MWChatUserPhoneNumberQuery"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.onSend,d=a.quickReply;a=a.userID;var e=b("MWChatUserPhoneNumberQuery").useUserPhoneNumberDataQuery(),f=g.useState(function(){return}),h=f[1];f=f[0];g.useEffect(function(){e(function(a){return b("bs_curry")._1(h,function(b){return a})});return},[a,e,h]);if(f!==void 0){a=f;f=d.content_type;var i=d.data,j=d.image_url;d=d.payload;var k={content_type:f,data:i,image_url:j,payload:d,title:a};f=function(a){return b("bs_curry")._1(c,k)};return g.jsx(b("MWChatBusinessQuickReply.bs").make,{onClick:f,text:a})}else return null}c=a;f.make=c}),null);
__d("MWChatUserProfileLocationQuery",["CometRelay","gkx","promiseDone","MWChatUserProfileLocationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometRelay").fetchQuery;b("CometRelay").graphql;var i=b("CometRelay").useRelayEnvironment,j=1,k=function(a){a=a.split(",");if(a.length>j)return a[j]};a=function(){var a=i();return function(c){var d=h(a,l,{}).toPromise().then(function(a){if(b("gkx")("1173731")){var d;d=a==null?void 0:(d=a.viewer.user.address)==null?void 0:d.region;d!=null&&d!==""&&c(d)}else{d=a==null?void 0:a.viewer.user.address;a=d==null?void 0:d.city;a&&c(k(a))}});b("promiseDone")(d)}};c=function(){var a=i();return function(c){var d=h(a,l,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.address;a=a==null?void 0:a.postal_code;a&&c(a)});b("promiseDone")(d)}};var l=g!==void 0?g:g=b("MWChatUserProfileLocationQuery.graphql");e.exports={useUserProfileStateDataQuery:a,useUserProfileZipCodeDataQuery:c}}),null);
__d("MWChatBusinessQuickReplyUserState.bs",["bs_curry","React","MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.onSend,d=a.quickReply;a=a.userID;var e=b("MWChatUserProfileLocationQuery").useUserProfileStateDataQuery(),f=g.useState(function(){return}),h=f[1];f=f[0];g.useEffect(function(){e(function(a){return b("bs_curry")._1(h,function(b){return a})});return},[a,e,h]);if(f!==void 0){a=f;f=d.content_type;var i=d.data,j=d.image_url;d=d.payload;var k={content_type:f,data:i,image_url:j,payload:d,title:a};f=function(a){return b("bs_curry")._1(c,k)};return g.jsx(b("MWChatBusinessQuickReply.bs").make,{onClick:f,text:a})}else return null}c=a;f.make=c}),null);
__d("MWChatBusinessQuickReplyUserZipCode.bs",["bs_curry","React","MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.onSend,d=a.quickReply;a=a.userID;var e=b("MWChatUserProfileLocationQuery").useUserProfileZipCodeDataQuery(),f=g.useState(function(){return}),h=f[1];f=f[0];g.useEffect(function(){e(function(a){return b("bs_curry")._1(h,function(b){return a})});return},[a,e,h]);if(f!==void 0){a=f;f=d.content_type;var i=d.data,j=d.image_url;d=d.payload;var k={content_type:f,data:i,image_url:j,payload:d,title:a};f=function(a){return b("bs_curry")._1(c,k)};return g.jsx(b("MWChatBusinessQuickReply.bs").make,{onClick:f,text:a})}else return null}c=a;f.make=c}),null);
__d("MWChatBusinessQuickReplyList.bs",["React","stylex","CurrentUser","MWChatTheme.bs","MessengerWebEvent","MWChatBusinessQuickReplyText.bs","MessengerWebStgTypedLoggerLite","MWChatBusinessQuickReplyUserEmail.bs","MWChatBusinessQuickReplyUserState.bs","MWChatBusinessQuickReplyUserZipCode.bs","MWChatBusinessQuickReplyUserBirthday.bs","MWChatBusinessQuickReplyUserPhoneNumber.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={mask:{backgroundColor:"nred35xi"},container:{position:"l9j0dhe7",width:"k4urcfbm"},pillContainer:{backgroundColor:"nred35xi",display:"j83agx80",flexDirection:"btwxx1t3",flexWrap:"owycx6da",overflowX:"eljz3tee",paddingTop:"jwdofwj8",paddingEnd:"dflh9lhu",paddingBottom:"osnr6wyh",paddingStart:"scb9dxdr"}};function a(a){var c=a.arrayQR,d=a.onSend,e=a.id;a=b("MWChatTheme.bs").useTheme(0);h.useEffect(function(){b("MessengerWebStgTypedLoggerLite").log({event_name:b("MessengerWebEvent").RENDER_QUICK_REPLIES,other_user_fbid:e});return},[e]);return h.jsx("div",{children:h.jsx("div",{children:c.map(function(a,c){var e=b("CurrentUser").getID(),f=a.content_type;switch(f){case"text":return h.jsx(b("MWChatBusinessQuickReplyText.bs").make,{onSend:d,quickReply:a},String(c));case"user_birthday":return h.jsx(b("MWChatBusinessQuickReplyUserBirthday.bs").make,{onSend:d,quickReply:a,userID:e},String(c));case"user_email":return h.jsx(b("MWChatBusinessQuickReplyUserEmail.bs").make,{onSend:d,quickReply:a,userID:e},String(c));case"user_phone_number":return h.jsx(b("MWChatBusinessQuickReplyUserPhoneNumber.bs").make,{onSend:d,quickReply:a,userID:e},String(c));case"user_state":return h.jsx(b("MWChatBusinessQuickReplyUserState.bs").make,{onSend:d,quickReply:a,userID:e},String(c));case"user_zip_code":return h.jsx(b("MWChatBusinessQuickReplyUserZipCode.bs").make,{onSend:d,quickReply:a,userID:e},String(c));default:return null}}),className:(g||(g=b("stylex")))(i.pillContainer)}),className:g(i.container,b("MWChatTheme.bs").isGradient(a)?i.mask:!1)})}c=a;f.styles=i;f.make=c}),null);
__d("MWLSActor.bs",["Actor","React","bs_caml_format"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=b("Actor").useActor();var c=a[0];return g.useMemo(function(){return b("bs_caml_format").caml_int64_of_string(c)},[c])}f.useActor=a}),null);
__d("SkytaleDBQuerySubscriptionHook.bs",["bs_block","bs_curry","React","BPlusTree","bs_belt_Array","LSSuspense.bs","bs_belt_Option","SkytaleDBHook.bs","PromiseOrValue.bs","SkytaleDBQuery.bs","SortedAsyncIterable.bs","IndexedDbKeyComparer"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=b("BPlusTree")(b("IndexedDbKeyComparer")),d=b("SortedAsyncIterable.bs").iterator(a);a=function(a){return b("PromiseOrValue.bs").loop(function(a){return b("PromiseOrValue.bs").map(d.next(void 0),function(a){if(a.done)return b("bs_block").__(0,[c]);else{a=b("bs_belt_Option").getExn(a.value);c.set(a[0],a[1]);return b("bs_block").__(1,[0])}})},a)};a=a(0);if(a.tag)return a[0];else return b("LSSuspense.bs").$$throw(a[0])}function i(a){var c=g.useState(function(){return 1}),d=c[1],e=g.useMemo(function(){return h(a)},[a]),f=g.useRef(!1),i=b("SkytaleDBHook.bs").useHook(0);g.useEffect(function(){var c=b("SortedAsyncIterable.bs").subscribe(a,function(a,b){typeof b==="number"?e["delete"](a):e.set(a,b[0]);f.current=!0;return 0}),g=i.subscribeToCommit(function(a){if(f.current){f.current=!1;return b("bs_curry")._1(d,function(a){return a+1|0})}else return 0});try{b("SortedAsyncIterable.bs").toArray(a)}catch(a){}return function(a){b("bs_curry")._1(g,0);return b("bs_curry")._1(c,0)}},[a,i,f]);return Array.from(e.entries()).map(function(a){return a[1]})}function j(a){var c=g.useMemo(function(){return b("SkytaleDBQuery.bs").take(a,1)},[a]);return b("bs_belt_Array").get(i(c),0)}function a(a){return b("bs_belt_Option").getExn(j(a))}f.toBPlusTree=h;f.useArray=i;f.useFirst=j;f.useFirstExn=a}),null);
__d("MWLSQuickReplies.bs",["Promise","LS.bs","FBID.bs","bs_curry","bs_int64","React","MWLSActor.bs","SkytaleDB","bs_pervasives","bs_belt_Option","bs_caml_format","bs_caml_option","promiseDone","SkytaleDB.bs","LSMailboxType.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","MWCurrentThread.bs","bs_js_null_undefined","MessagingThreadType.bs","LSMailboxMessagesTable.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMailboxQuickReplyCtasTable.bs","MWChatBusinessQuickReplyList.bs","ReadThroughBatchedTransaction.bs","SkytaleDBQuerySubscriptionHook.bs","LSMessagingThreadAttributionType.bs","LSMailboxOptimisticSendMessageStoredProcedure"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=a.lastMessageId,d=b("SkytaleDBHook.bs").useHook(0);a=b("MWCurrentThread.bs").useCurrentThreadExn(0);var e=b("MWCurrentThread.bs").toThreadKey(a),f=b("MWLSActor.bs").useActor(0);a=b("SkytaleDBQuerySubscriptionHook.bs").useArray(g.useMemo(function(){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(d,b("LSMailboxQuickReplyCtasTable.bs").tableName).entries("asc"),b("bs_curry")._2(b("LSMailboxQuickReplyCtasTable.bs").PrimaryKey.$percent$great,function(a){return b("SkytaleDB.bs").addKey(e,a)},function(a){return b("SkytaleDB.bs").addKey(c,a)})),function(a){var c=a.g,d;switch(c){case"quick_reply_email":d="user_email";break;case"quick_reply_phone":d="user_phone_number";break;case"quick_reply_text":d="text";break;default:d=b("bs_pervasives").failwith("Unexpeced quick-reply type")}return{content_type:d,data:void 0,image_url:b("bs_caml_option").some(b("bs_js_null_undefined").fromOption(a.f)),payload:b("bs_caml_option").some(a.h),title:a.e}})},[d,c,e]));if(a.length>0)return g.jsx(b("MWChatBusinessQuickReplyList.bs").make,{arrayQR:a,onSend:function(a){var c=b("ReadThroughBatchedTransaction.bs").runInTransaction(d,function(c){var d=a.payload;if(d!==void 0){d=b("bs_caml_option").valFromOption(d);var g=d==null?void 0:b("bs_caml_option").some(d);d=d==null?void 0:g}else d=void 0;return b("LSMailboxOptimisticSendMessageStoredProcedure")(b("LS.bs").make(c),f,e,b("MessagingThreadType.bs").one_to_one,b("LSMailboxType.bs").messenger,a.title,void 0,!1,void 0,void 0,void 0,b("LSMessagingThreadAttributionType.bs").unknown,void 0,d,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,!0,!1).then(function(a){return b("Promise").resolve(a)})},557889961);b("promiseDone")(c,void 0,void 0);return 0},id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(f))});else return null}function a(a){var c=b("SkytaleDBHook.bs").useHook(0);a=b("MWCurrentThread.bs").toThreadKey(b("MWCurrentThread.bs").useCurrentThreadExn(0));var d=b("bs_int64").to_string(a);a=b("bs_belt_Option").getWithDefault(b("SkytaleDBQuerySubscriptionHook.bs").useFirst(g.useMemo(function(){var a=b("bs_caml_format").caml_int64_of_string(d);return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(c,b("LSMailboxMessagesTable.bs").tableName).entries("desc"),function(c){return b("SkytaleDB.bs").addKey(a,c)}),function(a){var b=a.e;a=a.J;return[a,b]})},[c,d])),[!1,""]);if(a[0])return g.jsx(h,{lastMessageId:a[1]});else return null}c=a;f.make=c}),null);
__d("LSRequestType.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,1];b=[0,2];c=[0,3];d=[0,4];f.init_sync=a;f.resume_sync=b;f.task_batch=c;f.fire_forget=d}),null);
__d("LSWebReq.bs",["bs_curry","bs_js_exn","bs_caml_int64","FBMqttChannel","LSRequestType.bs","bs_caml_js_exceptions","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g={contents:0},h=new Map();function i(a){if(a!==void 0){a=a;var b=h.get(a);if(b==null)return 0;else{h["delete"](a);return 0}}else return 0}function a(a,c,d){var e=g.contents;g.contents=e+1|0;d=JSON.stringify({request_id:e,type:b("bs_caml_int64").to_int32(c),payload:d,device_id:a});if(d!==void 0){a=JSON.stringify({app_id:window.location.hostname.indexOf("facebook.com")!==-1?"139559640681096":"288869192086753",payload:d});a!==void 0?b("FBMqttChannel").publish("/ls_web_req",a):b("recoverableViolation")("Failed to json encode payload","messenger_comet")}else b("recoverableViolation")("Failed to json encode payload","messenger_comet");if(b("bs_caml_int64").eq(c,b("LSRequestType.bs").task_batch)){h.set(e,Date.now());return 0}else return 0}function c(a){return b("FBMqttChannel").subscribe("/ls_web_resp",function(c){try{c=JSON.parse(c);i(c.request_id);return b("bs_curry")._1(a,c.payload)}catch(a){c=b("bs_caml_js_exceptions").internalToOCamlException(a);if(c[0]===b("bs_js_exn").$$Error){b("recoverableViolation")("Failed to parse Task Response","messenger_privacy_web");return 0}else throw c}})}f.publish=a;f.subscribe=c}),null);
__d("MPWDeviceId.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=g.createContext("");function a(a){var b=a.deviceId;a=a.children;return g.createElement(h.Provider,{value:b,children:a})}function c(a){return g.useContext(h)}d=a;f.context=h;f.make=d;f.useHook=c}),null);
__d("MPWLSVersion.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=g.createContext(void 0);function a(a){var b=a.schemaVersion;a=a.children;return g.createElement(h.Provider,{value:b,children:a})}function c(a){return g.useContext(h)}d=a;f.context=h;f.make=d;f.useHook=c}),null);
__d("MWLSSyncRequests.bs",["bs_curry","bs_int64","LSWebReq.bs","SkytaleDB","bs_caml_int64","setTimeout","bs_belt_Option","bs_caml_option","promiseDone","SkytaleDB.bs","LSRequestType.bs","SkytaleDBQuery.bs","recoverableViolation","LSCoreSyncGroupsTable.bs","LSCoreNetworkRequestsTable.bs","ReadThroughBatchedTransaction.bs"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d,e,f,g,h){var i=b("bs_caml_int64").eq(g,b("LSRequestType.bs").resume_sync);if(c===void 0&&i){b("recoverableViolation")("Empty cursor","messenger_comet");return 0}i=c!==void 0?JSON.stringify({database:b("bs_caml_int64").to_float(a),version:e,last_applied_cursor:b("bs_caml_option").valFromOption(c),sync_params:f,epoch_id:b("bs_int64").to_string(h)}):JSON.stringify({database:b("bs_caml_int64").to_float(a),version:e,sync_params:f,epoch_id:b("bs_int64").to_string(h)});if(i!==void 0)return b("LSWebReq.bs").publish(d,g,i);else return 0}function a(a,c,d){b("promiseDone")(b("ReadThroughBatchedTransaction.bs").runInTransaction(a,function(a){return b("SkytaleDBQuery.bs").toArray(b("SkytaleDB").table(a,b("LSCoreSyncGroupsTable.bs").tableName).entries("asc")).then(function(e){return e.reduce(function(e,f){return e.then(function(e){var h=f,i=h.a;return b("SkytaleDB").table(a,b("LSCoreNetworkRequestsTable.bs").tableName).get(b("bs_curry")._2(b("LSCoreNetworkRequestsTable.bs").PrimaryKey.$percent$great,function(a){return b("SkytaleDB.bs").addKey("",a)},function(a){return b("SkytaleDB.bs").addKey(i,a)})).then(function(e){e=b("bs_belt_Option").getExn(e);var f=b("bs_belt_Option").isNone(e.c);if(f){f=h.f;f=b("bs_caml_int64").to_float(f)!==0?b("bs_caml_int64").to_float(f)-Date.now():0;var i={contents:[-1,4294967295]};f=b("setTimeout")(function(a){a=h.d;a=a!==void 0?a:"{}";var e=h.b;e=e!==void 0?b("LSRequestType.bs").resume_sync:b("LSRequestType.bs").init_sync;return g(h.a,h.b,c,d,a,e,i.contents)},f);i.contents=b("bs_caml_int64").of_float(f);e.c=i.contents;return b("SkytaleDB").table(a,b("LSCoreNetworkRequestsTable.bs").tableName).put(e)}else return 0})})},window.Promise.resolve(0))})},557889961),void 0,void 0);return 0}f.doSync=g;f.executeSyncRequests=a}),null);
__d("MWLSInitialSync.bs",["Promise","bs_curry","SkytaleDB","bs_caml_int64","SkytaleDBQuery.bs","MWLSSyncRequests.bs","LSCoreNetworkRequestsTable.bs","ReadThroughBatchedTransaction.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=[10];return b("SkytaleDBQuery.bs").toArray(b("SkytaleDB").table(a,b("LSCoreNetworkRequestsTable.bs").tableName).entries("asc")).then(function(d){return b("Promise").all(d.map(function(d){d.c=c.indexOf(b("bs_caml_int64").to_int32(d.b))===-1?[-1,4294967295]:void 0;return b("SkytaleDB").table(a,b("LSCoreNetworkRequestsTable.bs").tableName).put(d)}))})}function a(a,c,d,e,f){return b("ReadThroughBatchedTransaction.bs").runInTransaction(c,g,557889961).then(function(c){return a.reduce(function(a,c){return a.then(function(a){return b("bs_curry")._1(f,c)})},b("Promise").resolve(void 0))}).then(function(a){b("MWLSSyncRequests.bs").executeSyncRequests(c,d,e);return function(a){return 0}})}f.resetEpoch=g;f.executeSyncScripts=a}),null);
__d("MqttState.bs",[],(function(a,b,c,d,e,f){"use strict";a="Connected";b="Disconnected";c="Connecting";f.connected=a;f.disconnected=b;f.connecting=c}),null);
__d("MWLSMQTTSync.bs",["Promise","bs_curry","LSWebReq.bs","MqttState.bs","SkytaleDB","promiseDone","FBMqttChannel","SkytaleDBQuery.bs","MWLSSyncRequests.bs","LSCoreNetworkRequestsTable.bs","ReadThroughBatchedTransaction.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){return b("SkytaleDBQuery.bs").toArray(b("SkytaleDB").table(a,b("LSCoreNetworkRequestsTable.bs").tableName).entries("asc")).then(function(c){return b("Promise").all(c.map(function(c){c.c=void 0;return b("SkytaleDB").table(a,b("LSCoreNetworkRequestsTable.bs").tableName).put(c)}))})}function a(a,c,d,e){var f=b("LSWebReq.bs").subscribe(function(f){b("promiseDone")(b("bs_curry")._1(e,f),function(e,f){return b("MWLSSyncRequests.bs").executeSyncRequests(a,c,d)},void 0);return 0}),h={onMQTTStateChanged:function(e){if(e===b("MqttState.bs").connected){b("promiseDone")(b("ReadThroughBatchedTransaction.bs").runInTransaction(a,g,557889961),function(e){return b("MWLSSyncRequests.bs").executeSyncRequests(a,c,d)},void 0);return 0}else return 0}};b("FBMqttChannel").subscribeChannelEvents(h);return function(){b("bs_curry")._1(f,0);b("FBMqttChannel").unsubscribeChannelEvents(h);return 0}}f.closeEpochs=g;f.start=a}),null);
__d("MWLSSyncParamsCookieWriter.bs",["bs_int64","React","Cookie","SkytaleDB","MPWDeviceId.bs","MPWLSVersion.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","recoverableViolation","LSCoreSyncGroupsTable.bs","SkytaleDBQuerySubscriptionHook.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a,c,d){try{cookieStore.set(c,encodeURIComponent(d),{domain:a});return 0}catch(a){b("Cookie").set(c,d);return 0}}function a(a){var c=b("MPWDeviceId.bs").useHook(0),d=b("MPWLSVersion.bs").useHook(0),e=b("SkytaleDBHook.bs").useHook(0),f=b("SkytaleDBQuerySubscriptionHook.bs").useArray(g.useMemo(function(){return b("SkytaleDBQuery.bs").map(b("SkytaleDB").table(e,b("LSCoreSyncGroupsTable.bs").tableName).entries("asc"),function(a){return[b("bs_int64").to_string(a.a),a.b]})},[e]));g.useEffect(function(){var a=f.reduce(function(b,a){b[a[0]]=a[1];return b},{});a=JSON.stringify({cursors:a,device_id:c,schema_version:d});a!==void 0?h(window.location.hostname,"m_ls",a):b("recoverableViolation")("Failed to serialize Cookie","messenger");return},[f,c,d]);return 0}f.writeCookie=h;f.useHook=a}),null);
__d("MWLSWatchFireAndForgetTasksTable.bs",["bs_curry","LSWebReq.bs","SkytaleDB","bs_caml_format","promiseDone","SkytaleDB.bs","LSRequestType.bs","SkytaleDBQuery.bs","SortedAsyncIterable.bs","recoverableViolation","ReadThroughBatchedTransaction.bs","LSCorePendingFireAndForgetTasksTable.bs"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){var e=d[1];e!==void 0?b("LSWebReq.bs").publish(c,b("LSRequestType.bs").fire_forget,e):b("recoverableViolation")("Encountered a fire and forget task that could not be translated into a web request. Ignore task and deleting it from database","messenger_privacy_web");return b("SkytaleDB").table(a,b("LSCorePendingFireAndForgetTasksTable.bs").tableName)["delete"](d[0])}function h(a,c){var d=c.d;d=d!==void 0?b("bs_caml_format").caml_int_of_string(d):(b("recoverableViolation")("Fire and forget task without label was inserted into the pending tasks table.","messenger_privacy_web"),void 0);a=d!==void 0?JSON.stringify({version:a,label:d,payload:c.c}):void 0;var e=c.a;d=function(a){return b("SkytaleDB.bs").addKey(e,a)};return[d,a]}function a(a,c,d){var e=b("SkytaleDBQuery.bs").map(b("SkytaleDB").table(d,b("LSCorePendingFireAndForgetTasksTable.bs").tableName).entries("asc"),function(a){return h(c,a)}),f=function(){var c=b("SortedAsyncIterable.bs").subscribe(e,function(c,e){if(typeof e==="number")return 0;else{var f=e[0];c=b("ReadThroughBatchedTransaction.bs").runInTransaction(d,function(b){return g(b,a,f)},557889961);b("promiseDone")(c,void 0,void 0);return 0}});return b("bs_curry")._1(c,0)},i=b("ReadThroughBatchedTransaction.bs").runInTransaction(d,function(c){return b("SkytaleDBQuery.bs").toArray(e).then(function(b){return window.Promise.all(b.map(function(b){return g(c,a,b)}))})},557889961);b("promiseDone")(i,void 0,void 0);return f}f.sendTask=g;f.createTask=h;f.start=a}),null);
__d("LSWriteLabel.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1];c=[0,2];d=[0,3];e=[0,5];var g=[0,6],h=[0,7],i=[0,8],j=[0,9],k=[0,10],l=[0,11],m=[0,12],n=[0,13],o=[0,14],p=[0,15],q=[0,17],r=[0,18],s=[0,19],t=[0,20],u=[0,21],v=[0,22],w=[0,23],x=[0,24],y=[0,25],z=[0,26],A=[0,27],B=[0,28],C=[0,29],D=[0,30],E=[0,31],F=[0,32],G=[0,33],H=[0,34],I=[0,35],J=[0,36],K=[0,37],L=[0,38],M=[0,39],N=[0,40],O=[0,41],P=[0,42],Q=[0,43],R=[0,44],S=[0,45],T=[0,46],U=[0,47],V=[0,49],W=[0,50],X=[0,51],Y=[0,52],Z=[0,53],$=[0,54],aa=[0,55],ba=[0,56],ca=[0,57],da=[0,58],ea=[0,59],fa=[0,60],ga=[0,61],ha=[0,62],ia=[0,63],ja=[0,65],ka=[0,66],la=[0,67],ma=[0,68],na=[0,69],oa=[0,70],pa=[0,71],qa=[0,72],ra=[0,73],sa=[0,74],ta=[0,75],ua=[0,76],va=[0,77],wa=[0,78],xa=[0,79],ya=[0,80],za=[0,81],Aa=[0,82],Ba=[0,83],Ca=[0,84],Da=[0,85],Ea=[0,86],Fa=[0,87],Ga=[0,88],Ha=[0,89],Ia=[0,90],Ja=[0,91],Ka=[0,92],La=[0,93],Ma=[0,94],Na=[0,95],Oa=[0,96],Pa=[0,97],Qa=[0,98],Ra=[0,99],Sa=[0,100],Ta=[0,101],Ua=[0,102],Va=[0,103],Wa=[0,104],Xa=[0,105],Ya=[0,106],Za=[0,107],$a=[0,108],ab=[0,109],bb=[0,110],cb=[0,111],db=[0,112],eb=[0,113],fb=[0,114],gb=[0,115],hb=[0,116],ib=[0,117],jb=[0,118],kb=[0,119],lb=[0,120],mb=[0,121],nb=[0,125],ob=[0,126],pb=[0,127],qb=[0,128],rb=[0,129],sb=[0,130],tb=[0,131],ub=[0,132],vb=[0,133],wb=[0,134],xb=[0,135],yb=[0,136],zb=[0,137],Ab=[0,138],Bb=[0,139],Cb=[0,140],Db=[0,141],Eb=[0,142],Fb=[0,143],Gb=[0,144],Hb=[0,145],Ib=[0,146],Jb=[0,147],Kb=[0,148],Lb=[0,149],Mb=[0,150],Nb=[0,151],Ob=[0,152],Pb=[0,153],Qb=[0,154],Rb=[0,155],Sb=[0,156],Tb=[0,157],Ub=[0,158],Vb=[0,159],Wb=[0,160],Xb=[0,161],Yb=[0,162],Zb=[0,163],$b=[0,164],ac=[0,165],bc=[0,166],cc=[0,167],dc=[0,168],ec=[0,169],fc=[0,170],gc=[0,171],hc=[0,172],ic=[0,173],jc=[0,174],kc=[0,175],lc=[0,176],mc=[0,177],nc=[0,178],oc=[0,179],pc=[0,180],qc=[0,181],rc=[0,182],sc=[0,183],tc=[0,184],uc=[0,185],vc=[0,186],wc=[0,187],xc=[0,188],yc=[0,189],zc=[0,190],Ac=[0,191],Bc=[0,10001],Cc=[0,10002],Dc=[0,10003],Ec=[0,10004],Fc=[0,10005],Gc=[0,10006],Hc=[0,10007],Ic=[0,10008],Jc=[0,10009],Kc=[0,10010],Lc=[0,10011],Mc=[0,10012],Nc=[0,10013],Oc=[0,10014],Pc=[0,10015],Qc=[0,10016],Rc=[0,20001],Sc=[0,20002],Tc=[0,20003],Uc=[0,20004],Vc=[0,20005],Wc=[0,20006],Xc=[0,20007],Yc=[0,20008],Zc=[0,20010],$c=[0,20011],ad=[0,20012],bd=[0,20013],cd=[0,30001],dd=[0,30002],ed=[0,40001];f.test=a;f.send_message=b;f.read_receipt=c;f.new_group_thread=d;f.thread_point_query=e;f.contact_point_query=g;f.archive_thread=h;f.mute_thread=i;f.delete_thread=j;f.block_message=k;f.delete_message=l;f.add_participant=m;f.remove_participant=n;f.messages_range_query=o;f.threads_range_query=p;f.participant_point_query=q;f.stories_mark_read=r;f.message_point_query=s;f.story_create=t;f.read_receipt_v2=u;f.frx_reporting_prompt_query=v;f.add_participant_v2=w;f.frx_submit_feedback=x;f.update_participant_admin_status=y;f.story_delete=z;f.respond_to_admin_approval_request=A;f.set_needs_admin_approval_for_new_participant=B;f.send_or_remove_reaction=C;f.search_query_primary=D;f.search_query_secondary=E;f.update_thread_name=F;f.unsend_message=G;f.gif_search_query=H;f.platform_extension_sdk_get_context=I;f.rtc_p2p_end_call=J;f.update_thread_image=K;f.story_ads_fetch=L;f.frx_send_report=M;f.inbox_ads_fetch=N;f.stories_preference_update=O;f.stories_participant_update=P;f.update_thread_theme_color=Q;f.update_thread_participant_nickname=R;f.payment_create=S;f.send_message_v2=T;f.pin_verification_request=U;f.mark_thread_unread=V;f.check_payment_eligibility_status=W;f.sponsored_message_ad_hide=X;f.forward_content_generate=Y;f.update_thread_custom_emoji=Z;f.insert_persistent_menu_ctas=$;f.payment_request_create=aa;f.payment_passcode_create=ba;f.payment_passcode_delete=ca;f.user_level_notification_settings_update=da;f.device_level_notification_settings_update=ea;f.ctm_ad_from_app=fa;f.send_typing_indicator=ga;f.contact_upload_update_settings=ha;f.insert_thread_nullstate_ctas=ia;f.ignore_message_request=ja;f.accept_message_request=ka;f.ads_send_ctm_welcome_message=la;f.process_account_unlink=ma;f.account_link_encoded_url_create=na;f.story_poll_vote=oa;f.story_point_query=pa;f.in_thread_banner_fetch=qa;f.in_thread_banner_execute_cta=ra;f.update_replies_on_unsend=sa;f.payment_request_decline=ta;f.story_reaction=ua;f.payment_risk_verification=va;f.messenger_only_change_name=wa;f.account_link_encoded_url_create_v2=xa;f.rtc_fetch_multiway_conference_name=ya;f.sticker_search=za;f.process_cta_account_unlink=Aa;f.integrity_check=Ba;f.booking_add_to_calendar=Ca;f.payment_passcode_change=Da;f.delete_thread_v2=Ea;f.messenger_only_change_password=Fa;f.payment_passcode_reset=Ga;f.fetch_owned_alohas=Ha;f.new_group_thread_v2=Ia;f.change_profile_pic=Ja;f.payment_paypal_link=Ka;f.payments_delete_credential=La;f.payment_set_default=Ma;f.payment_fetch_p2m_invoice_detail=Na;f.payment_add_card=Oa;f.payment_invalidate_new_payment_credential_options=Pa;f.pay_payment_request=Qa;f.paypal_load_funding_options=Ra;f.send_call_transfer_request=Sa;f.payment_fetch_p2m_invoice_status=Ta;f.payment_history_query=Ua;f.get_fbid_from_user_alias=Va;f.contact_upload_upload_contacts=Wa;f.attachments_range_query=Xa;f.send_phone_confirmation_code=Ya;f.message_search=Za;f.reset_message_window=$a;f.send_referral_event=ab;f.sticker_search_featured_tags=bb;f.query_payment_activity_view=cb;f.payment_charge=db;f.update_presence_viewable_settings=eb;f.cancel_payment_request=fb;f.cancel_payment_transfer=gb;f.payment_edit_card=hb;f.insert_persistent_menu_items=ib;f.query_payment_history=jb;f.verify_confirmation_code_and_confirm_phone=kb;f.decline_payment_transfer=lb;f.query_all_p2m_payment_methods=mb;f.video_chat_link_create=nb;f.video_chat_link_resolve=ob;f.video_chat_link_enter_room=pb;f.ignore_message=qb;f.query_sticker_pack_details=rb;f.new_group_thread_v3=sb;f.story_more_buckets=tb;f.story_archive_range_query=ub;f.download_sticker_pack=vb;f.refresh_switch_account_profiles=wb;f.contact_upload_update_snapshot=xb;f.send_phase_2_update_message=yb;f.sync_watchdog_request=zb;f.bloks_program_query=Ab;f.query_sticker_store=Bb;f.remove_participant_v2=Cb;f.remove_sticker_pack=Db;f.refresh_switch_account_personal_profiles=Eb;f.query_thread_contacts_eligibility=Fb;f.mute_thread_v2=Gb;f.threads_range_query_v2=Hb;f.remove_thread=Ib;f.payment_nonce_create=Jb;f.payment_nonce_delete=Kb;f.payment_nonce_verify=Lb;f.exit_focus_mode=Mb;f.block_status=Nb;f.contact_upload_for_threads=Ob;f.existing_group_thread_from_participants_lookup=Pb;f.query_postcap_stickers=Qb;f.delete_message_v2=Rb;f.existing_group_thread_point_query=Sb;f.update_messaging_settings=Tb;f.pin_thread=Ub;f.frx_celebrity_query=Vb;f.reorder_sticker_packs=Wb;f.fetch_all_phone_numbers=Xb;f.fbpay_pin_switch=Yb;f.poll_creation=Zb;f.poll_update=$b;f.payments_create_invoice=ac;f.update_thread_description=bc;f.video_chat_link_update_lock=cc;f.update_thread_disappearing_mode=dc;f.video_chat_link_notify_join_attempt=ec;f.poll_point_query=fc;f.video_chat_link_revoke=gc;f.room_create=hc;f.invite_participant_to_video_chat_link=ic;f.fbpay_client_auth_key_create=jc;f.fbpay_client_auth_key_delete=kc;f.fbpay_client_auth_token_verify=lc;f.not_implemented=mc;f.room_revoke=nc;f.room_update_interested=oc;f.room_update=pc;f.payments_seller_onboarding_status=qc;f.room_invitee_update=rc;f.linked_account_fetch_badges=sc;f.presence_on_demand_fetch=tc;f.process_marketplace_xma_cta=uc;f.switch_account_badging_realtime_fetch_badges=vc;f.fetch_group_for_thread=wc;f.instagram_stort_reply=xc;f.rooms_update_user_ringability=yc;f.update_contact_upload_settings=zc;f.update_ephemeral_media_state=Ac;f.tincan_register=Bc;f.tincan_create_thread=Cc;f.tincan_prekey_lookup=Dc;f.tincan_prekey_upload=Ec;f.tincan_send=Fc;f.tincan_enable_device=Gc;f.tincan_disable_device=Hc;f.tincan_omnistore_delete=Ic;f.tincan_verify_thread_checksum=Jc;f.tincan_thread_mute=Kc;f.tincan_ephemeral_ui_refresh=Lc;f.tincan_mark_read=Mc;f.tincan_create_group_thread=Nc;f.tincan_mark_unread=Oc;f.tincan_get_group_thread_info=Pc;f.tincan_batchable_send=Qc;f.cowatch_get_categories=Rc;f.cowatch_get_category_media=Sc;f.cowatch_create_session=Tc;f.cowatch_set_active_media_action=Uc;f.cowatch_sync_live_clock=Vc;f.cowatch_end_session=Wc;f.cowatch_cancel_up_next_media=Xc;f.cowatch_get_add_media_dialog_component=Yc;f.cowatch_subscribe_active_media=Zc;f.cowatch_unsubscribe_active_media=$c;f.cowatch_send_xma=ad;f.cowatch_get_media_info=bd;f.sync_plugin_seen_heads_thread_key=cd;f.sync_plugin_whatsapp_message_send=dd;f.igms_get_category_media=ed}),null);
__d("MWLSWatchPendingTasksTable.bs",["Promise","LS.bs","bs_curry","bs_int64","bs_js_dict","LSWebReq.bs","SkytaleDB","bs_caml_array","bs_caml_int64","bs_pervasives","promiseDone","LSWriteLabel.bs","LSRequestType.bs","SkytaleDBQuery.bs","SortedAsyncIterable.bs","LSCorePendingTasksTable.bs","ReadThroughBatchedTransaction.bs","LSMailboxTaskSerializerSendMessageV2StoredProcedure"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=function(d){d=JSON.stringify({version_id:c,tasks:d.map(function(a){return{task_id:b("bs_caml_int64").to_int32(a.a),queue_name:a.b,payload:a.c,label:a.d}}),epoch_id:11});if(d!==void 0){b("LSWebReq.bs").publish(a,b("LSRequestType.bs").task_batch,d);return b("Promise").resolve(0)}else return b("bs_pervasives").failwith("Failed to json encode tasks")},f=function(a,c){var d=b("bs_js_dict").get(a,c.b);if(d!==void 0){d.push(c);return 0}else{a[c.b]=[c];return 0}},g=function(a,c){return c.reduce(function(c,d){return c.then(function(c){var e=d.d;if(e===b("bs_int64").to_string(b("LSWriteLabel.bs").new_group_thread_v2))return b("bs_pervasives").failwith("xplat/msys/src/StoredProcedures/MessengerCoreReaders/SerializeCreateGroupV2Task.sql from cql");else if(e===b("bs_int64").to_string(b("LSWriteLabel.bs").send_message_v2))return b("LSMailboxTaskSerializerSendMessageV2StoredProcedure")(b("LS.bs").make(a),d.a).then(function(a){var e=a[1];a=a[0];a!==void 0&&(d.c=a);e!==void 0&&(d.d=b("bs_int64").to_string(e));f(c,d);return c});else{f(c,d);return c}})},b("Promise").resolve({})).then(function(a){var c=b("bs_js_dict").entries(a).length;if(c===0)return b("Promise").resolve(0);else{c=b("bs_caml_array").caml_array_get(b("bs_js_dict").entries(a),0);return b("bs_js_dict").entries(a).slice(1).reduce(function(b,c){var a=c[1];return b.then(function(b){return e(a)})},e(c[1]))}})},h=b("SkytaleDB").table(d,b("LSCorePendingTasksTable.bs").tableName).entries("asc"),i=b("SortedAsyncIterable.bs").subscribe(h,function(a,c){if(typeof c==="number")return 0;else{var e=c[0];b("ReadThroughBatchedTransaction.bs").runInTransaction(d,function(a){return g(a,[e])},-240492574);return 0}});b("promiseDone")(b("SkytaleDBQuery.bs").toArray(h).then(function(a){return b("ReadThroughBatchedTransaction.bs").runInTransaction(d,function(b){return g(b,a)},-240492574)}),void 0,void 0);return function(){return b("bs_curry")._1(i,0)}}f.start=a}),null);
__d("MWLSDataScriptSandbox.bs",["Promise","uuid","bs_caml_obj","bs_caml_option","killswitch","MPWLSDBCreateSchema.bs","ReadThroughBatchedTransaction.bs"],(function(a,b,c,d,e,f){"use strict";var g=new Worker(window.location.origin+"/skytale/sb.js");function a(a){return function(c){return b("ReadThroughBatchedTransaction.bs").runInTransaction(a,function(d){return new(b("Promise"))(function(a,d){var e=b("uuid")(),f=function c(f){if(b("bs_caml_obj").caml_equal(f.data.id,e)){g.removeEventListener("message",c);var h=f.data.error;if(h!==void 0){h=h;return d(h)}else return a(f.data)}else return 0};g.addEventListener("message",f);if(b("killswitch")("MESSENGER_WEB_DISABLE_LS_EVAL"))return 0;else{g.postMessage([e,b("MPWLSDBCreateSchema.bs").metadata,c]);return 0}}).then(function(c){var d=c.writes,e=c.result;if(d!==void 0)return a.flushWrites(b("bs_caml_option").valFromOption(d)).then(function(a){return e});else return e})},557889961)}}f.worker=g;f.make=a}),null);
__d("IndexedDbStoreHelper",["nativePromiseRegeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function g(a){return new window.Promise(function(b,c){a.onsuccess=function(a){b(a.target.result)},a.onerror=function(a){c(a)}})}function a(a){var c=!0,d=function(){return b("nativePromiseRegeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:if(!c){d.next=6;break}d.next=3;return b("nativePromiseRegeneratorRuntime").awrap(g(a.get("")));case 3:d.sent;d.next=0;break;case 6:case"end":return d.stop()}},null,this)}();return function(){c=!1;return d}}e.exports.promiseFromRequest=g;e.exports.waitFor=a}),null);
__d("EncryptionProvider",["invariant","gkx","IndexedDbStoreHelper","MessengerWebKeys","MPWKeychain.bs","SkytaleCrypto.bs","nativePromiseRegeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";b("IndexedDbStoreHelper").promiseFromRequest;var h=b("IndexedDbStoreHelper").waitFor,i=b("MessengerWebKeys").accountKey;function j(){var a;return b("nativePromiseRegeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("nativePromiseRegeneratorRuntime").awrap(b("MPWKeychain.bs").initialiseThenGetKeys(i));case 2:a=c.sent;return c.abrupt("return",a.keystoreEncryptionKey);case 4:case"end":return c.stop()}},null,this)}function k(a){var c,d,e,f;return b("nativePromiseRegeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("nativePromiseRegeneratorRuntime").awrap(j());case 2:c=h.sent;d=JSON.stringify(a);d!==void 0||g(0,22302);e=new TextEncoder().encode(d).buffer;h.next=8;return b("nativePromiseRegeneratorRuntime").awrap(b("SkytaleCrypto.bs").encryptData(c,e));case 8:f=h.sent;return h.abrupt("return",f);case 10:case"end":return h.stop()}},null,this)}function l(a){var c,d,e,f;return b("nativePromiseRegeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("nativePromiseRegeneratorRuntime").awrap(j());case 2:c=g.sent;g.next=5;return b("nativePromiseRegeneratorRuntime").awrap(b("SkytaleCrypto.bs").decryptData(c,a));case 5:d=g.sent;e=new TextDecoder().decode(d);f=JSON.parse(e);return g.abrupt("return",f);case 9:case"end":return g.stop()}},null,this)}function a(a,c,d){var e,f;return b("nativePromiseRegeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:e=h(c);a.next=3;return b("nativePromiseRegeneratorRuntime").awrap(l(d));case 3:f=a.sent;a.next=6;return b("nativePromiseRegeneratorRuntime").awrap(e());case 6:return a.abrupt("return",f);case 7:case"end":return a.stop()}},null,this)}function c(a,c,d){var e,f;return b("nativePromiseRegeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:e=h(c);a.next=3;return b("nativePromiseRegeneratorRuntime").awrap(k(d));case 3:f=a.sent;a.next=6;return b("nativePromiseRegeneratorRuntime").awrap(e());case 6:return a.abrupt("return",f);case 7:case"end":return a.stop()}},null,this)}var m={nonEncryptionTables:new Set(["network_requests"]),defaultDecryptionHandler:a,defaultEncryptionHandler:c,decryptionConfig:new Map(),encryptionConfig:new Map()};e.exports=function(a){a===void 0&&(a=m);return{decrypt:function(c,d,e){var f,h;return b("nativePromiseRegeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:f=e;if(a.decryptionConfig.has(d.name)){i.next=3;break}return i.abrupt("return",f);case 3:if(!a.nonEncryptionTables.has(d.name)){i.next=5;break}return i.abrupt("return",f);case 5:h=a.defaultDecryptionHandler;a.decryptionConfig.has(d.name)&&(h=a.decryptionConfig.get(d.name));h!==void 0||g(0,22304);i.next=10;return b("nativePromiseRegeneratorRuntime").awrap(h(c,d,e));case 10:f=i.sent;return i.abrupt("return",f);case 12:case"end":return i.stop()}},null,this)},encrypt:function(c,d,e){var f,h;return b("nativePromiseRegeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:f=e;if(a.encryptionConfig.has(d.name)){i.next=3;break}return i.abrupt("return",f);case 3:if(!a.nonEncryptionTables.has(d.name)){i.next=5;break}return i.abrupt("return",f);case 5:h=a.defaultEncryptionHandler;a.encryptionConfig.has(d.name)&&(h=a.encryptionConfig.get(d.name));h!==void 0||g(0,22303);i.next=10;return b("nativePromiseRegeneratorRuntime").awrap(h(c,d,e));case 10:f=i.sent;return i.abrupt("return",f);case 12:case"end":return i.stop()}},null,this)}}}}),null);
__d("IndexedDbStore",["invariant","EncryptionProvider","IndexedDbStoreHelper","nativePromiseRegeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("IndexedDbStoreHelper").promiseFromRequest;function i(a,c,d,e){var f=e===void 0?"root":"index("+e+")";return{readHeader:b("nativePromiseRegeneratorRuntime").mark(function d(){return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:if(c.has(f)){b.next=7;break}b.t0=c;b.t1=f;b.next=5;return h(a.get(f));case 5:b.t2=b.sent,b.t0.set.call(b.t0,b.t1,b.t2);case 7:return b.abrupt("return",c.get(f));case 8:case"end":return b.stop()}},d,this)}),writeHeader:b("nativePromiseRegeneratorRuntime").mark(function d(e){return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:c.set(f,e);b.next=3;return h(a.put(e,f));case 3:case"end":return b.stop()}},d,this)}),readExn:b("nativePromiseRegeneratorRuntime").mark(function d(e){var f;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:if(c.has(e)){b.next=7;break}b.t0=c;b.t1=e;b.next=5;return h(a.get(e));case 5:b.t2=b.sent,b.t0.set.call(b.t0,b.t1,b.t2);case 7:f=c.get(e);f!==void 0||g(0,21992);return b.abrupt("return",f);case 10:case"end":return b.stop()}},d,this)}),readDataExn:b("nativePromiseRegeneratorRuntime").mark(function e(f,i){var j,k,l;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:if(c.has(f)){b.next=8;break}b.next=3;return h(a.get(f));case 3:j=b.sent;b.next=6;return d.decrypt(i,a,j);case 6:k=b.sent,c.set(f,k);case 8:l=c.get(f);l!==void 0||g(0,21992);return b.abrupt("return",l);case 11:case"end":return b.stop()}},e,this)}),read:b("nativePromiseRegeneratorRuntime").mark(function d(e){return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:if(c.has(e)){b.next=7;break}b.t0=c;b.t1=e;b.next=5;return h(a.get(e));case 5:b.t2=b.sent,b.t0.set.call(b.t0,b.t1,b.t2);case 7:return b.abrupt("return",c.get(e));case 8:case"end":return b.stop()}},d,this)}),write:b("nativePromiseRegeneratorRuntime").mark(function d(e,f){return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:c.set(e,f);b.next=3;return h(a.put(f,e));case 3:case"end":return b.stop()}},d,this)}),writeData:b("nativePromiseRegeneratorRuntime").mark(function e(f,g,i){var j;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:c.set(f,g);b.next=3;return d.encrypt(i,a,g);case 3:j=b.sent;b.next=6;return h(a.put(j,f));case 6:case"end":return b.stop()}},e,this)}),writeNew:b("nativePromiseRegeneratorRuntime").mark(function d(e){var f;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:b.next=2;return h(a.add(e));case 2:f=b.sent;c.set(f,e);return b.abrupt("return",f);case 5:case"end":return b.stop()}},d,this)}),writeNewData:b("nativePromiseRegeneratorRuntime").mark(function e(f,g){var i,j;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:b.next=2;return d.encrypt(g,a,f);case 2:i=b.sent;b.next=5;return h(a.add(i));case 5:j=b.sent;c.set(j,f);return b.abrupt("return",j);case 8:case"end":return b.stop()}},e,this)}),remove:b("nativePromiseRegeneratorRuntime").mark(function d(e){return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:b.next=2;return h(a["delete"](e));case 2:c.set(e,void 0);case 3:case"end":return b.stop()}},d,this)})}}function j(a,c,d){return b("nullthrows")((a.has(c)?a:a.set(c,d())).get(c))}e.exports=function(a){var c=new Map();return{createTransaction:function(){var d=a.transaction(a.objectStoreNames,"readwrite");return{table:function(a){var e=j(c,a,function(){return new Map()}),f=d.objectStore(a),g=b("EncryptionProvider")();return babelHelpers["extends"]({},i(f,e,g),{incrementSeed:function(a){return new window.Promise(function(b,c){var d=f.get("seed");d.onsuccess=function(d){var e=Math.max(d.target.result||0,a||0);d=f.put(e+1,"seed");d.onsuccess=function(a){b(e)};d.onerror=function(a){c(a)}};d.onerror=function(a){c(a)}})},readSeed:function(){return b("nativePromiseRegeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("nativePromiseRegeneratorRuntime").awrap(h(f.get("seed")));case 2:a.t0=a.sent;if(a.t0){a.next=5;break}a.t0=0;case 5:return a.abrupt("return",a.t0);case 6:case"end":return a.stop()}},null,this)},index:function(a){return i(f,e,g,a)}})}}}}}}),null);
__d("LSDbStorage",["invariant","IndexedDbKeyComparer","LSStorage","bs_caml_int64","nativePromiseRegeneratorRuntime","nullthrows","BPlusTreeBase"],(function(a,b,c,d,e,f,g){"use strict";var h=b("LSStorage").areKeysEqual,i=b("LSStorage").createSubscriptionManager,j=function(a){return b("BPlusTreeBase")(b("IndexedDbKeyComparer"),16,a)};function k(a){var b=JSON.stringify(a);return b==null?a:JSON.parse(b)}function l(a){Array.isArray(a)&&a.length===2&&a.every(Number.isInteger)||g(0,21993);return b("bs_caml_int64").to_float(a)}function m(a,b){function c(b){if(b.done)return b.value;b.value instanceof Promise||g(0,22157);return b.value.then(function(b){return c(a.next(b))})}return c(a.next(b))}function n(a){return{next:b("nativePromiseRegeneratorRuntime").mark(function c(d){var e;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:e=a.next(d);case 1:if(!(e.value instanceof window.Promise)){b.next=9;break}b.t0=a;b.next=5;return e.value;case 5:b.t1=b.sent;e=b.t0.next.call(b.t0,b.t1);b.next=1;break;case 9:return b.abrupt("return",e);case 10:case"end":return b.stop()}},c,this)})}}function o(a){var b=n(a);return{next:function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(a){return m(b.next(a))})}}e.exports=function(a,c,d){d===void 0&&(d={});var e={},f=i(b("IndexedDbKeyComparer"),c),p=b("LSStorage").searchKey.bind(null,c);function q(b){return(b.has(e)?b:b.set(e,a.createTransaction())).get(e)}function r(a,d,e,f){var h,i,k,l,n,o,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;return b("nativePromiseRegeneratorRuntime").async(function(H){while(1)switch(H.prev=H.next){case 0:h=a.table(d);i=j(h);k=c.tableNames[d];l=b("nullthrows")(p(d,e));n=Object.keys(k.indexes).reduce(function(b,c){var a=p(d,e,c);a!=null&&(b[c]=a);return b},{});o={};H.next=8;return b("nativePromiseRegeneratorRuntime").awrap(m(i.has(l)));case 8:if(!H.sent){H.next=21;break}H.next=11;return b("nativePromiseRegeneratorRuntime").awrap(m(i.get(l)));case 11:q=H.sent;if(!Object.keys(k.indexes).length){H.next=17;break}H.next=15;return b("nativePromiseRegeneratorRuntime").awrap(m(h.readDataExn(q,f)));case 15:r=H.sent,o=Object.keys(k.indexes).reduce(function(b,c){var a=p(d,r,c);a!=null&&(b[c]=a);return b},{});case 17:H.next=19;return b("nativePromiseRegeneratorRuntime").awrap(m(h.writeData(q,e,f)));case 19:H.next=27;break;case 21:k.autoIncrement&&g(0,21990);H.next=24;return b("nativePromiseRegeneratorRuntime").awrap(m(h.writeNewData(e,f)));case 24:q=H.sent;H.next=27;return b("nativePromiseRegeneratorRuntime").awrap(m(i.set(l,q)));case 27:s=Object.keys(n);for(t=0;t<s.length;t++)u=s[t],o[u]!==void 0&&b("IndexedDbKeyComparer")(o[u],n[u])===0&&(delete n[u],delete o[u]);v=Object.keys(n);w=0;case 31:if(!(w<v.length)){H.next=42;break}x=v[w];y=j(h.index(x));H.next=36;return b("nativePromiseRegeneratorRuntime").awrap(m(y.has(n[x])));case 36:H.t0=!H.sent;if(H.t0){H.next=39;break}g(0,21996,d,x);case 39:w++;H.next=31;break;case 42:z=Object.keys(n),A=0;case 44:if(!(A<z.length)){H.next=52;break}B=z[A];C=j(h.index(B));H.next=49;return b("nativePromiseRegeneratorRuntime").awrap(m(C.set(n[B],q)));case 49:A++;H.next=44;break;case 52:D=Object.keys(o),E=0;case 54:if(!(E<D.length)){H.next=62;break}F=D[E];G=j(h.index(F));H.next=59;return b("nativePromiseRegeneratorRuntime").awrap(m(G["delete"](o[F])));case 59:E++;H.next=54;break;case 62:case"end":return H.stop()}},null,this)}function s(a,d,e,f){var g,h,i,k,l,n,o,q,r,s;return b("nativePromiseRegeneratorRuntime").async(function(t){while(1)switch(t.prev=t.next){case 0:g=a.table(d);h=j(g);i=c.tableNames[d];t.next=5;return b("nativePromiseRegeneratorRuntime").awrap(m(h.has(e)));case 5:if(!t.sent){t.next=29;break}t.next=8;return b("nativePromiseRegeneratorRuntime").awrap(m(h.get(e)));case 8:k=t.sent;if(!Object.keys(i.indexes).length){t.next=25;break}t.next=12;return b("nativePromiseRegeneratorRuntime").awrap(m(g.readDataExn(k,f)));case 12:l=t.sent,n=Object.keys(i.indexes),o=0;case 15:if(!(o<n.length)){t.next=25;break}q=n[o];r=p(d,l,q);if(!(r!=null)){t.next=22;break}s=j(g.index(q));t.next=22;return b("nativePromiseRegeneratorRuntime").awrap(m(s["delete"](r)));case 22:o++;t.next=15;break;case 25:t.next=27;return b("nativePromiseRegeneratorRuntime").awrap(m(h["delete"](e)));case 27:t.next=29;return b("nativePromiseRegeneratorRuntime").awrap(m(g.remove(k)));case 29:case"end":return t.stop()}},null,this)}function t(a,d,e,f){var h,i,n,o,q,r,s,t,u,v,w,x,y,z,A,B,C;return b("nativePromiseRegeneratorRuntime").async(function(D){while(1)switch(D.prev=D.next){case 0:h=a.table(d);i=j(h);n=c.tableNames[d];o=k(e);q=p(d,o);if(!n.autoIncrement){D.next=13;break}r=o[c.tableNames[d].primaryKeyIds[0]];D.t0=b("bs_caml_int64");D.next=10;return b("nativePromiseRegeneratorRuntime").awrap(h.incrementSeed(r===void 0?r:l(r)));case 10:D.t1=D.sent,q=D.t0.of_float.call(D.t0,D.t1),o[c.tableNames[d].primaryKeyIds[0]]=q;case 13:if(!(q==null)){D.next=15;break}throw new Error("Evaluating the object store's key path did not yield a value");case 15:D.next=17;return b("nativePromiseRegeneratorRuntime").awrap(m(i.has(q)));case 17:if(D.sent){D.next=50;break}s=Object.keys(n.indexes);t=0;case 20:if(!(t<s.length)){D.next=33;break}u=s[t];v=p(d,o,u);if(!(v!=null)){D.next=30;break}w=j(h.index(u));D.next=27;return b("nativePromiseRegeneratorRuntime").awrap(m(w.has(v)));case 27:D.t2=!D.sent;if(D.t2){D.next=30;break}g(0,21996,d,u);case 30:t++;D.next=20;break;case 33:D.next=35;return b("nativePromiseRegeneratorRuntime").awrap(m(h.writeNewData(o,f)));case 35:x=D.sent;D.next=38;return b("nativePromiseRegeneratorRuntime").awrap(m(i.set(q,x)));case 38:y=Object.keys(n.indexes),z=0;case 40:if(!(z<y.length)){D.next=50;break}A=y[z];B=p(d,o,A);if(!(B!=null)){D.next=47;break}C=j(h.index(A));D.next=47;return b("nativePromiseRegeneratorRuntime").awrap(m(C.set(B,x)));case 47:z++;D.next=40;break;case 50:case"end":return D.stop()}},null,this)}var u;return u={getMetadata:function(){return c},flushWrites:function(c){var d,g,i,j,k,l,m,n,o,q;return b("nativePromiseRegeneratorRuntime").async(function(v){while(1)switch(v.prev=v.next){case 0:if(!(c.length===0)){v.next=2;break}return v.abrupt("return");case 2:d=a.createTransaction(),g=new WeakMap([[e,d]]),(i=c,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 5:if(!j){v.next=11;break}if(!(k>=i.length)){v.next=8;break}return v.abrupt("break",34);case 8:l=i[k++];v.next=15;break;case 11:k=i.next();if(!k.done){v.next=14;break}return v.abrupt("break",34);case 14:l=k.value;case 15:m=l;n=m[0];o=m[1];q=m[2];if(!(o!=null&&q!=null&&h(p(n,o),p(n,q)))){v.next=24;break}v.next=22;return b("nativePromiseRegeneratorRuntime").awrap(r(d,n,q,u));case 22:v.next=30;break;case 24:if(!(o!=null)){v.next=27;break}v.next=27;return b("nativePromiseRegeneratorRuntime").awrap(s(d,n,b("nullthrows")(p(n,o)),u));case 27:if(!(q!=null)){v.next=30;break}v.next=30;return b("nativePromiseRegeneratorRuntime").awrap(t(d,n,q,u));case 30:v.next=32;return b("nativePromiseRegeneratorRuntime").awrap(f.notifyTableAndIndexSubscribers(n,o,q,g));case 32:v.next=5;break;case 34:f.notifyCommit();case 35:case"end":return v.stop()}},null,this)},subscribeToCommit:function(a){return f.subscribeToCommit(a)},table:function(e){return{get:function(c){var f,g;return b("nativePromiseRegeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:d.key_lookup===!0;f=a.createTransaction().table(e);g=j(f);h.next=5;return b("nativePromiseRegeneratorRuntime").awrap(m(g.has(c)));case 5:if(h.sent){h.next=7;break}return h.abrupt("return",void 0);case 7:h.t0=m;h.t1=f;h.next=11;return b("nativePromiseRegeneratorRuntime").awrap(m(g.get(c)));case 11:h.t2=h.sent;h.t3=u;h.t4=h.t1.readDataExn.call(h.t1,h.t2,h.t3);return h.abrupt("return",h.t0(h.t4));case 15:case"end":return h.stop()}},null,this)},entries:function(a,c,f){c===void 0&&(c="asc");f===void 0&&(f={});return o(b("nativePromiseRegeneratorRuntime").mark(function g(){var h,i,k,l,m,o,p;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:d.table_scan===!0;h=q(a).table(e);i=j(h);k=n(i.entries(babelHelpers["extends"]({},f,{dir:c})));return b.delegateYield(k.next(),"t0",5);case 5:l=b.t0;case 6:if(l.done){b.next=19;break}m=l.value,o=m[0],p=m[1];b.t1=k;b.t2=o;return b.delegateYield(h.readDataExn(p,u),"t3",11);case 11:b.t4=b.t3;b.next=14;return[b.t2,b.t4];case 14:b.t5=b.sent;return b.delegateYield(b.t1.next.call(b.t1,b.t5),"t6",16);case 16:l=b.t6;b.next=6;break;case 19:case"end":return b.stop()}},g,this)})())},peekNextAutoIncrementId:function(){var d,f;return b("nativePromiseRegeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:d=c.tableNames[e].autoIncrement;d||g(0,19732);h.next=4;return b("nativePromiseRegeneratorRuntime").awrap(a.createTransaction().table(e).readSeed());case 4:f=h.sent;f!==void 0||g(0,19733);return h.abrupt("return",b("bs_caml_int64").of_float(f));case 7:case"end":return h.stop()}},null,this)},subscribe:function(a){return f.subscribeTable(e,a)},index:function(h){var i;return i={get:function(f){var g,c,i;return b("nativePromiseRegeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:g=a.createTransaction().table(e);d.key_lookup===!0;c=j(g.index(h));k.next=5;return b("nativePromiseRegeneratorRuntime").awrap(m(c.has(f)));case 5:if(k.sent){k.next=7;break}return k.abrupt("return",void 0);case 7:k.next=9;return b("nativePromiseRegeneratorRuntime").awrap(m(c.get(f)));case 9:i=k.sent;k.next=12;return b("nativePromiseRegeneratorRuntime").awrap(m(g.readDataExn(i,u)));case 12:return k.abrupt("return",k.sent);case 13:case"end":return k.stop()}},null,this)},getKey:function(a){var c;return b("nativePromiseRegeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("nativePromiseRegeneratorRuntime").awrap(i.get(a));case 2:c=d.sent;if(!(c===void 0)){d.next=5;break}return d.abrupt("return",void 0);case 5:return d.abrupt("return",p(e,c));case 6:case"end":return d.stop()}},null,this)},entries:function(a,f,i){f===void 0&&(f="asc");i===void 0&&(i={});return o(b("nativePromiseRegeneratorRuntime").mark(function k(){var m,l,o,p,r,s,t,v;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:d.table_scan===!0;m=q(a).table(e);l=j(m.index(h));o=c.tableNames[e].indexes[h].unique;o||g(0,19850);p=n(l.entries(babelHelpers["extends"]({},i,{dir:f})));return b.delegateYield(p.next(),"t0",7);case 7:r=b.t0;case 8:if(r.done){b.next=21;break}s=r.value,t=s[0],v=s[1];b.t1=p;b.t2=t;return b.delegateYield(m.readDataExn(v,u),"t3",13);case 13:b.t4=b.t3;b.next=16;return[b.t2,b.t4];case 16:b.t5=b.sent;return b.delegateYield(b.t1.next.call(b.t1,b.t5),"t6",18);case 18:r=b.t6;b.next=8;break;case 21:case"end":return b.stop()}},k,this)})())},subscribe:function(a){return f.subscribeIndex(e,h,a)}}}}}}}}),null);
__d("IndexedDbStorage.bs",["LSDbStorage","IndexedDbStore"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("LSDbStorage")(b("IndexedDbStore")(a),c)}f.make=a}),null);
__d("LSDatabaseType.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1];c=[0,2];d=[0,3];e=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,15],r=[0,16],s=[0,17],t=[0,18],u=[0,19],v=[0,20],w=[0,21],x=[0,22],y=[0,23],z=[0,24],A=[0,25],B=[0,26],C=[0,27],D=[0,28],E=[0,29],F=[0,30],G=[0,31],H=[0,32],I=[0,33],J=[0,34],K=[0,35],L=[0,36],M=[0,37],N=[0,38],O=[0,39],P=[0,40],Q=[0,41],R=[0,42],S=[0,43],T=[0,44],U=[0,45],V=[0,46],W=[0,47],X=[0,48],Y=[0,49],Z=[0,50],$=[0,51],aa=[0,52],ba=[0,53],ca=[0,54],da=[0,55],ea=[0,56],fa=[0,57],ga=[0,58],ha=[0,59],ia=[0,60],ja=[0,61],ka=[0,62],la=[0,63],ma=[0,64];f._test_=a;f.mailbox=b;f.contact=c;f.app_alerts=d;f.core=e;f.stories=g;f.presence=h;f.ranking=i;f.experiment=j;f.search=k;f.securemailbox=l;f.inbox_ads=m;f.sticker=n;f._omnistore_revision_test_=o;f.frx=p;f.payments=q;f.settings=r;f.gif=s;f.ar_effects=t;f.platform_extension_sdk=u;f.business_tab=v;f.composer_menus=w;f._experimental_contact_phone_number_=x;f.forward_contents=y;f.typing=z;f.qp=A;f.inthreadbanner=B;f.log_sampling=C;f.thread_theme=D;f.media_send=E;f.contact_upload=F;f.aloha=G;f._omnistore_simple_test_=H;f.booking=I;f._one_time_sync_test_=J;f.thread_emoji=K;f.universal_links=L;f.counters=M;f._empty_test_=N;f.account_settings=O;f.video_chat_link=P;f.zero_rating=Q;f.connectivity=R;f.switch_account_badging=S;f.emergency_poll=T;f.cowatch=U;f.switch_account_profiles=V;f.$$location=W;f.sync_watchdog=X;f.bloks=Y;f.media_editing=Z;f.push_notifications=$;f.switch_account_badging_realtime=aa;f.dasm_debug=ba;f._test_two_=ca;f.data_trace=da;f.media_sharing=ea;f.plugin_extensions=fa;f.out_of_band_push=ga;f.local_user_settings=ha;f.groups=ia;f.dabl=ja;f.linked_groups=ka;f.fxcal=la;f.rooms=ma}),null);
__d("MWLSSchemaIndexedDB.bs",["Promise","IndexedDbStorage.bs","MPWLSDBCreateSchema.bs","unrecoverableViolation","MWLSDatabaseInitialData.bs","ReadThroughBatchedTransaction.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return new(b("Promise"))(function(c,d){d=indexedDB.open(a,1);d.onupgradeneeded=function(a){var c=a.target.result;b("MPWLSDBCreateSchema.bs").run(c);c=b("IndexedDbStorage.bs").make({transaction:function(b,c){return a.target.transaction}},b("MPWLSDBCreateSchema.bs").metadata);b("ReadThroughBatchedTransaction.bs").runInTransaction(c,b("MWLSDatabaseInitialData.bs").run,557889961);return 0};d.onerror=function(a){return b("unrecoverableViolation")("Failed to open db","messenger")};d.onblocked=function(a){return b("unrecoverableViolation")("DB blocked","messenger")};d.onsuccess=function(a){a=a.target.result;a=b("IndexedDbStorage.bs").make(a,b("MPWLSDBCreateSchema.bs").metadata);return c(a)};return 0})}f.createDB=a}),null);
__d("SkytaleDBDevtools.bs",["bs_block","bs_int64","bs_js_dict","bs_belt_Option","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){return 0}b=void 0;c=a;d=b;f.setup=c;f.metadata=d}),null);
__d("MNLSXMALayoutType.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1];c=[0,2];f.single=a;f.hscroll=b;f.xcenter=c}),null);
__d("MWLSXmaIconParser.bs",["ix","URI","bs_block","bs_curry","bs_js_dict","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;d=b("bs_js_dict").fromList([["ls://circleicon?icon=document-complete&iconColor=white&circleColor=scarlet",{icon:(c=b("fbicon"))._(g("728245"),20),color:-999567389}],[["ls://circleicon?icon=airplane&iconColor=staticWhite&circleColor=black34",{icon:c._(g("571771"),20),color:322339018}],[["ls://circleicon?icon=camcorder-incoming&iconColor=staticWhite&circleColor=black34",{icon:c._(g("1096148"),20),color:-999567389}],[["ls://circleicon?icon=camcorder-outgoing&iconColor=staticWhite&circleColor=black34",{icon:c._(g("1096150"),20),color:-999567389}],[["ls://circleicon?icon=phone-incoming&iconColor=staticWhite&circleColor=black34",{icon:c._(g("1096151"),20),color:-999567389}],[["ls://circleicon?icon=phone-outgoing&iconColor=staticWhite&circleColor=black34",{icon:c._(g("1096154"),20),color:-999567389}],[["ls://circleicon?icon=phone-missed&iconColor=staticWhite&circleColor=black34",{icon:c._(g("847457"),20),color:-999567389}],[["ls://circleicon?icon=phone-missed&iconColor=staticWhite&circleColor=red",{icon:c._(g("847457"),20),color:974814873}],[["ls://circleicon?icon=camcorder-missed&iconColor=staticWhite&circleColor=black34",{icon:c._(g("662989"),20),color:-999567389}],[["ls://circleicon?icon=camcorder-missed&iconColor=staticWhite&circleColor=red",{icon:c._(g("662989"),20),color:974814873}],[["ls://circleicon?icon=camcorder&iconColor=staticWhite&circleColor=green",{icon:c._(g("493174"),20),color:-944564459}],[["ls://circleicon?icon=phone&iconColor=staticWhite&circleColor=green",{icon:c._(g("558161"),20),color:-944564459}],[["ls://circleicon?icon=document-complete&iconColor=white&circleColor=bluegrey75",{icon:c._(g("728245"),20),color:-999567389}],[["ls://circleicon?icon=checkmark-circle&iconColor=white&circleColor=black34",{icon:c._(g("498146"),20),color:-999567389}],0]]]]]]]]]]]]]]);function a(a){if(a.startsWith("https"))return b("bs_block").__(1,[a]);else if(a.startsWith("ls")){var c=new(h||(h=b("URI")))(a.replace("ls","http")).getQueryData(),d=function(a){return c[a]},e=b("bs_curry")._1(d,"icon"),f=b("bs_curry")._1(d,"circleColor");b("bs_curry")._1(d,"iconColor");switch(e){case"airplane":return b("bs_block").__(0,[{icon:b("fbicon")._(g("571771"),20),color:322339018}]);case"camcorder":return b("bs_block").__(0,[{icon:b("fbicon")._(g("493174"),20),color:-944564459}]);case"camcorder-incoming":return b("bs_block").__(0,[{icon:b("fbicon")._(g("1096148"),20),color:-999567389}]);case"camcorder-missed":if(f==="red")return b("bs_block").__(0,[{icon:b("fbicon")._(g("662989"),20),color:974814873}]);else return b("bs_block").__(0,[{icon:b("fbicon")._(g("662989"),20),color:-999567389}]);case"camcorder-outgoing":return b("bs_block").__(0,[{icon:b("fbicon")._(g("1096150"),20),color:-999567389}]);case"checkmark-circle":return b("bs_block").__(0,[{icon:b("fbicon")._(g("498146"),20),color:-999567389}]);case"currency-usd":switch(f){case"gray":return b("bs_block").__(0,[{icon:b("fbicon")._(g("847056"),20),color:-999567389}]);case"green":return b("bs_block").__(0,[{icon:b("fbicon")._(g("847056"),20),color:-944564459}]);default:}break;case"document-complete":return b("bs_block").__(0,[{icon:b("fbicon")._(g("728245"),20),color:-999567389}]);case"phone":if(f==="green")return b("bs_block").__(0,[{icon:b("fbicon")._(g("558161"),20),color:-944564459}]);break;case"phone-incoming":return b("bs_block").__(0,[{icon:b("fbicon")._(g("1096151"),20),color:-999567389}]);case"phone-missed":if(f==="red")return b("bs_block").__(0,[{icon:b("fbicon")._(g("847457"),20),color:974814873}]);else return b("bs_block").__(0,[{icon:b("fbicon")._(g("847457"),20),color:-999567389}]);case"phone-outgoing":return b("bs_block").__(0,[{icon:b("fbicon")._(g("1096154"),20),color:-999567389}]);default:}b("recoverableViolation")("Unknown Lightspeed Icon: "+a,"messenger_privacy_web");return}else{b("recoverableViolation")("Unknown Icon Url: "+a,"messenger_privacy_web");return}}f.iconMapping=d;f.parse=a}),null);
__d("MWLSXmaParser.bs",["ix","FBID.bs","bs_block","bs_int64","bs_belt_Array","bs_caml_int64","fbicon","bs_belt_Option","bs_js_null_undefined","MNLSXMALayoutType.bs","MWLSXmaIconParser.bs","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var c=a.g,d;if(c==="xma_rtc_audio"||c==="xma_rtc_missed_audio"||c==="xma_rtc_ended_audio")d=b("bs_block").__(4,[b("bs_block").__(12,[{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.d)),hasVideo:!1}]),void 0]);else if(c==="xma_rtc_video"||c==="xma_rtc_missed_video"||c==="xma_rtc_ended_video")d=b("bs_block").__(4,[b("bs_block").__(12,[{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.d)),hasVideo:!0}]),void 0]);else if(c==="xma_postback")d=b("bs_block").__(1,[a.f,a.h,void 0]);else if(c==="xma_p2p_payment_details"||c==="xma_p2p_request_pay"||c==="xma_p2p_payment_details_receive_money"||c==="xma_p2p_verify_info"){var e=a.o;e!==void 0?d=b("bs_block").__(4,[b("bs_block").__(11,[{id:b("bs_js_null_undefined").fromOption(b("FBID.bs").ofString(b("bs_int64").to_string(e))),currentStatus:null}]),void 0]):(b("recoverableViolation")("P2P Transaction encounterd without txn id","messenger_privacy_web"),d=void 0)}else if(c==="xma_poll_details_button"||c==="xma_poll_details_card")d=b("bs_block").__(5,[b("bs_belt_Option").getExn(a.o),b("bs_belt_Option").getExn(a.l)]);else{e=a.i;c=a.l;c!==void 0?d=b("bs_block").__(3,[c]):e!==void 0?d=b("bs_block").__(0,[e,819537557,void 0]):(b("recoverableViolation")("Unknown CTA encountered while parsing XMA. CTA: "+String(a),"messenger_privacy_web"),d=void 0)}return b("bs_belt_Option").map(d,function(b){return{title:a.f,action:b}})}function i(a,c){a=a.attachmentItem;c=b("bs_belt_Option").isNone(a.s)&&c;var d=b("bs_belt_Option").mapWithDefault(a.q,0,b("bs_caml_int64").to_int32),e=b("bs_belt_Option").mapWithDefault(a.r,0,b("bs_caml_int64").to_int32),f=a.m,g=a.h;if(f!==void 0){if(g===void 0)return b("bs_block").__(0,[f,{expand:c}])}else if(g===void 0)return;return b("bs_block").__(1,[g,b("FBID.bs").ofStringExn(a.a),{height:e,width:d,expand:c}])}function j(a,c,d,e){var f=e.attachmentItem;c=c!==void 0?c:!1;var g=b("bs_belt_Array").keepMap(e.call_to_actions,h),j=b("bs_belt_Option").map(b("bs_belt_Option").flatMap(e.default_cta,h),function(a){return a.action});return{preview:i(e,c),title:b("bs_belt_Option").mapWithDefault(f.f,a,function(a){return a}),description:f.g,icon:b("bs_belt_Option").flatMap(f.J,b("MWLSXmaIconParser.bs").parse),action:j!==void 0&&g.length===0?b("bs_block").__(0,[j]):b("bs_block").__(1,[g]),canForward:!1,listItemsId:d.list_items_id,listItemsDescriptionText:d.list_items_description_text,listItemsSecondaryDescriptionText:d.list_items_secondary_description_text,listItems:d.list_items}}function k(a){return{preview:void 0,title:a.attachment.R,description:void 0,icon:b("bs_block").__(0,[{icon:b("fbicon")._(g("728245"),20),color:-999567389}]),action:void 0,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function a(a,c,d,e,f){var g=f.attachment_items,h=f.attachment,i=h.Z,l=h.Y;l=i!==void 0&&l!==void 0?{name:l,icon:i}:void 0;var m=function(b,c,d){return j(a,b,c,d)};i=h.m;var n=0;if(g.length!==1)n=2;else{var o=g[0];if(i!==void 0)if(b("bs_caml_int64").eq(i,b("MNLSXMALayoutType.bs").single))return b("bs_block").__(7,[b("bs_block").__(1,[m(!0,f,o),l,c])]);else n=2}if(n===2&&i!==void 0)if(b("bs_caml_int64").eq(i,b("MNLSXMALayoutType.bs").hscroll))return b("bs_block").__(7,[b("bs_block").__(0,[g.map(function(a){return m(void 0,f,a)}),l,c])]);else{o=g.length;if(o!==1){if(o===0){n=i;if(b("bs_caml_int64").eq(n,b("MNLSXMALayoutType.bs").single)&&h.R==="")return b("bs_block").__(8,[{removedTimestamp:d.timestamp,authorName:e}]);else if(b("bs_caml_int64").eq(n,b("MNLSXMALayoutType.bs").single))return b("bs_block").__(7,[b("bs_block").__(1,[k(f),l,c])])}}else{o=g[0];if(b("bs_caml_int64").eq(i,b("MNLSXMALayoutType.bs").xcenter))return b("bs_block").__(7,[b("bs_block").__(2,[j(void 0,!0,f,o),l,c])])}}b("recoverableViolation")("Unknown combination of XMA items and layout","messenger_privacy_web");return}f.parseCallToAction=h;f.parsePreview=i;f.parseContent=j;f.parseOptimisticUpload=k;f.parserForAttachment=a}),null);
__d("MWLSAttachmentParser.bs",["fbt","URI","FBID.bs","bs_block","bs_int64","bs_belt_Array","bs_caml_int64","bs_belt_Option","bs_caml_format","bs_caml_option","MWLSXmaParser.bs","bs_caml_exceptions","StickerConstants","recoverableViolation","unrecoverableViolation","MessagingAttachmentType.bs"],(function(a,b,c,d,e,f,g){"use strict";var h;c=b("bs_caml_exceptions").create("MWLSAttachmentParser.MessageMarkedAsAttachmentButNoAttachmentFound");function i(a,c){var d=c.attachment;a=d.F;if(a!==void 0)c=a;else{a=d.f;if(b("bs_caml_int64").eq(a,b("MessagingAttachmentType.bs").animated_image)){a=d.h;a!==void 0?c=a:(b("recoverableViolation")("Gif Attachment has no preview_url "+d.e,"messenger_privacy_web"),c=void 0)}else b("recoverableViolation")("Photo Attachment has no preview_url "+d.e,"messenger_privacy_web"),c=void 0}return b("bs_belt_Option").map(c,function(a){return{isGIF:!1,previewUrl:a,previewHeight:void 0,previewWidth:void 0,appAttribution:void 0,photoFbid:b("FBID.bs").ofString(d.e),blurredImageUri:void 0,decryptionKey:d.bi}})}function j(a,c){return b("bs_belt_Option").map(i(a,c),function(a){return b("bs_block").__(1,[a])})}function k(a,c){a=c.attachment;c=a.A;if(c!==void 0)c=c;else{var d=a.F;d!==void 0?c=d:(b("recoverableViolation")("Sticker Attachment has no preview_url or playable_url"+a.e,"messenger_privacy_web"),c="")}return b("bs_block").__(0,[{accessibilityLabel:b("bs_belt_Option").getWithDefault(a.bj,""),frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI2x:void 0,paddedSpriteURI:void 0,spriteURI2x:void 0,spriteURI:void 0,stickerID:a.e,url:c,width:b("bs_belt_Option").map(a.K,b("bs_caml_int64").to_int32),height:b("bs_belt_Option").map(a.L,b("bs_caml_int64").to_int32)}])}function l(a,c){a=b("bs_belt_Array").keepMap(a,function(a){return i(c,a)});if(a.length!==0)return b("bs_block").__(2,[a])}function m(a,c){a=c.attachment;c=b("bs_belt_Option").map(a.A,function(a){return new(h||(h=b("URI")))(a)});return b("bs_block").__(5,[{duration:b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(a.bd,b("bs_caml_int64").to_float),0),url:c!==void 0?b("bs_caml_option").valFromOption(c):(b("recoverableViolation")("Attachment has no playable_url "+a.e,"messenger_privacy_web"),new(h||(h=b("URI")))(""))}])}function n(a,c){a=c.attachment;c=b("bs_belt_Option").map(a.L,b("bs_caml_int64").to_int32);var d=b("bs_belt_Option").map(a.K,b("bs_caml_int64").to_int32),e=a.A,f=a.A;return b("bs_block").__(6,[{height:c!==void 0?c:(b("recoverableViolation")("Video Attachment has no preview_height"+a.e,"messenger_privacy_web"),0),width:d!==void 0?d:(b("recoverableViolation")("Video Attachment has no preview_width"+a.e,"messenger_privacy_web"),0),previewUrl:e!==void 0?e:(b("recoverableViolation")("Attachment has no playable_url "+a.e,"messenger_privacy_web"),""),fbid:b("FBID.bs").ofString(a.e),render_as_sticker:!1,dimensions:void 0,duration:b("bs_belt_Option").map(a.bd,b("bs_caml_int64").to_int32),large_size:void 0,large_preview:void 0,inbox_size:void 0,inbox_preview:void 0,url:f!==void 0?f:(b("recoverableViolation")("Attachment has no playable_url "+a.e,"messenger_privacy_web"),"")}])}function o(a,c){c=c.attachment;return b("bs_block").__(7,[b("bs_block").__(1,[{preview:void 0,title:c.R,description:c.V,icon:void 0,action:void 0,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]},void 0,a.messageID])])}function p(a){a=a.message.i;if(a!==void 0)return b("bs_int64").compare(b("bs_caml_format").caml_int64_of_string(b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID),a)===0;else return!1}var q=b("bs_block").__(0,[{accessibilityLabel:g._("Thumbs up"),frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI2x:void 0,paddedSpriteURI:void 0,spriteURI2x:void 0,spriteURI:void 0,stickerID:b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,url:"",width:void 0,height:void 0}]);function a(a,c){var d=a.attachments;if(p(a))return q;else{var e=d.length;if(e!==1)if(e!==0)return l(d,c);else{b("recoverableViolation")("Message said to have attachments but no attachments were found. MessageID: "+a.message.e,"messenger_privacy_web");return}else{e=d[0];d=e.attachment.f;if(b("bs_caml_int64").eq(d,b("MessagingAttachmentType.bs").none))return o(c,e);else if(b("bs_caml_int64").eq(d,b("MessagingAttachmentType.bs").animated_image)||b("bs_caml_int64").eq(d,b("MessagingAttachmentType.bs").image))return j(c,e);else if(b("bs_caml_int64").eq(d,b("MessagingAttachmentType.bs").sticker))return k(c,e);else if(b("bs_caml_int64").eq(d,b("MessagingAttachmentType.bs").file)||b("bs_caml_int64").eq(d,b("MessagingAttachmentType.bs").xma))return b("MWLSXmaParser.bs").parserForAttachment(a.message.g,c.messageID,c,a.sender_name,e);else if(b("bs_caml_int64").eq(d,b("MessagingAttachmentType.bs").audio))return m(c,e);else if(b("bs_caml_int64").eq(d,b("MessagingAttachmentType.bs").video))return n(c,e);else return b("unrecoverableViolation")("Unknown attachment type","messenger_comet")}}}f.MessageMarkedAsAttachmentButNoAttachmentFound=c;f.parsePhotoContent=i;f.parsePhoto=j;f.parseSticker=k;f.parsePhotoGroup=l;f.parseAudio=m;f.parseVideo=n;f.parseUnavailableAttachment=o;f.isHotLike=p;f.hotLike=q;f.parseMessageWithAttachments=a}),null);
__d("LSMessageSendStatusV2.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1];c=[0,2];d=[0,4];e=[0,5];var g=[0,6];f.none=a;f.sending_to_server=b;f.server_received=c;f.non_retriable_error=d;f.retriable_error=e;f.sent_only=g}),null);
__d("MWLSParserUtils.bs",["bs_caml_int64","bs_belt_Option","recoverableViolation","LSMessageSendStatusV2.bs","LSMessageReplySourceTypeV2.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_belt_Option").isSome(a.message.r)}function c(a){a=a.message.t;if(a!==void 0&&b("bs_caml_int64").eq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function g(a){return a.message.l===b("LSMessageSendStatusV2.bs").server_received}function d(a){if(a.message.m&&b("bs_belt_Option").getWithDefault(a.message.g,"")==="")return g(a);else return!1}function e(a){a=b("bs_belt_Option").map(a.default_cta,function(a){return a.g});if(a!==void 0)return a;else{b("recoverableViolation")("XMA Attachment has unknown CTA Type","messenger_privacy_web");return"fallback"}}f.isReplyToSomething=a;f.isForwarded=c;f.hasBeenReceivedByServer=g;f.isRemoved=d;f.getXmaType=e}),null);
__d("MWLSMessageForwardParser.bs",["ix","fbt","bs_int64","React","bs_caml_array","bs_caml_int64","fbicon","stylex","bs_belt_Option","MWLSParserUtils.bs","CometTintedIcon.react","MessagingAttachmentType.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={icon:{bottom:"rwy7c4ue","float":"bzsjyuwj",paddingEnd:"ph5uu5jm",height:"cyypbtt7",position:"l9j0dhe7"},text:{color:"pipptul6",fontSize:"e9vueds3",lineHeight:"j5wam9gi",marginBottom:"gjjqq4r6"}};function l(a){return h._("{name} forwarded a message",[h._param("name",a)])}var m=h._("Forwarded a message");function n(a){return h._("{name} forwarded an image",[h._param("name",a)])}var o=h._("Forwarded an image");function p(a){return h._("{name} forwarded a link",[h._param("name",a)])}var q=h._("Forwarded a link");function r(a){return h._("{name} forwarded a video",[h._param("name",a)])}var s=h._("Forwarded a video");function t(a,c){var d=b("bs_int64").to_string(a.message.h);if(d===c)return"You";else return a.sender_name}function a(a,c){c=t(a,c);a=a.attachments;var d=a.length;d=d!==1?d!==0?b("bs_caml_array").caml_array_get(a,0):void 0:a[0];a=b("bs_belt_Option").map(d,function(a){return a.attachment.f});if(a!==void 0){a=a;d=b("bs_caml_int64").eq(a,b("MessagingAttachmentType.bs").animated_image)||b("bs_caml_int64").eq(a,b("MessagingAttachmentType.bs").image)?b("bs_belt_Option").mapWithDefault(c,o,n):b("bs_caml_int64").eq(a,b("MessagingAttachmentType.bs").animated_image)&&b("bs_belt_Option").map(d,b("MWLSParserUtils.bs").getXmaType)==="xma_web_url"?b("bs_belt_Option").mapWithDefault(c,q,p):b("bs_caml_int64").eq(a,b("MessagingAttachmentType.bs").video)?b("bs_belt_Option").mapWithDefault(c,s,r):void 0}else d=b("bs_belt_Option").mapWithDefault(c,m,l);return b("bs_belt_Option").map(d,function(a){return j.jsxs("div",{children:[j.jsx("div",{children:j.jsx(b("CometTintedIcon.react"),{color:"fds-gray-45",icon:b("fbicon")._(g("514450"),12)}),className:(i||(i=b("stylex")))(k.icon)}),a],className:i(k.text)})})}f.styles=k;f.textForwardedBySomeone=l;f.textForwardedByUnknown=m;f.imageForwardedBySomeone=n;f.imageForwardedByUnknown=o;f.linkForwardedBySomeone=p;f.linkForwardedByUnknown=q;f.videoForwardedBySomeone=r;f.videoForwardedByUnknown=s;f.getForwarderName=t;f.getGroupTitleForForwardedMessage=a}),null);
__d("LSMessageThreadUnsendabilityStatus.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1];c=[0,2];d=[0,3];e=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9];f.can_unsend=a;f.deny_for_specific_ids=b;f.deny_if_thread_contains_pau=c;f.deny_if_thread_contains_work_user=d;f.deny_if_page_thread=e;f.deny_if_marketplace_thread=g;f.deny_if_cannot_load_thread=h;f.deny_if_thread_contains_work_user_failing_killswitch=i;f.deny_if_canonical_thread_contains_blocked_users=j;f.deny_if_cannot_reply_to_viewer_thread=k}),null);
__d("MWChatMessageUnsendability.bs",["bs_caml_obj","MessageUnsendabilityStatus","MessageThreadUnsendabilityStatus"],(function(a,b,c,d,e,f){"use strict";function g(a){a=a.thread_unsendability_status;if(a==null)return!1;else return b("bs_caml_obj").caml_equal(a,b("MessageThreadUnsendabilityStatus").CAN_UNSEND)}function h(a){a=a.message_unsendability_status;if(a==null)return!0;else return b("bs_caml_obj").caml_equal(a,b("MessageUnsendabilityStatus").CAN_UNSEND)}function a(a,b){if(g(b))return h(a);else return!1}function c(a){a=a+6e5;return Date.now()<a}f.isThreadEligibleToUnsendMessage=g;f.isMessageEligibleToUnsendMessage=h;f.canUnsend=a;f.isRecent=c}),null);
__d("MWChatMessageId.bs",["bs_block","bs_caml_format"],(function(a,b,c,d,e,f){"use strict";function a(a){if(typeof a==="number"||!a.tag)return;else return a[0].messageId}function c(a,c,d){return b("bs_block").__(1,[{threadId:b("bs_caml_format").caml_int64_of_string(a),messageId:c,timestamp:b("bs_caml_format").caml_int64_of_string(d)}])}function d(a){return b("bs_block").__(1,[{threadId:[0,0],messageId:a,timestamp:[0,0]}])}e=b("bs_block").__(1,[{threadId:[0,0],messageId:"",timestamp:[0,0]}]);f.getMessageId=a;f.makeSent=c;f.emptyForExamples=e;f.emptyForExamplesWithId=d}),null);
__d("MWXMA.bs",["bs_caml_array"],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a.tag|0){case 0:return b("bs_caml_array").caml_array_get(a[0],0).canForward;case 1:case 2:return a[0].canForward}}c=[];d={preview:void 0,title:void 0,description:void 0,icon:void 0,action:void 0,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:c};f.canForward=a;f.emptyContent=d}),null);
__d("MWChatXmaMessage.bs",["ix","fbt","URI","bs_block","MWXMA.bs","bs_string","gkx","bs_belt_Array","bs_caml_array","fbicon","bs_belt_Option","bs_caml_option","CurrentUser","MWChatMessageId.bs","recoverableViolation","XCometInstantGamesHubPlayControllerRouteBuilder"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){if(b("gkx")("1251877")){a=a.subattachments;if(a==null||a.length===0)return 24;else{a=a[0].style_list;if(a==null||a.length===0)return 24;else{a=a[0];switch(a){case"video":case"video_autoplay":case"video_inline":return 0;default:return 24}}}}else return 24}function a(a){var c=a.style_list;if(c==null||c.length===0)return;else{var d=0;while(!0){var e=d,f=b("bs_caml_array").caml_array_get(c,e);switch(f){case"airline_boarding_pass":if(b("gkx")("1086307"))return 19;else return 23;case"airline_checkin_reminder":if(b("gkx")("1086307"))return 18;else return 23;case"airline_itinerary":if(b("gkx")("1086307"))return 22;else return 23;case"airline_update":if(b("gkx")("1086307"))return 17;else return 23;case"attached_story":return j(a);case"business_message_items":return 2;case"instant_games_custom_update":return 6;case"messenger_platform_media_attachment":return 7;case"orion":return 21;case"orion_request":return 20;case"pages_platform_booking_message":return 5;case"messenger_platform_button_list":case"messenger_platform_compact_item":case"messenger_platform_cover_item":case"retail_item":return 3;case"retail_receipt":return 4;case"rooms_speakeasy_xma":return 16;case"share":return 24;case"h_scroll":case"vertical_attachment_list":return 1;default:if((e+1|0)<c.length){d=e+1|0;continue}else return 23}}}}function k(a){switch(a){case 1:return 0;case 2:return 1;case 3:return 4;case 4:return 2;default:return 4}}function l(a){a=new(i||(i=b("URI")))(a).getQueryData();var c=a.game_id,d=a.payload,e=a.context_id,f=a.context_type;a=a.source;return b("XCometInstantGamesHubPlayControllerRouteBuilder").buildURL({context_source_id:e,context_type:f,gameorlink:c,payload:d,source:a})}function m(a,c){var d=c.title,e={pageId:c.page_id,ctaId:c.id},f=c.action_link;f=f==null?void 0:b("bs_caml_option").some(f);var g=k(c.action_type),h=0;if(g>=3)h=2;else switch(g){case 0:h=2;break;case 1:return b("bs_belt_Option").map(f,function(a){return b("bs_block").__(0,[a,819537557,e])});case 2:return b("bs_block").__(2,[d,{cta_id:c.id,prev_message_id:void 0,ref:void 0,force_handle:!0,postback_cta_ref_source:void 0},e])}h===2&&a!==void 0&&a!==6;if(b("bs_belt_Option").mapWithDefault(f,!1,function(a){return a.startsWith("fb-messenger://instant_games")}))return b("bs_belt_Option").map(f,function(a){return b("bs_block").__(0,[l(a),-10377365,e])});else if(a!==void 0&&!(a!==2||g!==0))return b("bs_belt_Option").map(f,function(a){return b("bs_block").__(4,[b("bs_block").__(4,[{actionLink:a,pageID:c.page_id,userID:b("bs_caml_option").some(b("CurrentUser").getID()),sourceTitle:d}]),e])});else return}function n(a,c){var d=c.metalines;d=d==null?void 0:b("bs_caml_option").nullable_to_opt(d.metaline_1);var e=c.default_action,f=c.call_to_actions,g,h=0;e==null?h=1:f==null?g=void 0:f.length!==0?h=1:g=b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(e.action_link),function(a){return b("bs_block").__(0,[b("bs_block").__(0,[a,819537557,void 0])])});if(h===1)if(f==null)g=void 0;else{e=b("bs_belt_Array").keepMap(f.filter(function(a){return a.action_type!==12}),function(c){return b("bs_belt_Option").map(m(a,c),function(a){return{title:c.title,action:a}})});g=b("bs_block").__(1,[e])}h=c.media_blob_attachments;var i;if(h==null||h.length===0)i=void 0;else{f=h[0];e=f.__typename;if(e==null)i=void 0;else switch(e){case"Photo":h=f.large_preview;if(h==null)i=void 0;else{e=h.uri;i=e==null?void 0:b("bs_block").__(0,[e,{expand:!1}])}break;case"Video":h=f.id;e=f.height;var j=f.width;f=f.playable_url;i=h==null||e==null||j==null||f==null?void 0:b("bs_block").__(1,[f,h,{height:e,width:j,expand:!1}]);break;default:i=void 0}}return{preview:i!==void 0?i:b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(c.thumb_url),function(a){return b("bs_block").__(0,[a,{expand:!1}])}),title:b("bs_caml_option").nullable_to_opt(c.title),description:d,icon:void 0,action:g,canForward:i!==void 0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function o(a,b){var c=b.items;if(c==null)return;else if(c.length!==0){c=c[0];return n(a,c)}else return n(a,b)}function p(a,b){var c=b.items;if(c==null)return;else if(c.length!==0){c=c[0];return n(a,c)}else return n(a,b)}function q(a,c){if(b("gkx")("1251877")){a=c.subattachments;if(a==null||a.length===0)return;else{a=a[0];var d=a.target,e=a.media;if(d==null||e==null)return;else{d=d.video_id;var f=e.image_size,g=e.source;e=e.image;if(d==null||f==null||g==null||e==null)return;else{e=f.height;f=f.width;if(e==null||f==null)return;else{g=b("bs_block").__(1,[g,d,{height:e,width:f,expand:!0}]);d=a.title;e=d==null||d===""?b("bs_caml_option").nullable_to_opt(c.description):d==null?void 0:b("bs_caml_option").some(d);f=a.uri;return{preview:g,title:e,description:b("bs_caml_option").nullable_to_opt(c.source),icon:void 0,action:f==null?(b("recoverableViolation")("Shared video is missing a url","messenger"),void 0):b("bs_block").__(0,[b("bs_block").__(0,[f,-10377365,void 0])]),canForward:!0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}}}}}}function r(a,c){var d=c.items;d=d==null?"0":String(d.length);var e=c.total_cost;e=e==null?"":e;var f=c.payment_method;f=f==null?"":f;var i="",j="",k="",l=c.structured_address;if(!(l==null)){var m=l.city;i=m==null?"":m;m=l.country;m==null?"":m;m=l.postal_code;j=m==null?"":m;m=l.state;k=m==null?"":m}l=b("bs_string").concat(" ",[d,["items",[e,0]]]);m=h._("{receipt_subtitle}",[h._param("receipt_subtitle",l)]);d=f;e=i.length!==0?b("bs_string").concat("",[i,[", ",[k,[" ",[j,0]]]]]):void 0;l=b("bs_belt_Array").keepMap([m,d,e],function(a){return a}).join("\n");return{preview:void 0,title:h._("Order Confirmation"),description:l,icon:b("bs_block").__(0,[{icon:b("fbicon")._(g("498146"),20),color:-910341463}]),action:b("bs_belt_Option").map(b("MWChatMessageId.bs").getMessageId(a),function(a){return b("bs_block").__(0,[b("bs_block").__(4,[b("bs_block").__(0,[{receiptId:b("bs_caml_option").nullable_to_opt(c.receipt_id),messageId:a}]),void 0])])}),canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function s(a){var c=a.pageID;c=c==null?"":c;var d=a.id,e=a.title;e=e==null?"":e;a=a.subtitle;a=a==null?"":a;return{preview:void 0,title:e,description:a,icon:void 0,action:b("bs_block").__(1,[[{title:h._("View Details"),action:b("bs_block").__(4,[b("bs_block").__(2,[{pageId:c,requestId:d}]),void 0])}]]),canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}var t=b("bs_block").__(0,[{icon:b("fbicon")._(g("571771"),20),color:322339018}]);function u(a){var b=a.arrival_airport.airport_code,c=a.arrival_time_info.formatted_time_for_display,d=a.departure_airport.airport_code;a=a.departure_time_info.formatted_time_for_display;d=h._("Departs {departure airport}{punctuation to separate airport and time}{departure time}",[h._param("departure airport",d),h._param("punctuation to separate airport and time"," \u2022 "),h._param("departure time",a)]);a=h._("Arrives {arrival airport}{punctuation to separate airport and time}{arrival time}",[h._param("arrival airport",b),h._param("punctuation to separate airport and time"," \u2022 "),h._param("arrival time",c)]);return[d,a]}function v(a){var c=a.flight_infos,d;if(c==null)d=["","",""];else{var e=c.length;if(e!==0){e=u(b("bs_caml_array").caml_array_get(c,0));d=[b("bs_caml_array").caml_array_get(c,0).flight_number,e[0],e[1]]}else d=["","",""]}c=h._("Time to check in for Flight {flight number}",[h._param("flight number",d[0])]);return{preview:void 0,title:c,description:[d[1],d[2]].join("\n"),icon:t,action:b("bs_block").__(1,[[{title:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.checkin_cta_label),""),action:b("bs_block").__(0,[b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.checkin_url),""),819537557,void 0])}]]),canForward:!0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function w(a){var b=a.flight_info,c;if(b==null)c=["","","","","",""];else{var d=u(b);c=[b.flight_number,b.arrival_airport.airport_code,b.departure_airport.airport_code,b.departure_airport.gate,d[0],d[1]]}b=c[2];d=c[0];a=a.update_type;var e;if(a==null)e=[void 0,void 0,void 0];else switch(a){case"FLIGHT CANCELLATION":a=h._("Departs {departure airport}{punctuation to separate airport and flight cancellation}Canceled",[h._param("departure airport",b),h._param("punctuation to separate airport and flight cancellation"," \u2022 ")]);var f=h._("Arrives {arrival airport}{punctuation to separate airport and flight cancellation}Canceled",[h._param("arrival airport",c[1]),h._param("punctuation to separate airport and flight cancellation"," \u2022 ")]),g=h._("Flight {flight number} is canceled",[h._param("flight number",d)]);e=[g,a,f];break;case"FLIGHT DELAY":g=h._("Flight {flight number} is delayed",[h._param("flight number",d)]);e=[g,c[4],c[5]];break;case"GATE CHANGE":a=h._("Departs {departure airport}{punctuation to separate airport and gate}Gate {gate}",[h._param("departure airport",b),h._param("punctuation to separate airport and gate"," \u2022 "),h._param("gate",c[3])]);e=[h._("Gate change for Flight {flight number}",[h._param("flight number",d)]),a,void 0];break;default:e=[void 0,void 0,void 0]}return{preview:void 0,title:e[0],description:[e[1],e[2]].join("\n"),icon:t,action:void 0,canForward:!0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function x(a){var c=a.boarding_passes,d;if(c==null)d=["","","","",void 0,[]];else{c=c.nodes;var e=c.length,f=b("bs_caml_array").caml_array_get(c,0).flight_info,g=u(f),i=g[1];g=g[0];d=e!==0?e!==1?[f.flight_number,g,i,h._("{passenger count} Passengers",[h._param("passenger count",String(e))]),void 0,c]:[f.flight_number,g,i,b("bs_caml_array").caml_array_get(c,0).passenger.passenger.name,b("bs_caml_array").caml_array_get(c,0).qr_code_image_url,c]:["","","","",void 0,[]]}e=h._("Flight {flight number}",[h._param("flight number",d[0])]);return{preview:b("bs_belt_Option").map(d[4],function(a){return b("bs_block").__(0,[a,{expand:!0}])}),title:e,description:[d[1],d[2],d[3]].filter(function(a){return a!==""}).join("\n"),icon:t,action:b("bs_block").__(1,[[{title:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.view_boarding_pass_cta_label),""),action:b("bs_block").__(4,[b("bs_block").__(1,[d[5]]),{pageId:"",ctaId:""}])}]]),canForward:!0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function y(a){var b=a.aircraft_type_label;b=b==null?"":b;var c=a.arrival_time_label;c=c==null?"":c;var d=a.base_price_label;d=d==null?"":d;var e=a.booking_number_label;e=e==null?"":e;var f=a.departure_time_label;f=f==null?"":f;var g=a.flight_confirmation_label;g=g==null?"":g;var h=a.flight_date_label;h=h==null?"":h;var i=a.flight_label;i=i==null?"":i;var j=a.flight_terminal_label;j=j==null?"":j;var k=a.itinerary_error_title_label;k=k==null?"":k;var l=a.itinerary_title_label;l=l==null?"":l;var m=a.passenger_name_label;m=m==null?"":m;var n=a.passenger_names_label;n=n==null?"":n;var o=a.passenger_seat_label;o=o==null?"":o;var p=a.purchase_summary_label;p=p==null?"":p;var q=a.taxes_label;q=q==null?"":q;a=a.total_label;a=a==null?"":a;return{aircraftTypeLabel:b,arrivalTimeLabel:c,basePriceLabel:d,bookingNumberLabel:e,departureTimeLabel:f,flightConfirmationLabel:g,flightDateLabel:h,flightLabel:i,flightTerminalLabel:j,itineraryErrorTitleLabel:k,itineraryTitleLabel:l,passengerNameLabel:m,passengerNamesLabel:n,passengerSeatLabel:o,purchaseSummaryLabel:p,taxesLabel:q,totalLabel:a}}function z(a){var c=a.confirmation_number;c=c==null?"":c;var d=a.formatted_tax;d=d==null?"":d;var e=a.formatted_base_price;e=e==null?"":e;var f=a.formatted_total;f=f==null?"":f;var g=a.passenger_infos;g=g==null?0:g.length;var i=a.itemized_price_infos;i=i==null?[]:i;var j=a.itinerary_legs,k;if(j==null)k=[0,"",void 0];else{var l=j.nodes.length;if(l!==0){j=b("bs_caml_array").caml_array_get(j.nodes,0).segments.nodes;var m=y(a);e={confirmation_number:c,formatted_base_price:e,formatted_tax:d,formatted_total:f,itinerary_details:j,itemized_price_infos:i,labels:m};d=j.length;k=d!==0?[l,b("bs_caml_array").caml_array_get(j,0).flight_info.flight_number,b("bs_caml_option").some(e)]:[0,"",void 0]}else k=[0,"",void 0]}f=k[2];i=h._("Flight Itinerary");m=h._("Booking {confirmation number}{punctuation to separate confimation number and flight number}{flight number}",[h._param("confirmation number",c),h._param("punctuation to separate confimation number and flight number"," \u2022 "),h._param("flight number",k[1])]);d=h._("{flight numbers} Flights{punctuation to separate flight numbers and passenger numbers}{passenger numbers} Passengers",[h._param("flight numbers",String(k[0])),h._param("punctuation to separate flight numbers and passenger numbers"," \u2022 "),h._param("passenger numbers",String(g))]);return{preview:void 0,title:i,description:b("bs_belt_Array").keepMap([m,d],function(a){return a}).join("\n"),icon:t,action:f!==void 0?b("bs_block").__(1,[[{title:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.view_details_cta_label),""),action:b("bs_block").__(4,[b("bs_block").__(3,[b("bs_caml_option").valFromOption(f)]),{pageId:"",ctaId:""}])}]]):void 0,canForward:!0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function A(a){a=a.requestMetadata;if(a==null)return;else return s(a)}function B(a,c){var d=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.amountWithSymbol),"")+" ",e=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.memoText),""),f=a.receiver;f=f==null?void 0:b("bs_caml_option").some(f.id);var i=a.status;i=i==null?void 0:b("bs_caml_option").some(i);if(b("bs_caml_option").some(b("CurrentUser").getID())===f&&i!==9){f=b("bs_block").__(1,[b("bs_belt_Array").keepMap([i===4?{title:h._("Receive Money"),action:b("bs_block").__(4,[b("bs_block").__(9,[{id:a.transfer_id,currentStatus:a.status}]),void 0])}:i===6?{title:h._("Verify Info"),action:b("bs_block").__(4,[b("bs_block").__(10,[{id:a.transfer_id,currentStatus:a.status}]),void 0])}:void 0,i===4||i===6?{title:h._("Decline"),action:b("bs_block").__(4,[b("bs_block").__(8,[{id:a.transfer_id,currentStatus:a.status}]),void 0])}:void 0],function(a){return a})]);i=f;i=i.tag&&i[0].length>0?f:void 0}else i=void 0;f=a.status;var j;if(f==null)j="";else switch(f){case 5:j=h._("Declined");break;case 13:j=h._("Complete");break;case 14:j=h._("Processing");break;case 3:case 10:case 11:case 12:case 16:case 19:j=h._("Canceled");break;case 1:case 2:case 4:case 6:case 7:case 8:case 9:case 15:case 17:case 18:case 20:case 21:j=h._("Pending");break;default:j=""}f=a.status;var k;if(f==null)k=-999567389;else switch(f){case 3:case 5:case 10:case 11:case 12:case 13:case 14:case 16:case 19:k=-999567389;break;case 1:case 2:case 4:case 6:case 7:case 8:case 9:case 15:case 17:case 18:case 20:case 21:k=-944564459;break;default:k=-999567389}return{preview:void 0,title:e.length>0?h._("{amount_with_symbol}for {memo_text}",[h._param("amount_with_symbol",d),h._param("memo_text",e)]):h._("{amount_with_symbol}",[h._param("amount_with_symbol",d)]),description:j,icon:b("bs_block").__(0,[{icon:b("fbicon")._(g("847056"),20),color:k}]),action:i!==void 0?i:b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(c.uri),function(a){return b("bs_block").__(0,[b("bs_block").__(0,[a,819537557,void 0])])}),canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function C(a,c){var d=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.amountWithSymbol),"")+" ",e=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.memoText),""),f=a.requestee;f=f==null?void 0:b("bs_caml_option").some(f.id);f=b("bs_caml_option").nullable_to_opt(a.currentStatus)===1?b("bs_caml_option").some(b("CurrentUser").getID())===f?b("bs_block").__(1,[[{title:h._("Decline"),action:b("bs_block").__(4,[b("bs_block").__(7,[{id:a.id,currentStatus:a.currentStatus}]),void 0])},{title:h._("Pay"),action:b("bs_block").__(4,[b("bs_block").__(6,[{id:a.id,currentStatus:a.currentStatus}]),void 0])}]]):b("bs_block").__(1,[[{title:h._("Cancel"),action:b("bs_block").__(4,[b("bs_block").__(5,[{id:a.id,currentStatus:a.currentStatus}]),void 0])}]]):void 0;var i=a.currentStatus,j;if(i==null)j="";else switch(i){case 1:j=h._("Pending");break;case 2:j=h._("Declined");break;case 3:j=h._("Initiated");break;case 4:j=h._("Completed");break;case 5:j=h._("Failed");break;case 6:j=h._("Canceled");break;case 7:j=h._("Expired");break;default:j=""}i=a.currentStatus;return{preview:void 0,title:e.length>0?h._("{amount_with_symbol}Request for {memo_text}",[h._param("amount_with_symbol",d),h._param("memo_text",e)]):h._("{amount_with_symbol}Request",[h._param("amount_with_symbol",d)]),description:j,icon:b("bs_block").__(0,[{icon:b("fbicon")._(g("847056"),20),color:i==null?-999567389:i>=3?i>=5?-999567389:-944564459:i!==1?-999567389:-944564459}]),action:f!==void 0?f:b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(c.uri),function(a){return b("bs_block").__(0,[b("bs_block").__(0,[a,819537557,void 0])])}),canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]}}function c(a,c){var d=c.title;d=d==null||d===""?b("bs_caml_option").nullable_to_opt(c.description):d==null?void 0:b("bs_caml_option").some(d);return b("bs_block").__(1,[{preview:b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(c.media),function(a){a=a.image;if(a==null)return;else return b("bs_block").__(0,[a,{expand:!1}])}),title:d,description:b("bs_caml_option").nullable_to_opt(c.source),icon:void 0,action:b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(c.uri),function(a){return b("bs_block").__(0,[b("bs_block").__(0,[a,819537557,void 0])])}),canForward:!0,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]},void 0,a])}function d(a,c){var d=c.messenger_ctas,e,f=0;if(d==null||d.length!==1)f=1;else{d=d[0];e=b("bs_block").__(1,[[{title:d.action_title,action:b("bs_block").__(4,[b("bs_block").__(13,[{linkUrl:d.action_url}]),void 0])}]])}if(f===1){d=c.uri;e=d==null?void 0:b("bs_block").__(1,[[{title:"Try again",action:b("bs_block").__(0,[d,819537557,void 0])}]])}return b("bs_block").__(1,[{preview:b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(c.media),function(a){a=a.image;if(a==null)return;else return b("bs_block").__(0,[a,{expand:!1}])}),title:b("bs_caml_option").nullable_to_opt(c.title),description:b("bs_caml_option").nullable_to_opt(c.description),icon:b("MWXMA.bs").emptyContent.icon,action:e,canForward:b("MWXMA.bs").emptyContent.canForward,listItemsId:b("MWXMA.bs").emptyContent.listItemsId,listItemsDescriptionText:b("MWXMA.bs").emptyContent.listItemsDescriptionText,listItemsSecondaryDescriptionText:b("MWXMA.bs").emptyContent.listItemsSecondaryDescriptionText,listItems:b("MWXMA.bs").emptyContent.listItems},void 0,a])}function e(a,b,c,d){if(d!==void 0)switch(d){case 0:return q(a,b);case 2:return o(d,a);case 3:return n(d,a);case 4:return r(c,a);case 5:return A(a);case 17:return w(a);case 18:return v(a);case 19:return x(a);case 20:return C(a,b);case 21:return B(a,b);case 22:return z(a);case 1:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 23:case 24:return p(d,a)}else return p(d,a)}f.parseXMATypeForAttachedStory=j;f.parseXMAType=a;f.convertCTAType=k;f.getGameUrl=l;f.parseXMAGenericCta=m;f.parseXMAGenericItem=n;f.parseBusinessGeneric=o;f.parseFirstXMAGenericItemFromTarget=p;f.parseVideoShare=q;f.parseXMAReceipt=r;f.parseNativeBookingRequestMetadata=s;f.airlineIcon=t;f.getAirlineTemplateSubtitles=u;f.parseAirlineCheckIn=v;f.parseAirlineUpdate=w;f.parseAirlineBoardingPass=x;f.parseAirlineItineraryLabels=y;f.parseAirlineItinerary=z;f.parseNativeBookingRequest=A;f.parseP2pPaymentTransaction=B;f.parseP2pPaymentRequest=C;f.parseLinkShare=c;f.parseRoomsRingback=d;f.parseSingleXMATarget=e}),null);
__d("MWChatMessage.bs",["FBID.bs","bs_array","bs_block","bs_curry","bs_js_exn","gkx","bs_js_dict","bs_caml_obj","bs_belt_Array","bs_caml_int64","LogHistory","MercuryIDs","bs_belt_Option","bs_caml_format","bs_caml_option","CurrentUser","GenderConst","requireCond","getURLRanges","EmojiRenderer","EmoticonRenderer","MWChatXmaMessage.bs","MercuryAudioType","MessengerMessage.bs","MercuryActionType","bs_caml_js_exceptions","recoverableViolation","MessengerParticipants.bs","MWChatMessageUnsendability.bs","RepliedToMessageStatusForGraphQL","cr:1332660"],(function(a,b,c,d,e,f){"use strict";d={};var g=/^[ \r\n\s]*$/;function h(a){var c=b("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),d=b("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}});c=c.concat(d).sort(function(a,b){return a.offset-b.offset|0});if(c.length===0)return!1;else{var e={contents:0},f={contents:0};d=c.some(function(b){e.contents===b.offset?(e.contents=e.contents+b.length|0,f.contents=e.contents):f.contents=b.offset;var c=a.substring(e.contents,f.contents);e.contents=b.offset+b.length|0;return g.test(c)===!1});c=e.contents!==a.length&&!g.test(a.substring(f.contents));if(d)return!1;else return!c}}function i(a){a=b("getURLRanges")(a);var c=[];a.forEach(function(a){a={offset:a.offset,length:a.length,entity:{__typename:"Link",uri:a.entity.url}};c.push(a);return 0});return c}function j(a,c,d,e,f,g){var h=g.watermark;g=g.action;var i=a.name;c=b("bs_caml_obj").caml_lessequal(c.timestamp,h)||c.author===a.id&&b("bs_caml_obj").caml_notequal(c.action_type,b("MercuryActionType").LOG_MESSAGE)&&!d;if(e!==void 0){d=b("bs_caml_option").valFromOption(e);e=d.author===a.id||!b("bs_caml_obj").caml_greaterthan(d.timestamp,h)?!1:c}else e=c;d=a.big_image_src;if(!(d==null)&&e)return f.concat([{imageSrc:d,name:i,id:a.id,gender:a.gender,timestamp:g}]);else return f}function k(a,c,d,e,f,g){var h=b("bs_belt_Option").mapWithDefault(b("bs_caml_option").nullable_to_opt(g.last()),0,function(a){return a.watermark});h=d.timestamp<=h&&!d.is_one_way_sent;a=b("bs_js_dict").values(b("bs_belt_Option").getWithDefault(a,{})).reduce(function(a,f){return b("bs_belt_Option").mapWithDefault(b("bs_caml_option").nullable_to_opt(g.get(f.id)),a,function(b){return j(f,d,e,c,a,b)})},[]);var i=b("bs_caml_obj").caml_notequal(a,[]);if(i)return[a];else if(e&&h)return 0;else return b("MessengerMessage.bs").getGutterItemStatus(d,f)}function l(a,c){var d=b("MessengerParticipants.bs").getNow(a),e=function(a){if(d==null)return;else return d.short_name};a=b("MercuryIDs").getUserIDFromParticipantID(a);if(a==null)return e(0);else{c=b("bs_js_dict").get(c,a);if(c!==void 0)return c;else return e(0)}}function m(a){a=b("MessengerParticipants.bs").getNow(a);if(a==null)return b("GenderConst").UNKNOWN_SINGULAR;else return a.gender}function n(a){if(a==null)return!1;else return a.includes("message:save")}function o(a,c){a=a.reactions;if(a==null||Object.keys(a).length===0)return;else{var d={};b("bs_js_dict").entries(a).forEach(function(a){var e=a[1];a=b("FBID.bs").ofString(a[0]);a=a!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(a)):void 0;if(a!==void 0){a=b("bs_caml_option").valFromOption(a);var f=b("bs_js_dict").get(d,e),g=l(b("MercuryIDs").getParticipantIDFromUserID(a),c);if(f!==void 0){f=f;f.push([a,g]);d[e]=f;return 0}else{d[e]=[[a,g]];return 0}}else return 0});return b("bs_caml_option").some(d)}}function p(a){var c=[];a.forEach(function(a){var d=a.id;if(d==null)return 0;else{var e=b("FBID.bs").ofString(d);if(e!==void 0){a={offset:a.offset,length:a.length,entity:{__typename:"Profile",uri:"/"+d,id:b("bs_caml_option").valFromOption(e)}};c.push(a);return 0}else return 0}});return c}function q(a){var b=[];a==null||a.forEach(function(a){b.push({offset:a.offset,length:a.length,entity:{__typename:"Highlight"}});return 0});return b}function r(a){a=a.reactions;if(a==null)return;else return b("bs_js_dict").get(a,b("CurrentUser").getID())}function s(a,c,d){if(h(a))return{text:a,ranges:[],isForwarded:c.is_forwarded,isEmojiOnly:!0};else{d=p(d);var e=i(a),f=q(c.ranges),g=b("cr:1332660")==null?[]:b("bs_curry")._1(b("cr:1332660").getURLRanges,a);return{text:a,ranges:b("bs_array").concat([d,[e,[f,[g,0]]]]),isForwarded:c.is_forwarded,isEmojiOnly:!1}}}function t(a){var c=a.preview_url;if(c==null){b("LogHistory").getInstance("messenger-comet").error("message-parse-photo-no-preview","");b("recoverableViolation")("message-parse-photo-no-preview","messenger_comet");return}else{var d=a.app_attribution;d=d==null?void 0:{id:d.id,iconUrl:b("bs_caml_option").nullable_to_opt(d.icon_url),name:d.name};var e=a.metadata;e=e==null?void 0:b("bs_caml_option").nullable_to_opt(e.fbid);var f=a.preview_height;f=f==null?void 0:f|0;var g=a.preview_width;g=g==null?void 0:g|0;var h=a.attach_type;h=h==="animated_image"?!0:!1;return b("bs_block").__(1,[{isGIF:h,previewUrl:c,previewHeight:f,previewWidth:g,appAttribution:d,photoFbid:e,blurredImageUri:b("bs_caml_option").nullable_to_opt(a.blurred_image_uri),decryptionKey:void 0}])}}function u(a){var c=a.preview_url,d=a.url,e=a.preview_height,f=a.preview_width,g=a.metadata;if(!(c==null)&&!(d==null)&&!(e==null)&&!(f==null)&&!(g==null)){return b("bs_block").__(6,[{height:e|0,width:f|0,previewUrl:c,fbid:(e=b("bs_caml_option")).nullable_to_opt(g.fbid),render_as_sticker:e.nullable_to_opt(g.render_as_sticker),dimensions:e.nullable_to_opt(g.dimensions),duration:e.nullable_to_opt(g.duration),large_size:e.nullable_to_opt(g.large_size),large_preview:e.nullable_to_opt(g.large_preview),inbox_size:e.nullable_to_opt(g.inbox_size),inbox_preview:e.nullable_to_opt(g.inbox_preview),url:d.toString()}])}b("recoverableViolation")("Unsupported attachment type: "+a.attach_type,"messenger_comet");return}function v(a){var c=a.name;c=c==null?void 0:b("bs_caml_option").some(c);var d=a.url;if(d==null){b("recoverableViolation")("missing attachment.url","messenger_comet");return}else{a=a.metadata;if(a==null)return b("bs_block").__(3,[{fileName:c,url:d}]);else{var e=a.type;if(e==null)return b("bs_block").__(3,[{fileName:c,url:d}]);else if(e===b("MercuryAudioType").AudioClip||e===b("MercuryAudioType").FileAttachment||e===b("MercuryAudioType").VoiceMessageWithTranscript){c=a.duration;e=c==null?0:c/1e3;return b("bs_block").__(5,[{duration:e,url:d}])}else{b("recoverableViolation")("message-parse-file-unknown-type","messenger_comet");return}}}}function w(a,c){var d=a.media;d=d==null?void 0:b("bs_caml_option").nullable_to_opt(d.image);var e=a.uri;d=d!==void 0?b("bs_block").__(0,[d,{expand:!1}]):void 0;var f=b("bs_caml_option").nullable_to_opt(a.title);a=b("bs_caml_option").nullable_to_opt(a.description);e=e==null?void 0:b("bs_block").__(0,[b("bs_block").__(0,[e,819537557,void 0])]);var g=[];d={preview:d,title:f,description:a,icon:void 0,action:e,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:g};return b("bs_block").__(7,[b("bs_block").__(1,[d,void 0,c])])}function x(a,c,d){var e,f=0;if(d!==void 0){var g=d;if(g!==1)g!==16?g>=24?e=b("MWChatXmaMessage.bs").parseLinkShare(c,a):f=1:b("gkx")("1462436")?e=b("MWChatXmaMessage.bs").parseRoomsRingback(c,a):f=1;else{g=a.subattachments;if(g==null)e=void 0;else{g=b("bs_belt_Array").keepMap(g,function(d){return b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(d.target),function(e){return b("MWChatXmaMessage.bs").parseSingleXMATarget(e,a,c,b("MWChatXmaMessage.bs").parseXMAType(d))})});e=b("bs_block").__(0,[g,void 0,c])}}}else f=1;f===1&&(e=b("bs_belt_Option").map(b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(a.target),function(e){return b("MWChatXmaMessage.bs").parseSingleXMATarget(e,a,c,d)}),function(a){return b("bs_block").__(1,[a,void 0,c])}));if(e!==void 0)return b("bs_block").__(7,[e])}function y(a,c){var d=a.attach_type;switch(d){case"file":return v(a);case"animated_image":case"photo":return t(a);case"share":d=a.share;if(d==null){b("LogHistory").getInstance("messenger-comet").error("message-parse-share-fail","");b("recoverableViolation")("message-parse-share-fail","messenger_comet");return}else{var e=b("MWChatXmaMessage.bs").parseXMAType(d);if(e===23)return w(d,c.messageID);else return x(d,c.messageID,e)}case"sticker":d=a.metadata;if(d==null){b("LogHistory").getInstance("messenger-comet").error("message-parse-sticker-no-metadata","");b("recoverableViolation")("message-parse-sticker-no-metadata","messenger_comet");return}else{c=a.url;e=d.accessibilityLabel;var f=d.frameCount,g=d.framesPerCol,h=d.framesPerRow;if(!(c==null)&&!(e==null)&&!(f==null)&&!(g==null)&&!(h==null)){return b("bs_block").__(0,[{accessibilityLabel:e,frameCount:f,frameRate:(e=b("bs_caml_option")).nullable_to_opt(d.frameRate),framesPerCol:g,framesPerRow:h,packID:e.nullable_to_opt(d.packID),paddedSpriteURI2x:e.nullable_to_opt(d.paddedSpriteURI2x),paddedSpriteURI:e.nullable_to_opt(d.paddedSpriteURI),spriteURI2x:e.nullable_to_opt(d.spriteURI2x),spriteURI:e.nullable_to_opt(d.spriteURI),stickerID:e.nullable_to_opt(d.stickerID),url:c.toString(),width:e.nullable_to_opt(d.width),height:e.nullable_to_opt(d.height)}])}b("LogHistory").getInstance("messenger-comet").error("message-parse-sticker-fail","");b("recoverableViolation")("message-parse-sticker-fail","messenger_comet");return}break;case"video":return u(a);default:b("recoverableViolation")("Unsupported attachment type: "+a.attach_type,"messenger_comet");b("LogHistory").getInstance("messenger-comet").error("message-parse-attachment-unsupported","");return}}function z(a){a=a.reduce(function(a,b){if(a!==void 0){b=t(b);if(b!==void 0){b=b;if(b.tag===1)return a.concat([b[0]]);else return}else return}},[]);if(a!==void 0)return b("bs_block").__(2,[a])}function A(a){a=a.reduce(function(a,c){if(a!==void 0){c=v(c);if(c!==void 0){c=c;if(c.tag===3)return a.concat([c[0]]);else{b("recoverableViolation")("Received non-File content from parseFile","messenger_comet");return}}else return}},[]);if(a!==void 0)return b("bs_block").__(4,[a])}function B(a,c,d){if(a==null){b("LogHistory").getInstance("messenger-comet").error("message-parse-no-attachment-given","");b("recoverableViolation")("message-parse-no-attachment-given","messenger_comet");return}else{var e=a.length;if(e!==1)if(e!==0){e=a[0];if(e.attach_type==="photo")return z(a);else return A(a)}else{e=c.preview_attachments;if(e==null)return;else{c=e.length;if(c!==1)if(c!==0)return z(e);else return;else{c=e[0];if(c.preview_url==null)return v(c);else return t(c)}}}else{e=a[0];return y(e,d)}}}function a(a){a=a.platform_xmd;if(a==null)return;else{a=JSON.parse(a);return b("bs_caml_option").nullable_to_opt(a.persona)}}function C(a,c){var d=a.profile_ranges;d=d==null?[]:d;var e=a.body,f=a.has_attachment,g;if(e==null)g=f==null||!f?2:1;else if(f==null||!f)return b("bs_block").__(0,[s(e,a,d)]);else if(e==="")g=1;else{f=B(a.attachments,a,c);if(f!==void 0){e=s(e,a,d);return b("bs_block").__(1,[f,e])}else return}switch(g){case 1:d=B(a.attachments,a,c);if(d!==void 0)return b("bs_block").__(1,[d,void 0]);else return;case 2:b("LogHistory").getInstance("messenger-comet").error("message-parse-no-body-or-attachment","");b("recoverableViolation")("message-parse-no-body-or-attachment","messenger_comet");return}}function D(a){var c=a.body;c=!(c==null)&&c!==""?c:void 0;var d=a.has_attachment;d=d==null?!1:d;if(c!==void 0){c=c;var e=a.profile_ranges;e=e==null?[]:p(e);var f=i(c);return b("bs_block").__(0,[{ranges:b("bs_array").concat([e,[f,0]]),text:c,messageID:a.message_id}])}else if(d){e=a.attachments;if(e==null){b("LogHistory").getInstance("messenger-comet").error("replied-message-parse-no-attachment-given","");b("recoverableViolation")("replied-message-parse-no-attachment-given","messenger_comet");return}else{f=e.length;if(f!==1)if(f!==0){var g=[];e.forEach(function(a){a=a.preview_url;if(a==null)return 0;else{g.push(a);return 0}});return b("bs_block").__(3,[{attachments:g,messageID:a.message_id}])}else{c=a.preview_attachments;if(c==null||c.length!==1){b("recoverableViolation")("replied-message-parse-expected-preview_attachments","messenger_comet");return}else{d=c[0];f=d.preview_url;if(f==null){b("LogHistory").getInstance("messenger-comet").error("replied-message-parse-photo-no-preview","");b("recoverableViolation")("replied-message-parse-photo-no-preview","messenger_comet");return}else return b("bs_block").__(2,[{previewUrl:f,messageID:a.message_id}])}}else{c=e[0];d=c.attach_type;switch(d){case"photo":f=c.preview_url;if(f==null){b("LogHistory").getInstance("messenger-comet").error("replied-message-parse-photo-no-preview","");b("recoverableViolation")("replied-message-parse-photo-no-preview","messenger_comet");return}else return b("bs_block").__(2,[{previewUrl:f,messageID:a.message_id}]);case"sticker":e=c.metadata;if(e==null){b("LogHistory").getInstance("messenger-comet").error("replied-message-parse-sticker-no-metadata","");b("recoverableViolation")("replied-message-parse-sticker-no-metadata","messenger_comet");return}else{d=c.url;f=e.accessibilityLabel;c=e.frameCount;var h=e.framesPerCol,j=e.framesPerRow;if(!(d==null)&&!(f==null)&&!(c==null)&&!(h==null)&&!(j==null)){return b("bs_block").__(1,[{sticker:{accessibilityLabel:f,frameCount:c,frameRate:(f=b("bs_caml_option")).nullable_to_opt(e.frameRate),framesPerCol:h,framesPerRow:j,packID:f.nullable_to_opt(e.packID),paddedSpriteURI2x:f.nullable_to_opt(e.paddedSpriteURI2x),paddedSpriteURI:f.nullable_to_opt(e.paddedSpriteURI),spriteURI2x:f.nullable_to_opt(e.spriteURI2x),spriteURI:f.nullable_to_opt(e.spriteURI),stickerID:f.nullable_to_opt(e.stickerID),url:d.toString(),width:f.nullable_to_opt(e.width),height:f.nullable_to_opt(e.height)},messageID:a.message_id}])}b("LogHistory").getInstance("messenger-comet").error("replied-message-parse-sticker-fail","");b("recoverableViolation")("replied-message-parse-sticker-fail","messenger_comet");return}break;default:return b("bs_block").__(4,[{messageID:a.message_id}])}}}}else{b("LogHistory").getInstance("messenger-comet").error("replied-message-parse-no-body-or-attachment","");b("recoverableViolation")("replied-message-parse-no-body-or-attachment","messenger_comet");return}}function E(a,c){c=b("bs_caml_format").caml_int64_of_string(b("MercuryIDs").getThreadFBIDFromThreadID(c.thread_id));if(b("MessengerMessage.bs").isSent(a))return b("bs_block").__(1,[{threadId:c,messageId:a.message_id,timestamp:b("bs_caml_int64").of_float(a.timestamp)}]);else{a=a.offline_threading_id;if(a==null){b("recoverableViolation")("Optimistic message without offline threading id","messenger_web_product");return 0}else return b("bs_block").__(0,[{threadId:c,offlineThreadingId:a}])}}function F(a,c,d,e,f,g,h,i,j,p){var q=b("MWChatMessageUnsendability.bs").canUnsend(f,c),s=m(a);j=k(b("bs_caml_option").some(j),d,f,h,g,i);d=o(f,p);g=n(f.tags);i=r(f);h=h?void 0:l(a,p);p=E(f,c);c=f.timestamp;p={messageID:p,isSaved:g,author:a,authorGender:s,status:j,timestamp:c,canRemoveGlobally:q};g=f.removed_timestamp;if(g==null){s=C(f,p);j=s!==void 0?b("bs_block").__(0,[p,{reactions:d,selectedReaction:i},s]):b("bs_block").__(2,[p])}else j=b("bs_block").__(1,[p,{removedTimestamp:g,authorName:h}]);c=f.replied_to_message;if(c==null)return b("bs_block").__(0,[j]);else{q=c.message;d=c.status;if(q==null)if(b("bs_caml_obj").caml_equal(d,b("RepliedToMessageStatusForGraphQL").DELETED)){i=a.replace("fbid:","").replace("user:","")===e.replace("fbid:","").replace("user:","");if(i)return b("bs_block").__(2,[0,j]);else return b("bs_block").__(1,[0,j])}else return b("bs_block").__(0,[j]);else{s=q.author;if(s==null){g=D(q);if(g!==void 0)return b("bs_block").__(1,[g,j]);else return b("bs_block").__(0,[b("bs_block").__(2,[p])])}else{h=D(q);if(h!==void 0){f=h;if(s.includes(e))return b("bs_block").__(2,[f,j]);else return b("bs_block").__(1,[f,j])}else return b("bs_block").__(0,[b("bs_block").__(2,[p])])}}}}function c(a,c,d,e,f,g,h,i,j,k){try{return F(a,c,d,e,f,g,h,i,j,k)}catch(e){d=b("bs_caml_js_exceptions").internalToOCamlException(e);if(d[0]===b("bs_js_exn").$$Error){b("recoverableViolation")("Error thrown when parsing message","messenger_comet");b("LogHistory").getInstance("messenger-comet").error("Error thrown when parsing message:",b("bs_belt_Option").getWithDefault(d[1].message,""));return b("bs_block").__(0,[b("bs_block").__(2,[{messageID:E(f,c),isSaved:!1,author:a,authorGender:b("GenderConst").NOT_A_PERSON,status:0,timestamp:f.timestamp,canRemoveGlobally:!1}])])}else throw d}}e=b("cr:1332660");var G=b("bs_belt_Option").getWithDefault;f.$EmployeeLinkRanges$requireCond=b("cr:1332660");f.employeeLinkRanges=e;f.Replied=d;f.$pipe$question=G;f.utf16RegexSpaces=g;f.isEmojiOnlyMessage=h;f.findRanges=i;f.concatLatestMessageHeads=j;f.getGutterItemStatus=k;f.getAuthorName=l;f.getAuthorGender=m;f.parseSaved=n;f.parseReactions=o;f.parseProfileRanges=p;f.parseHighlightRanges=q;f.selectedReaction=r;f.parseBody=s;f.parsePhoto=t;f.parseVideo=u;f.parseFile=v;f.parseFallbackXMA=w;f.parseXMA=x;f.parseAttachment=y;f.parsePhotoGroup=z;f.parseFileGroup=A;f.parseAttachments=B;f.getPersona=a;f.parseMessageData=C;f.parseRepliedMessageData=D;f.getMessageID=E;f.tryParse=F;f.parse=c}),null);
__d("LSReplyMessageAttachmentType.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1];c=[0,2];d=[0,3];e=[0,4];var g=[0,5],h=[0,6];f.other=a;f.photo=b;f.video=c;f.gif=d;f.sticker=e;f.link=g;f.multiphoto=h}),null);
__d("MWLSMessageReplyParser.bs",["ix","bs_block","bs_int64","React","bs_caml_int64","fbicon","stylex","bs_belt_Option","recoverableViolation","CometTintedIcon.react","LSReplyMessageAttachmentType.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={titleContainer:{display:"j83agx80",alignItems:"bp9cbjyn",marginBottom:"gjjqq4r6"},text:{paddingStart:"b3onmgus",color:"pipptul6",fontSize:"sq6gx45u",lineHeight:"a3bd9o3v"}};function a(a){return b("bs_belt_Option").map(a.message.v,function(a){return i.jsxs("div",{children:[i.jsx(b("CometTintedIcon.react"),{color:"fds-gray-45",icon:b("fbicon")._(g("1289193"),10)}),i.jsx("div",{children:a,className:(h||(h=b("stylex")))(j.text)})],className:h(j.titleContainer)})})}function c(a){a=a.message;var c=b("bs_belt_Option").getExn(a.r),d=a.G,e=a.H;if(d!==void 0){var f=d;if(e!==void 0&&b("bs_caml_int64").eq(f,b("LSReplyMessageAttachmentType.bs").sticker)){var g=a.A,h=a.B;return b("bs_block").__(1,[{sticker:{accessibilityLabel:b("bs_belt_Option").getWithDefault(a.w,""),frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI2x:void 0,paddedSpriteURI:void 0,spriteURI2x:void 0,spriteURI:void 0,stickerID:b("bs_int64").to_string(e),url:b("bs_belt_Option").getExn(a.z),width:b("bs_caml_int64").to_int32(g!==void 0?g:(b("recoverableViolation")("Reply to sticker has no reply_media_preview_width. MessageID: "+a.e,"messenger_privacy_web"),[0,0])),height:b("bs_caml_int64").to_int32(h!==void 0?h:(b("recoverableViolation")("Reply to sticker has no reply_media_preview_height. MessageID: "+a.e,"messenger_privacy_web"),[0,0]))},messageID:c}])}else g=2;if(g===2)if(b("bs_caml_int64").eq(f,b("LSReplyMessageAttachmentType.bs").photo)){h=a.z;return b("bs_block").__(2,[{previewUrl:h!==void 0?h:(b("recoverableViolation")("Reply to photo has no reply_media_url. MessageID: "+a.e,"messenger_privacy_web"),""),messageID:c}])}else if(b("bs_caml_int64").eq(f,b("LSReplyMessageAttachmentType.bs").multiphoto)){b("recoverableViolation")("Not Implemented: Multi Photo Replies","messenger_privacy_web");return}else if(b("bs_caml_int64").eq(f,b("LSReplyMessageAttachmentType.bs").gif)||b("bs_caml_int64").eq(f,b("LSReplyMessageAttachmentType.bs").link)||b("bs_caml_int64").eq(f,b("LSReplyMessageAttachmentType.bs").video)||b("bs_caml_int64").eq(f,b("LSReplyMessageAttachmentType.bs").other))return b("bs_block").__(4,[{messageID:c}])}else if(e===void 0)return b("bs_block").__(0,[{ranges:[],text:b("bs_belt_Option").getWithDefault(a.w,""),messageID:c}]);b("recoverableViolation")("Unknown combination of attachment type and attachment_id. Attachmnet type: "+(b("bs_belt_Option").mapWithDefault(d,"no attachment type",b("bs_int64").to_string)+("Id present?: "+(b("bs_belt_Option").isSome(e)?"true":"false"))),"messenger_privacy_web");return}f.styles=j;f.getGroupTitleForReply=a;f.getMessageReplyContent=c}),null);
__d("MWLSMessageParser.bs",["FBID.bs","bs_array","bs_block","bs_int64","bs_js_dict","bs_caml_array","bs_caml_int64","bs_belt_Option","bs_caml_format","bs_caml_option","GenderConst","MWChatMessage.bs","MWLSParserUtils.bs","MWLSAttachmentParser.bs","LSMessageSendStatusV2.bs","MWLSMessageReplyParser.bs","unrecoverableViolation","LSMessageThreadUnsendabilityStatus.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("bs_int64").compare(a,c)===0}function g(a){return b("bs_caml_int64").eq(a.message.l,b("LSMessageSendStatusV2.bs").sent_only)}function h(a,c,d){return a.seen_by.filter(function(e){var f=b("bs_int64").to_string(e.contact_id);if(f!==d&&b("bs_belt_Option").mapWithDefault(c,!0,function(a){return b("bs_belt_Option").isNone(b("bs_caml_option").undefined_to_opt(a.seen_by.find(function(a){return b("bs_int64").to_string(a.contact_id)===f})))}))return!g(a);else return!1}).map(function(a){return{imageSrc:a.profile_picture_url,name:b("bs_belt_Option").getWithDefault(a.nickname,a.name),id:b("bs_int64").to_string(a.contact_id),gender:b("GenderConst").NOT_A_PERSON,timestamp:0}})}function i(a){if(b("bs_caml_int64").eq(a,b("LSMessageSendStatusV2.bs").none))return 1;else if(b("bs_caml_int64").eq(a,b("LSMessageSendStatusV2.bs").sending_to_server))return 2;else if(b("bs_caml_int64").eq(a,b("LSMessageSendStatusV2.bs").sent_only)||b("bs_caml_int64").eq(a,b("LSMessageSendStatusV2.bs").server_received))return 3;else if(b("bs_caml_int64").eq(a,b("LSMessageSendStatusV2.bs").non_retriable_error)||b("bs_caml_int64").eq(a,b("LSMessageSendStatusV2.bs").retriable_error))return 4;else return b("unrecoverableViolation")("Unknown send status","comet_messenger")}function j(a,c,d){c=h(a,c,d);var e=a.seen_by.reduce(function(a,c){return Math.max(a,b("bs_int64").to_string(c.contact_id)!==d?b("bs_caml_int64").to_float(c.read_watermark_timestamp_ms):0)},0);e=e>b("bs_caml_int64").to_float(a.message.b);var f=c.length>0;if(f)return[c];else if(e)return 0;else return i(a.message.l)}function k(a){if(a.length>0)return b("bs_caml_option").some(a.reduce(function(a,c){var d=c.reaction,e=b("bs_js_dict").get(a,d);if(e!==void 0){e=e;e.push([c.actor_id,void 0]);e=e}else e=[[c.actor_id,void 0]];a[d]=e;return a},{}))}function l(a,c,d){var e=a.message.l,f=a.message.p,g=a.message.o,h=a.message.n;if(f!==void 0)if(g!==void 0)if(h!==void 0){f=f.split(",");var i=g.split(","),l=h.split(",");g=f.map(function(a,c){return{offset:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").caml_array_get(l,c)),length:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").caml_array_get(i,c)),entity:{__typename:"Profile",uri:"/"+a,id:b("FBID.bs").ofStringExn(a)}}})}else g=[];else g=[];else g=[];return{messageID:b("bs_caml_int64").eq(e,b("LSMessageSendStatusV2.bs").server_received)||b("bs_caml_int64").eq(e,b("LSMessageSendStatusV2.bs").sent_only)?b("bs_block").__(1,[{threadId:a.message.a,messageId:a.message.e,timestamp:a.message.b}]):b("bs_block").__(0,[{threadId:a.message.a,offlineThreadingId:a.message.f}]),reactions:k(a.reactions),authorParticipantId:b("bs_int64").to_string(a.message.h),authorGender:b("MWChatMessage.bs").getAuthorGender(b("bs_int64").to_string(a.message.h)),text:a.message.g,ranges:g,status:j(a,c,d),timestamp:b("bs_caml_int64").to_float(a.message.b),isForwarded:b("MWLSParserUtils.bs").isForwarded(a),canRemoveGlobally:b("bs_belt_Option").mapWithDefault(a.message.N,!0,function(a){return b("bs_caml_int64").eq(a,b("LSMessageThreadUnsendabilityStatus.bs").can_unsend)}),selectedReaction:void 0}}function m(a,c){a=a.message.g;if(a!==void 0){a=a;if(a!=="")if(b("MWChatMessage.bs").isEmojiOnlyMessage(a))return{text:a,ranges:[],isForwarded:c.isForwarded,isEmojiOnly:!0};else return{text:a,ranges:b("bs_array").concat([c.ranges,[b("MWChatMessage.bs").findRanges(a),0]]),isForwarded:c.isForwarded,isEmojiOnly:!1};else return}}function n(a,c,d){d=l(c,d,a);a=d.messageID;var e=d.authorParticipantId,f=d.status,g=d.timestamp,h=d.canRemoveGlobally;a={messageID:a,isSaved:!1,author:e,authorGender:b("GenderConst").MALE_SINGULAR,status:f,timestamp:g,canRemoveGlobally:h};e=d.reactions;f=d.selectedReaction;g={reactions:e,selectedReaction:f};if(b("MWLSParserUtils.bs").isRemoved(c))h=b("bs_block").__(1,[a,{removedTimestamp:d.timestamp,authorName:c.sender_name}]);else{e=m(c,d);f=c.has_attachment||c.message.i!==void 0;if(e!==void 0)if(f){var i=b("MWLSAttachmentParser.bs").parseMessageWithAttachments(c,d);h=i!==void 0?b("bs_block").__(0,[a,g,b("bs_block").__(1,[i,e])]):b("bs_block").__(2,[a])}else h=b("bs_block").__(0,[a,g,b("bs_block").__(0,[e])]);else if(f){i=b("MWLSAttachmentParser.bs").parseMessageWithAttachments(c,d);h=i!==void 0?b("bs_block").__(0,[a,g,b("bs_block").__(1,[i,void 0])]):b("bs_block").__(2,[a])}else h=b("bs_block").__(2,[a])}return[h,a]}function c(a,c,d){d=n(a,c,d);var e=d[0];if(b("MWLSParserUtils.bs").isReplyToSomething(c)){switch(e.tag|0){case 0:case 1:break;case 2:return b("bs_block").__(0,[e])}var f=b("MWLSMessageReplyParser.bs").getMessageReplyContent(c);if(f!==void 0){f=f;c=b("bs_belt_Option").map(c.message.x,b("bs_int64").to_string);if(c!==void 0&&c===a)return b("bs_block").__(2,[f,e]);else return b("bs_block").__(1,[f,e])}else return b("bs_block").__(0,[b("bs_block").__(2,[d[1]])])}else return b("bs_block").__(0,[e])}f.idsAreSame=a;f.isBlocked=g;f.getSeenHeads=h;f.getGutterStatusForSendStatus=i;f.getGutterItemStatus=j;f.groupReactionsByEmoji=k;f.parseCommonProps=l;f.parseBody=m;f.parseMessageContent=n;f.makeParser=c}),null);
__d("MWLSMessageGroupsParser.bs",["invariant","bs_block","bs_curry","bs_int64","bs_caml_array","bs_caml_int64","bs_belt_Option","MWLSParserUtils.bs","MWLSMessageParser.bs","MessagingThreadType.bs","MWLSAttachmentParser.bs","MWLSMessageReplyParser.bs","MWLSMessageForwardParser.bs","MercuryThreadlistConstants"],(function(a,b,c,d,e,f,g){"use strict";function h(a,c){for(var d=0,e=a.length-1|0;d<=e;++d)c.push(b("bs_caml_array").caml_array_get(a,d));return c}var i=1e3*60*60;function j(a){return b("bs_belt_Option").mapWithDefault(a.message.g,!1,function(a){return a.length>b("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK})}function k(a){if(b("MWLSParserUtils.bs").isReplyToSomething(a)||a.has_attachment||j(a))return!0;else return a.message.j}function l(a,c){if(c!==void 0){c=c;var d=b("bs_caml_int64").to_float(a.message.b)-b("bs_caml_int64").to_float(c.message.b)>b("MercuryThreadlistConstants").GROUPING_THRESHOLD,e=b("MWLSParserUtils.bs").isForwarded(a),f=b("bs_int64").compare(a.message.h,c.message.h)===0;if(!f||d||e||k(a))return!0;else return k(c)}else return!0}function m(a,c,d){a=b("bs_caml_int64").to_float(a.message.b);c=b("bs_belt_Option").mapWithDefault(c,0,function(a){return b("bs_caml_int64").to_float(a.message.b)});c=a-c>i;if(c)return h([b("bs_block").__(0,[a])],d);else return d}function n(a,c,d,e){if(b("MWLSParserUtils.bs").isReplyToSomething(a))return b("MWLSMessageReplyParser.bs").getGroupTitleForReply(a);else if(b("MWLSParserUtils.bs").isForwarded(a))return b("MWLSMessageForwardParser.bs").getGroupTitleForForwardedMessage(a,c);else if(e&&!d)return b("bs_belt_Option").map(a.sender_name,function(a){return a});else return}function o(a,c,d,e,f,g,h){var i=a.map(function(c,e){e=e===(a.length-1|0)?d:b("bs_caml_array").caml_array_get(a,e+1|0);return b("bs_curry")._2(h,c,e)});e=n(b("bs_caml_array").caml_array_get(a,0),e,f,g===b("MessagingThreadType.bs").group);return f?b("bs_block").__(3,[i,e]):b("bs_block").__(2,[i,e,c.profile_picture_url,void 0,void 0])}function p(a){var c=a.has_attachment||a.message.i!==void 0,d=b("MWLSMessageParser.bs").parseCommonProps(a,void 0,""),e=b("bs_belt_Option").getWithDefault(a.message.g,""),f=[];e={text:e,ranges:f,isForwarded:!1,isEmojiOnly:!1};f=c?b("MWLSAttachmentParser.bs").parseMessageWithAttachments(a,d):void 0;return b("bs_block").__(1,[b("bs_block").__(0,[{messageID:d.messageID,isSaved:!1,author:d.authorParticipantId,authorGender:d.authorGender,status:d.status,timestamp:d.timestamp,canRemoveGlobally:d.canRemoveGlobally},{reactions:void 0,selectedReaction:void 0},f!==void 0?b("bs_block").__(1,[f,e]):b("bs_block").__(0,[e])])])}function q(a,c,d,e,f){e.length>0||g(0,20093);var h=b("bs_caml_array").caml_array_get(e,0),i=b("bs_int64").to_string(h.message.h);i=i===a;if(h.message.j)return p(h);else return o(e,h,f,a,i,d,c)}function a(a,b,c,d){var e=function(a,e){return q(b,d,c,a,e)};return a.reduce(function(b,c,d){var f=l(c,b.prev),g=d===(a.length-1|0);d===0&&(b.messageItems=m(c,b.prev,b.messageItems));if(b.currGroup.length>0&&f){d=e(b.currGroup,c);b.messageItems=d!==void 0?h([d],b.messageItems):b.messageItems;b.currGroup=[];b.messageItems=m(c,b.prev,b.messageItems)}b.currGroup=h([c],b.currGroup);if(g){f=e(b.currGroup,void 0);b.messageItems=f!==void 0?h([f],b.messageItems):b.messageItems}return{prev:c,currGroup:b.currGroup,messageItems:b.messageItems}},{prev:void 0,currGroup:[],messageItems:[]}).messageItems}f.concat=h;f.dateBreakThresholdSec=i;f.isLongText=j;f.shouldBeStandalone=k;f.isInDifferentGroup=l;f.maybeAddDateBreakForNextGroup=m;f.getGroupTitle=n;f.groupUserMessages=o;f.parseAdminMessage=p;f.makeGroupParser=q;f.parse=a}),null);
__d("MWLSUnsendMessage.bs",["LS.bs","React","promiseDone","SkytaleDBHook.bs","ReadThroughBatchedTransaction.bs","LSMailboxOptimisticUnsendMessageStoredProcedure"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(0);return g.useCallback(function(a){b("promiseDone")(b("ReadThroughBatchedTransaction.bs").runInTransaction(c,function(c){return b("LSMailboxOptimisticUnsendMessageStoredProcedure")(b("LS.bs").make(c),a)},557889961),void 0,void 0);return 0},[c])}f.useUnsendMessage=a}),null);
__d("MWLSEnsureInThreadBannerExists.bs",["LS.bs","bs_int64","React","promiseDone","SkytaleDBHook.bs","MWCurrentThread.bs","ReadThroughBatchedTransaction.bs","LSInThreadBannerFetchBannersStoredProcedure"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(0),d=b("MWCurrentThread.bs").toThreadKey(b("MWCurrentThread.bs").useCurrentThreadExn(0));a=b("bs_int64").to_string(d);g.useEffect(function(){var a=b("ReadThroughBatchedTransaction.bs").runInTransaction(c,function(a){return b("LSInThreadBannerFetchBannersStoredProcedure")(b("LS.bs").make(a),d)},557889961);b("promiseDone")(a,void 0,void 0);return},[a,c]);return 0}f.useHook=a}),null);
__d("MWLSAttachmentCta.bs",["SkytaleDB","SkytaleDB.bs","SkytaleDBQuery.bs","LSMailboxAttachmentCtasTable.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSMailboxAttachmentCtasTable.bs").tableName).entries("asc"),function(a){return b("SkytaleDB.bs").addKey(c,a)})}f.getById=a}),null);
__d("MWLSAttachmentItem.bs",["SkytaleDB","bs_belt_Array","bs_belt_Option","SkytaleDB.bs","SkytaleDBQuery.bs","MWLSAttachmentCta.bs","SortedAsyncIterable.bs","LSMailboxAttachmentItemsTable.bs"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){return{attachmentItem:a,default_cta:c,call_to_actions:b("bs_belt_Array").keepMap(d,function(a){return a})}}function a(a,c){return b("SortedAsyncIterable.bs").toArray(b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSMailboxAttachmentItemsTable.bs").tableName).entries("asc"),function(a){return b("SkytaleDB.bs").addKey(c,a)}),function(c){var d=b("bs_belt_Option").mapWithDefault(c.t,void 0,function(c){return b("SortedAsyncIterable.bs").first(b("MWLSAttachmentCta.bs").getById(a,c))}),e=b("bs_belt_Array").keepMap([c.A,c.D,c.G],function(a){return a}).map(function(c){return b("SortedAsyncIterable.bs").first(b("MWLSAttachmentCta.bs").getById(a,c))});return g(c,d,e)}))}f.project=g;f.getForAttachment=a}),null);
__d("bs_caml_splice_call",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){var c,d;d=b.length;var e=[];for(c=0;c<d-1;++c)e.push(b[c]);b=b[d-1];for(c=0;c<b.length;++c)e.push(b[c]);return a.apply(null,e)};b=function(a,b,c){var d,e;e=c.length;var f=[];for(d=0;d<e-1;++d)f.push(c[d]);c=c[e-1];for(d=0;d<c.length;++d)f.push(c[d]);return a[b].apply(a,f)};f.spliceApply=a;f.spliceObjApply=b}),null);
__d("MWLSAttachment.bs",["FBID.bs","bs_caml_obj","SkytaleDB","bs_caml_array","bs_belt_Option","bs_caml_format","SkytaleDB.bs","SkytaleDBQuery.bs","bs_caml_splice_call","MWLSAttachmentCta.bs","MWLSAttachmentItem.bs","SortedAsyncIterable.bs","recoverableViolation","MessagingAttachmentType.bs","LSMailboxAttachmentsTable.bs","LSSecureMailboxSecureAttachmentsTable.bs","XLightSpeedSecureMessageWebStickerController"],(function(a,b,c,d,e,f){"use strict";var g={a:[0,0],b:[0,0],c:"",d:void 0,e:"",f:[0,0],g:void 0,h:void 0,i:void 0,j:!1,k:!1,l:!1,m:void 0,n:void 0,o:void 0,p:void 0,q:void 0,r:void 0,s:void 0,t:void 0,u:void 0,v:void 0,w:void 0,x:void 0,y:void 0,z:void 0,A:void 0,B:void 0,C:void 0,D:void 0,E:void 0,F:void 0,G:void 0,H:void 0,I:void 0,J:void 0,K:void 0,L:void 0,M:void 0,N:void 0,O:void 0,P:void 0,Q:void 0,R:void 0,S:void 0,T:void 0,U:void 0,V:void 0,W:void 0,X:void 0,Y:void 0,Z:void 0,ba:void 0,bb:void 0,bc:void 0,bd:void 0,be:[0,0],bf:void 0,bg:void 0,bh:void 0,bi:void 0,bj:void 0,bk:void 0,bl:void 0,bm:void 0,bn:void 0,bo:void 0,bp:void 0,bq:void 0,br:void 0,bs:void 0,bt:void 0,bu:void 0,bv:void 0,bw:void 0,bx:void 0,by:void 0,bz:void 0,bA:void 0,bB:void 0,bC:void 0,bD:void 0,bE:void 0,bF:void 0,bG:void 0,bH:void 0,bI:void 0,bJ:void 0,bK:void 0,bL:void 0,bM:void 0,bN:void 0,bO:void 0,bP:void 0,bQ:void 0,bR:void 0,bS:void 0,bT:void 0,bU:[0,0]},h=[],i=[],j={attachment:g,default_cta:void 0,attachment_items:h,list_items_id:void 0,list_items_description_text:void 0,list_items_secondary_description_text:void 0,list_items:i};function k(a){return b("bs_belt_Option").map(b("FBID.bs").ofString(a),function(a){return b("XLightSpeedSecureMessageWebStickerController").getURIBuilder().setFBID("sticker_id",a).setString("media_type","image/webp").getURI().toString()})}function a(a,b){return b}function c(a,c){return b("bs_caml_format").caml_int64_of_string(c)}function l(a,c,d){return{attachment:a,default_cta:c,attachment_items:d,list_items_id:a.bl,list_items_description_text:a.bm,list_items_secondary_description_text:a.bn,list_items:b("bs_caml_splice_call").spliceObjApply([],"concat",[[[a.bo,a.bp,a.bq,a.br,a.bs,a.bt],[a.bv,a.bw,a.bx,a.by,a.bz,a.bA],[a.bC,a.bD,a.bE,a.bF,a.bG,a.bH]].map(function(a){var c=a[0];if(c!==void 0){var d,e=(d=b("bs_belt_Option")).mapWithDefault(a[2],[],function(a){return a.split(",")}),f=d.mapWithDefault(a[4],[],function(a){return a.split(",")}),g=d.mapWithDefault(a[5],[],function(a){return a.split(",")});return[{id:c,titleText:d.getExn(a[1]),contacts:e.map(function(a,c){return{url:a,urlExpirationTimestamp:b("bs_caml_array").caml_array_get(f,c),urlFallback:b("bs_caml_array").caml_array_get(g,c)}}),progressBarFilledPercentage:d.getExn(a[3])}]}else return[]})])}}function d(a){a.a;var c=function(a){return a},d=b("bs_caml_format").caml_int64_of_string,e=a.a,f=b("bs_caml_obj").caml_obj_dup(g),j=a.n;f.bi=j!==void 0?a.l:void 0;return{attachment:(f.be=a.f,f.bd=b("bs_belt_Option").map(a.q,d),f.L=b("bs_belt_Option").map(a.p,d),f.K=b("bs_belt_Option").map(a.o,d),f.J=b("bs_belt_Option").map(a.s,function(b){return"data:"+(a.k+(";base64,"+b))}),f.F=a.h,f.D=a.k,f.A=a.h,f.j=!0,f.i=b("bs_belt_Option").map(a.i,d),f.h=b("bs_belt_Option").map(a.j,c),f.f=b("bs_caml_format").caml_int64_of_string(a.g),f.e=a.b,f.d=a.e,f.c=a.d,f.b=a.c,f.a=e,f),default_cta:void 0,attachment_items:h,list_items_id:void 0,list_items_description_text:void 0,list_items_secondary_description_text:void 0,list_items:i}}function e(a){var c=a.p,d=a.a,e=function(a){return a};c=b("bs_belt_Option").map(c,e);e=c!==void 0?c:(b("recoverableViolation")("Secure Sticker has no fbid "+a.c,"messenger_privacy_web"),"");c=b("bs_caml_obj").caml_obj_dup(g);return{attachment:(c.L=[0,120],c.K=[0,120],c.C=[0,1],c.B=k(e),c.A=k(e),c.j=!0,c.f=b("MessagingAttachmentType.bs").sticker,c.e=e,c.c=a.c,c.b=a.b,c.a=d,c),default_cta:void 0,attachment_items:h,list_items_id:void 0,list_items_description_text:void 0,list_items_secondary_description_text:void 0,list_items:i}}function m(a,c){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSMailboxAttachmentsTable.bs").tableName).entries("asc"),function(a){return b("SkytaleDB.bs").addKey(c,a)}),function(c){var d=b("bs_belt_Option").mapWithDefault(c.o,void 0,function(c){return b("SortedAsyncIterable.bs").first(b("MWLSAttachmentCta.bs").getById(a,c))}),e=b("MWLSAttachmentItem.bs").getForAttachment(a,c.e);return l(c,d,e)})}function n(a,c){return b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSSecureMailboxSecureAttachmentsTable.bs").tableName).index(b("LSSecureMailboxSecureAttachmentsTable.bs").Indexes.threadKeyMessageIdAttachmentId).entries("asc"),function(a){return b("SkytaleDB.bs").addKey(c,a)})}f.emptyAttachmentRow=g;f.emptyAttachment=j;f._secureStickerPlayableUrl=k;f._makeDecryptString=a;f._makeDecryptInt64=c;f._projectOpen=l;f._projectOtherSecureAttachment=d;f._projectSecureSticker=e;f.getForOpen=m;f.getForSecure=n}),null);
__d("MWLSLoadContacts.bs",["SkytaleDB","SkytaleDBHook.bs","LSContactContactsTable.bs","SkytaleDBQuerySubscriptionHook.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("SkytaleDBQuerySubscriptionHook.bs").useArray(b("SkytaleDB").table(b("SkytaleDBHook.bs").useHook(0),b("LSContactContactsTable.bs").tableName).entries("asc"))}f.useContacts=a}),null);
__d("MWLSDeleteMessage.bs",["React","LSDict","LSJson.bs","LSTasks.bs","promiseDone","SkytaleDBHook.bs","ReadThroughBatchedTransaction.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(0);return g.useCallback(function(a){b("promiseDone")(b("ReadThroughBatchedTransaction.bs").runInTransaction(c,function(c){return b("LSTasks.bs").enqueue(c,2,b("LSTasks.bs").queueFromType(2),b("LSJson.bs").array([new(b("LSDict"))([["1",0],["2\xc2\xb7",0],["3",a],["table",11],["type",3]])]))},557889961),void 0,void 0);return 0},[c])}f.useDeleteMessage=a}),null);
__d("MWLSFetchMessagesPage.bs",["bs_int64","React","LSDict","LSTasks.bs","SkytaleDB","bs_caml_format","promiseDone","SkytaleDB.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","MWCurrentThread.bs","LSMailboxMessagesTable.bs","LSMessagingThreadTypeUtil.bs","ReadThroughBatchedTransaction.bs","LSSecureMailboxSecureMessagesTable.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a,c){return b("SkytaleDBQuery.bs").first(b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSMailboxMessagesTable.bs").tableName).entries("asc"),function(a){return b("SkytaleDB.bs").addKey(c,a)}),function(a){return[a.e,a.b]}))}function i(a,c){return b("SkytaleDBQuery.bs").first(b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSMailboxMessagesTable.bs").tableName).entries("desc"),function(a){return b("SkytaleDB.bs").addKey(c,a)}),function(a){return[a.e,a.b]}))}function j(a,c){return b("SkytaleDBQuery.bs").first(b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSSecureMailboxSecureMessagesTable.bs").tableName).entries("asc"),function(a){return b("SkytaleDB.bs").addKey(c,a)}),function(a){return[a.c,a.b]}))}function k(a,c){return b("SkytaleDBQuery.bs").first(b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSSecureMailboxSecureMessagesTable.bs").tableName).entries("asc"),function(a){return b("SkytaleDB.bs").addKey(c,a)}),function(a){return[a.c,a.b]}))}function a(a){var c=b("SkytaleDBHook.bs").useHook(0);a=b("MWCurrentThread.bs").useCurrentThreadExn(0);var d=b("MWCurrentThread.bs").toThreadKey(a),e=b("LSMessagingThreadTypeUtil.bs").ofThreadId(a),f=b("bs_int64").to_string(d);return g.useCallback(function(a){b("promiseDone")(b("ReadThroughBatchedTransaction.bs").runInTransaction(c,function(d){var a=b("bs_caml_format").caml_int64_of_string(f),g=b("LSMessagingThreadTypeUtil.bs").isSecure(e)?j(c,a):h(c,a),l=b("LSMessagingThreadTypeUtil.bs").isSecure(e)?k(c,a):i(c,a);return window.Promise.all([g,l]).then(function(c){var e=c[0];if(e!==void 0){c=c[1];if(c!==void 0){c=c;e=e;return b("LSTasks.bs").enqueue(d,6,b("LSTasks.bs").queueFromType(6),new(b("LSDict"))([["1",a],["2",e[1]],["3",e[0]],["4",!1],["5",c[1]],["6",c[0]],["7",!1],["8",!0],["9",!1],["table",12],["type",1]]))}else return 0}else return 0})},557889961),void 0,void 0);return 0},[c,f,e])}f.useFetchMessagesPage=a}),null);
__d("MWLSParticipant.bs",["SkytaleDB","bs_belt_Option","SkytaleDB.bs","LSMailboxType.bs","SkytaleDBQuery.bs","LSMailboxParticipantsTable.bs","LSSecureMailboxSecureThreadParticipantsTable.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=a[1];a=a[0];var d=a.e;if(d!==void 0)d=d;else{var e=c.p;d=e!==void 0?e:c.h}return{contact_id:a.b,thread_key:a.a,mailbox_type:b("LSMailboxType.bs").messenger,read_watermark_timestamp_ms:a.c,delivered_watermark_timestamp_ms:a.d,name:d,actual_name:c.h,nickname:a.e,blocked_by_viewer_status:c.n,profile_picture_url:c.b,is_messenger_user:c.k,is_admin:b("bs_belt_Option").getWithDefault(a.f,!1)}}function h(a){var c=a[1];a=a[0];return{contact_id:a.b,thread_key:a.a,mailbox_type:b("LSMailboxType.bs").messenger,read_watermark_timestamp_ms:a.c,delivered_watermark_timestamp_ms:a.d,name:c.h,actual_name:c.h,nickname:void 0,blocked_by_viewer_status:c.n,profile_picture_url:c.b,is_messenger_user:c.k,is_admin:!1}}function a(a,c,d){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").mergeJoin(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSMailboxParticipantsTable.bs").tableName).entries("asc"),function(a){return b("SkytaleDB.bs").addKey(d,a)}),c),g)}function c(a,c,d){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").mergeJoin(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSSecureMailboxSecureThreadParticipantsTable.bs").tableName).entries("asc"),function(a){return b("SkytaleDB.bs").addKey(d,a)}),c),h)}function d(a,c){return b("SkytaleDBQuery.bs").getKeyRange(a,function(a){return b("SkytaleDB.bs").addKey(c,a)})}function e(a,c){return b("SkytaleDBQuery.bs").getKeyRange(a,function(a){return b("SkytaleDB.bs").addKey(c,a)})}f.projectOpen=g;f.projectSecure=h;f.getAllInOpenThread=a;f.getAllInSecureThread=c;f.getInOpenThread=d;f.getInSecureThread=e}),null);
__d("MWLSReaction.bs",["FBID.bs","bs_int64","SkytaleDB","bs_belt_Option","SkytaleDB.bs","SkytaleDBQuery.bs","LSMailboxReactionsTable.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){return{message_id:a.c,actor_id:b("bs_belt_Option").getExn(b("FBID.bs").ofString(b("bs_int64").to_string(a.d))),reaction:a.e}}function a(a,c){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSMailboxReactionsTable.bs").tableName).entries("asc"),function(a){return b("SkytaleDB.bs").addKey(c,a)}),g)}f.project=g;f.getForOpen=a}),null);
__d("MWLSMessage.bs",["bs_curry","bs_int64","SkytaleDB","bs_caml_int64","bs_belt_Option","MWLSReaction.bs","SkytaleDB.bs","MWLSAttachment.bs","SkytaleDBQuery.bs","MWLSParticipant.bs","SortedAsyncIterable.bs","LSContactContactsTable.bs","LSMailboxMessagesTable.bs"],(function(a,b,c,d,e,f){"use strict";c={a:[0,0],b:[0,0],c:[0,0],d:void 0,e:"",f:"",g:void 0,h:[0,0],i:void 0,j:!1,k:[0,0],l:[0,0],m:!1,n:void 0,o:void 0,p:void 0,q:void 0,r:void 0,s:void 0,t:void 0,u:void 0,v:void 0,w:void 0,x:void 0,y:void 0,z:void 0,A:void 0,B:void 0,C:void 0,D:void 0,E:void 0,F:void 0,G:void 0,H:void 0,I:void 0,J:!1,K:void 0,L:void 0,M:void 0,N:void 0,O:!1,P:[0,0],Q:[0,0],R:void 0,S:void 0,T:[0,0],U:[0,0]};d=[];e=[];var g=[];d={message:c,has_attachment:!1,sender_name:void 0,profile_picture_url:void 0,reply_to_user_name:void 0,message_delete_timestamp_ms:void 0,message_expire_timestamp_ms:void 0,message_visible_timespan_ms:void 0,message_remaining_visible_timespan_ms:void 0,attachments:d,reactions:e,seen_by:g};function h(a,c,d){var e=b("bs_int64").to_string(d.contact_id);d=b("bs_caml_int64").to_float(d.read_watermark_timestamp_ms);a=b("bs_int64").to_string(a)===e;e=b("bs_caml_int64").to_float(c)<=d;if(a)return!0;else return e}function i(a,c,d,e,f){var g,i=a.h,j=(g=b("SortedAsyncIterable.bs")).firstExn(b("SkytaleDBQuery.bs").getKeyRange(e,function(a){return b("SkytaleDB.bs").addKey(i,a)})),k=a.h,l=a.b,m=a.h;return{message:a,has_attachment:g.toArray(c).length>0,sender_name:b("bs_belt_Option").mapWithDefault(g.first(b("SkytaleDBQuery.bs").getKeyRange(d,function(a){return b("SkytaleDB.bs").addKey(k,a)})),j.h,function(a){return a.name}),profile_picture_url:j.b,reply_to_user_name:b("bs_belt_Option").map(a.x,function(a){return b("bs_belt_Option").mapWithDefault(b("SortedAsyncIterable.bs").first(b("SkytaleDBQuery.bs").getKeyRange(d,function(c){return b("SkytaleDB.bs").addKey(a,c)})),b("SortedAsyncIterable.bs").firstExn(b("SkytaleDBQuery.bs").getKeyRange(e,function(c){return b("SkytaleDB.bs").addKey(a,c)})).h,function(a){return a.name})}),message_delete_timestamp_ms:void 0,message_expire_timestamp_ms:void 0,message_visible_timespan_ms:void 0,message_remaining_visible_timespan_ms:void 0,attachments:g.toArray(c),reactions:g.toArray(f),seen_by:g.toArray(d).filter(function(a){return h(m,l,a)})}}function a(a,c,d){var e=b("SkytaleDB").table(d,b("LSContactContactsTable.bs").tableName).entries("asc"),f=b("MWLSAttachment.bs").getForOpen(d,c),g=b("MWLSReaction.bs").getForOpen(d,c),h=b("MWLSParticipant.bs").getAllInOpenThread(d,e,c);return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("bs_curry")._1(a,b("SkytaleDB").table(d,b("LSMailboxMessagesTable.bs").tableName)),function(a){return b("SkytaleDB.bs").addKey(c,a)}),function(a){var c=a.e;return i(a,b("SkytaleDBQuery.bs").getKeyRange(f,function(a){return b("SkytaleDB.bs").addKey(c,a)}),h,e,b("SkytaleDBQuery.bs").getKeyRange(g,function(a){return b("SkytaleDB.bs").addKey(c,a)}))})}f.emptyMessageRow=c;f.emptyMessage=d;f.hasSeenMessage=h;f.projectOpen=i;f.getAllInOpenThread=a}),null);
__d("MWLSRepliedToMessage.bs",["Promise","FBID.bs","bs_curry","bs_int64","React","MWLSActor.bs","bs_caml_int64","bs_caml_option","MWLSMessage.bs","promiseDone","SkytaleDB.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","CancellationToken.bs","MWLSMessageParser.bs","CancellablePromise.bs","recoverableViolation","LSMailboxMessagesTable.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a,c){var d=a.timestamp,e=a.messageId;return b("SkytaleDBQuery.bs").first(b("SkytaleDBQuery.bs").getKeyRange(b("MWLSMessage.bs").getAllInOpenThread(function(a){return a.entries("asc")},a.threadId,c),b("bs_curry")._2(b("LSMailboxMessagesTable.bs").PrimaryKey.$percent$great,function(a){return b("SkytaleDB.bs").addKey(d,a)},function(a){return b("SkytaleDB.bs").addKey(e,a)})))}function a(a){var c=b("SkytaleDBHook.bs").useHook(0),d=b("MWLSActor.bs").useActor(0);a=g.useState(function(){return});var e=a[1],f=g.useCallback(function(a){return b("bs_curry")._1(e,function(a){return})},[e]),i=g.useCallback(function(a){var f=b("CancellationToken.bs").make(0);if(typeof a==="number"||!a.tag)return 0;else{a=h(a[0],c);f=b("CancellablePromise.bs").ignoreFailed(0,b("CancellablePromise.bs").then_(f,function(a){if(a!==void 0){var c=a;a=b("MWLSMessageParser.bs").parseMessageContent(b("bs_int64").to_string(d),c,void 0);var f=a[0];a=b("FBID.bs").ofString(b("bs_int64").to_string(c.message.h));if(a!==void 0){var g=b("bs_caml_option").valFromOption(a);b("bs_curry")._1(e,function(a){return{content:f,fromViewer:b("bs_caml_int64").eq(c.message.h,d),authorID:g}})}else b("recoverableViolation")("Encountered message author id which is not a fbid "+b("bs_int64").to_string(c.message.h),"messenger_privacy_web")}else b("recoverableViolation")("Tried to reply to a message that does not exist","messenger_privacy_web");return b("Promise").resolve(0)},a));b("promiseDone")(f,void 0,void 0);return 0}},[c,e,d]);return[a[0],i,f]}f.useCurrentlyRepliedToMessage=a}),null);
__d("LSContactBlockedByViewerStatus.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,0];b=[0,1];c=[0,2];f.unblocked=a;f.message_blocked=b;f.fully_blocked=c}),null);
__d("LSPresenceStatus.bs",[],(function(a,b,c,d,e,f){"use strict";a=[0,1];b=[0,2];f.offline=a;f.active=b}),null);
__d("MWLSPresence.bs",["bs_int64","SkytaleDB","SkytaleDB.bs","SkytaleDBQuery.bs","SortedAsyncIterable.bs","LSMailboxParticipantsTable.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return new Map(b("SortedAsyncIterable.bs").toArray(b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").mergeJoin(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSMailboxParticipantsTable.bs").tableName).entries("asc"),function(a){return b("SkytaleDB.bs").addKey(d,a)}),c),function(a){a=a[1];return[b("bs_int64").to_string(a.a),a]})))}f.getInThread=a}),null);
__d("MWLSThreadTitle.bs",["fbt","bs_caml_array"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){if(a!==void 0)return a;else{a=c;c=a.length;var d=a.length;if(d!==1)if(d!==0)if(c===2)return g._("{participant1} and {participant2}",[g._param("participant1",b("bs_caml_array").caml_array_get(a,0)),g._param("participant2",b("bs_caml_array").caml_array_get(a,1))]);else if(c===3)return g._("{participant1}, {participant2} and {participant3}",[g._param("participant1",b("bs_caml_array").caml_array_get(a,0)),g._param("participant2",b("bs_caml_array").caml_array_get(a,1)),g._param("participant3",b("bs_caml_array").caml_array_get(a,2))]);else return g._("{participant1}, {participant2} and {others_count} others",[g._param("participant1",b("bs_caml_array").caml_array_get(a,0)),g._param("participant2",b("bs_caml_array").caml_array_get(a,1)),g._param("others_count",String(c-2|0))]);else return g._("No Participants");else return a[0]}}f.make=a}),null);
__d("MWLSThread.bs",["bs_int64","SkytaleDB","bs_caml_int64","bs_belt_Option","bs_caml_option","MWLSPresence.bs","SkytaleDB.bs","LSMailboxType.bs","SkytaleDBQuery.bs","MWLSParticipant.bs","MWLSThreadTitle.bs","LSPresenceStatus.bs","LSCoreUserInfoTable.bs","LSMessageSendStatus.bs","SortedAsyncIterable.bs","LSMailboxMessagesTable.bs","LSContactBlockedByViewerStatus.bs","LSSecureMailboxSecureMessagesTable.bs"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){var e=b("bs_int64").to_string(c);c=d.length;if(c!==1){if(c===0)return"Facebook User"}else{c=d[0];if(b("bs_int64").to_string(c.contact_id)===e)return"Just You"}return b("MWLSThreadTitle.bs").make(a,d.filter(function(a){return b("bs_int64").to_string(a.contact_id)!==e}).map(function(a){return a.name}))}function h(a,c,d,e,f){d=b("bs_caml_int64").eq(b("bs_belt_Option").getWithDefault(d,b("LSMessageSendStatus.bs").none),b("LSMessageSendStatus.bs").server_received);if(e&&d)return a.filter(function(a){var d=b("bs_int64").to_string(a.contact_id)===f;a=b("bs_int64").compare(a.read_watermark_timestamp_ms,b("bs_belt_Option").getWithDefault(c,b("bs_int64").max_int))>=0;if(d)return!1;else return a});else return[]}function i(a,c,d){a=a.filter(function(a){return b("bs_caml_int64").neq(a.contact_id,c)}).slice();a.sort(function(a,c){return b("bs_int64").compare(a.delivered_watermark_timestamp_ms,c.delivered_watermark_timestamp_ms)});a=a.map(function(a){return a.profile_picture_url});return b("bs_belt_Option").mapWithDefault(d,a,function(a){return[a]})}function a(a,c,d,e){var f=e.a,j=b("MWLSPresence.bs").getInThread(a,d,f);d=b("SortedAsyncIterable.bs").toArray(b("MWLSParticipant.bs").getAllInOpenThread(a,c,f));c=d.some(function(a){return b("bs_belt_Option").mapWithDefault(b("bs_caml_option").nullable_to_opt(j.get(b("bs_int64").to_string(a.contact_id))),!1,function(a){return b("bs_caml_int64").eq(a.b,b("LSPresenceStatus.bs").active)})});var k=b("SortedAsyncIterable.bs").firstExn(b("SkytaleDBQuery.bs").map(b("SkytaleDB").table(a,b("LSCoreUserInfoTable.bs").tableName).entries("asc"),function(a){return a.b})),l=d.filter(function(a){return b("bs_caml_int64").neq(a.contact_id,k)}).slice();a=b("SortedAsyncIterable.bs").first(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSMailboxMessagesTable.bs").tableName).entries("desc"),function(a){return b("SkytaleDB.bs").addKey(f,a)}));var m=e.d,n=g(m,k,d),o=e.j,p=e.i;o=b("bs_int64").compare(p,o)>0;var q=b("bs_belt_Option").mapWithDefault(b("bs_belt_Option").map(a,function(a){return a.h}),!1,function(a){return b("bs_caml_int64").eq(a,k)}),r;if(l.length!==1)r=!1;else{var s=l[0];r=l.length===1?b("bs_caml_int64").neq(s.blocked_by_viewer_status,b("LSContactBlockedByViewerStatus.bs").unblocked):!1}return{thread_name:n,custom_thread_name:m,picture_urls:i(d,k,e.f),snippet:e.m,thread_key:e.a,last_activity_timestamp:p,is_muted:!1,is_unread:o,thread_type:e.c,story_ring_state:0,parent_thread_key:e.A,is_typing:!1,folder_name:e.e,custom_badge_type:0,mailbox_type:b("LSMailboxType.bs").messenger,draft_message:void 0,ongoing_call_state:e.u,read_by:h(d,b("bs_belt_Option").map(a,function(a){return a.b}),b("bs_belt_Option").map(a,function(a){return a.l}),q,b("bs_int64").to_string(k)),last_message_sent_by_viewer:q,custom_emoji:e.w,is_blocked:r,is_active:c}}function c(a,c,d,e){var f=e.a,j=b("MWLSPresence.bs").getInThread(a,d,f);d=b("SortedAsyncIterable.bs").toArray(b("MWLSParticipant.bs").getAllInSecureThread(a,c,f));c=d.some(function(a){return b("bs_belt_Option").mapWithDefault(b("bs_caml_option").nullable_to_opt(j.get(b("bs_int64").to_string(a.contact_id))),!1,function(a){return b("bs_caml_int64").eq(a.b,b("LSPresenceStatus.bs").active)})});var k=b("SortedAsyncIterable.bs").firstExn(b("SkytaleDBQuery.bs").map(b("SkytaleDB").table(a,b("LSCoreUserInfoTable.bs").tableName).entries("asc"),function(a){return a.b})),l=d.filter(function(a){return b("bs_int64").to_string(a.contact_id)!==b("bs_int64").to_string(k)}).slice();a=b("SortedAsyncIterable.bs").first(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSSecureMailboxSecureMessagesTable.bs").tableName).entries("desc"),function(a){return b("SkytaleDB.bs").addKey(f,a)}));var m=g(void 0,k,d),n=e.c,o=e.b,p=b("bs_belt_Option").mapWithDefault(b("bs_belt_Option").map(a,function(a){return a.i}),!1,function(a){return b("bs_caml_int64").neq(a,k)}),q;if(l.length!==1)q=!1;else{var r=l[0];q=l.length===1?b("bs_caml_int64").neq(r.blocked_by_viewer_status,b("LSContactBlockedByViewerStatus.bs").unblocked):!1}return{thread_name:m,custom_thread_name:void 0,picture_urls:i(d,k,void 0),snippet:e.f,thread_key:e.a,last_activity_timestamp:o,is_muted:!1,is_unread:b("bs_int64").compare(o,n)>0,thread_type:e.l,story_ring_state:0,parent_thread_key:[0,0],is_typing:!1,folder_name:"inbox",custom_badge_type:2,mailbox_type:b("LSMailboxType.bs").messenger,draft_message:void 0,ongoing_call_state:[0,0],read_by:h(d,b("bs_belt_Option").map(a,function(a){return a.b}),b("bs_belt_Option").map(a,function(a){return a.k}),p,b("bs_int64").to_string(k)),last_message_sent_by_viewer:p,custom_emoji:void 0,is_blocked:q,is_active:c}}f.makeOpen=a;f.makeSecure=c}),null);
__d("MWLSCurrentThreadDetails.bs",["bs_int64","React","SkytaleDB","MWLSThread.bs","bs_caml_format","SkytaleDB.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","MWCurrentThread.bs","LSMailboxThreadsTable.bs","LSContactContactsTable.bs","LSMessagingThreadTypeUtil.bs","LSPresencePresenceStatesTable.bs","SkytaleDBQuerySubscriptionHook.bs","LSSecureMailboxSecureThreadsTable.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(0);a=b("MWCurrentThread.bs").useCurrentThreadExn(0);var d=b("bs_int64").to_string(b("MWCurrentThread.bs").toThreadKey(a)),e=g.useMemo(function(){var a=c,e=b("bs_caml_format").caml_int64_of_string(d),f=b("SkytaleDB").table(a,b("LSContactContactsTable.bs").tableName).entries("asc"),g=b("SkytaleDB").table(a,b("LSPresencePresenceStatesTable.bs").tableName).entries("asc");return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSMailboxThreadsTable.bs").tableName).entries("asc"),function(a){return b("SkytaleDB.bs").addKey(e,a)}),function(c){return b("MWLSThread.bs").makeOpen(a,f,g,c)})},[d,c]),f=g.useMemo(function(){var a=c,e=b("bs_caml_format").caml_int64_of_string(d),f=b("SkytaleDB").table(a,b("LSContactContactsTable.bs").tableName).entries("asc"),g=b("SkytaleDB").table(a,b("LSPresencePresenceStatesTable.bs").tableName).entries("asc");return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSSecureMailboxSecureThreadsTable.bs").tableName).entries("asc"),function(a){return b("SkytaleDB.bs").addKey(e,a)}),function(c){return b("MWLSThread.bs").makeSecure(a,f,g,c)})},[d,c]);if(b("LSMessagingThreadTypeUtil.bs").isSecure(b("LSMessagingThreadTypeUtil.bs").ofThreadId(a)))return b("SkytaleDBQuerySubscriptionHook.bs").useFirst(f);else return b("SkytaleDBQuerySubscriptionHook.bs").useFirst(e)}f.useCurrentThreadDetails=a}),null);
__d("MWLSMarkThreadAsRead.bs",["LS.bs","React","bs_caml_int64","bs_caml_format","promiseDone","SkytaleDBHook.bs","ReadThroughBatchedTransaction.bs","LSMailboxOptimisticMarkThreadReadV2StoredProcedure"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(0);return g.useCallback(function(d){b("promiseDone")(b("ReadThroughBatchedTransaction.bs").runInTransaction(c,function(c){return b("LSMailboxOptimisticMarkThreadReadV2StoredProcedure")(b("LS.bs").make(c),b("bs_caml_format").caml_int64_of_string(a),b("bs_caml_int64").of_float(Date.now()))},557889961),void 0,void 0);return 0},[a,c])}f.useMarkThreadAsRead=a}),null);
__d("MWLSThreadList.bs",["bs_int64","React","SkytaleDB","bs_caml_int64","MWLSThread.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","MessagingThreadType.bs","LSMailboxThreadsTable.bs","LSContactContactsTable.bs","LSPresencePresenceStatesTable.bs","SkytaleDBQuerySubscriptionHook.bs","LSSecureMailboxSecureThreadsTable.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(0),d=g.useMemo(function(){return b("SkytaleDB").table(c,b("LSContactContactsTable.bs").tableName).entries("asc")},[c]),e=g.useMemo(function(){return b("SkytaleDB").table(c,b("LSPresencePresenceStatesTable.bs").tableName).entries("asc")},[c]);a=b("SkytaleDBQuerySubscriptionHook.bs").useArray(g.useMemo(function(){var a=c,f=d,g=e;return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").filter(b("SkytaleDB").table(a,b("LSMailboxThreadsTable.bs").tableName).entries("asc"),function(a){return b("bs_caml_int64").neq(a.c,b("MessagingThreadType.bs").folder)}),function(c){return b("MWLSThread.bs").makeOpen(a,f,g,c)})},[c]));var f=b("SkytaleDBQuerySubscriptionHook.bs").useArray(g.useMemo(function(){var a=c,f=d,g=e;return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").filter(b("SkytaleDB").table(a,b("LSSecureMailboxSecureThreadsTable.bs").tableName).entries("asc"),function(a){return a.l!==b("MessagingThreadType.bs").folder}),function(c){return b("MWLSThread.bs").makeSecure(a,f,g,c)})},[c]));return a.concat(f).sort(function(a,c){return-b("bs_int64").compare(a.last_activity_timestamp,c.last_activity_timestamp)|0})}f.useThreads=a}),null);
__d("MWLSThreadHasMoreMessages.bs",["bs_int64","React","SkytaleDB","bs_belt_Option","bs_caml_format","SkytaleDB.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","MWCurrentThread.bs","SkytaleDBQuerySubscriptionHook.bs","LSMailboxMessagesRangesV2GeneratedTable.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(0);a=b("MWCurrentThread.bs").useCurrentThreadExn(0);var d=b("bs_int64").to_string(b("MWCurrentThread.bs").toThreadKey(a));return b("bs_belt_Option").getWithDefault(b("SkytaleDBQuerySubscriptionHook.bs").useFirst(g.useMemo(function(){var a=b("bs_caml_format").caml_int64_of_string(d);return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(c,b("LSMailboxMessagesRangesV2GeneratedTable.bs").tableName).entries("asc"),function(c){return b("SkytaleDB.bs").addKey(a,c)}),function(a){return a.h})},[d,c])),!1)}f.useThreadHasMoreMessages=a}),null);
__d("MWLSLoadCurrentUserProfilePicture.bs",["React","SkytaleDB","SkytaleDB.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","LSCoreUserInfoTable.bs","SortedAsyncIterable.bs","LSContactContactsTable.bs","SkytaleDBQuerySubscriptionHook.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(0);return b("SkytaleDBQuerySubscriptionHook.bs").useFirst(g.useMemo(function(){return b("SkytaleDBQuery.bs").map(b("SkytaleDB").table(c,b("LSCoreUserInfoTable.bs").tableName).entries("asc"),function(a){var d=a.b;return b("SortedAsyncIterable.bs").firstExn(b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(c,b("LSContactContactsTable.bs").tableName).entries("asc"),function(a){return b("SkytaleDB.bs").addKey(d,a)}),function(a){return a.b}))})},[c]))}f.useCurrentUserProfilePicture=a}),null);
__d("MWLSQueryPaymentActivityView.bs",["LS.bs","uuid","React","bs_caml_format","promiseDone","SkytaleDBHook.bs","ReadThroughBatchedTransaction.bs","LSPaymentsQueryPaymentActivityViewStoredProcedure"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return a}function c(a){var c=b("SkytaleDBHook.bs").useHook(0);return g.useCallback(function(a){var d=b("uuid")();b("promiseDone")(b("ReadThroughBatchedTransaction.bs").runInTransaction(c,function(c){return b("LSPaymentsQueryPaymentActivityViewStoredProcedure")(b("LS.bs").make(c),d,b("bs_caml_format").caml_int64_of_string(a))},557889961),void 0,void 0);return d},[c])}f.requestIdToString=a;f.useQueryPaymentActivityView=c}),null);
__d("MWLSShowPaymentActivityView.bs",["bs_curry","React","JSResource","bs_belt_Option","bs_caml_option","useCometLazyDialog","MWLSQueryPaymentActivityView.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWInboxPaymentActivityViewDialog.react").__setRef("MWLSShowPaymentActivityView.bs"));var c=a[0],d=b("MWLSQueryPaymentActivityView.bs").useQueryPaymentActivityView(0);return g.useCallback(function(a){var e=b("bs_curry")._1(d,b("bs_belt_Option").getExn(b("bs_belt_Option").map(a==null?void 0:b("bs_caml_option").some(a),function(a){return a})));return c({transactionDetailRowID:a,type:"transactionDetail",paymentType:"MOR_P2P_TRANSFER",requestId:e},function(a){return 0})},[c,d])}f.useShowPaymentsDetail=a}),null);
__d("MWLSPostbackCtaHandler.bs",["LS.bs","bs_int64","React","MWLSActor.bs","bs_caml_format","LSMailboxType.bs","SkytaleDBHook.bs","MWCurrentThread.bs","MessagingThreadType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","ReadThroughBatchedTransaction.bs","LSMessagingThreadAttributionType.bs","LSMailboxOptimisticSendMessageStoredProcedure"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(0),d=b("MWLSActor.bs").useActor(0);a=b("MWCurrentThread.bs").useCurrentThreadExn(0);a=b("MWCurrentThread.bs").toThreadKey(a);var e=b("bs_int64").to_string(a);return g.useMemo(function(){return function(a,f){var g=a,h=f,i=b("bs_caml_format").caml_int64_of_string(e);return b("ReadThroughBatchedTransaction.bs").runInTransaction(c,function(a){return b("LSMailboxOptimisticSendMessageStoredProcedure")(b("LS.bs").make(a),d,i,b("MessagingThreadType.bs").one_to_one,b("LSMailboxType.bs").messenger,h,h,!1,void 0,void 0,void 0,b("LSMessagingThreadAttributionType.bs").unknown,void 0,g,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,!0,!1)},557889961)}},[c,d,e])}f.usePostbackCtaHandler=a}),null);
__d("MWLSMQTTForegroundState.bs",["React","FBMqttChannel"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){g.useEffect(function(){return b("FBMqttChannel").subscribe("/ls_foreground_state",function(a){return 0})},[]);return 0}f.useSubscribeToForegroundState=a}),null);
__d("MWLSStartPhoneCall.bs",["Promise","bs_int64","React","SkytaleDB","bs_caml_int64","bs_caml_format","bs_caml_option","promiseDone","SkytaleDB.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","MWCurrentThread.bs","bs_js_null_undefined","LSMailboxThreadsTable.bs","LSMessagingThreadTypeUtil.bs","SkytaleDBQuerySubscriptionHook.bs","useRTWebCometStartCallCallback","LSMailboxRtcOngoingCallsOnThreadsV2Table.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a,c){return b("SkytaleDBQuery.bs").first(b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,b("LSMailboxRtcOngoingCallsOnThreadsV2Table.bs").tableName).entries("asc"),function(a){return b("SkytaleDB.bs").addKey(c,a)}),function(a){return a.b}))}function a(a){var c=b("useRTWebCometStartCallCallback")();a=b("MWCurrentThread.bs").useCurrentThreadExn(0);var d=b("MWCurrentThread.bs").toThreadKey(a),e=b("LSMessagingThreadTypeUtil.bs").ofThreadId(a),f=b("SkytaleDBHook.bs").useHook(0),i=b("bs_int64").to_string(d),j=b("SkytaleDBQuerySubscriptionHook.bs").useFirst(g.useMemo(function(){var a=b("bs_caml_format").caml_int64_of_string(i);return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(f,b("LSMailboxThreadsTable.bs").tableName).entries("asc"),function(c){return b("SkytaleDB.bs").addKey(a,c)}),function(a){return a.u})},[f,i]));a=g.useCallback(function(a){return function(d,g){var k=a?"video":"audio",l=h(f,b("bs_caml_format").caml_int64_of_string(i)).then(function(a){return b("Promise").resolve(c({existingCall:j!==void 0&&a!==void 0?{initiator_fbid:null,call_state:b("bs_int64").to_string(j),server_info_data:b("bs_js_null_undefined").fromOption(b("bs_caml_option").valFromOption(a))}:null,mediaType:k,thread:{id:d,type:b("bs_caml_int64").to_int32(e)},trigger:g}))});b("promiseDone")(l,void 0,void 0);return 0}},[c,e,i,f,j]);if(j!==void 0){d=j;d=b("bs_caml_int64").neq(d,[0,1])?b("bs_caml_int64").neq(d,[0,2])?void 0:0:1}else d=void 0;return[a,d]}f.serverInfo=h;f.useMakeRTCCall=a}),null);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useLazyLoadQuery,i=g!==void 0?g:g=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a,b=h(i,{},{fetchPolicy:"store-only"});a=(b==null?void 0:(a=b.viewer)==null?void 0:(a=a.presence_view_side_settings)==null?void 0:a.has_converted_to_view_side_settings)===!0;if(!a){return(b==null?void 0:(a=b.viewer)==null?void 0:a.chat_visibility)===!0}b=(a=b==null?void 0:(a=b.viewer)==null?void 0:(b=a.presence_view_side_settings)==null?void 0:b.product_specific_view_side_privacy_settings)!=null?a:[];a=((a=b.find(function(a){return a.product_id==="FACEBOOK"}))==null?void 0:a.is_active_status_viewable)===!0;b=((b=b.find(function(a){return a.product_id==="MESSENGER"}))==null?void 0:b.is_active_status_viewable)===!0;return a&&b}e.exports=a}),null);
__d("MWLSSendTypingIndicator.bs",["LS.bs","React","promiseDone","SkytaleDBHook.bs","MWLSCurrentThreadDetails.bs","LSMessagingThreadTypeUtil.bs","ReadThroughBatchedTransaction.bs","MWChatViewerChatVisibilityHook","LSTypingSendTypingIndicatorStoredProcedure"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWChatViewerChatVisibilityHook")(),d=b("MWLSCurrentThreadDetails.bs").useCurrentThreadDetails(0),e=b("SkytaleDBHook.bs").useHook(0);return g.useCallback(function(a){if(d!==void 0){var f=d;if(c&&!f.is_blocked){var g=b("ReadThroughBatchedTransaction.bs").runInTransaction(e,function(c){return b("LSTypingSendTypingIndicatorStoredProcedure")(b("LS.bs").make(c),f.thread_key,b("LSMessagingThreadTypeUtil.bs").isGroup(f.thread_type),a)},557889961);b("promiseDone")(g,void 0,void 0);return 0}else return 0}else return 0},[e,c,d])}f.useHook=a}),null);
__d("MWLSWebUrlCtaHandler.bs",["React","JSResource","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWInboxUrlWebviewDialog.react").__setRef("MWLSWebUrlCtaHandler.bs"));var c=a[0];return g.useCallback(function(a){return c({htmlBlob:a},function(a){return 0})},[c])}f.useShowWebViewDialog=a}),null);
__d("MWMSMediaSendManagerProvider.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.children}function b(a,b){return{children:a}}c=a;f.makeProps=b;f.make=c}),null);
__d("MWChatBlockMessagesMutation",["CometRelay","CometRelayEnvironment","MWChatBlockMessagesMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometRelay").commitMutation;b("CometRelay").graphql;var i=g!==void 0?g:g=b("MWChatBlockMessagesMutation.graphql");function a(a,c,d){return h(b("CometRelayEnvironment"),{mutation:i,onCompleted:c,onError:d,variables:{input:{should_be_blocked:!0,target_id:a}}})}function c(a,c,d){return h(b("CometRelayEnvironment"),{mutation:i,onCompleted:c,onError:d,variables:{input:{should_be_blocked:!1,target_id:a}}})}e.exports={commitBlock:a,commitUnblock:c}}),null);
__d("MWMSRevealImage",["CometRelay","React","MWMSRevealImageMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useMutation;c=b("React");var i=c.useCallback;function a(){var a=h(g!==void 0?g:g=b("MWMSRevealImageMutation.graphql")),c=a[0];a[1];return i(function(a,b){c({variables:{input:{image_id:a,message_id:b}}})},[c])}e.exports={useHook:a}}),null);
__d("MessengerWebQuickLogModule",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER_INTERACTION:25296900,FETCH_MORE_THREAD_LIST:25296906,FETCH_THREAD_INFO:25296904,FETCH_THREAD_LIST:25296905,FIRSTCHATTABOPEN_WWW:25296897,GROUP_INPUT_INDIVIDUAL_TAB_OPEN_WWW:25296899,GROUP_INPUT_TAB_OPEN_WWW:25296898,PAGE_LOAD_MDOTCOM_WWW:25296901,SEND_MESSAGE:25296903,THREAD_LOAD_MDOTCOM_WWW:25296902})}),null);
__d("MWMSQPLLogSendMessage.bs",["QuickPerformanceLogger","MessengerWebQuickLogModule"],(function(a,b,c,d,e,f){"use strict";function a(a){b("QuickPerformanceLogger").markerStart(b("MessengerWebQuickLogModule").SEND_MESSAGE,a);return 0}f.log=a}),null);
__d("MWMSLogMessageSend.bs",["MessengerWebEvent","MWMSQPLLogSendMessage.bs","MessengerWebStgTypedLoggerLite"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(a==null)return 0;else{b("MWMSQPLLogSendMessage.bs").log(a);var e;if(typeof c==="number")e=null;else{var f=c[0];e=f!==892012143&&f!==948354667?null:c[1]}b("MessengerWebStgTypedLoggerLite").log({event_name:b("MessengerWebEvent").SEND_MSG,offline_threading_id:a,other_user_fbid:e,thread_fbid:typeof c==="number"||c[0]!==757211935?null:c[1],extra_data:d});return 0}}f.log=a}),null);
__d("MercurySourceType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHAT_ORCA:"source:chat:orca",CHAT_LIGHT_SPEED:"source:chat:light_speed",CHAT_IPHONE:"source:chat:iphone",CHAT_JABBER:"source:chat:jabber",CHAT_MEEBO:"source:chat:meebo",CHAT_WEB:"source:chat:web",CHAT_TEST:"source:chat:test",CHAT_FORWARD_DIALOG:"source:chat:forward",CHAT:"source:chat",CONTACT_ADD_MUTATION:"source:contact_add:graphql_mutation",CONTACT_ADD_CYMK:"source:contact_add:cymk_suggestion",CONTEXTUAL_PROFILE_MESSAGE:"source:contextual_profile:message",COWORKER_GROUP:"source:work:coworker_group",COVID_HUB_MENTAL_HEALTH_UNIT:"source:covid_hub_mental_health",CUSTOMER_CHAT_PLUGIN:"source:discovery:customer_chat_plugin",EMAIL:"source:email",EVENT_MESSAGE_BLAST:"source:event_message_blast",EVENT_TICKETING:"source:event_ticket",EVENT_REMINDERS:"source:event_reminders",WHITEHAT_FBDL:"source:whitehat_fbdl",GENERIC_ADMIN_TEXT:"source:generic_admin_text",GIGABOXX_API:"source:gigaboxx:api",GIGABOXX_BLAST:"source:gigaboxx:blast",GIGABOXX_EMAIL_REPLY:"source:gigaboxx:emailreply",GIGABOXX_MOBILE:"source:gigaboxx:mobile",GIGABOXX_WAP:"source:gigaboxx:wap",GIGABOXX_WEB:"source:gigaboxx:web",GROUP_GENERAL_THREAD_AUTOJOIN:"source:group:general_thread_autojoin",INVITE:"source:invite",LEIA:"source:leia",MESSENGER_WEB:"source:messenger:web",MESSENGER_WEB_SEARCH:"source:messenger:web_search",SAM_UFI:"source:sam:ufi",SHARE_DIALOG:"source:share:dialog",SEND_PLUGIN:"source:sendplugin",SMS:"source:sms",TEST:"source:test",TITAN_WAP:"source:titan:wap",TITAN_M_BASIC:"source:titan:m_basic",TITAN_M_FREE:"source:titan:m_free_basic",TITAN_M_JAPAN:"source:titan:m_japan",TITAN_M_MINI:"source:titan:m_mini",TITAN_M_TOUCH:"source:titan:m_touch",TITAN_M_APP:"source:titan:m_app",TITAN_M_TABLET:"source:titan:m_tablet",TITAN_M_ZERO:"source:titan:m_zero",TITAN_M_TALK:"source:titan:m_talk",TITAN_WEB:"source:titan:web",TITAN_FACEWEB_ANDROID:"source:titan:faceweb_android",TITAN_FACEWEB_BUFFY:"source:titan:faceweb_buffy",TITAN_FACEWEB_IPAD:"source:titan:faceweb_ipad",TITAN_FACEWEB_IPHONE:"source:titan:faceweb_iphone",TITAN_FACEWEB_UNKNOWN:"source:titan:faceweb_unknown",TITAN_API:"source:titan:api",TITAN_API_MOBILE:"source:titan:api_mobile",TITAN_ORCA:"source:titan:orca",TITAN_EMAIL_REPLY:"source:titan:emailreply",MOBILE:"source:mobile",PAGE_PLATFORM_API:"source:page_platform_api",PAGE_UNIFIED_INBOX:"source:page_unified_inbox",WHATSAPP_CALLBACK:"source:wa_callback",UNKNOWN:"source:unknown",WEB:"source:web",WESTWORLD:"source:westworld",TESTDATA:"source:testdata",HELPCENTER:"source:helpcenter",NEW_SHARE_DIALOG:"source:share:dialog:new",PAID_PROMOTION:"source:paid_promotion",BUFFY_SMS:"source:buffy:sms",WEBRTC_MOBILE:"source:webrtc:mobile",MESSENGER_COMMERCE:"source:messenger:commerce",MESSENGER_BOT:"source:bot",SERVICES_QPC_CTA_TRIGGER_MESSAGE:"source:services:qpc:cta:trigger:message",MESSENGER_EMPLOYEE_ONLY_BOT:"source:bot:employee_only",MESSENGER_OMNIM:"source:messenger:omnim",PAGES_PRIVATE_REPLY:"source:pages:private_reply",MESSENGER_FORWARD_DIALOG:"source:messenger:forward",MESSENGER_AD:"source:messenger:ad",MARKETPLACE:"source:marketplace",MARKETPLACE_CARE:"source:marketplace:care",MARKETPLACE_BOT:"source:marketplace:bot",CHEX_C2C:"source:chex:c2c",MESSENGER_LEAD_GEN:"source:messenger:lead_gen",PAGES_MESSAGE_SHORTLINK:"source:pages:message_shortlink",STICKER_SUBSCRIBE:"source:messenger:sticker_subscribe",PHOTO_TAG:"source:messenger:photo_tag",INTERNAL_TEST_INBOX:"source:internal:test_inbox",INTERNAL_TEST_PENDING:"source:internal:test_pending",INTERNAL_TEST_OTHER:"source:internal:test_other",INTERNAL_TEST_ML_ONLY:"source:internal:test_ml_only",JOB_SEARCH_APPLICATION:"source:job_search:application",MESSENGER_JOINABLE_LINK:"source:messenger:joinable_link",MESSENGER_ADD_WITH_APPROVAL:"source:messenger:add_with_approval",MESSENGER_SMS_BRIDGE_CONVERT:"source:messenger:sms_bridge_conversion",TINCAN_ORCA:"source:tincan:orca",TINCAN_IOS:"source:tincan:ios",TINCAN_UNKNOWN:"source:tincan:unknown",FACEBOOK_GROUPS_CHANNELS:"source:groups:channels",GROUP_COMMERCE:"source:group_commerce",INTERNAL_TOOL:"source:internal:tool",PAGES_PLATFORM:"source:pages:platform",PAGES_RECOMMENDATION:"source:pages:recommendation",PAGES_ORDER_MANAGEMENT:"source:pages:order_management",PAGE_AUTO_RESPONSE:"source:pages:auto_response",PAGES_INVITE:"source:pages:invite",PAGES_CHAT_EXTENSION:"source:pages:chat_extension",PAGES_COMPOSER:"source:pages:composer",PTX:"source:ptx",SAVED_CHAT_EXTENSION:"source:saved:chat_extension",CREATOR_PAGE_INITIATE_TO_CREATOR_PAGE:"source:pages:creator_page_initiate_to_creator_page",LIVE_VIDEO_CHAT:"source:live_video_chat",GEMSTONE:"source:gemstone",WATCH_PARTY:"source:watch_party",WORK_ACTIVATION_CARD_GENERAL_GROUP_CHAT:"source:work:activation_card_general_group_chat",SCHOOL_COMMUNITY:"source:school_community",SCHOOL_COMMUNITY_COURSE:"source:school_community_course",SOCIAL_ASSISTANT:"source:social_assistant",BELL_RESEARCH:"source:bell_research",BELL_MESSENGER_LINKED:"source:bell_messenger_linked",BELL_MESSENGER_UNLINKED:"source:bell_messenger_unlinked",BELL_MESSENGER_ONBOARD:"source:bell_messenger_onboard",PROFILE_MEET_NEW_FRIENDS:"source:profile_meet_new_friends",PROFILE_MEET_NEW_FRIENDS_REPLY:"source:profile_meet_new_friends_reply",OCULUS_SHARE_TO_MESSENGER:"source:oculus_share_to_messenger",BFF_BOT:"source:bff:bot",FRIENDING_ADMIN_BUMP:"source:messenger_growth:friending_admin_bump",NEW_MESSENGER_USER_ADMIN_BUMP:"source:messenger_growth:new_messenger_user_admin_bump",EVENT_UPCOMING_BUMP:"source:messenger_growth:event_upcoming_bump",PHOTO_TAG_BUMP:"source:messenger_growth:photo_tag_bump",WALL_POST_BUMP:"source:messenger_growth:wall_post_bump",FRIENDVERSARY_BUMP:"source:messenger_growth:friendversary_bump",CUSTOMIZATION_UPSELL_BUMP:"source:messenger_growth:customization_upsell_bump",MESSENGER_BROADCASTFLOW:"source:messenger:broadcastflow",PAGE_COMMENT_MSG:"source:pages:question_triggered_convo",COMMENT_PIVOT:"source:messenger_growth:comment_pivot",PAGE_HOVERCARD:"source:pages:hovercard",INSTANT_GAMES_GAME_UPDATE:"source:instant_games_game_updates",INSTANT_GAMES_GAME_SHARE:"source:instant_games_game_share",INSTANT_GAMES_MATCH_MAKING:"source:instant_games_match_making",INSTANT_GAMES_GROUP_CREATION:"source:instant_games_group_creation",MOBILE_GAME_SHARE:"source:games_app:mobile_game_share",PAGE_EMAIL_REPLY:"source:pages:email_reply",PAGE_HOME_PAGE_PANEL:"source:page_home_page_panel",GROUPSYNC_MESSENGER_GROUP_CREATE:"source:groupsync:messenger_group_create",GROUPSYNC_SYNC_FROM_FB:"source:groupsync:sync_from_fb",GROUPSYNC_NAMING:"source:groupsync:naming",GROUPSYNC_THREAD_INFO_SYNC_FROM_FB:"source:groupsync:thread_info_sync",WORK_GROUP_SYNCED_CHAT_CREATION:"source:work:groupchat:creation",WORK_DEFAULT_GROUP_SYNCED_CHAT_CREATION:"source:work:defaultgroupchat:creation",WORK_GROUP_SYNCED_CHAT_MEMBER_SYNC:"source:work:groupchat:member_sync",WORK_GROUP_SYNCED_CHAT_DESCRIPTION_SYNC:"source:work:groupchat:description_sync",WORK_GROUP_SYNCED_CHAT_NAME_SYNC:"source:work:groupchat:name_sync",WORK_GROUP_SYNCED_CHAT_OPT_IN:"source:work:groupchat:opt_in",PAGE_PQI_MESSAGE:"source:pages:pqi_message",PAGE_PLUGIN_MESSAGE:"source:pages:page_plugin_message",WORKPLACE_ACTIVATION_GOLDIE_CUSTOM_INVITE:"source:workplace:activation_goldie_custom_invite",WORKPLACE_CHAT_DESKTOP:"source:workchat:desktop",WORKPLACE_QUICKCHAT:"source:workchat:quickchat",WORKPLACE_SIGNUP_PAGE_ADMIN_INVITE:"source:workplace:signup_page_admin_invite",WORKPLACE_APPROVALS:"source:workplace:approvals",WORKPLACE_TEAMWORK_CALL:"source:workplace:teamwork_call",WORKPLACE_TEAMWORK_TEST:"source:workplace:test",WORKPLACE_TEAMWORK_GROUP_POST:"source:workplace:group_post",CREATOR_STUDIO:"source:creator_studio",FB_GROUP_ADMINSHIP_SYNC:"source:fbgroup:adminship_sync",FB_GROUP_CHAT_MUTE_MEMBER:"source:fbgroup:mute_member",MESSENGER_ADS_PARTIAL_AUTOMATED_REMINDER:"source:ads_partial_automated:reminder",COMMUNITY_HELP_LISTING:"source:community_help_listing",FUNDRAISER_MESSAGE_BLAST:"source:fundraiser_message_blast",MENTORSHIP:"source:mentorship",MENTORSHIP_DISCUSSION_TOPIC:"source:mentorship_discussion_topic",MENTORSHIP_OUTREACH:"source:mentorship_outreach",VOLUNTEERING_ORGANIZER_REACHOUT:"source:volunteering_organizer_reachout",VOD_CONVERSATION:"source:vod_conversation",LOCAL_SEARCH_SERVICES:"source:local_search_services",YOUTH_VAULT:"source:youth_vault",MESSENGER_KIDS:"source:messenger_kids",MESSENGER_KIDS_ACTIVITY:"source:messenger_kids:activity",STORY_REPLY:"source:story_reply",LOCAL_DEV_PLATFORM:"source:local_dev_platform",INSTAGRAM_DIRECT:"source:instagram_direct",WA_MSGR_INTEROP:"source:wa-msgr-interop",C4G_CURRENT_GROUP_MEMBERS_ENTINTEGRITY:"source:c4g_current_group_members_entintegrity",CHATROOM:"source:chatroom",FB_STORY:"source:fb_story",FB_INBOX:"source:messaging_inbox_in_blue",FB_PROFILE:"source:fb_profile",FB_TOP_OF_FEED_UNIT:"source:fb_top_of_feed_unit",KOTOTORO:"source:kototoro",ROOMS_INVITE:"source:rooms_invite",FRIENDS_HOME:"source:friends_home",FRIENDS_HOME_SENDER_SIDE_POST_ACCEPT:"source:friends_home:sender_side_post_accept",NPE_WHALE:"source:npe_whale",NPE_POUTINE:"source:npe_poutine",NPE_HOBBI:"source:npe_hobbi"})}),null);
__d("MWMSOptimisticUpdate.bs",["bs_caml_option","MWChatThreadId.bs","MessengerState.bs","PhotosUploadID","MercurySourceType","MercuryMessageObject","MercuryPayloadSource"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){var j=b("MercuryMessageObject").getForFBID(a);if(e!==void 0){var k=j.constructAttachmentMessageObject(b("MercurySourceType").TITAN_WEB,b("MWChatThreadId.bs").getMercuryID(d),h),l="upload_"+b("PhotosUploadID").getNewID();e=e.map(function(a){if(a.tag)return{name:a[0],preview_height:void 0,preview_width:void 0,preview_url:void 0,preview_uploading:!0};else return{name:void 0,preview_height:a[0],preview_width:a[1],preview_url:a[2],preview_uploading:!0}});j.normalizeAddAttachmentPlaceholder(k,l,{preview_attachments:e});l=k}else if(f!==void 0){e=f;l=j.constructCTAConfirmationMessageObject(c,b("MercurySourceType").TITAN_WEB,b("MWChatThreadId.bs").getMercuryID(d),e.quickReply,void 0,e.postback)}else l=g!==void 0?j.constructTextMessageObject(c,[],h,g,{},b("MercurySourceType").TITAN_WEB,b("MWChatThreadId.bs").getMercuryID(d),void 0,void 0,void 0):j.constructUserGeneratedMessageObject(c,b("MercurySourceType").TITAN_WEB,b("MWChatThreadId.bs").getMercuryID(d),[],void 0,void 0,h);k=i!==void 0?Object.assign(Object.assign({},l),{offline_threading_id:b("bs_caml_option").valFromOption(i)}):l;j.normalizeNewMessage(k);f={actions:[k],from_client:!0,payload_source:b("MercuryPayloadSource").CLIENT_SEND_MESSAGE,delivery_receipts:null,global_actions:null,message_blocked_ids:null,message_unblocked_ids:null,message_ignored_ids:null,participants:null,pending_folder_unseen_count:null,roger:null,threads:null,current_montage_thread:null,pinned_thread_ids:null,montage_delete_message_delta:null,montage_new_message_delta:null,montage_poll_sticker_vote:null,ordered_threadlists:null,end_of_history:null,unread_thread_fbids:null,newlyAddedClientIDs:null,message_counts:null};b("MessengerState.bs").sendJS(a,b("MessengerState.bs").processJSActions(f));return k}f.make=a}),null);
__d("MWChatUploadingFilesStore.bs",["bs_block","bs_curry","React","gkx","bs_belt_Array","bs_caml_option","usePrevious","MercuryLocalIDs","recoverableViolation","CometComposerViewState.bs","CometLocalVideoFileThumbnailSuspense.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a,c){if(a.tag)return b("bs_block").__(1,[b("bs_curry")._1(c,a[0]),a[1]]);else return b("bs_block").__(0,[a[0].map(b("bs_curry").__1(c)),a[1]])}c={map:h};var i=[];function j(a,c){c=b("bs_belt_Array").partition(c,function(a){return b("CometComposerViewState.bs").MediaAttachment.fileType(a)===0});var d=function(a,c,d,e){var f;switch(d){case 0:f=b("bs_block").__(0,[URL.createObjectURL(c)]);break;case 1:d=b("CometLocalVideoFileThumbnailSuspense.react").getFromCache(c,200,200);f=d!==void 0?b("bs_block").__(1,[d]):0;break;case 2:f=0;break}d=c.uploadID;if(d==null)return 0;else{c=c.name;a.push({name:c,uploadId:d,status:e,type_:f});return 0}},e=function(a,b){switch(b.tag|0){case 0:case 1:break;case 2:return d(a,b[1],b[0],0);case 3:return d(a,b[1],b[0],[b[2].id]);case 4:return 0}return d(a,b[1],b[0],0)},f=[];c[0].forEach(function(a){return e(f,a)});if(f.length>0){var g=b("MercuryLocalIDs").generateOfflineThreadingID(void 0);g=a.concat([b("bs_block").__(0,[f,g])])}else g=a;var h=[];c[1].forEach(function(a){var c=[];e(c,a);a=b("bs_belt_Array").get(c,0);if(a!==void 0){c=b("MercuryLocalIDs").generateOfflineThreadingID(void 0);h.push(b("bs_block").__(1,[a,c]));return 0}else return 0});if(h.length>0)return g.concat(h);else return g}function k(a,b){switch(b.tag|0){case 0:return j(a,b[0]);case 1:var c=b[0];return a.filter(function(a){return a!==c});case 2:var d=b[1],e=b[0],f=function(a){if(a.uploadId===e)return{name:a.name,uploadId:e,status:[d],type_:a.type_};else return a},g=[];a.forEach(function(a){g.push(h(a,f));return 0});return g}}function a(a,c){var d=g.useReducer(k,i),e=d[1],f=d[0],h=b("usePrevious")(f);g.useEffect(function(){var c=h==null?[]:h;b("gkx")("1268229")&&f.forEach(function(e){if(c.includes(e))return 0;else if(e.tag){var f=e[1],g=e[0],d=g.type_;if(typeof d==="number")return a([825985028,b("bs_block").__(2,[{filename:g.name,offline_threading_id:f}])]);else return a([423539187,b("bs_block").__(1,[{preview_urls:[d[0]],offline_threading_id:f}])])}else{g=b("bs_belt_Array").keepMap(e[0],function(a){a=a.type_;if(typeof a==="number"||a.tag){b("recoverableViolation")("Unsupported non-image file in a file batch!","messenger_comet");return}else return a[0]});return a([379157568,b("bs_block").__(1,[{preview_urls:g,offline_threading_id:e[1]}])])}});return},[a,f,h]);g.useEffect(function(){f.forEach(function(f){if(f.tag){var g=f[0],d=g.status;if(d){d=b("bs_block").__(0,[{media_attachment_ids:[d[0]],offline_threading_id:b("bs_caml_option").some(f[1])}]);var h=g.type_;typeof h==="number"?a([825985028,d]):h.tag?a([423539187,d]):a([379157568,d]);b("bs_curry")._1(e,b("bs_block").__(1,[f]));return b("bs_curry")._1(c,[g])}else return 0}else{h=f[0];d=b("bs_belt_Array").keepMap(h,function(a){a=a.status;if(a)return b("bs_caml_option").some(a[0])});if(h.length===d.length){a([379157568,b("bs_block").__(0,[{media_attachment_ids:d,offline_threading_id:b("bs_caml_option").some(f[1])}])]);b("bs_curry")._1(e,b("bs_block").__(1,[f]));return b("bs_curry")._1(c,h)}else return 0}});return},[a,e,f]);return[f,e]}f.FileBatch=c;f.state=i;f.batchFiles=j;f.fileBatchReducer=k;f.useUploadingFiles=a}),null);
__d("MessengerStatePrinter.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return JSON.stringify(a,null,2)}f.jsonPrettyStringify=a}),null);
__d("MWMSSendFilesMessage.bs",["Promise","bs_block","gkx","bs_js_dict","bs_belt_Option","bs_caml_option","CurrentUser","FBMqttChannel","MessengerState.bs","MercuryLocalIDs","getCurrentRoute","MercuryActionType","MercurySourceType","MWMSLogMessageSend.bs","MercuryActionStatus","MWChatTabEntryPoints.bs","MWMSOptimisticUpdate.bs","MessengerStatePrinter.bs","MessengerWebEntryPoint","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){var g=b("CurrentUser").getID();e=e==null?null:b("getCurrentRoute")(e).tracePolicy;var h=d!==void 0?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),b("bs_caml_option").valFromOption(d).message_id):void 0;if(a[0]>=757211935){var i=a[1],j=b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,i),b("MessengerWebEntryPoint").UNKNOWN),k;switch(c.tag|0){case 0:var l=c[0],m=l.offline_threading_id;m=m!==void 0?b("bs_caml_option").valFromOption(m):b("MercuryLocalIDs").generateOfflineThreadingID(void 0);k=[b("MessengerStatePrinter.bs").jsonPrettyStringify({sender_fbid:g,to:i,msgid:m,media:l.media_attachment_ids,client_tags:{web_source:b("MercurySourceType").CHAT_WEB,"web:trigger":j,tracePolicy:e},repliedToMessageId:h}),m,void 0];break;case 1:if(b("gkx")("1268229")){i=c[0];l=i.offline_threading_id;j=b("MWMSOptimisticUpdate.bs").make(g,"",a,i.preview_urls.map(function(a){return b("bs_block").__(0,[void 0,void 0,a])}),void 0,void 0,d,b("bs_caml_option").some(l));k=["",l,b("bs_caml_option").some(j)]}else k=["",null,void 0];break;case 2:if(b("gkx")("1268229")){h=c[0];m=h.offline_threading_id;i=b("MWMSOptimisticUpdate.bs").make(g,"",a,[b("bs_block").__(1,[h.filename])],void 0,void 0,d,b("bs_caml_option").some(m));k=["",m,b("bs_caml_option").some(i)]}else k=["",null,void 0];break}var n=k[2];b("MWMSLogMessageSend.bs").log(k[1],a,{tracePolicy:e,isActiveNow:f});b("FBMqttChannel").publish("/send_message2",k[0]).then(function(a){return b("Promise").resolve(0)})["catch"](function(a){if(n!==void 0){a=Object.assign(b("bs_caml_option").valFromOption(n),{status:b("MercuryActionStatus").ERROR,action_type:b("MercuryActionType").SEND_MESSAGE,error_data:{type:3,is_transient:!0}});b("MessengerState.bs").sendJS(g,b("MessengerState.bs").processJSActions(a))}return b("Promise").resolve(0)});return 0}else return b("unrecoverableViolation")("Not supported","messenger_web_product")}f.send=a}),null);
__d("MWMSSendMessageUtils.bs",["bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWChatMessageId.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("bs_belt_Option").flatMap(c,function(c){var d=b("MWChatThreadId.bs").getMercuryID(a),e=b("MessengerState.bs").getCurrentlyLoadedMessages(b("CurrentUser").getID(),d);d=c.content;return b("bs_belt_Option").flatMap(b("MWChatMessageId.bs").getMessageId(d[0].messageID),function(a){return b("bs_caml_option").undefined_to_opt(e.find(function(b){return b.message_id===a}))})})}f.getOriginalRepliedToMessage=a}),null);
__d("MWMSSendAttachments.bs",["bs_block","bs_curry","React","bs_caml_obj","BanzaiODS","bs_belt_Array","MWCurrentThread.bs","MessengerWebEvent","MWUISendTextMessage.bs","useCometRouterState","MWMSSendFilesMessage.bs","MWMSSendMessageUtils.bs","recoverableViolation","unrecoverableViolation","MWChatUploadingFilesStore.bs","MWUIPresenceIsThreadActive.bs","MessengerWebStgTypedLoggerLite"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){var d=g.useRef(void 0),e=b("MWCurrentThread.bs").useCurrentThread(0),f=b("bs_curry")._1(b("MWUISendTextMessage.bs").useSendTextMessage,0),h=b("useCometRouterState")(),i=b("MWCurrentThread.bs").useCurrentThread(0),j=b("bs_curry")._1(b("MWUIPresenceIsThreadActive.bs").useHook,i);i=function(e){var f=d.current;if(f!==void 0){f=f;if(!f.tag){var g=e[0];f=f[0];if(g!==423539187)if(g>=825985028){b("BanzaiODS").bumpEntityKey(3185,"mwchat_send","file");g=b("MWMSSendMessageUtils.bs").getOriginalRepliedToMessage(f,a);b("MWMSSendFilesMessage.bs").send(f,e[1],g,h,j);return b("bs_curry")._1(c,f)}else{b("BanzaiODS").bumpEntityKey(3185,"mwchat_send","images");g=b("MWMSSendMessageUtils.bs").getOriginalRepliedToMessage(f,a);b("MWMSSendFilesMessage.bs").send(f,e[1],g,h,j);return b("bs_curry")._1(c,f)}else{b("BanzaiODS").bumpEntityKey(3185,"mwchat_send","video");g=b("MWMSSendMessageUtils.bs").getOriginalRepliedToMessage(f,a);b("MWMSSendFilesMessage.bs").send(f,e[1],g,h,j);return b("bs_curry")._1(c,f)}}}b("recoverableViolation")("Unexpected empty threadId","messenger_web_product");d.current=b("bs_block").__(1,["Unexpected state"]);return 0};var k=function(a){var c;if(e!==void 0){var d=e;if(typeof d==="number")c=null;else{var f=d[0];c=f!==892012143&&f!==948354667?null:d[1]}}else c=null;if(e!==void 0){f=e;d=typeof f==="number"||f[0]!==757211935?null:f[1]}else d=null;b("MessengerWebStgTypedLoggerLite").log({event_name:b("MessengerWebEvent").SEND_FILES,other_user_fbid:c,thread_fbid:d,extra_data:{attachment_names:a.map(function(a){return a.name}),attachment_upload_ids:a.map(function(a){return a.uploadId}),attachment_fbids:b("bs_belt_Array").keepMap(a,function(a){a=a.status;if(a)return a[0]})}});return 0};i=b("MWChatUploadingFilesStore.bs").useUploadingFiles(i,k);var l=i[1];k=function(a,c){return b("bs_curry")._1(l,b("bs_block").__(2,[a,c]))};i=function(a,e,g,h){e!==void 0&&(b("bs_curry")._4(f,a,e,g,void 0),b("bs_curry")._1(c,a));e=d.current;if(e!==void 0){g=e;(g.tag||!b("bs_caml_obj").caml_equal(g[0],a))&&b("unrecoverableViolation")("Hook cannot be used to send to more than one recipient. It tracks send progress internally this state cannot be shared amongst recipients","messenger_web_product")}else d.current=b("bs_block").__(0,[a]);return b("bs_curry")._1(l,b("bs_block").__(0,[h]))};return[i,k]}f.useSendFileMessage=a}),null);
__d("MWMSSendGIFMessage.bs",["Promise","bs_block","bs_curry","React","bs_js_dict","bs_belt_Option","bs_caml_option","CurrentUser","FBMqttChannel","MessengerState.bs","MWCurrentThread.bs","getCurrentRoute","MercuryActionType","MercurySourceType","MWMSLogMessageSend.bs","MercuryActionStatus","useCometRouterState","MWChatTabEntryPoints.bs","MWMSOptimisticUpdate.bs","MWMSSendMessageUtils.bs","MessengerStatePrinter.bs","MessengerWebEntryPoint","unrecoverableViolation","MWUIPresenceIsThreadActive.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useCometRouterState")();a=b("MWCurrentThread.bs").useCurrentThread(0);var d=b("bs_curry")._1(b("MWUIPresenceIsThreadActive.bs").useHook,a);return g.useCallback(function(a){return function(e,f){var g=b("CurrentUser").getID(),h=c==null?null:b("getCurrentRoute")(c).tracePolicy;f=b("MWMSSendMessageUtils.bs").getOriginalRepliedToMessage(a,f);var i=f!==void 0?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),b("bs_caml_option").valFromOption(f).message_id):void 0;if(a[0]>=757211935){var j=a[1],k=b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,j),b("MessengerWebEntryPoint").UNKNOWN),l=b("bs_belt_Option").flatMap(b("bs_js_dict").get(e.media,"preview"),function(a){return[b("bs_block").__(0,[a.height,a.width,a.url])]});l=b("MWMSOptimisticUpdate.bs").make(g,"",a,l,void 0,void 0,f,void 0);f=l.offline_threading_id;j=b("MessengerStatePrinter.bs").jsonPrettyStringify({sender_fbid:g,to:j,msgid:f,externalAttachmentUrl:e.source.url,attribution_app_id:e.platformFBID,client_tags:{web_source:b("MercurySourceType").CHAT_WEB,"web:trigger":k,tracePolicy:h},repliedToMessageId:i});var m=b("bs_caml_option").some(l);b("MWMSLogMessageSend.bs").log(f,a,{tracePolicy:h,isActiveNow:d});b("FBMqttChannel").publish("/send_message2",j).then(function(a){return b("Promise").resolve(0)})["catch"](function(a){a=Object.assign(b("bs_caml_option").valFromOption(m),{status:b("MercuryActionStatus").ERROR,action_type:b("MercuryActionType").SEND_MESSAGE,error_data:{type:3,is_transient:!0}});b("MessengerState.bs").sendJS(g,b("MessengerState.bs").processJSActions(a));return b("Promise").resolve(0)});return 0}else return b("unrecoverableViolation")("Not supported","messenger_web_product")}},[c,d])}f.useSendGifMessage=a}),null);
__d("MWMSSendStickerMessage.bs",["Promise","bs_curry","React","bs_js_dict","bs_belt_Option","bs_caml_option","CurrentUser","FBMqttChannel","MessengerState.bs","MWCurrentThread.bs","MercuryLocalIDs","getCurrentRoute","MercuryActionType","MercurySourceType","MWMSLogMessageSend.bs","MercuryActionStatus","useCometRouterState","MWChatTabEntryPoints.bs","MWMSSendMessageUtils.bs","MessengerStatePrinter.bs","MessengerWebEntryPoint","unrecoverableViolation","MWUIPresenceIsThreadActive.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useCometRouterState")();a=b("MWCurrentThread.bs").useCurrentThread(0);var d=b("bs_curry")._1(b("MWUIPresenceIsThreadActive.bs").useHook,a);return g.useCallback(function(a){return function(e,f,g){b("CurrentUser").getID();g=c==null?null:b("getCurrentRoute")(c).tracePolicy;f=b("MWMSSendMessageUtils.bs").getOriginalRepliedToMessage(a,f);f=f!==void 0?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),b("bs_caml_option").valFromOption(f).message_id):void 0;if(a[0]>=757211935){var h=a[1],i=b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,h),b("MessengerWebEntryPoint").UNKNOWN),j=b("MercuryLocalIDs").generateOfflineThreadingID(void 0);h=b("MessengerStatePrinter.bs").jsonPrettyStringify({sender_fbid:b("CurrentUser").getID(),to:h,msgid:j,object_attachment:e,client_tags:{web_source:b("MercurySourceType").CHAT_WEB,"web:trigger":i,tracePolicy:g},repliedToMessageId:f});b("MWMSLogMessageSend.bs").log(j,a,{tracePolicy:g,isActiveNow:d});b("FBMqttChannel").publish("/send_message2",h).then(function(a){return b("Promise").resolve(0)})["catch"](function(a){return b("Promise").resolve(0)});return 0}else return b("unrecoverableViolation")("Not supported","messenger_web_product")}},[c,d])}f.useSendStickerMessage=a}),null);
__d("MWMSSendTextMessage.bs",["Promise","bs_curry","React","bs_js_dict","bs_belt_Option","bs_caml_option","CurrentUser","FBMqttChannel","MessengerState.bs","MWCurrentThread.bs","getCurrentRoute","MercuryActionType","MercurySourceType","MWMSLogMessageSend.bs","MercuryActionStatus","useCometRouterState","MWChatTabEntryPoints.bs","MWMSOptimisticUpdate.bs","MWMSSendMessageUtils.bs","MessengerStatePrinter.bs","MessengerWebEntryPoint","unrecoverableViolation","MWUIPresenceIsThreadActive.bs","MWChatBlockMessagesMutation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useCometRouterState")();a=b("MWCurrentThread.bs").useCurrentThread(0);var d=b("bs_curry")._1(b("MWUIPresenceIsThreadActive.bs").useHook,a);return g.useCallback(function(a){return function(e,f,g){var h=b("CurrentUser").getID(),i=c==null?null:b("getCurrentRoute")(c).tracePolicy;g=b("MWMSSendMessageUtils.bs").getOriginalRepliedToMessage(a,g);var j=g!==void 0?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),b("bs_caml_option").valFromOption(g).message_id):void 0;if(a[0]>=757211935){var k=a[1],l=b("bs_belt_Option").getWithDefault(b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,k),b("MessengerWebEntryPoint").UNKNOWN),m=e.trim();g=b("MWMSOptimisticUpdate.bs").make(h,m,a,void 0,void 0,f,g,void 0);var n=g.offline_threading_id;f=f!==void 0?b("MessengerStatePrinter.bs").jsonPrettyStringify({body:m,sender_fbid:h,to:k,msgid:n,client_tags:{web_source:b("MercurySourceType").CHAT_WEB,trigger:l,tracePolicy:i},generic_metadata:{prng:JSON.stringify(f.map(function(a){return{o:a.offset,l:a.length,i:a.id,t:a.type}}))},repliedToMessageId:j}):b("MessengerStatePrinter.bs").jsonPrettyStringify({body:m,sender_fbid:h,to:k,msgid:n,client_tags:{web_source:b("MercurySourceType").CHAT_WEB,"web:trigger":l,tracePolicy:i},repliedToMessageId:j});var o=b("bs_caml_option").some(g);b("MWMSLogMessageSend.bs").log(n,a,{tracePolicy:i,isActiveNow:d});b("FBMqttChannel").publish("/send_message2",f).then(function(a){return b("Promise").resolve(0)})["catch"](function(a){a=Object.assign(b("bs_caml_option").valFromOption(o),{status:b("MercuryActionStatus").ERROR,action_type:b("MercuryActionType").SEND_MESSAGE,error_data:{type:3,is_transient:!0}});b("MessengerState.bs").sendJS(h,b("MessengerState.bs").processJSActions(a));return b("Promise").resolve(0)})}else b("unrecoverableViolation")("Not supported","messenger_web_product");if(typeof a==="number"||a[0]!==892012143)return 0;else{m=e.trim();if(m.toLowerCase()==="unsubscribe"||m.toLowerCase()==="stop"){b("MWChatBlockMessagesMutation").commitBlock(a[1],function(a){return 0});return 0}else return 0}}},[c,d])}f.useSendTextMessage=a}),null);
__d("MWChatParticipantsHook.bs",["bs_curry","React","bs_belt_Map","bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MessengerParticipants.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){a=a.slice().sort(function(a,b){if(a>b)return-1;else if(a===b)return 0;else return 1});return a.join(",")}function i(a){if(a!==void 0){a=b("bs_caml_option").valFromOption(a);var c=h(a.participants);a=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.thread_type),0);return String(a)+c}else return""}function a(a){var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));var d=c!==void 0?b("bs_caml_option").valFromOption(c).participants:void 0;a=g.useState(function(){var a={};d!==void 0&&d.forEach(function(c){var d=b("MessengerParticipants.bs").getNow(c);if(d==null)return 0;else{a[c]=d;return 0}});return a});var e=a[1];c=i(c);g.useEffect(function(){var a=b("MessengerParticipants.bs").getMulti(d!==void 0?d:[],function(a){return b("bs_curry")._1(e,function(b){return a})});return function(c){if(a==null)return 0;else return b("MessengerParticipants.bs").removeCallback(a)}},[c,e]);return a[0]}f.createHashForParticipantIds=h;f.useParticipantsPayloadHash=i;f.useParticipants=a}),null);
__d("MWChatTitleHooks.bs",["bs_curry","React","bs_js_dict","bs_belt_Option","bs_caml_option","JsDictReadOnly.bs","MWMSThreadTitle.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){return b("MWMSThreadTitle.bs").getProfileImages_(c,b("JsDictReadOnly.bs").from(a))}function c(a){var c=g.useState(function(){return b("bs_belt_Option").getWithDefault(b("bs_belt_Option").flatMap(a,function(a){return b("bs_caml_option").nullable_to_opt(a.custom_nickname)}),{})}),d=c[1],e=c[0],f=b("bs_belt_Option").flatMap(a,function(a){return b("bs_caml_option").nullable_to_opt(a.custom_nickname)});g.useEffect(function(){if(f!==void 0){var a=b("bs_caml_option").valFromOption(f);b("bs_curry")._1(d,function(b){return a})}return function(a){return 0}},[f,d]);c=g.useCallback(function(a){return function(c){var f=b("bs_js_dict").get(e,a),g=b("bs_js_dict").map(function(a){return a},e);if(c!==void 0){c=c;c===""?b("bs_js_dict").unsafeDeleteKey(g,a):g[a]=c}else b("bs_js_dict").unsafeDeleteKey(g,a);b("bs_curry")._1(d,function(a){return g});return f}},[e,d]);return[e,c]}f.useImages=a;f.useNicknames=c}),null);
__d("MWMSLoadParticipants.bs",["bs_js_dict","bs_belt_Map","bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWChatTitleHooks.bs","MWChatParticipantsHook.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));a=b("MWChatParticipantsHook.bs").useParticipants(a);c=b("MWChatTitleHooks.bs").useNicknames(c);return[a,c[0],c[1]]}function a(a){a=g(a);var c=a[1];a=b("bs_js_dict").values(a[0]);var d=new Map();a.forEach(function(a){var e=b("bs_js_dict").get(c,a.fbid),f=a.fbid,g=b("bs_belt_Option").getWithDefault(e,a.short_name),h=a.name,i=b("bs_caml_option").nullable_to_opt(a.href),j=b("bs_caml_option").nullable_to_opt(a.image_src),k=a.is_friend;f={contactId:f,name:g,actualName:h,nickname:e,profileUrl:i,profilePictureUrl:j,isContact:k};d.set(a.fbid,f);return 0});return d}f.useMercuryParticipants=g;f.useParticipants=a}),null);
__d("MWMSPollsHooks.bs",["ix","FBID.bs","bs_curry","bs_int64","React","MercuryIDs","bs_caml_format","AsyncRequest","MWCurrentThread.bs","recoverableViolation","MessengerParticipants.bs","LSMessagingThreadTypeUtil.bs","XMessagingGetPollOptionsController","XMessengerGroupPollingCreatePollController","XMessengerGroupPollingUpdateVoteController"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=h.useState(function(){return}),d=c[1];c=c[0];h.useEffect(function(){var c=b("XMessagingGetPollOptionsController").getURIBuilder().setFBID("question_id",b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))).getURI();new(b("AsyncRequest"))(c).setHandler(function(a){var c=a.payload;return b("bs_curry")._1(d,function(a){return c.map(function(a){return{option_text:a.text,votes:a.voters.edges.map(function(a){a=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a.node.id));var c;if(a==null)c=g("98939");else{a=a.image_src;c=a==null?g("98939"):a}return{profile_picture_url:c}}),voted:a.viewer_has_voted,option_id:b("bs_caml_format").caml_int64_of_string(a.id)}})})}).setErrorHandler(function(a){return b("bs_curry")._1(d,function(a){return[]})}).send();return},[a,c,d]);return c}function c(a,c){a=b("MWCurrentThread.bs").toThreadKey(a);return h.useCallback(function(a){return function(d){var e=b("XMessengerGroupPollingUpdateVoteController").getURIBuilder().getURI();new(b("AsyncRequest"))(e).setMethod("POST").setData({question_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c)),selected_options:d.map(function(a){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))}),new_options:a.map(function(a){return a[0]}),selected_new_option_indexes:a.reduce(function(a,b,c){if(b[1])return a.concat([c]);else return a},[-1])}).setAllowCrossPageTransition(!0).setHandler(function(a){if(a.payload.status==="failure"&&a.payload.showUser===!0){b("recoverableViolation")(a.payload.errorTitle+(" "+a.payload.errorMessage),"messenger_web_product");return 0}else return 0}).send();return 0}},[a,c])}function d(a){return h.useCallback(function(a){return function(c,d){var e=b("MWCurrentThread.bs").toThreadKey(a),f=b("LSMessagingThreadTypeUtil.bs").ofThreadId(a);f=b("LSMessagingThreadTypeUtil.bs").isSecure(f);if(f){b("recoverableViolation")("Not supported","messenger_web_product");return 0}else{f=b("XMessengerGroupPollingCreatePollController").getURIBuilder().getURI();new(b("AsyncRequest"))(f).setMethod("POST").setData({question_text:c,target_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(e)),option_text_array:d,option_is_selected_array:d.map(function(a){return 0})}).setAllowCrossPageTransition(!0).setHandler(function(a){if(a.payload.status==="failure"&&a.payload.showUser===!0){b("recoverableViolation")(a.payload.errorTitle+(" "+a.payload.errorMessage),"messenger_web_product");return 0}else return 0}).send();return 0}}})}f.usePollOptions=a;f.useUpdatePoll=c;f.useCreatePoll=d}),null);
__d("MWMSCreateThread",["Promise","CometRelay","React","MWMSCreateThreadMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useMutation;c=b("React");var i=c.useCallback;function a(a){var c=h(g!==void 0?g:g=b("MWMSCreateThreadMutation.graphql")),d=c[0];c[1];return i(function(c,e){var f,g=(f=e==null?void 0:e.name)!=null?f:null,h=(f=e==null?void 0:e.thread_image_fbid)!=null?f:null;return new(b("Promise"))(function(b,e){var f={};g!=null&&(f.name=g);h!=null&&(f.thread_image_fbid=h);d({onCompleted:function(a){a=a==null?void 0:(a=a.messenger_group_thread_create)==null?void 0:(a=a.thread)==null?void 0:(a=a.thread_key)==null?void 0:a.thread_fbid;a!=null?b(a):e()},onError:function(a){e(a)},variables:{input:{entry_point:a,participants:c.map(function(a){return{fbid:a}}),thread_settings:f}}})})},[a,d])}e.exports={useHook:a}}),null);
__d("MWMSCreateThread.bs",["MWMSCreateThread"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("MWMSCreateThread").useHook(a)}f.useHook=a}),null);
__d("MWMSThreadCapabilities.bs",["bs_belt_Map","bs_belt_Option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWCurrentThread.bs","MessengerParticipants.bs","MercuryParticipantTypes"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWCurrentThread.bs").useCurrentThread(0);var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());a=b("bs_belt_Option").map(b("bs_belt_Option").flatMap(a,function(a){return b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a))}),function(a){return a.participants});a=a!==void 0?a.reduce(function(a,c){c=b("MessengerParticipants.bs").getNow(c);if(c==null)return a;else if(a)return!0;else{a=c;c=a.user_type;if(c==null)return!1;else return c===b("MercuryParticipantTypes").PARENT_APPROVED_USER}},!1):!1;return{canSendGif:!a,canSendPayment:!a}}function c(a){return a.canSendGif}function d(a){return a.canSendPayment}f.useCapabilities=a;f.canSendGif=c;f.canSendPayment=d}),null);
__d("useMWChatMessageReactionMutation",["fbt","CometRelay","useCometAlertDialog","useMWChatMessageReactionMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("CometRelay").commitMutation;b("CometRelay").graphql;var j=b("CometRelay").useRelayEnvironment,k=h!==void 0?h:h=b("useMWChatMessageReactionMutation.graphql");function a(){var a=j(),c=b("useCometAlertDialog")(),d=c[0];c[1];return function(b,c,e){return i(a,{mutation:k,onError:function(a){d({body:g._("Unable to change reaction. Please, try again later."),title:g._("Reaction not changed")})},variables:{input:{action:e,message_id:b,reaction:c}}})}}e.exports=a}),null);
__d("MWChatComposerP2PPaymentEligibility",["CometRelay","MWChatComposerP2PPaymentEligibilityQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useLazyLoadQuery;e.exports.use=function(a){return h(g!==void 0?g:g=b("MWChatComposerP2PPaymentEligibilityQuery.graphql"),a)}}),null);
__d("MWMSPresenceIsThreadActive.bs",["bs_curry","React","bs_belt_Map","MercuryIDs","bs_caml_option","CurrentUser","OnlineUserIds.bs","MWChatThreadId.bs","MessengerState.bs","requireDeferred","PresenceStatusContext","AvailableListConstants","MessengerParticipantUtils.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("requireDeferred")("MessengerMQTTPresence");function a(a){var c=b("MessengerState.bs").useHook(b("CurrentUser").getID()),d=g.useContext(b("PresenceStatusContext")),e;if(a!==void 0){var f=a;if(typeof f==="number")e=void 0;else{var i=f[0],j=0;i!==757211935&&i!==892012143&&i!==948354667?e=void 0:j=1;j===1&&(e=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(f)))}}else e=void 0;var k=g.useCallback(function(a){if(e!==void 0)return b("MessengerParticipantUtils.bs").findIntersection(b("CurrentUser").getID(),b("OnlineUserIds.bs").fromArray(d.getOnlineIDs().map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)})),b("bs_caml_option").valFromOption(e)).length!==0;else return!1},[e,d]),l=g.useCallback(function(a){if(e!==void 0&&d.getChatVisibility())return b("bs_caml_option").valFromOption(e).is_business_page_active;else return!1},[e,d]);i=g.useState(function(){if(a!==void 0){var c=a;if(typeof c==="number")return!1;else{var e=c[0];if(e!==757211935)if(e!==892012143)if(e!==948354667)return!1;else{e=d.get(c[1]);if(e==null)return!1;else return e===b("AvailableListConstants").ACTIVE}else return b("bs_curry")._1(l,0);else return b("bs_curry")._1(k,0)}}else return!1});var m=i[1];g.useEffect(function(){if(a!==void 0){var b=a;if(typeof b!=="number"&&b[0]===948354667){var c=b[1];b=d.get(c);b==null&&h.onReady(function(a){a.sendAdditionalBuddyRequest(c);return 0})}}return},[a,d]);g.useEffect(function(){if(a!==void 0){var c=a;typeof c!=="number"&&(c[0]!==757211935||b("bs_curry")._1(m,function(a){return b("bs_curry")._1(k,0)}))}return},[a,d,k]);g.useEffect(function(){var c=d.addListener(function(e){if(a!==void 0){e=a;if(typeof e==="number")return 0;else{var c=e[0];if(c!==757211935)if(c!==892012143)if(c!==948354667)return 0;else{var f=d.get(e[1]);if(f==null)return b("bs_curry")._1(m,function(a){return!1});else return b("bs_curry")._1(m,function(a){return f===b("AvailableListConstants").ACTIVE})}else return b("bs_curry")._1(m,function(a){return b("bs_curry")._1(l,0)});else return b("bs_curry")._1(m,function(a){return b("bs_curry")._1(k,0)})}}else return 0});return function(a){return b("bs_curry")._1(c,0)}},[a,d,k]);return i[0]}f.useHook=a}),null);
__d("MWChatColors.bs",["stylex"],(function(a,b,c,d,e,f){"use strict";a={replyToOriginal:{backgroundColor:"khkgorpb",color:"m9osqain"},outgoingForwarded:{color:"av1wybal"},incomingForwarded:{color:"pipptul6"},outgoing:{color:"ljqsnud1"},incoming:{color:"oo9gr5id"}};b={action:{marginStart:"hcukyx3x",marginEnd:"cxmmr5t8",width:"b73ngqbp",height:"rgmg9uty",display:"j83agx80",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",flexShrink:"pfnyh3mw",alignContent:"n5ue3fu6",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",textAlign:"oqcyycmt",cursor:"nhd2j8a9",":hover":{backgroundColor:"opvtebq1"},position:"l9j0dhe7"},icon:{height:"p1ueia1e",width:"pgctjfs5",opacity:"l8rlqa9s",":active":{opacity:"sh06z9xi"},":hover":{opacity:"i2p6rm4e"}},svgStroke:{stroke:"rvno3twz",fill:"mlqo0dh0"},svgFill:{fill:"m50y4xls"}};c={styles:b};f.styles=a;f.MessageActions=c}),null);
__d("MWChatReactionsMenu.bs",["bs_curry","React","stylex","CometEmoji.react","FocusRegion.react","CometPressable.react","MessengerReactionsUtil.bs","TabbableScopeQuery.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={menu:{borderTop:"qu0x051f",borderEnd:"esr5mh6w",borderBottom:"e9989ue4",borderStart:"r7d6kgcz",backgroundColor:"hybvsw6c",borderTopStartRadius:"orhb3f3m",borderTopEndRadius:"czkt41v7",borderBottomEndRadius:"fmqxjp7s",borderBottomStartRadius:"emzo65vh",boxShadow:"nwpbqux9",display:"j83agx80",paddingTop:"fdg1wqfs",paddingEnd:"jxrgncrl",paddingBottom:"ae35evdt",paddingStart:"qnrpqo6b"},item:{display:"q9uorilb",paddingTop:"jwdofwj8",paddingEnd:"n8tt0mok",paddingBottom:"r8blr3vg",paddingStart:"hyh9befq"},selected:{backgroundColor:"g6srhlxm",borderTopStartRadius:"taou7zlu",borderTopEndRadius:"lchaixk1",borderBottomEndRadius:"ij3lxc49",borderBottomStartRadius:"nxzu77ck"}};function a(a){var c=a.onSelect,d=a.selectedReaction;return h.jsx(b("FocusRegion.react").FocusRegion,{focusQuery:b("TabbableScopeQuery.react"),autoFocus:!0,containFocus:!0,children:h.jsx("div",{children:b("MessengerReactionsUtil.bs").defaultReactions.map(function(a,e){var f=d!==void 0?d===a:!1;return h.jsx(b("CometPressable.react"),{onPress:function(d){return b("bs_curry")._1(c,a)},overlayDisabled:!0,xstyle:function(a){return[i.item,f?i.selected:!1]},children:h.jsx(b("CometEmoji.react"),{emoji:[a],size:32,testid:"reactions_emoji_"+a},"emoji"+String(e))},String(e))}),className:(g||(g=b("stylex")))(i.menu),role:"listbox"})})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatReactionsAction.bs",["fbt","bs_curry","React","BanzaiODS","stylex","bs_belt_Option","MWChatColors.bs","CometTooltip.react","MWChatReactionsMenu.bs","CometPressable.react","BasePopoverTrigger.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c={remove:"REMOVE_REACTION",add:"ADD_REACTION"};var j=b("MWChatColors.bs").MessageActions.styles,k=i.jsxs("svg",{children:[i.jsx("circle",{className:(h||(h=b("stylex")))(j.svgStroke),cx:"11",cy:"11",r:"7",strokeWidth:"1.5px"}),i.jsx("path",{className:h(j.svgStroke),d:"M8,13Q11,16,14,13",strokeWidth:"1.5px"}),i.jsx("circle",{className:h(j.svgFill),cx:"9",cy:"10",r:"1.2"}),i.jsx("circle",{className:h(j.svgFill),cx:"13",cy:"10",r:"1.2"})],height:"22px",width:"22px",viewBox:"0 0 22 22"});function l(a){return i.jsx(b("MWChatReactionsMenu.bs").make,{onSelect:function(b){a.sendReaction(b);return a.onClose()},selectedReaction:a.selectedReaction})}function a(a){var c=a.onVisibilityChange,d=a.sendReaction,e=a.align;a=a.selectedReaction;var f=g._("React");return i.jsx(b("BasePopoverTrigger.react"),{autoAlign:!0,align:function(){switch(b("bs_belt_Option").getWithDefault(e,-866200747)){case 67859554:return"start";case-866200747:return"middle";case-1021944796:return"end";case-162316795:return"stretch"}}(),position:"above",popover:l,popoverProps:{sendReaction:d,selectedReaction:a},onVisibilityChange:c,children:function(a,c,d){return i.jsx(b("CometTooltip.react"),{tooltip:f,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":f,ref:a,testid:"messenger_reactions_menu_button",onPress:function(a){b("bs_curry")._1(c,0);b("BanzaiODS").bumpEntityKey(3185,"mwchat_actions","reaction");return 0},overlayDisabled:!0,children:i.jsx("div",{children:i.jsx("div",{children:k,className:(h||(h=b("stylex")))(j.icon)}),className:h(j.action)})})})}})}d=a;f.Action=c;f.styles=j;f.reactionIcon=k;f.popoverResource=l;f.make=d}),null);
__d("MWMSSendOrRemoveReaction.bs",["bs_curry","bs_js_dict","BanzaiODS","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWCurrentThread.bs","MWChatReactionsAction.bs","useMWChatMessageReactionMutation"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("useMWChatMessageReactionMutation")();a=b("MWCurrentThread.bs").useCurrentThreadExn(0);a=b("MWChatThreadId.bs").getMercuryID(a);var d=b("MessengerState.bs").getCurrentlyLoadedMessages(b("CurrentUser").getID(),a);return function(a,e){b("BanzaiODS").bumpEntityKey(3185,"mwchat_send","change_reaction");var f=d.find(function(b){return b.message_id===a});if(f!==void 0){f=f.reactions;var g;if(f==null)g=!1;else{f=b("bs_js_dict").get(f,b("CurrentUser").getID());g=f!==void 0?f===e:!1}f=b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),a);return b("bs_curry")._3(c,f,e,g?b("MWChatReactionsAction.bs").Action.remove:b("MWChatReactionsAction.bs").Action.add)}else return 0}}f.useSendOrRemoveReaction=a}),null);
__d("MWMSLoadTypingParticipants.bs",["React","bs_belt_Map","bs_belt_Array","bs_caml_option","CurrentUser","bs_belt_MapString","MWChatThreadId.bs","MessengerState.bs","MWCurrentThread.bs","MessengerParticipants.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var c=b("MWChatThreadId.bs").getMercuryID(b("MWCurrentThread.bs").useCurrentThreadExn(0)),d=a.typing;return g.useMemo(function(){var a=d,e=c;a=b("bs_belt_MapString").get(a,e);if(a!==void 0)return b("bs_belt_Array").keepMap(b("bs_belt_Map").keysToArray(b("bs_caml_option").valFromOption(a)),function(a){return b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getNow(a))}).map(function(a){return{participantId:a.id,profileImage:b("bs_caml_option").nullable_to_opt(a.image_src),name:a.name}});else return[]},[d,c])}f.useHook=a}),null);
__d("MWInboxDispatch.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(function(a){return 0});f.context=c}),null);
__d("MWInboxReducer.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(typeof b==="number")switch(b){case 0:return{master:1,leftRail:1,info:a.info};case 1:return{master:0,leftRail:1,info:a.info};case 2:return{master:a.master,leftRail:0,info:a.info};case 3:return{master:a.master,leftRail:1,info:a.info};case 4:return{master:a.master,leftRail:a.leftRail,info:!0};case 5:return{master:a.master,leftRail:a.leftRail,info:!1}}else return{master:[b[0]],leftRail:1,info:a.info}}f.reducer=a}),null);
__d("MWInboxState.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c={master:0,leftRail:1,info:!1};d=a.createContext(c);f.initial=c;f.context=d}),null);
__d("MWInboxProvider.bs",["React","MWInboxState.bs","MWInboxReducer.bs","MWInboxDispatch.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=a.children;var c=g.useReducer(b("MWInboxReducer.bs").reducer,b("MWInboxState.bs").initial);return g.createElement(b("MWInboxDispatch.bs").context.Provider,{value:c[1],children:g.createElement(b("MWInboxState.bs").context.Provider,{value:c[0],children:a})})}c=a;f.make=c}),null);
__d("MWInboxIsInfoOpen.bs",["React","MWInboxState.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.useContext(b("MWInboxState.bs").context).info}f.useHook=a}),null);
__d("MWInboxLeftRailView.bs",["React","MWInboxState.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.useContext(b("MWInboxState.bs").context).leftRail}f.useHook=a}),null);
__d("MWInboxMasterView.bs",["React","MWInboxState.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.useContext(b("MWInboxState.bs").context).master}f.useHook=a}),null);
__d("MWInboxSelectedThread.bs",["React","MWInboxState.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=g.useContext(b("MWInboxState.bs").context);a=a.master;if(typeof a==="number")return;else return a[0]}f.useHook=a}),null);
__d("MWInboxCreateThread.bs",["bs_curry","React","MWInboxDispatch.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=g.useContext(b("MWInboxDispatch.bs").context);return g.useCallback(function(a){return b("bs_curry")._1(c,0)},[c])}f.useHook=a}),null);
__d("MWInboxLeftRailShowContacts.bs",["bs_curry","React","MWInboxDispatch.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=g.useContext(b("MWInboxDispatch.bs").context);return g.useCallback(function(a){return b("bs_curry")._1(c,2)},[c])}f.useHook=a}),null);
__d("MWInboxLeftRailShowThreads.bs",["bs_curry","React","MWInboxDispatch.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=g.useContext(b("MWInboxDispatch.bs").context);return g.useCallback(function(a){return b("bs_curry")._1(c,3)},[c])}f.useHook=a}),null);
__d("MWInboxOpenSecretThreadWithUser.bs",["bs_curry","React","MWInboxDispatch.bs","MessagingThreadType.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=g.useContext(b("MWInboxDispatch.bs").context);return g.useCallback(function(a){return b("bs_curry")._1(c,[[a,b("MessagingThreadType.bs").tincan_one_to_one]])},[c])}f.useHook=a}),null);
__d("MWInboxOpenThread.bs",["bs_curry","React","MWInboxDispatch.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=g.useContext(b("MWInboxDispatch.bs").context);return g.useCallback(function(a){return b("bs_curry")._1(c,[a])},[c])}f.useHook=a}),null);
__d("MWInboxOpenThreadWithUser.bs",["bs_curry","React","MWInboxDispatch.bs","MessagingThreadType.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=g.useContext(b("MWInboxDispatch.bs").context);return g.useCallback(function(a){return b("bs_curry")._1(c,[[a,b("MessagingThreadType.bs").one_to_one]])},[c])}f.useHook=a}),null);
__d("MWInboxSelectThread.bs",["bs_curry","React","MWInboxDispatch.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=g.useContext(b("MWInboxDispatch.bs").context);return g.useCallback(function(a){return b("bs_curry")._1(c,[a])},[c])}f.useHook=a}),null);
__d("MWInboxToggleInfo.bs",["bs_curry","React","MWInboxState.bs","MWInboxDispatch.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=g.useContext(b("MWInboxState.bs").context);var c=a.info,d=g.useContext(b("MWInboxDispatch.bs").context);return g.useCallback(function(a){return b("bs_curry")._1(d,c?5:4)},[c,d])}f.useHook=a}),null);
__d("MWInboxOpenFirstThread.bs",["bs_curry","React","MWLSThreadList.bs","MWInboxOpenThread.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWLSThreadList.bs").useThreads(0),d=b("MWInboxOpenThread.bs").useHook(0);g.useEffect(function(){var a=c.find(function(a){return!a.is_unread});a!==void 0&&b("bs_curry")._1(d,[a.thread_key,a.thread_type]);return},[]);return 0}f.useHook=a}),null);
__d("MWXMAThirdParty.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c;switch(a.tag|0){case 0:c=[358866310,a[0]];break;case 1:c=[-189827670,a[0]];break;case 2:c=[346314598,a[0]];break;case 3:c=[614099118,a[0]];break;case 4:c=[-657766998,a[0]];break;case 5:c=[-710617455,a[0]];break;case 6:c=[898934793,a[0]];break;case 7:c=[237462975,a[0]];break;case 8:c=[-890171632,a[0]];break;case 9:c=[-341485885,a[0]];break;case 10:c=[-989195297,a[0]];break;case 11:c=[226201884,a[0]];break;case 12:c=[997207857,a[0]];break;case 13:c=[-870638016,a[0]];break}return b(c)}f.dispatchAction=a}),null);
__d("MWChatVideoPlayerControls.react",["React","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerFullscreenControl.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubber.react","VideoPlayerVolumeControl.react","stylex","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("VideoPlayerHooks").useIsFullscreen,i=b("VideoPlayerHooks").usePaused;function j(a){return g.jsx("span",{className:"fi2e5rcv jk2qo03r",children:a.children})}function a(a){var c=b("useVideoPlayerDefaultControlsVisibility")(),d=c.isControlsVisible;c=c.onUserInteraction;var e=i();e=b("useVideoPlayerBigPlayButtonOverlay")({forceVisible:e});var f=e.bigPlayButtonElement;e=e.bigPlayButtonIsVisible;var k=h();d=d&&!e;e=g.jsx(b("VideoPlayerControlsContainerOverlay.react"),{isVisible:d,children:k?g.jsxs(g.Fragment,{children:[g.jsxs(b("VideoPlayerControlsGroups.react").Contracted,{children:[g.jsx(b("VideoPlayerPlaybackControl.react"),{}),g.jsx(b("VideoPlayerPlaybackTimer.react"),{})]}),g.jsx(b("VideoPlayerControlsGroups.react").Expanded,{children:g.jsx(b("VideoPlayerScrubber.react"),{onUserInteraction:c})}),g.jsxs(b("VideoPlayerControlsGroups.react").Contracted,{children:[g.jsx(b("VideoPlayerFullscreenControl.react"),{onUserInteraction:c}),g.jsx(b("VideoPlayerVolumeControl.react"),{onUserInteraction:c})]})]}):g.jsxs(g.Fragment,{children:[g.jsx(b("VideoPlayerControlsGroups.react").Contracted,{children:g.jsx(j,{children:g.jsx(b("VideoPlayerPlaybackControl.react"),{})})}),g.jsx(b("VideoPlayerControlsGroups.react").Expanded,{children:g.jsx(b("VideoPlayerScrubber.react"),{onUserInteraction:c})}),g.jsxs(b("VideoPlayerControlsGroups.react").Contracted,{children:[a.hideExpandButton?null:g.jsx(j,{children:g.jsx(b("VideoPlayerFullscreenControl.react"),{onUserInteraction:c})}),g.jsx(j,{children:g.jsx(b("VideoPlayerVolumeControl.react"),{onUserInteraction:c})})]})]})});return g.jsxs(g.Fragment,{children:[f,e]})}e.exports=a}),null);
__d("VideoPlayerX.react",["React","VideoPlayerFallbackCover.react","VideoPlayerRetryableErrorBoundary.react","VideoPlayerXImpl.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){a=a.retry;return g.jsx(b("VideoPlayerFallbackCover.react"),{onRetry:a})}function a(a){var c=a.doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn;c=c===void 0?!1:c;var d=a.errorBoundaryFallback;a=babelHelpers.objectWithoutPropertiesLoose(a,["doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn","errorBoundaryFallback"]);a=g.jsx(b("VideoPlayerXImpl.react"),babelHelpers["extends"]({VideoPlayerShakaPerformanceLoggerClass:null},a));return c?a:g.jsx(b("VideoPlayerRetryableErrorBoundary.react"),{description:"VideoPlayerX",fallback:(c=d)!=null?c:h,children:a})}e.exports=a}),null);
__d("MWChatVideoPlayer.react",["GraphQLVideoAutoplayGatingResult","MWChatVideoAutoplaySettingContext","MWChatVideoPlayerControls.react","React","VideoPlayerDefaultControls.react","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","getVideoPlayerAutoplayProps"],(function(a,b,c,d,e,f){"use strict";var g=b("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult,h=b("MWChatVideoAutoplaySettingContext").useMWChatVideoAutoplaySetting,i=b("React"),j=b("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData;function a(a){var c=a.fbid,d=a.hdSrc,e=a.hideExpandButton,f=a.initialForceHD,k=a.originalHeight,l=a.originalWidth,m=a.sdSrc;a=a.useDefaultControls;f=j({hdSrc:d,hdSrcPreferred:(d=f)!=null?d:!1,sdSrc:m});d=h();if(f==null)return null;m=[{Component:b("VideoPlayerProgressiveImplementationV2.react"),data:f,typename:"VideoPlayerProgressiveImplementation"}];f=b("getVideoPlayerAutoplayProps")(g("unknown",d,!0),"respect_user_settings",null);return i.jsx(b("VideoPlayerX.react"),babelHelpers["extends"]({},f,{implementations:m,loopCount:-1,originalHeight:k,originalWidth:l,playerOriginOverride:"messaging",portalingEnabled:!1,subOrigin:"messenger_thread",videoFBID:c,children:i.jsx(b("VideoPlayerSurface.react"),{children:a===!0?i.jsx(b("VideoPlayerDefaultControls.react"),{}):i.jsx(b("MWChatVideoPlayerControls.react"),{hideExpandButton:e===!0})})}))}e.exports=a}),null);
__d("MWChatChatButtonColorConstants.bs",["stylex"],(function(a,b,c,d,e,f){"use strict";a={fillGrey:{fill:"sqpo3gyd"},strokeGrey:{stroke:"r3e97o93"}};f.styles=a}),null);
__d("MWChatEventHandlers.bs",["bs_curry","React","useCometPressableEventHandlers"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=a.handler;var c=b("useCometPressableEventHandlers")({}),d=c[3];return g.createElement("div",{ref:c[0],onKeyDown:d.onKeyDown,onFocus:d.onFocus,onBlur:d.onBlur,onClick:d.onClick,onDragStart:d.onDragStart,onMouseDown:d.onMouseDown,onMouseEnter:d.onMouseEnter,onMouseLeave:d.onMouseLeave,onMouseUp:d.onMouseUp,onTouchEnd:d.onTouchEnd,onTouchMove:d.onTouchMove,onTouchStart:d.onTouchStart},b("bs_curry")._1(a,c[2]))}c=a;f.make=c}),null);
__d("MWChatImageSize.bs",["bs_curry","React","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c,d){var e=c!==void 0?c:!1,f=g.useRef(void 0);d=g.useState(function(){return});var h=d[1];g.useEffect(function(){if(f.current===void 0&&!e){var c=new Image();c.src=a;c.onload=function(){return b("bs_curry")._1(h,function(a){return{width:c.naturalWidth,height:c.naturalHeight}})};f.current=b("bs_caml_option").some(c)}return function(a){b("bs_curry")._1(h,function(a){return});a=f.current;if(a!==void 0){a=b("bs_caml_option").valFromOption(a);a.onload=null;return 0}else return 0}},[a,e,h]);return d[0]}f.useImageSize=a}),null);
__d("MWChatUseLatch.bs",["Run","bs_curry","React","setTimeout","bs_caml_option","clearTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c,d){var e=c!==void 0?c:!1,f=g.useRef(void 0),h=g.useCallback(function(a){var c=f.current;if(c!==void 0){b("clearTimeout")(b("bs_caml_option").valFromOption(c));f.current=void 0;return 0}else return b("bs_curry")._1(a,0)},[f]),i=g.useCallback(function(c){b("bs_curry")._1(h,function(a){return 0});return b("bs_curry")._1(a,!1)},[a,h]);c=g.useCallback(function(c){b("bs_curry")._1(h,function(c){return b("bs_curry")._1(a,!0)});c=b("setTimeout")(i,d);f.current=b("bs_caml_option").some(c);return 0},[a,i,f,h,d]);g.useEffect(function(){if(e){var a=b("Run").onUnload(i);return function(b){return a.remove()}}},[e,i]);return[c,i]}f.useLatch=a}),null);
__d("FocusTable.bs",["FocusTable.react"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("FocusTable.react").createFocusTable(a.query);var c=a[2],d=a[1];a=a[0];var e={make:a},f={make:d},g={make:c};return{table:a,row:d,cell:c,Table:e,Row:f,Cell:g}}f.Make=a}),null);
__d("MWChatMessageTableFocusTable.bs",["fbt","React","CometKeys","FocusTable.bs","CometComponentWithKeyCommands.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="messages_table";function a(a,b,c){return c.dataset.scope===i}d=b("FocusTable.bs").Make({query:a});var j={key:(e=b("CometKeys")).UP},k={key:e.DOWN},l={key:e.LEFT};e={key:e.RIGHT};var m=[{command:j,description:g._("Previous item"),handler:function(a){return 0}},{command:k,description:g._("Next item"),handler:function(a){return 0}},{command:l,description:g._("Next item"),handler:function(a){return 0}},{command:e,description:g._("Previous item"),handler:function(a){return 0}}];function c(a){a=a.children;return h.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:m,xstyle:!1,children:a})}g=0;var n=0,o=0;c=c;f.scopeID=i;f.scopeQuery=a;f.Table_=d;f.Table=g;f.Row=n;f.Cell=o;f.keyUp=j;f.keyDown=k;f.keyLeft=l;f.keyRight=e;f.commandConfigs=m;f.keyCommands=c}),null);
__d("MWChatMessageCellFocusTable.bs",["fbt","React","CometKeys","FocusTable.bs","TabbableScopeQuery.react","MWChatMessageTableFocusTable.bs","CometComponentWithKeyCommands.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("TabbableScopeQuery.react");d=b("FocusTable.bs").Make({query:c});var i={key:b("CometKeys").ESCAPE},j={key:b("CometKeys").ENTER},k={key:b("CometKeys").SPACE},l=g._("Exit focus region"),m=g._("Enter focus region");function a(a){var c=a.onEscape,d=a.onEnter,e=a.onSpace;a=a.children;var f=[];c!==void 0&&f.push({command:i,description:l,handler:c});d!==void 0&&f.push({command:j,description:m,handler:d});e!==void 0&&f.push({command:k,description:m,handler:e});return h.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:b("MWChatMessageTableFocusTable.bs").commandConfigs.concat(f),xstyle:!1,children:a})}e=0;c=0;g=0;a=a;f.Table_=d;f.Table=e;f.Row=c;f.Cell=g;f.$$escape=i;f.enter=j;f.space=k;f.exitFbt=l;f.enterFbt=m;f.keyCommands=a}),null);
__d("MWChatContextualActions.bs",["fbt","bs_curry","React","BanzaiODS","stylex","MWChatColors.bs","requireDeferred","CometTooltip.react","CometPressable.react","CometDeferredPopoverTrigger.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=b("requireDeferred")("MWChatContextualActionsMenuDeferred.react"),k=b("MWChatColors.bs").MessageActions.styles,l=i.jsxs("svg",{children:[i.jsx("circle",{className:(h||(h=b("stylex")))(k.svgFill),cx:"11",cy:"6",r:"2",strokeWidth:"1px"}),i.jsx("circle",{className:h(k.svgFill),cx:"11",cy:"11",r:"2",strokeWidth:"1px"}),i.jsx("circle",{className:h(k.svgFill),cx:"11",cy:"16",r:"2",strokeWidth:"1px"})],height:"22px",width:"22px",viewBox:"0 0 22 22"});function a(a){var c=a.onVisibilityChange,d=a.onRemoveLocally,e=a.onRemoveGlobally,f=a.onForward,m=a.onReply,n=a.checkCanRemoveGlobally,o=a.showForward,p=a.showReply,q=a.messageID,r=a.isSaved,s=a.toggleSaveStatus,t=a.forwardLabel;a=a.replyLabel;var u=g._("More");return i.jsx(b("CometDeferredPopoverTrigger.react"),{onVisibilityChange:c,popoverResource:j,popoverProps:{onRemoveLocally:d,onRemoveGlobally:e,checkCanRemoveGlobally:n,onForward:f,onReply:m,showForward:o,showReply:p,messageID:q,isSaved:r,toggleSaveStatus:s,forwardLabel:t,replyLabel:a},autoAlign:!0,align:"middle",position:"above",children:function(a,c){return i.jsx(b("CometTooltip.react"),{tooltip:u,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":u,ref:a,testid:"messenger_contextual_actions_button",onPress:function(a){b("bs_curry")._1(c,0);b("BanzaiODS").bumpEntityKey(3185,"mwchat_actions","contextual");return 0},overlayDisabled:!0,children:i.jsx("div",{children:i.jsx("div",{children:l,className:(h||(h=b("stylex")))(k.icon)}),className:h(k.action)})})})}})}c=a;f.contextualActionsMenuDeferred=j;f.styles=k;f.moreIcon=l;f.make=c}),null);
__d("MWChatForwardAction.bs",["bs_curry","React","BanzaiODS","stylex","MWChatColors.bs","CometTooltip.react","UseMWChatForward.re","CometPressable.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("MWChatColors.bs").MessageActions.styles,j={icon:{opacity:"pedkr2u6"}},k=h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{className:(g||(g=b("stylex")))(i.svgFill),d:"M22.001,11.0081937 L19,11.0081937 L19,23.007676 C19,23.5599911 18.5525,24.0073413 18,24.0073413 C17.448,24.0073413 17,23.5599911 17,23.007676 L17,11.0081937 L13.998,11.0081937 C13.199,11.0081937 12.7225,10.1169921 13.166,9.45171483 L17.1675,3.44572576 C17.5635,2.85142475 18.436,2.85142475 18.832,3.44572576 L22.8335,9.45171483 C23.2765,10.1169921 22.8,11.0081937 22.001,11.0081937 M24,31 L12,31 C9.791,31 8,29.2105991 8,27.0028383 L8,18.0103492 C8,15.8030883 9.791,14.0131875 12,14.0131875 L14,14.0131875 C14.5525,14.0131875 15,14.4610376 15,15.0128528 C15,15.5646681 14.5525,16.0120183 14,16.0120183 L12,16.0120183 C10.8955,16.0120183 10,16.9067187 10,18.0103492 L10,27.0028383 C10,28.1064688 10.8955,29.0011693 12,29.0011693 L24,29.0011693 C25.1045,29.0011693 26,28.1064688 26,27.0028383 L26,18.0103492 C26,16.9067187 25.1045,16.0120183 24,16.0120183 L22,16.0120183 C21.448,16.0120183 21,15.5646681 21,15.0128528 C21,14.4610376 21.448,14.0131875 22,14.0131875 L24,14.0131875 C26.2095,14.0131875 28,15.8030883 28,18.0103492 L28,27.0028383 C28,29.2105991 26.2095,31 24,31"})],fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"0 0 36 36"});function a(a){var c=a.onForward,d=a.label;a=a.messageID;var e=b("UseMWChatForward.re").useMWChatForward({onSend:b("bs_curry").__1(c),messageID:a});return h.jsx(b("CometTooltip.react"),{tooltip:d,align:"middle",position:"above",children:h.jsx("div",{children:h.jsx(b("CometPressable.react"),{"aria-label":d,testid:"messenger_forward_menu_button",onPress:function(a){b("BanzaiODS").bumpEntityKey(3185,"mwchat_actions","forward");if(e==null)return 0;else return b("bs_curry")._1(e.onClick,0)},overlayDisabled:!0,children:h.jsx("div",{children:k,className:(g||(g=b("stylex")))(i.icon,j.icon)})}),className:g(i.action)})})}c=a;f.sharedStyles=i;f.styles=j;f.icon=k;f.make=c}),null);
__d("MWChatReplyAction.bs",["bs_curry","React","stylex","MWChatColors.bs","CometTooltip.react","CometPressable.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("MWChatColors.bs").MessageActions.styles,j=h.jsx("svg",{children:h.jsx("g",{children:h.jsx("path",{d:"M10.8932368,14.7625445 C10.8932368,15.535432 10.0849567,15.996442 9.48116675,15.5677995 L4.03193175,11.696707 C3.49257425,11.313742 3.49287675,10.4694645 4.03193175,10.0864995 L9.48116675,6.2157095 C10.0849567,5.7867645 10.8932368,6.248077 10.8932368,7.020662 L10.8938418,9.0755445 C15.2129368,9.0755445 18.1517243,11.027577 18.1523293,15.7226795 C18.1523293,16.0820495 17.9036743,16.3349395 17.5273643,16.3349395 C17.2487618,16.3349395 17.0164418,16.1746145 16.8527893,15.680027 C16.1588543,13.584307 14.1063918,12.7049395 10.8938418,12.7049395 L10.8932368,14.7625445 Z"}),className:(g||(g=b("stylex")))(i.svgFill),fillRule:"evenodd",strokeWidth:"1"}),height:"22px",width:"22px",viewBox:"1 1 21 21"});function a(a){var c=a.onPress;a=a.label;return h.jsx(b("CometTooltip.react"),{tooltip:a,align:"middle",position:"above",children:h.jsx("div",{children:h.jsx(b("CometPressable.react"),{"aria-label":a,testid:"messenger_reply_menu_button",onPress:function(a){return b("bs_curry")._1(c,0)},overlayDisabled:!0,children:h.jsx("div",{children:j,className:(g||(g=b("stylex")))(i.icon)})}),className:g(i.action)})})}c=a;f.styles=i;f.icon=j;f.make=c}),null);
__d("MWChatActions.bs",["fbt","bs_block","bs_curry","React","BanzaiODS","stylex","bs_caml_option","MWChatMessageId.bs","FocusRegion.react","MWChatReplyAction.bs","MWChatForwardAction.bs","MWChatReactionsAction.bs","CometTooltipGroup.react","MWChatContextualActions.bs","FocusWithinHandler.react","MWUISendOrRemoveReaction.bs","TabbableScopeQuery.react","MWChatMessageCellFocusTable.bs","MWChatMessageTableFocusTable.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{width:"mkd47r93",height:"rgmg9uty",display:"j83agx80"},outgoing:{flexDirection:"rl25f0pe"},incoming:{flexDirection:"btwxx1t3"},focusNotVisible:{outline:"lzcic4wl"}},k=b("bs_block").__(0,[!0,!0,!0]),l=g._("Forward"),m=g._("Reply");function n(a){var c=a.outgoing,d=a.showActions,e=a.enabledActions,f=a.messageID,g=a.checkCanRemoveGlobally,k=a.isSaved,n=a.dispatch,o=a.popoverAlign;a=a.selectedReaction;d=d!==void 0?d:!1;a=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;var p=i.useState(function(){return!1}),q=p[1],r=i.useState(function(){return!1}),s=r[1],t=b("bs_curry")._1(b("MWUISendOrRemoveReaction.bs").useSendOrRemoveReaction,0);d=d||r[0]||p[0];r=e.tag?!0:!1;p=function(a){b("BanzaiODS").bumpEntityKey(3185,"mwchat_actions","reply");return n([-445185539,f])};e=e.tag?[e[0],e[1],!0]:[e[0],e[1],e[2]];var u=e[1];if(!d&&!r)return i.jsx("div",{className:(h||(h=b("stylex")))(j.root)});else{var v;v=r&&!(typeof f==="number"||!f.tag)?i.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Cell.make,{children:i.jsx("div",{children:i.jsx(b("MWChatForwardAction.bs").make,{onForward:function(a){return n([860684962,[f,a]])},label:l,messageID:f}),role:"gridcell"})}):null;if(d&&e[0]){a={onVisibilityChange:function(a){return b("bs_curry")._1(q,function(b){return a})},sendReaction:function(c){var a=b("MWChatMessageId.bs").getMessageId(f);if(a!==void 0)return b("bs_curry")._2(t,a,c);else return 0},selectedReaction:a};o!==void 0&&(a.align=b("bs_caml_option").valFromOption(o));o=i.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Cell.make,{children:i.jsx("div",{children:i.jsx(b("MWChatReactionsAction.bs").make,a),role:"gridcell"})})}else o=null;a=b("MWChatMessageId.bs").getMessageId(f);if(d&&a!==void 0){var w=a;a=i.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Cell.make,{children:i.jsx("div",{children:i.jsx(b("MWChatContextualActions.bs").make,{onVisibilityChange:function(a){return b("bs_curry")._1(s,function(b){return a})},onRemoveLocally:function(a){return n([-982061771,w])},onRemoveGlobally:function(a){return n([-1069185133,w])},onForward:function(a){return n([860684962,[f,a]])},onReply:p,checkCanRemoveGlobally:g,showForward:e[2]&&!r,showReply:u&&r,messageID:f,isSaved:k,toggleSaveStatus:function(a){return n([855626531,[w,k?1:0]])},forwardLabel:l,replyLabel:m}),role:"gridcell"})})}else a=null;return i.jsx("div",{children:i.jsxs(b("CometTooltipGroup.react"),{children:[v,o,!r&&d&&u?i.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Cell.make,{children:i.jsx("div",{children:i.jsx(b("MWChatReplyAction.bs").make,{onPress:p,label:m}),role:"gridcell"})}):null,a]}),className:(h||(h=b("stylex")))(j.root,c?j.outgoing:j.incoming)})}}c={make:n};function a(a){var c=a.outgoing,d=a.showActions,e=a.messageID,f=a.enabledActions,g=a.checkCanRemoveGlobally,l=a.isSaved,m=a.dispatch,o=a.popoverAlign;a=a.selectedReaction;var p=d!==void 0?d:!1,q=f!==void 0?f:k,r=g!==void 0?g:function(a){return!1},s=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;d=i.useState(function(){return!1});var t=d[1],u=d[0];f=i.useState(function(){return!1});var v=f[1],w=f[0];g=function(a){return b("bs_curry")._1(v,function(a){return!0})};return i.jsx(b("MWChatMessageCellFocusTable.bs").keyCommands,{onEscape:w?function(a){return b("bs_curry")._1(v,function(a){return!1})}:void 0,onEnter:w?void 0:g,onSpace:w?void 0:g,children:i.jsx(b("MWChatMessageTableFocusTable.bs").Table_.Cell.make,{children:i.jsx(b("FocusWithinHandler.react"),{onFocusVisibleChange:function(a){b("bs_curry")._1(t,function(b){return a});if(a)return 0;else return b("bs_curry")._1(v,function(a){return!1})},children:function(a,d){if(w){a={outgoing:c,showActions:!0,enabledActions:q,messageID:e,checkCanRemoveGlobally:r,isSaved:l,dispatch:m,selectedReaction:s};o!==void 0&&(a.popoverAlign=b("bs_caml_option").valFromOption(o));a=i.jsx(b("FocusRegion.react").FocusRegion,{focusQuery:b("TabbableScopeQuery.react"),autoFocus:!0,disabled:!1,autoRestoreFocus:!0,autoRecoverFocus:!0,containFocus:!0,children:i.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Table.make,{tabScopeQuery:b("TabbableScopeQuery.react"),wrapX:!0,children:i.jsx("div",{children:i.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Row.make,{children:i.jsx("div",{children:i.jsx(n,a),role:"row"})}),role:"grid"})})})}else{var f={outgoing:c,showActions:p||u,enabledActions:q,messageID:e,checkCanRemoveGlobally:r,isSaved:l,dispatch:m,selectedReaction:s};o!==void 0&&(f.popoverAlign=b("bs_caml_option").valFromOption(o));a=i.jsx(n,f)}return i.createElement("div",{role:"gridcell",tabIndex:0,"data-scope":b("MWChatMessageTableFocusTable.bs").scopeID,className:(h||(h=b("stylex")))(d?!1:j.focusNotVisible)},a)}})})})}d=a;f.styles=j;f.defaultEnabledActions=k;f.forwardLabel=l;f.replyLabel=m;f.Inner=c;f.make=d}),null);
__d("MWChatPollFacepile.bs",["React","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{display:"j83agx80",flexDirection:"rl25f0pe",marginStart:"h676nmdw"},contact:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",marginStart:"pec0n382",borderTop:"e6olcokw",borderEnd:"enkuubej",borderBottom:"r2474ujb",borderStart:"sxdk7pr0"},contactMedium:{width:"odw8uiq3",height:"jnigpg78"},contactSmall:{width:"gab7stmx",height:"i4qgphn6"},overflow:{backgroundColor:"g6srhlxm",color:"m9osqain",height:"i4qgphn6",borderTopStartRadius:"h1ci2mql",borderTopEndRadius:"mjfe6jtr",borderBottomEndRadius:"c6w6u7b1",borderBottomStartRadius:"hc21y3pz",paddingTop:"jb3vyjys",paddingEnd:"ph5uu5jm",paddingBottom:"qt6c0cv9",paddingStart:"qnrpqo6b",marginStart:"pec0n382",fontWeight:"ekzkrbhg"}};function a(a){var c=a.contacts,d=a.size;a=c.length>2;return h.jsxs("div",{children:[a?h.jsx("div",{children:"+"+String(c.length-2|0),className:(g||(g=b("stylex")))(i.overflow)}):null,c.slice(-(a?2:3)|0).reverse().map(function(a,c){return h.jsx("img",{className:(g||(g=b("stylex")))(i.contact,d>=-9768761?i.contactSmall:i.contactMedium),src:a},String(c))})],className:(g||(g=b("stylex")))(i.root)})}c=a;f.styles=i;f.make=c}),null);
__d("MWXMAContent.bs",["bs_int64","React","gkx","stylex","bs_belt_Option","MWChatTheme.bs","CometLink.react","MWXMAThirdParty.bs","TetraText.react","TetraButton.react","MWChatPollFacepile.bs","CometPressable.react","recoverableViolation","CometImageCover.react","TetraTextPairing.react","MWChatVideoPlayer.react","TetraishSkittleIcon.react","CometAspectRatioContainer.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function i(a,c){switch(a.tag|0){case 0:b("recoverableViolation")("Link Call To Action passed to button","messenger_privacy_web");return 0;case 1:return c([-83269969,[a[0],a[1]]]);case 2:return c([501431055,[a[0],a[1]]]);case 3:return c([-611266716,a[0]]);case 4:return b("MWXMAThirdParty.bs").dispatchAction(a[0],c);case 5:return c([-268108250,[a[0],a[1]]])}}var j={photo:{width:"k4urcfbm",display:"j83agx80"},notExpanded:{height:"ajpb0j6l"}};function k(a){a=a.preview;if(a!==void 0){a=a;if(a.tag){var c=a[2],d=c.width;c=c.height;var e=d/c,f=c>250&&e<.8;return h.jsx(b("CometAspectRatioContainer.react"),{aspectRatio:f?.8:e,children:h.jsx(b("MWChatVideoPlayer.react"),{fbid:a[1],sdSrc:a[0],originalHeight:c,originalWidth:d,hideExpandButton:!1})})}else return h.jsx("div",{children:h.jsx(b("CometImageCover.react"),{alt:"XMA Header Image",src:a[0]}),className:(g||(g=b("stylex")))(j.photo,a[1].expand?!1:j.notExpanded)})}else return null}c={styles:j,make:k};var l={root:{width:"k4urcfbm",maxWidth:"d2edcug0",whiteSpace:"l3itjdph"},minWidth:{minWidth:"hus2fevy"},withIcon:{paddingTop:"linoseic",paddingBottom:"pby63qed"},description:{paddingTop:"jktsbyx5"}};function m(a){a=a.content;var c=b("bs_belt_Option").getWithDefault(a.title,""),d=b("bs_belt_Option").getWithDefault(a.description,"");return c===""&&d===""?null:h.jsxs("div",{children:[c!==""?h.jsx(b("TetraTextPairing.react"),{headline:c,level:4,headlineLineLimit:3}):null,d!==""?h.jsx("div",{children:h.jsx(b("TetraTextPairing.react"),{body:d,level:4,bodyLineLimit:3,bodyColor:"secondary"}),className:(g||(g=b("stylex")))(l.description)}):null],className:(g||(g=b("stylex")))(l.root,a.icon===void 0?!1:l.withIcon,b("gkx")("1391151")?!1:l.minWidth)})}d={styles:l,make:m};var n={root:{marginEnd:"tvfksri0",display:"j83agx80",alignItems:"bp9cbjyn",height:"datstx6m"}};function o(a){a=a.icon;if(a!==void 0){a=a;if(a.tag)return h.jsx("div",{children:h.jsx(b("CometImageCover.react"),{alt:"Icon for this message",src:a[0],style:{height:"36px",width:"36px",borderRadius:"50%"}}),className:(g||(g=b("stylex")))(n.root)});else{var c=a[0];return h.jsx("div",{children:h.jsx(b("TetraishSkittleIcon.react"),{color:function(){switch(c.color){case 974814873:return"cherry";case-1055309158:return"blue";case 434769739:return"grape";case-999567389:return"gray";case-228832781:return"lemon";case-944564459:return"lime";case-900205962:return"pink";case 768500100:return"seafoam";case-856049508:return"teal";case 322339018:return"tomato";case-910341463:return"white"}}(),size:36,icon:c.icon}),className:(g||(g=b("stylex")))(n.root)})}}else return null}e={styles:n,make:o};var p={button:{flexBasis:"lrurydbf",flexGrow:"buofh1pr",flexShrink:"g5gj957u",paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"}};function q(a){var c=a.button,d=a.messageId,e=a.dispatch;h.useEffect(function(){e([-860104233,c.action]);return},[]);var f=function(a){return e([-595865577,[d,c.title,c.action]])};a=c.title;var j=c.action;a=j.tag?h.jsx(b("TetraButton.react"),{label:a,type:"secondary",onPress:function(a){f(0);return i(j,e)}}):h.jsx(b("TetraButton.react"),{label:a,type:"secondary",onPress:f,linkProps:{target:function(){switch(j[1]){case 819537557:return"_blank";case-10377365:return"_self";case-604694839:return"_parent";case 1059302294:return"_top"}}(),url:j[0]}});return h.jsx("div",{children:a,className:(g||(g=b("stylex")))(p.button)})}var r={styles:p,make:q},s={link:{":hover":{textDecoration:"p8dawk7l"}}};function t(a){var c=a.content,d=a.dispatch;a=a.children;var e=c.action;if(e!==void 0){e=e;if(e.tag)return a;else{var f=e[0];if(f.tag)return h.jsx(b("CometPressable.react"),{"aria-label":b("bs_belt_Option").getWithDefault(c.title,""),onPress:function(a){return i(f,d)},children:a});else return h.jsx(b("CometLink.react"),{href:f[0],target:function(){switch(f[1]){case 819537557:return"_blank";case-10377365:return"_self";case-604694839:return"_parent";case 1059302294:return"_top"}}(),children:a,xstyle:[s.link]})}}else return a}var u={styles:s,make:t},v={root:{flexGrow:"buofh1pr",display:"j83agx80",flexDirection:"btwxx1t3",marginEnd:"cgat1ltu",justifyContent:"taijpn5t"}};function w(a){a=a.listItemsDescriptionText;return h.jsx("div",{children:h.jsx(b("TetraTextPairing.react"),{headline:a,level:4,headlineLineLimit:3}),className:(g||(g=b("stylex")))(v.root)})}var x={styles:v,make:w},y={item:{marginTop:"jei6r52m"},header:{display:"j83agx80",justifyContent:"i1fnvgqd"},progressBar:{backgroundColor:"g6srhlxm",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"t6na6p9t",marginTop:"aov4n071",marginBottom:"n851cfcs"},progressBarInner:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"t6na6p9t"}};function z(a){a=a.listItems;var c=b("MWChatTheme.bs").useTheme(0),d=b("MWChatTheme.bs").middle(c);return h.jsx("ul",{children:a.map(function(a,c){return h.jsxs("li",{children:[h.jsxs("div",{children:[h.jsx(b("TetraText.react"),{type:"headline4",numberOfLines:1,children:a.titleText}),h.jsx(b("MWChatPollFacepile.bs").make,{contacts:a.contacts.map(function(a){return a.url}),size:-9768761})],className:(g||(g=b("stylex")))(y.header)}),h.jsx("div",{children:h.jsx("div",{className:g(y.progressBarInner),style:{backgroundColor:d,width:b("bs_int64").to_string(a.progressBarFilledPercentage)+"%"}}),className:g(y.progressBar)})],className:g(y.item)},String(c))})})}var A={styles:y,make:z},B={root:{marginBottom:"n851cfcs"}};function C(a){a=a.listItemsSecondaryDescriptionText;return h.jsx("div",{children:h.jsx(b("TetraTextPairing.react"),{body:a,level:4,bodyLineLimit:3,bodyColor:"secondary"}),className:(g||(g=b("stylex")))(B.root)})}var D={styles:B,make:C},E={root:{display:"j83agx80",justifyContent:"taijpn5t",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",minHeight:"cehpxlet",marginTop:"n1l5q3vz",marginEnd:"tvfksri0",marginBottom:"n851cfcs",marginStart:"ozuftl9m"},description:{flexGrow:"buofh1pr",display:"j83agx80",flexDirection:"btwxx1t3",marginEnd:"cgat1ltu"},hasFavicon:{paddingStart:"a8nywdso",paddingEnd:"rz4wbd8a"},buttonsWrapper:{marginTop:"n1l5q3vz",justifySelf:"g8xlbnay"},buttonsOnly:{marginTop:"kvgmc6g5"}};function F(a){var c=a.content,d=a.dispatch,e=a.messageId;a=c.title;var f=c.description,i=c.action;if(a===void 0&&f===void 0&&i!==void 0){a=i;if(a.tag&&a[0].length===0)return null}f=b("bs_belt_Option").getWithDefault(c.title,"")===""&&b("bs_belt_Option").getWithDefault(c.description,"")===""&&c.icon===void 0;a=c.listItemsDescriptionText;var j=c.listItems,k=c.listItemsSecondaryDescriptionText;if(i!==void 0){i=i;if(i.tag){i=i[0];i=i.length>0?h.jsx("div",{children:i.map(function(a,b){return h.jsx(q,{button:a,messageId:e,dispatch:d},b.toString())}),className:(g||(g=b("stylex")))(E.buttonsWrapper,f?E.buttonsOnly:!1)}):null}else i=null}else i=null;return h.jsxs("div",{children:[h.jsxs("div",{children:[h.jsx(o,{icon:c.icon}),h.jsx(m,{content:c})],className:(g||(g=b("stylex")))(E.description,c.icon===void 0?!1:E.hasFavicon)}),a!==void 0?h.jsx(w,{listItemsDescriptionText:a}):null,j.length!==0?h.jsx(z,{listItems:j}):null,k!==void 0?h.jsx(C,{listItemsSecondaryDescriptionText:k}):null,i],className:g(E.root)})}var G={styles:E,make:F},H={root:{display:"j83agx80",flexDirection:"cbu4d94t",height:"datstx6m"}};function a(a){var c=a.content,d=a.messageId;a=a.dispatch;return h.jsx(t,{content:c,dispatch:a,children:h.jsxs("div",{children:[h.jsx(k,{preview:c.preview}),h.jsx(F,{content:c,dispatch:a,messageId:d})],className:(g||(g=b("stylex")))(H.root)})})}a=a;f.dispatchAction=i;f.Preview=c;f.MainText=d;f.Icon=e;f.CtaButton=r;f.DefaultActionTrigger=u;f.ListItemsDescriptionText=x;f.ListItems=A;f.ListItemsSecondaryDescriptionText=D;f.Body=G;f.styles=H;f.make=a}),null);
__d("MWXMAComponent.bs",["fbt","React","stylex","MWXMAContent.bs","TetraishHScroll.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={card:{verticalAlign:"sf5mxxl7",backgroundColor:"b3i9ofy5",overflowX:"ni8dbmo4",overflowY:"stjgntxs",maxWidth:"f2fs36ck",height:"datstx6m"},incoming:{borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"},incomingFirst:{borderTopStartRadius:"e72ty7fz"},incomingLast:{borderBottomStartRadius:"qmr60zad"},outgoing:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad"},outgoingFirst:{borderTopEndRadius:"qlfml3jp"},outgoingLast:{borderBottomEndRadius:"inkptoze"},centered:{marginTop:"km676qkl",marginEnd:"ad2k81qe",marginBottom:"myj7ivm5",marginStart:"f9o22wc5"}};function k(a){var c=a.outgoing,d=a.first,e=a.last,f=a.children;a=a.centered;a=a!==void 0?a:!1;return i.jsx("div",{children:f,className:(h||(h=b("stylex")))(j.card,c?j.outgoing:j.incoming,d?c?j.outgoingFirst:j.incomingFirst:!1,e?c?j.outgoingLast:j.incomingLast:!1,a?j.centered:!1)})}c={make:k};var l={scroller:{position:"l9j0dhe7",start:"cvthrh62",width:"jbcpqwzg",marginBottom:"quq7zyon"},cardWrapper:{backgroundColor:"hybvsw6c",height:"datstx6m",width:"k4urcfbm"}};function m(a){var c=a.items;return i.jsx("div",{children:i.jsx(b("TetraishHScroll.react"),{children:c.map(function(a,d){var e=d===0,f=d===(c.length-1|0);return i.jsx("div",{children:i.jsx("div",{children:a,className:(h||(h=b("stylex")))(j.card,e?j.incomingFirst:!1,e?j.incomingLast:!1,f?j.outgoingFirst:!1,f?j.outgoingLast:!1)}),className:h(l.cardWrapper)},d.toString())}),accessibilityLabel:g._("Message containing multiple sub messages"),baseCardWidth:300,maxWidth:200,peek:!0,peekPadding:44,peekPaddingEnd:36}),className:(h||(h=b("stylex")))(l.scroller)})}d={hScrollWidth:328,styles:l,make:m};function a(a){var c=a.xma,d=a.first,e=a.last,f=a.outgoing,g=a.dispatch;switch(c.tag|0){case 0:var h=c[2];return i.jsx(m,{items:c[0].map(function(a,c){return i.jsx(b("MWXMAContent.bs").make,{content:a,messageId:h,dispatch:g},c.toString())})});case 1:return i.jsx(k,{outgoing:f,first:d,last:e,children:i.jsx(b("MWXMAContent.bs").make,{content:c[0],messageId:c[2],dispatch:g})});case 2:return i.jsx(k,{outgoing:f,first:d,last:e,children:i.jsx(b("MWXMAContent.bs").make,{content:c[0],messageId:c[2],dispatch:g}),centered:!0})}}e=a;f.common=j;f.VerticalLayout=c;f.HorizontalLayout=d;f.make=e}),null);
__d("MWChatAdminItem.bs",["React","stylex","bs_belt_Option","MWXMAComponent.bs","MWChatTextTransform.bs","CometTextWithEntities.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{textAlign:"oqcyycmt",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",color:"pipptul6",backgroundColor:"nred35xi",paddingTop:"fdg1wqfs",paddingBottom:"ae35evdt",paddingStart:"lt9micmv",paddingEnd:"gl4o1x5y",fontSize:"r9r71o1u",lineHeight:"eagtllmd"},xma:{marginTop:"tr9rh885"}};function a(a){var c=a.content;a.managePageMessagesLink;a=a.dispatch;var d;switch(c.tag|0){case 0:c=c[2];if(c.tag){var e=c[0];d=e.tag===7?h.createElement(h.Fragment,void 0,h.jsx(b("CometTextWithEntities.react"),{text:b("bs_belt_Option").mapWithDefault(c[1],"",function(a){return a.text}),transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]}),h.jsx("div",{children:h.jsx(b("MWXMAComponent.bs").make,{xma:e[0],first:!0,last:!0,outgoing:!0,dispatch:a}),className:(g||(g=b("stylex")))(i.xma)})):null}else d=h.jsx(b("CometTextWithEntities.react"),{text:c[0].text,transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]});break;case 1:case 2:d=null;break}return h.jsx("div",{children:d,className:(g||(g=b("stylex")))(i.root)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatAudio.bs",["React","stylex","AudioPlayer.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{paddingTop:"jktsbyx5",paddingBottom:"osnr6wyh",maxWidth:"d2edcug0",verticalAlign:"sf5mxxl7",borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8",backgroundColor:"nred35xi"},content:{color:"m9osqain",wordBreak:"qv66sw1b"}};function a(a){a=a.content;return h.jsx("div",{children:h.jsx("div",{children:h.jsx(b("AudioPlayer.react"),{src:a.url.toString(),width:185}),className:(g||(g=b("stylex")))(i.content)}),className:g(i.root)})}c=185;d=a;f.width=c;f.styles=i;f.make=d}),null);
__d("MWChatFile.bs",["ix","fbt","React","fbicon","stylex","bs_belt_Option","bs_caml_option","TetraIcon.react","CometPressable.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={root:{display:"j83agx80",alignItems:"bp9cbjyn",userSelect:"abiwlrkh",paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0"},content:{flexGrow:"buofh1pr",color:"oo9gr5id",fontWeight:"lrazzd5p",wordBreak:"qv66sw1b"},icon:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginEnd:"o3lre8g0",backgroundColor:"hybvsw6c",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"}};function a(a){var c=a.url;a=a.fileName;a=a!==void 0?a:h._("File");c=b("bs_belt_Option").map(c,function(a){return{download:!0,target:"_blank",url:a.toString()}});a={display:"inline",overlayDisabled:!0,children:j.jsxs("div",{children:[j.jsx("div",{children:j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("908355"),16),color:"primary"}),className:(i||(i=b("stylex")))(k.icon)}),j.jsx("div",{children:a,className:i(k.content)})],className:i(k.root)})};c!==void 0&&(a.linkProps=b("bs_caml_option").valFromOption(c));return j.jsx(b("CometPressable.react"),a)}c=a;f.styles=k;f.make=c}),null);
__d("MWChatHideImage.bs",["ix","fbt","bs_curry","React","asset","IconSource","stylex","MWChatMessageId.bs","MWMSRevealImage","TetraIcon.react","TetraText.react","CometPressable.react","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={wrapper:{backgroundColor:"tqsryivl",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",lineHeight:"dfwzkoeu",textAlign:"oqcyycmt",verticalAlign:"sf5mxxl7",paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"jfpizvyy",paddingStart:"h4z51re5"},title:{paddingTop:"cxgpxx05",paddingEnd:"rz4wbd8a",paddingBottom:"osnr6wyh",paddingStart:"a8nywdso"}};function a(a){var c=a.fbid,d=a.messageID,e=b("MWMSRevealImage").useHook();a=j.useCallback(function(a){a=b("MWChatMessageId.bs").getMessageId(d);if(a!==void 0)return b("bs_curry")._2(e,c,a);else{b("recoverableViolation")("Failed to get message id when hiding","messenger_comet");return 0}},[e,d,c]);return j.jsx(b("CometPressable.react"),{display:"inline",onPress:a,children:j.jsxs("div",{children:[j.jsx(b("TetraIcon.react"),{icon:new(b("IconSource"))("FB",g("511443"),24)}),j.jsx("div",{children:j.jsx(b("TetraText.react"),{color:"white",type:"headline4",children:h._("Tap to See Sensitive Content")}),className:(i||(i=b("stylex")))(k.title)}),j.jsx(b("TetraText.react"),{color:"white",type:"body4",children:h._("This photo contains sensitive content which some people may find offensive or disturbing.")})],className:i(k.wrapper)})})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatImage.bs",["fbt","bs_curry","React","stylex","bs_belt_Option","bs_caml_option","MWEncryptedUrl.bs","MWChatHideImage.bs","MWChatMessageId.bs","CometPressable.react","CometImageCover.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j="18px",k={imageContainer:{verticalAlign:"sf5mxxl7",boxShadow:"aczr3vle",borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8",lineHeight:"soycq5t1"},standalone:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"},imageWithAppAttr:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"mrjvor2e",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"jinzq4gt"},appIcon:{width:"hhz5lgdu",height:"gl3lb2sf",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},appAttr:{paddingTop:"ecm0bbzt",paddingEnd:"p8fzw8mz",paddingBottom:"e5nlhep0",paddingStart:"pcp91wgn",display:"j83agx80",alignItems:"bp9cbjyn",borderBottomStartRadius:"qmr60zad",borderBottomEndRadius:"inkptoze",lineHeight:"dfwzkoeu"},appText:{fontSize:"e9vueds3",marginStart:"ggphbty4",color:"oo9gr5id",wordBreak:"qv66sw1b"}};function l(a){if(a!==void 0){a=a;var c=a.iconUrl;return i.jsxs("div",{children:[c!==void 0?i.jsx("img",{className:(h||(h=b("stylex")))(k.appIcon),src:c}):null,i.jsx("span",{children:a.name,className:(h||(h=b("stylex")))(k.appText)})],className:h(k.appAttr)})}else return null}function a(a){var c=a.content,d=a.maxHeight,e=a.messageID,f=a.buildSharedMediaViewerURL;a=d!==void 0?d:200;d=b("MWEncryptedUrl.bs").useMaybeEncryptedUrl(c.previewUrl,c.decryptionKey);var m=c.appAttribution!==void 0,n=c.isGIF&&!m;if(d!==void 0){var o=c.previewWidth;o=o!==void 0?String(o)+"px":"auto";d=i.jsx(b("CometImageCover.react"),{src:d,style:{maxHeight:String(a)+"px",maxWidth:"100%",width:o,borderTopLeftRadius:j,borderTopRightRadius:j,borderBottomLeftRadius:m?"0":j,borderBottomRightRadius:m?"0":j}})}else d=null;a=c.photoFbid;o=c.blurredImageUri;if(a!==void 0){var p=b("bs_caml_option").valFromOption(a);if(o!==void 0)a=i.jsx(b("MWChatHideImage.bs").make,{fbid:p,messageID:e});else if(n)a=d;else{o=b("bs_belt_Option").map(b("MWChatMessageId.bs").getMessageId(e),function(a){return b("bs_curry")._2(f,{fbid:p,photo_ids:void 0,message_id:a},m)});n={"aria-label":g._("Open Photo"),testid:"chat-image",xstyle:m?k.imageWithAppAttr:k.standalone,children:d};e=b("bs_belt_Option").map(o,function(a){return{passthroughProps:{origSrc:c.previewUrl},url:a}});e!==void 0&&(n.linkProps=b("bs_caml_option").valFromOption(e));a=i.jsx(b("CometPressable.react"),n,p)}}else a=d;return i.jsxs("div",{children:[a,l(c.appAttribution)],className:(h||(h=b("stylex")))(k.imageContainer,k.standalone)})}c=18;d=a;f.radius=c;f.radiusStyle=j;f.styles=k;f.renderAppAttribution=l;f.make=d}),null);
__d("MWChatImagesGrid.bs",["fbt","bs_curry","React","stylex","bs_belt_Option","bs_caml_option","MWChatMessageId.bs","CometPhotoGrid.react","CometPressable.react","CometImageCover.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{width:"b654a4as"},button:{width:"k4urcfbm",height:"datstx6m"}};function a(a){var c=a.content,d=a.buildSharedMediaViewerURL,e=a.messageID,f=[];c.forEach(function(a){a=a.photoFbid;if(a!==void 0){f.push(b("bs_caml_option").valFromOption(a));return 0}else return 0});a=c.map(function(a,c){var h=i.jsx(b("CometImageCover.react"),{src:a.previewUrl,style:{borderRadius:"4px"}},String(c)),k=a.photoFbid;if(k!==void 0){var l=b("bs_caml_option").valFromOption(k);k={"aria-label":g._("Open Photo"),overlayRadius:4,xstyle:j.button,children:h};var m=b("bs_belt_Option").map(b("MWChatMessageId.bs").getMessageId(e),function(c){return{passthroughProps:{origSrc:a.previewUrl},url:b("bs_curry")._2(d,{fbid:l,message_id:c,photo_ids:f},!1)}});m!==void 0&&(k.linkProps=b("bs_caml_option").valFromOption(m));return i.jsx(b("CometPressable.react"),k,String(c))}else return h});return i.jsx("div",{children:i.jsx(b("CometPhotoGrid.react"),{children:a}),className:(h||(h=b("stylex")))(j.root)})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatSticker.bs",["React","isRetina","JSResource","stylex","bs_caml_option","MWChatTheme.bs","MWChatImageSize.bs","lazyLoadComponent","CometProgressRingIndeterminate.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("Sticker.react").__setRef("MWChatSticker.bs")),j={root:{minHeight:"dumg13m2"}};function k(a){return h.jsx("div",{children:h.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}),className:(g||(g=b("stylex")))(j.root)})}c={styles:j,make:k};function a(a){var c=a.sticker;a=a.scale;var d=b("MWChatTheme.bs").useTheme(0);d=b("MWChatTheme.bs").middle(d);var e=c.width!==void 0&&c.height!==void 0;e=b("MWChatImageSize.bs").useImageSize(c.url,e,0);var f=c.width,g=c.height,j,l=0;f!==void 0&&g!==void 0?j=[f,g]:l=1;if(l===1)if(e!==void 0){f=e;j=[f.width,f.height]}else j=[24,24];g={accessibilityLabel:c.accessibilityLabel,animationTrigger:"load_and_hover",frameCount:c.frameCount,frameRate:c.frameRate,framesPerCol:c.framesPerCol,framesPerRow:c.framesPerRow,packID:c.packID,sourceURI:c.url,sourceWidth:j[0],sourceHeight:j[1],spriteURI:b("isRetina")()?c.spriteURI2x:c.spriteURI,stickerID:c.stickerID,tabIndex:-1,customColor:d,paddedSpriteURI:b("isRetina")()?c.paddedSpriteURI2x:c.paddedSpriteURI};a!==void 0&&(g.scale=b("bs_caml_option").valFromOption(a));return h.jsx(h.Suspense,{children:h.createElement(i,g),fallback:h.jsx(k,{})})}d=a;f.bootloadedSticker=i;f.ProgressIndicator=c;f.make=d}),null);
__d("MWChatVideo.bs",["fbt","bs_curry","React","gkx","stylex","bs_belt_Option","bs_caml_option","MWChatMessageId.bs","bs_caml_splice_call","CometPressable.react","MWChatVideoPlayer.react","CometAspectRatioContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{maxWidth:"d2edcug0",verticalAlign:"sf5mxxl7"},outgoing:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad"},incoming:{borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"},standalone:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"},video:{borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8",boxShadow:"qutah8gn",overflowX:"ni8dbmo4",overflowY:"stjgntxs",clipPath:"ktxn16wu",transform:"jz9ahs1c",backfaceVisibility:"efwgsih4"}};function a(a){var c=a.content,d=a.outgoing,e=a.messageID,f=a.buildSharedMediaViewerURL;a=c.fbid;if(a!==void 0){var k=b("bs_caml_option").valFromOption(a);a=c.width/c.height;e=b("bs_belt_Option").map(b("MWChatMessageId.bs").getMessageId(e),function(a){return b("bs_curry")._2(f,{fbid:k,photo_ids:void 0,message_id:a},!1)});var l=b("gkx")("1269455");a={children:i.jsx(b("CometAspectRatioContainer.react"),{aspectRatio:a>2?2:a,children:i.jsx(b("MWChatVideoPlayer.react"),{fbid:k,sdSrc:c.url,originalHeight:c.height,originalWidth:c.width,hideExpandButton:l})}),className:(h||(h=b("stylex")))(j.video,j.standalone,d?j.outgoing:j.incoming),style:{width:String(167)+"px"}};a["data-testid"]="chat-video";d=i.jsx("div",a);if(l){a={"aria-label":g._("Expand video"),overlayDisabled:!0,xstyle:function(a){return[j.root]},children:d};l=b("bs_belt_Option").map(e,function(a){return{passthroughProps:{origSrc:c.previewUrl},url:a}});l!==void 0&&(a.linkProps=b("bs_caml_option").valFromOption(l));return i.jsx(b("CometPressable.react"),a)}else return i.jsx("div",{children:d,className:b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[j.root])})}else return null}c=18;d=2;e=167;a=a;f.radius=c;f.maxAspectRatio=d;f.maxWidth=e;f.styles=j;f.make=a}),null);
__d("MWChatBubbleBAF.bs",["React","stylex","bs_belt_Option","MWChatTheme.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{paddingTop:"l60d2q6s",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",backgroundAttachment:"str0uxic",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"jinzq4gt",borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",color:"ljqsnud1"},incoming:{borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"},incoming_first:{borderTopStartRadius:"e72ty7fz"},incoming_last:{borderBottomStartRadius:"qmr60zad"},outgoing:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad"},outgoing_first:{borderTopEndRadius:"qlfml3jp"},outgoing_last:{borderBottomEndRadius:"inkptoze"},incomingReply:{borderBottomStartRadius:"mrjvor2e"}};function a(a){var c=a.pos,d=a.colors,e=a.content,f=a.first,j=a.last,k=a.outgoing,l=a.hasRepliedToMessage;a=a.xstyle;l=l!==void 0?l:!1;return h.jsx("div",{children:e,className:(g||(g=b("stylex")))(i.root,k?i.outgoing:i.incoming,f?k?i.outgoing_first:i.incoming_first:!1,j?k?i.outgoing_last:i.incoming_last:!1,!k&&l?i.incomingReply:!1,b("bs_belt_Option").getWithDefault(a,!1)),style:{backgroundImage:b("MWChatTheme.bs").gradient(c.top,c.bottom,d)}})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatBubbleSolid.bs",["React","stylex","bs_belt_Option","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{paddingTop:"l60d2q6s",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderTopStartRadius:"jk6sbkaj",borderBottomStartRadius:"qttc61fc",overflowWrap:"jm1wdb64",wordBreak:"qv66sw1b",color:"ljqsnud1",backgroundColor:"g6srhlxm"},incoming:{borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"},incoming_first:{borderTopStartRadius:"e72ty7fz"},incoming_last:{borderBottomStartRadius:"qmr60zad"},outgoing:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad"},outgoing_first:{borderTopEndRadius:"qlfml3jp"},outgoing_last:{borderBottomEndRadius:"inkptoze"},incoming_reply:{borderBottomStartRadius:"mrjvor2e"}};function a(a){var c=a.color,d=a.content,e=a.first,f=a.last,j=a.hasRepliedToMessage,k=a.outgoing;a=a.xstyle;j=j!==void 0?j:!1;var l={};c!==void 0&&(l.backgroundColor=b("bs_caml_option").valFromOption(c));return h.jsx("div",{children:d,className:(g||(g=b("stylex")))(i.root,k?i.outgoing:i.incoming,e?k?i.outgoing_first:i.incoming_first:!1,f?k?i.outgoing_last:i.incoming_last:!1,!k&&j?i.incoming_reply:!1,b("bs_belt_Option").getWithDefault(a,!1)),style:l})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatReplyBubble.bs",["React","MWChatTheme.bs","MWChatColors.bs","MWChatBubbleBAF.bs","MWChatBubbleSolid.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.pos,d=a.replyToOther,e=a.outgoing;a=a.content;var f=b("MWChatTheme.bs").useTheme(0);if(f.tag){if(!d)return g.jsx(b("MWChatBubbleBAF.bs").make,{pos:c,colors:f[0].colors.map(function(a){return b("MWChatTheme.bs").lighten(void 0,a)}),content:a,first:!0,last:!1,outgoing:e,hasRepliedToMessage:!0,xstyle:b("MWChatColors.bs").styles.replyToOriginal})}else if(!d)return g.jsx(b("MWChatBubbleSolid.bs").make,{color:b("MWChatTheme.bs").lighten(void 0,f[0].color),content:a,first:!0,last:!1,hasRepliedToMessage:!0,outgoing:e,xstyle:b("MWChatColors.bs").styles.replyToOriginal});return g.jsx(b("MWChatBubbleSolid.bs").make,{content:a,first:!0,last:!1,hasRepliedToMessage:!0,outgoing:e,xstyle:b("MWChatColors.bs").styles.replyToOriginal})}c=a;f.make=c}),null);
__d("MWChatAttachmentReplyBubble.bs",["ix","fbt","React","fbicon","stylex","TetraIcon.react","MWChatReplyBubble.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={message:{fontStyle:"fmqa7x8m",fontSize:"e9vueds3",paddingBottom:"osnr6wyh"},icon:{marginStart:"h676nmdw"}};function a(a){var c=a.pos,d=a.replyToOther;a=a.outgoing;var e=j.jsxs("div",{children:[j.jsx("span",{children:h._("Attachment")}),j.jsx("span",{children:j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("537728"),12),color:"secondary"}),className:(i||(i=b("stylex")))(k.icon)})],className:i(k.message)});return j.jsx(b("MWChatReplyBubble.bs").make,{pos:c,replyToOther:d,outgoing:a,content:e})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatMessageTooltip.bs",["fbt","React","MercuryTimestamp","CometTooltip.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.removedTimestamp,d=a.timestamp;a=a.children;c=c!==void 0?h.jsxs("div",{children:[h.jsx("div",{children:g._("Sent: {time}",[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(d))])}),h.jsx("div",{children:g._("Removed: {time}",[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(c))])})]}):g._("{time}",[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(d))]);return h.jsx(b("CometTooltip.react"),{tooltip:c,align:"middle",position:"above",block:!0,children:a})}c=a;f.make=c}),null);
__d("CometTextWithEntities.bs",["React","bs_caml_option","CometLink.react","MWChatMessageCellFocusTable.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c,d,e){return function(e,f){f={href:f.uri,children:e,xstyle:a};c!==void 0&&(f.target=function(){switch(b("bs_caml_option").valFromOption(c)){case 819537557:return"_blank";case-10377365:return"_self";case-604694839:return"_parent";case 1059302294:return"_top"}}());d!==void 0&&(f.testid=b("bs_caml_option").valFromOption(d));return g.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Cell.make,{children:g.jsx("span",{children:g.jsx(b("CometLink.react"),f),role:"gridcell"})})}}f.linkPlugin=a}),null);
__d("MWChatTextForBubble.bs",["React","stylex","bs_caml_option","MWChatColors.bs","MWChatTextTransform.bs","CometTextWithEntities.bs","CometTextWithEntities.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={chatBlockquote:{display:"q9uorilb",maxWidth:"d2edcug0",paddingStart:"hgr3rsts",position:"l9j0dhe7",whiteSpace:"ii04i59q",wordWrap:"c1et5uql",fontSize:"e9vueds3",lineHeight:"j5wam9gi"},chatBlockquoteIncoming:{color:"pipptul6"},chatBlockquoteOutgoing:{color:"r8mhfmj7"},borderStyle:{borderTopWidth:"frvqaej8",borderEndWidth:"ed0hlay0",borderBottomWidth:"afxsp9o4",borderStartWidth:"jcgfde61",display:"q9uorilb",height:"qeavputo",minHeight:"p13mx040",top:"rk01pc8j",transform:"ke6wolob",marginStart:"e5bbllhu",position:"pmk7jnqg",width:"dsl5tyj5"},borderStyleIncoming:{backgroundColor:"cirrqwo5"},borderStyleOutgoing:{backgroundColor:"m96f97by"},underline:{textDecoration:"oo483o9r"},bold:{fontWeight:"lrazzd5p"},highlight:{backgroundColor:"tutozmqo",borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",paddingTop:"jwdofwj8",paddingEnd:"rz4wbd8a",paddingBottom:"r8blr3vg",paddingStart:"a8nywdso"}};function a(a){var c=a.text,d=a.outgoing,e=a.ranges,f=a.isForwarded,j=a.dispatch;a=f?d?b("MWChatColors.bs").styles.outgoingForwarded:b("MWChatColors.bs").styles.incomingForwarded:d?b("MWChatColors.bs").styles.outgoing:b("MWChatColors.bs").styles.incoming;var k={},l=b("CometTextWithEntities.bs").linkPlugin([a,i.underline],819537557,void 0,0),m=b("CometTextWithEntities.bs").linkPlugin([a,i.bold],void 0,"profile_link",0),n=b("CometTextWithEntities.bs").linkPlugin([a,i.highlight],void 0,"highlight",0);k.Link=[l];k.Profile=[m];k.Highlight=[n];var o=h.useRef(null),p=e!==void 0?e.some(function(a){return a.entity.__typename==="Highlight"}):!1;h.useEffect(function(){var a=o.current;p&&(a==null||j([-45085548,[a,24]]));return},[p]);l={withLineBreaks:!0,withParagraphs:!0,text:c,renderers:k,transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]};e!==void 0&&(l.ranges=b("bs_caml_option").valFromOption(e));m=h.jsx(b("CometTextWithEntities.react"),l);if(f)return h.jsxs("div",{children:[h.jsx("div",{className:(g||(g=b("stylex")))(i.borderStyle,d?i.borderStyleOutgoing:i.borderStyleIncoming)}),m],ref:o,className:g(i.chatBlockquote,d?i.chatBlockquoteOutgoing:i.chatBlockquoteIncoming,a)});else return h.jsx("div",{children:m,ref:o,className:(g||(g=b("stylex")))(a)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatTextBubbleBAF.bs",["React","bs_caml_option","MWChatBubbleBAF.bs","MWChatTextForBubble.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.pos,d=a.colors,e=a.text,f=a.first,h=a.last,i=a.outgoing,j=a.hasRepliedToMessage,k=a.ranges,l=a.isForwarded;a=a.dispatch;j=j!==void 0?j:!1;e={text:e,outgoing:i,isForwarded:l,dispatch:a};k!==void 0&&(e.ranges=b("bs_caml_option").valFromOption(k));l=g.jsx(b("MWChatTextForBubble.bs").make,e);return g.jsx(b("MWChatBubbleBAF.bs").make,{pos:c,colors:d,content:l,first:f,last:h,outgoing:i,hasRepliedToMessage:j})}c=a;f.make=c}),null);
__d("MWChatTextBubbleSolid.bs",["React","bs_caml_option","MWChatBubbleSolid.bs","MWChatTextForBubble.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.color,d=a.text,e=a.first,f=a.last,h=a.outgoing,i=a.ranges,j=a.isForwarded;a=a.dispatch;d={text:d,outgoing:h,isForwarded:j,dispatch:a};i!==void 0&&(d.ranges=b("bs_caml_option").valFromOption(i));j=g.jsx(b("MWChatTextForBubble.bs").make,d);a={content:j,first:e,last:f,outgoing:h};c!==void 0&&(a.color=b("bs_caml_option").valFromOption(c));return g.jsx(b("MWChatBubbleSolid.bs").make,a)}c=a;f.make=c}),null);
__d("MWChatTextBubbleTransparent.bs",["React","stylex","bs_caml_option","MWChatTextForBubble.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");c=36;d=c+6|0;e=d+14|0;var i={"default":{paddingTop:"l60d2q6s",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",overflowWrap:"jm1wdb64",wordBreak:"qv66sw1b",":after":{content:"i6jr3soi",display:"k4aqvg2j",position:"g8e0jvg7",top:"geli4699",bottom:"fkq5d175",start:"oskkt2ky",end:"i4sm7uox",borderTopStyle:"fin0ypmt",borderEndStyle:"j10cs0yc",borderBottomStyle:"aw4oqepz",borderStartStyle:"fgzft9zi",borderTopWidth:"dzm1kfb5",borderEndWidth:"oc4jhviy",borderBottomWidth:"h624itt5",borderStartWidth:"reaovrpu",borderTopColor:"hwba8txa",borderEndColor:"dzgn2jm7",borderBottomColor:"n4g4bzxc",borderStartColor:"sdxs9vve",pointerEvents:"yfudjqg5"}},topEnd:{":after":{borderTopEndRadius:"gt092ec4"}},notTopEnd:{":after":{borderTopEndRadius:"qyep8gqv"}},bottomEnd:{":after":{borderBottomEndRadius:"t02hhl22"}},notBottomEnd:{":after":{borderBottomEndRadius:"af2nlw56"}},topStart:{":after":{borderTopStartRadius:"cur584us"}},notTopStart:{":after":{borderTopStartRadius:"efeyjaql"}},bottomStart:{":after":{borderBottomStartRadius:"lm2lsiji"}},notBottomStart:{":after":{borderBottomStartRadius:"dcchegku"}}};function a(a){var c=a.text,d=a.first,e=a.last,f=a.outgoing,j=a.ranges,k=a.isForwarded;a=a.dispatch;var l=!f;c={text:c,outgoing:f,isForwarded:k,dispatch:a};j!==void 0&&(c.ranges=b("bs_caml_option").valFromOption(j));k=h.jsx(b("MWChatTextForBubble.bs").make,c);return h.jsx("div",{children:k,className:(g||(g=b("stylex")))(i["default"],l||f&&d?i.topEnd:i.notTopEnd,l||f&&e?i.bottomEnd:i.notBottomEnd,f||l&&d?i.topStart:i.notTopStart,f||l&&e?i.bottomStart:i.notBottomStart)})}var j=18;a=a;f.baseSize=j;f.borderWidth=c;f.smallRadius=d;f.largeRadius=e;f.styles=i;f.make=a}),null);
__d("MWChatTextBubble.bs",["React","MWChatTheme.bs","MWChatTextBubbleBAF.bs","MWChatTextBubbleSolid.bs","MWChatTextBubbleTransparent.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.text,d=a.ranges,e=a.isForwarded,f=a.first,h=a.last,i=a.hasRepliedToMessage,j=a.pos,k=a.outgoing;a=a.dispatch;i=i!==void 0?i:!1;var l=b("MWChatTheme.bs").useTheme(0);if(l.tag)if(i)return g.jsx(b("MWChatTextBubbleBAF.bs").make,{pos:j,colors:l[0].colors,text:c,first:f,last:h,outgoing:k,ranges:d,isForwarded:e,dispatch:a});else return g.jsx(b("MWChatTextBubbleTransparent.bs").make,{text:c,first:f,last:h,outgoing:k,ranges:d,isForwarded:e,dispatch:a});else return g.jsx(b("MWChatTextBubbleSolid.bs").make,{color:l[0].color,text:c,first:f,last:h,outgoing:k,ranges:d,isForwarded:e,dispatch:a})}c=a;f.make=c}),null);
__d("MWChatComposerGifButton.bs",["bs_curry","React","JSResource","CometLazyPopoverTrigger.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.button;a=a.onGifSelect;return g.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("CometAnimatedImagePickerCardContainer.react").__setRef("MWChatComposerGifButton.bs"),disablePositionAutoflip:!0,popoverProps:{onSelect:b("bs_curry").__1(a)},align:"end",position:"above",children:c},"tester")}c=a;f.make=c}),null);
__d("MWChatComposerGifButtonSVG.bs",["React","stylex","bs_caml_option","MWChatChatButtonColorConstants.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={icon:{display:"a8c37x1j"}};function a(a){var c=a.fill,d=a.xstyle;a=a.size;d=d!==void 0?b("bs_caml_option").valFromOption(d):!1;var e={d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fillRule:"nonzero"};c!==void 0&&(e.fill=b("bs_caml_option").valFromOption(c));return h.jsx("svg",{children:h.jsx("path",e),className:(g||(g=b("stylex")))(i.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,d),height:String(a)+"px",width:String(a)+"px",viewBox:"0 0 16 16",x:"0px",y:"0px"})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatComposerPhotoButtonSVG.bs",["React","stylex","bs_caml_option","MWChatChatButtonColorConstants.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={icon:{display:"a8c37x1j"}};function a(a){var c=a.fill,d=a.xstyle;a=a.size;d=d!==void 0?b("bs_caml_option").valFromOption(d):!1;var e=c===void 0?(g||(g=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0,f=c===void 0?(g||(g=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.strokeGrey):void 0,j={d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z"};e!==void 0&&(j.className=b("bs_caml_option").valFromOption(e));c!==void 0&&(j.fill=b("bs_caml_option").valFromOption(c));var k={cx:"8.5",cy:"4.5",r:"1.5"};e!==void 0&&(k.className=b("bs_caml_option").valFromOption(e));c!==void 0&&(k.fill=b("bs_caml_option").valFromOption(c));var l={d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z"};e!==void 0&&(l.className=b("bs_caml_option").valFromOption(e));c!==void 0&&(l.fill=b("bs_caml_option").valFromOption(c));e={d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",strokeLinecap:"round",strokeLinejoin:"round"};f!==void 0&&(e.className=b("bs_caml_option").valFromOption(f));c!==void 0&&(e.stroke=b("bs_caml_option").valFromOption(c));return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("path",j),h.jsx("circle",k),h.jsx("path",l),h.jsx("path",e)],fill:"none",fillRule:"evenodd"}),className:(g||(g=b("stylex")))(i.icon,d),height:String(a)+"px",width:String(a)+"px",viewBox:"0 -1 17 17"})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatComposerStickerButton.bs",["bs_curry","React","JSResource","stylex","CometLazyPopoverTrigger.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={flyoutRoot:{width:"tjny6qan"}};function a(a){var c=a.button,d=a.onStickerSelect,e=a.logOnOpenStickerFlyout;return h.jsx(b("CometLazyPopoverTrigger.react"),{onVisibilityChange:function(a){if(a)return b("bs_curry")._1(e,0);else return 0},popoverResource:b("JSResource")("MWChatStickersFlyoutForJSResource.react").__setRef("MWChatComposerStickerButton.bs"),disablePositionAutoflip:!0,popoverProps:{className:(g||(g=b("stylex")))(i.flyoutRoot),onStickerSelect:d},align:"middle",position:"above",children:c})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatComposerStickerButtonSVG.bs",["React","stylex","bs_caml_option","MWChatChatButtonColorConstants.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={icon:{display:"a8c37x1j"}};function a(a){var c=a.fill,d=a.xstyle;a=a.size;d=d!==void 0?b("bs_caml_option").valFromOption(d):!1;var e={d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z"};c!==void 0&&(e.fill=b("bs_caml_option").valFromOption(c));var f={d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fillRule:"nonzero"};c!==void 0&&(f.fill=b("bs_caml_option").valFromOption(c));return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),h.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),h.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),h.jsx("path",e),h.jsx("path",f)],fillRule:"evenodd"}),className:(g||(g=b("stylex")))(i.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,d),height:String(a)+"px",width:String(a)+"px",viewBox:"0 0 17 16",x:"0px",y:"0px"})}c=a;f.styles=i;f.make=c}),null);
__d("CometComposerViewStateActions.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(typeof a==="number")return{type:"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS"};else{var b=a[0];if(b>=-397477428)if(b>=425599457)if(b>=501001072)return{attachmentType:a[1],type:"ACTIVATE_ATTACHMENT_TYPE"};else return{type:"QUEUE_UPLOADS",uploadIDs:a[1]};else if(b>=-179085375)return{attachmentType:a[1],type:"REMOVE_ATTACHMENT_TYPE"};else return{draftEditorState:a[1],type:"update_draft_editor_state"};else if(b>=-766219812)if(b>=-633946986)return{attachment:a[1],type:"REMOVE_MEDIA_ATTACHMENT_ITEM"};else return{type:"MEDIA_UPLOAD_STARTED",uploadID:a[1]};else if(b>=-987546310)return{files:a[1],type:"ADD_MEDIA_ATTACHMENT_ITEMS"};else{b=a[1];return{entID:b[0],type:"MEDIA_UPLOAD_SUCCESSFUL",uploadID:b[1]}}}}f.convert=a}),null);
__d("MWChatComposerUploadFileButton.bs",["fbt","bs_curry","React","bs_caml_option","CometFileSelector.react","useComposerViewStateReducer","CometComposerViewStateActions.bs","composerAttachmentAreaReducer","composerMediaAttachmentReducer","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=g._("Attach a file");function a(a,c){var d=a.acceptAllFiles,e=a.button,f=a.logOnSelectFileForUpload;a=c;c=d!==void 0?d:!1;b("useComposerViewStateReducer")(b("composerAttachmentAreaReducer").composerAttachmentAreaReducer);b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));var g=b("useComposerViewStateDispatcher")(),i=h.useCallback(function(a){if(a.length>0){b("bs_curry")._1(g,b("CometComposerViewStateActions.bs").convert([501001072,"MEDIA"]));b("bs_curry")._1(g,b("CometComposerViewStateActions.bs").convert([-987546310,a]));return b("bs_curry")._1(f,a)}else return 0},[g,f]);h.useImperativeHandle(a,function(){return{uploadFiles:i}},[g]);d=c?void 0:["image/*","image/heif","image/heic","video/*"];a={children:e,multiple:!0,onFilesSelected:function(a){return b("bs_curry")._1(i,Array.from(a))}};d!==void 0&&(a.accept=b("bs_caml_option").valFromOption(d));return h.jsx(b("CometFileSelector.react"),a)}d=h.forwardRef(a);f.label=c;f.make=d}),null);
__d("MWChatComposerButtons.bs",["fbt","bs_curry","React","stylex","bs_caml_option","CometTooltip.react","CometPressable.react","MWChatComposerGifButton.bs","MWChatComposerGifButtonSVG.bs","MWChatComposerStickerButton.bs","MWChatComposerPhotoButtonSVG.bs","MWChatComposerStickerButtonSVG.bs","MWChatComposerUploadFileButton.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={container:{zIndex:"tkr6xdv7"},button:{position:"pmk7jnqg",marginStart:"kkf49tns",marginEnd:"cgat1ltu",marginBottom:"sw24d88r",bottom:"i09qtzwb"},buttonPressable:{paddingStart:"b3onmgus",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0"},tooltipSpacing:{marginTop:"aahdfvyu"},uploadPhotoButtonPosition:{start:"lvexx4p4"},stickerButtonPosition:{start:"jjtdzmgn"},gifButtonPosition:{start:"timu3f6w"},buttonHidden:{transform:"qpbg1qsm",transitionProperty:"flx89l3n",transitionDuration:"mb8dcdod"},uploadFileButtonHidden:{transitionDelay:"lbhrjshz"},stickerButtonHidden:{transitionDelay:"awe8hfj4"},gifButtonHidden:{transitionDelay:"lxbcnve3"},buttonShown:{transform:"g3zh7qmp",transitionProperty:"flx89l3n",transitionDuration:"mb8dcdod"},uploadFileButtonShown:{transitionDelay:"lbhrjshz"},stickerButtonShown:{transitionDelay:"tntlmw5q"},gifButtonShown:{transitionDelay:"chkx7lpg"}},k=g._("Attach a photo or video"),l=g._("Choose a sticker"),m=g._("Choose a gif");c=g._("Create a poll");function a(a){var c=a.buttonColor,d=a.fileUploadHandlerRef,e=a.canSendGif,f=a.sendGif,g=a.sendSticker,n=a.shouldHideButtons,o=a.logOnOpenStickerFlyout;a=a.logOnSelectFileForUpload;return i.jsxs("div",{children:[i.jsx(b("MWChatComposerUploadFileButton.bs").make,{button:function(a){var d={xstyle:j.tooltipSpacing,size:20};c!==void 0&&(d.fill=b("bs_caml_option").valFromOption(c));return i.jsx("div",{children:i.jsx(b("CometTooltip.react"),{tooltip:k,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":k,"aria-hidden":n,testid:"composer_photo_uploader",onPress:function(c){return b("bs_curry")._1(a,0)},overlayRadius:"50%",xstyle:function(a){return[j.buttonPressable]},children:i.jsx(b("MWChatComposerPhotoButtonSVG.bs").make,d)})}),className:(h||(h=b("stylex")))(j.button,j.uploadPhotoButtonPosition,n?j.buttonHidden:j.buttonShown,n?j.uploadFileButtonHidden:j.uploadFileButtonShown)})},logOnSelectFileForUpload:a,ref:d}),i.jsx(b("MWChatComposerStickerButton.bs").make,{button:function(a,d){var e={xstyle:j.tooltipSpacing,size:20};c!==void 0&&(e.fill=b("bs_caml_option").valFromOption(c));return i.jsx("div",{children:i.jsx(b("CometTooltip.react"),{tooltip:l,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":l,"aria-hidden":n,ref:a,testid:"composer_sticker_picker",onPress:function(a){return b("bs_curry")._1(d,0)},overlayRadius:"50%",xstyle:function(a){return[j.buttonPressable]},children:i.jsx(b("MWChatComposerStickerButtonSVG.bs").make,e)})}),className:(h||(h=b("stylex")))(j.button,j.stickerButtonPosition,n?j.buttonHidden:j.buttonShown,n?j.stickerButtonHidden:j.stickerButtonShown)})},onStickerSelect:g,logOnOpenStickerFlyout:o}),i.jsx(b("MWChatComposerGifButton.bs").make,{button:function(a,d){var f={xstyle:j.tooltipSpacing,size:20},g=e?c:void 0;g!==void 0&&(f.fill=b("bs_caml_option").valFromOption(g));return i.jsx("div",{children:i.jsx(b("CometTooltip.react"),{tooltip:m,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":m,"aria-hidden":n,disabled:!e,ref:a,testid:"composer_gif_picker",onPress:function(a){return b("bs_curry")._1(d,0)},overlayRadius:"50%",xstyle:function(a){return[j.buttonPressable]},children:i.jsx(b("MWChatComposerGifButtonSVG.bs").make,f)})}),className:(h||(h=b("stylex")))(j.button,j.gifButtonPosition,n?j.buttonHidden:j.buttonShown,n?j.gifButtonHidden:j.gifButtonShown)})},onGifSelect:f})],className:(h||(h=b("stylex")))(j.container)})}d=a;f.styles=j;f.uploadPhotoLabel=k;f.stickerLabel=l;f.gifLabel=m;f.pollLabel=c;f.make=d}),null);
__d("MWChatComposerActionTray.bs",["bs_curry","React","stylex","TetraButton.react","CometTooltip.react","MWChatComposerButtons.bs","CometTooltipGroup.react","MWChatComposerGifButton.bs","MWChatComposerGifButtonSVG.bs","MWChatComposerStickerButton.bs","MWChatComposerPhotoButtonSVG.bs","MWChatComposerStickerButtonSVG.bs","MWChatComposerUploadFileButton.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{position:"pmk7jnqg",width:"k4urcfbm",transitionProperty:"flx89l3n",transitionDuration:"l9l1gxur"},trayOpen:{transform:"i9k17dj3"},trayClosed:{transform:"agkhgkm8"},buttonContainer:{backgroundColor:"nred35xi",display:"j83agx80",paddingEnd:"rv4hoivh",paddingTop:"cxgpxx05",width:"k4urcfbm",boxSizing:"rq0escxv"},button:{flexGrow:"buofh1pr",marginStart:"h676nmdw"}};function j(a){return h.jsx(b("MWChatComposerPhotoButtonSVG.bs").make,{fill:"var(--primary-text)",size:20})}c={make:j};function k(a){return h.jsx(b("MWChatComposerStickerButtonSVG.bs").make,{fill:"var(--primary-text)",size:20})}d={make:k};function l(a){return h.jsx(b("MWChatComposerGifButtonSVG.bs").make,{fill:"var(--primary-text)",size:20})}e={make:l};function a(a){var c=a.isOpen,d=a.canSendGif,e=a.sendGif,f=a.sendSticker,m=a.logOnOpenStickerFlyout,n=a.logOnSelectFileForUpload;a=a.trayButtons;return h.jsx("div",{children:h.jsx("div",{children:h.jsxs(b("CometTooltipGroup.react"),{children:[h.jsx(b("MWChatComposerUploadFileButton.bs").make,{button:function(a){return h.jsx("div",{children:h.jsx(b("CometTooltip.react"),{tooltip:b("MWChatComposerButtons.bs").uploadPhotoLabel,align:"middle",position:"above",children:h.jsx(b("TetraButton.react"),{disabled:!c,icon:j,label:b("MWChatComposerButtons.bs").uploadPhotoLabel,labelIsHidden:!0,type:"secondary",onPress:function(c){return b("bs_curry")._1(a,0)},testid:"composer_photo_uploader_action_tray"})}),className:(g||(g=b("stylex")))(i.button)})},logOnSelectFileForUpload:n}),h.jsx(b("MWChatComposerStickerButton.bs").make,{button:function(a,d){return h.jsx("div",{children:h.jsx(b("CometTooltip.react"),{tooltip:b("MWChatComposerButtons.bs").stickerLabel,align:"middle",position:"above",children:h.jsx(b("TetraButton.react"),{disabled:!c,icon:k,label:b("MWChatComposerButtons.bs").stickerLabel,labelIsHidden:!0,type:"secondary",onPress:function(a){return b("bs_curry")._1(d,0)},testid:"composer_sticker_picker_action_tray"})}),ref:a,className:(g||(g=b("stylex")))(i.button)})},onStickerSelect:f,logOnOpenStickerFlyout:m}),d?h.jsx(b("MWChatComposerGifButton.bs").make,{button:function(a,d){return h.jsx("div",{children:h.jsx(b("CometTooltip.react"),{tooltip:b("MWChatComposerButtons.bs").gifLabel,align:"middle",position:"above",children:h.jsx(b("TetraButton.react"),{disabled:!c,icon:l,label:b("MWChatComposerButtons.bs").gifLabel,labelIsHidden:!0,type:"secondary",onPress:function(a){return b("bs_curry")._1(d,0)},testid:"composer_gif_picker_action_tray"})}),ref:a,className:(g||(g=b("stylex")))(i.button)})},onGifSelect:e}):null,a]}),className:(g||(g=b("stylex")))(i.buttonContainer)}),"aria-hidden":!c,className:g(i.root,c?i.trayOpen:i.trayClosed)})}a=a;f.styles=i;f.PhotoButtonSVG=c;f.StickerButtonSVG=d;f.GifButtonSVG=e;f.make=a}),null);
__d("CometInteractionTracingQuickLogModule",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({APP_COLLECTIONS_TAIL_LOAD:30605376,APP_SECTIONS_FEED_TAILLOAD:30605366,BLUE_ON_COMET_MODAL:30605363,CHANNEL_TAB_ALL_VIDEOS_CARD_FETCH_MORE:30605391,CHANNEL_TAB_LATEST_VIDEOS_CARD_HSCROLL_LOAD_MORE:30605392,CHANNEL_TAB_PLAYLISTS_CARD_FETCH_MORE:30605390,CHANNEL_TAB_SERIES_CARD_FETCH_MORE:30605389,CHAT_TAB_OPEN:30605380,CHAT_TAB_SEND_MESSAGE:30605384,COLLECTIONS_TAILLOAD:30605367,COMPOSER_SUBMIT_PROCESSING:30605375,DIALOG_SHOW:30605362,EVENT_RSVP_WWW:30605345,FEED_COMPOSER_DIALOG_OPEN:30605316,FEED_PREFERENCES_DIALOG_OPEN:30605385,GROUP_COMPOSER_DIALOG_OPEN:30605340,GROUP_MALL_FEED_TAILLOAD:30605332,HOME_FEED_TAILLOAD:30605313,LWI_SECTION_OPTION_CHANGE:30605381,MARKETPLACE_BUY_LOCATION_DIALOG_OPEN:30605342,MARKETPLACE_COMPOSER_CREATE:30605344,MARKETPLACE_DEALS_FEED_PAGINATION:30605371,MARKETPLACE_ECOMM_PRODUCT_FEED_PAGINATION:30605373,MARKETPLACE_FEED_SAVED_PAGINATION:30605347,MARKETPLACE_HOME_FEED_PAGINATION:30605341,MARKETPLACE_SEARCH_FEED_PAGINATION:30605343,NOTIFICATION_PAGINATION:30605314,PAGE_ABOUT_FACEPILES_SEE_ALL_DIALOG_LOAD:30605358,PAGE_ABOUT_OPEN_MAP_VIEW:30605325,PAGE_ADMIN_SELECT_MANAGED_PAGE:30605324,PAGE_COMMUNITY_FACEPILES_SEE_ALL_DIALOG_LOAD:30605356,PAGE_COMMUNITY_TOP_FANS_CARD_SEE_ALL_DIALOG_LOAD:30605355,PAGE_COMPOSER_DIALOG_OPEN:30605333,PAGE_HOME_CARD_SEE_ALL_DIALOG_LOAD:30605330,PAGE_LIKE:30605317,PAGE_OPEN_VIDEO:30605318,PAGE_PHOTO_TAB_FETCH_MORE:30605331,PAGE_POST_OPEN_DETAILS:30605327,PAGE_REVIEWS_COMPOSER_TRIGGER:30605369,PAGE_REVIEWS_FEED_SORT:30605368,PAGE_REVIEWS_RECOMMENDATION_POST:30605370,PAGE_VIDEO_TAB_FETCH_MORE:30605319,POPOVER_SHOW:30605361,PRIVACY_SELECTOR_DIALOG_LOAD:30605326,PRIVACY_SELECTOR_SAVED_CUSTOM_PAGINATION:30605365,PROFILE_COMPOSER_DIALOG_OPEN:30605360,PROFILE_PIC_EDIT_DIALOG_LOAD_MORE:30605386,PROFILE_PIC_EDIT_DIALOG_OPEN:30605387,PROFILE_PIC_OPEN:30605364,PROFILE_TILES_TAILLOAD:30605378,STORY_VIEWER_BUCKET_TRANSITION:30605320,STORY_VIEWER_NAV_LIST_LOAD_PAGINATION:30605322,STORY_VIEWER_THREAD_TRANSITION:30605321,TARGETING_DIALOG_OPEN:30605379,TA_TTRC_COMET:30605354,TIMELINE_FEED_TAILLOAD:30605315,UFI_LOAD_MORE_COMMENTS:30605393,UFI_REACTIONS_DIALOG_OPEN:30605374,VIDEO_HOME_CATALOG_ALL_SHOWS_PAGINATION:30605336,VIDEO_HOME_CATALOG_MORE_FACEBOOK_ORIGINALS_PAGINATION:30605382,VIDEO_HOME_CATALOG_NAV:30605349,VIDEO_HOME_CHANNEL_PAGINATION:30605372,VIDEO_HOME_CONTEXT_MENU_TRIGGER:30605353,VIDEO_HOME_FEED_NAV:30605352,VIDEO_HOME_FEED_PAGINATION:30605334,VIDEO_HOME_LATEST_NAV:30605351,VIDEO_HOME_LATEST_PAGINATION:30605335,VIDEO_HOME_PLAYLIST_VIDEO_LIST_PAGINATION:30605337,VIDEO_HOME_SAVED_NAV:30605350,VIDEO_HOME_SAVED_PAGINATION:30605339,VIDEO_HOME_SETTINGS_TOGGLE:30605346,VIDEO_HOME_SPORTS_HIGHLIGHTS_PAGINATION:30605359,VIDEO_HOME_WATCHLIST_PAGE_NAV:30605348,VIDEO_HOME_WATCHLIST_PAGINATION:30605338})}),null);
__d("MWChatComposerPlusCircleButtonSVG.bs",["React","stylex","bs_caml_option","MWChatChatButtonColorConstants.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={icon:{display:"a8c37x1j",transitionProperty:"flx89l3n",transitionDuration:"ebpj63zs"},notRotated:{transform:"tftn3vyl"},rotated:{transform:"nrzfhe1q"}};function a(a){var c=a.fill,d=a.isRotated;a=a.size;var e={d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12"};c!==void 0&&(e.fill=b("bs_caml_option").valFromOption(c));return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),h.jsx("path",e)],fillRule:"evenodd"}),className:(g||(g=b("stylex")))(i.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,d?i.rotated:i.notRotated),height:String(a)+"px",width:String(a)+"px",viewBox:"0 0 24 24",x:"0px",y:"0px"})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatComposerUtil.bs",["getPlainTextFromDeferredDraftEditorState"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("getPlainTextFromDeferredDraftEditorState")(a).trim().length>0}f.hasContent=a}),null);
__d("MWChatComposerActionTrayButton.bs",["fbt","React","FBLogger","stylex","bs_caml_option","CometTooltip.react","MWChatComposerUtil.bs","CometPressable.react","withComposerViewStatePart","MWChatComposerPlusCircleButtonSVG.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i={actionTrayButton:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus",marginStart:"kkf49tns",marginEnd:"cgat1ltu",marginBottom:"sw24d88r"}};function a(a){var c=a.actionTrayOpen,d=a.buttonColor,e=a.editorState,f=a.hasMediaAttachments,j=a.hasTrayButtons,k=a.isLocalThread;a=a.onPress;e=e!==void 0?b("MWChatComposerUtil.bs").hasContent(b("bs_caml_option").valFromOption(e)):(b("FBLogger")("messenger-comet").mustfix("Did not properly supply editorState prop to MWChatComposerActionTrayButton from viewState!"),!1);k=k||f===!0||j&&!e&&!c;f=c?g._("Close more actions"):g._("Open more actions");j={isRotated:c,size:20};e=k?void 0:d;e!==void 0&&(j.fill=b("bs_caml_option").valFromOption(e));return h.jsx(b("CometTooltip.react"),{tooltip:f,align:"middle",position:"above",children:h.jsx(b("CometPressable.react"),{"aria-label":f,disabled:k,testid:"composer_actions_button",onPress:a,overlayRadius:"50%",xstyle:function(a){return[i.actionTrayButton]},children:h.jsx(b("MWChatComposerPlusCircleButtonSVG.bs").make,j)})})}c=b("withComposerViewStatePart")(a,function(a){var b=a.mediaAttachments;return{hasMediaAttachments:b==null?!1:b.length!==0,editorState:a.editorState}});f.styles=i;f.make=c}),null);
__d("MWChatComposerCreatePollButton.bs",["bs_curry","React","JSResource","stylex","CometLazyPopoverTrigger.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={flyoutRoot:{width:"geg40m2u"}};function a(a){var c=a.button,d=a.onPollCreate,e=a.logOnOpenPollFlyout;return h.jsx(b("CometLazyPopoverTrigger.react"),{onVisibilityChange:function(a){if(a)return b("bs_curry")._1(e,0);else return 0},popoverResource:b("JSResource")("MWChatPollFlyoutForJSResource.react").__setRef("MWChatComposerCreatePollButton.bs"),disablePositionAutoflip:!0,popoverProps:{className:(g||(g=b("stylex")))(i.flyoutRoot),onPollCreate:d},align:"end",position:"above",children:c})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatComposerAttachmentArea.bs",["bs_curry","React","stylex","bs_belt_Option","bs_caml_option","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={notMediaRoot:{overflowX:"ni8dbmo4",overflowY:"stjgntxs"},root:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",maxWidth:"d2edcug0",position:"l9j0dhe7"}};function a(a){var c=a.activeAttachmentType,d=a.children,e=a.closeActionTray;h.useEffect(function(){b("bs_curry")._1(e,0);return},[e]);a=b("bs_belt_Option").flatMap(c,function(a){if(a==null)return;else return b("bs_caml_option").some(a)});if(a!==void 0){c=a;return h.jsx("div",{children:b("bs_curry")._1(d,c),className:(g||(g=b("stylex")))(i.root,c!=="MEDIA"?i.notMediaRoot:!1)})}else return null}c=b("withComposerViewStatePart")(a,function(a){a=a.attachmentArea;return{activeAttachmentType:a==null?void 0:b("bs_caml_option").some(a.activeAttachmentType)}});f.styles=i;f.make=c}),null);
__d("MWChatComposerEmojiButton.bs",["ix","fbt","bs_curry","React","asset","IconSource","stylex","TetraIcon.react","CometTooltip.react","CometComposerEmojiPickerTrigger.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={emojiButton:{paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0",paddingStart:"hyh9befq"}};function a(a){var c=a.logOnOpenEmojiFlyout,d=h._("Choose an emoji");return j.jsx(b("CometTooltip.react"),{tooltip:d,align:"middle",position:"above",children:j.jsx(b("CometComposerEmojiPickerTrigger.react"),{align:"end",children:function(a,c,e){return j.jsx("div",{children:j.jsx(b("TetraIcon.react"),{"aria-label":d,icon:new(b("IconSource"))("FB",g("615741"),20),onPress:function(a){return b("bs_curry")._1(c,0)},testid:"composer_emoji_picker",ref:a}),className:(i||(i=b("stylex")))(k.emojiButton)})},onVisibilityChange:function(a){if(a)return b("bs_curry")._1(c,0);else return 0}})})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatComposerHeadlessMediaUploader.bs",["bs_curry","React","bs_caml_option","withComposerViewStatePart","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.mediaAttachments,d=a.onUploadStart,e=a.onUploadSuccess,f=a.onAttachmentsChanged,h=b("useComposerViewStateDispatcher")();g.useEffect(function(){b("bs_curry")._4(f,c,h,d,e);return},[f,c,h,d,e]);return null}c=b("withComposerViewStatePart")(a,function(a){return{mediaAttachments:b("bs_caml_option").nullable_to_opt(a.mediaAttachments)}});f.make=c}),null);
__d("MWChatComposerRemoveMediaAttachmentItemButton.bs",["ix","fbt","bs_curry","React","fbicon","stylex","TetraCircleButton.react","CometComposerViewStateActions.bs","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={root:{end:"e712q9ov",position:"pmk7jnqg",top:"nezaghv5"}};function a(a){var c=a.attachment,d=b("useComposerViewStateDispatcher")();a=j.useCallback(function(a){return b("bs_curry")._1(d,b("CometComposerViewStateActions.bs").convert([-633946986,c]))},[c,d]);return j.jsx("div",{children:j.jsx(b("TetraCircleButton.react"),{icon:b("fbicon")._(g("478231"),12),label:h._("Remove attachment"),onPress:a,size:24,type:"overlay"}),className:(i||(i=b("stylex")))(k.root)})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatComposerMediaAttachmentItem.bs",["ix","React","fbicon","MWChatFile.bs","stylex","TetraIcon.react","TetraText.react","CometImage.react","CometComposerViewState.bs","CometPlaceholder.react","CometErrorBoundary.react","CometLocalVideoFileThumbnailSuspense.react","MWChatComposerRemoveMediaAttachmentItemButton.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{flexGrow:"kb5gq1qc",flexShrink:"pfnyh3mw",height:"m7zwrmfr",marginTop:"rs0gx3tq",marginEnd:"tvfksri0",marginBottom:"dicw6rsg",marginStart:"hcukyx3x",overflowWrap:"jm1wdb64",position:"l9j0dhe7",width:"tmrshh9y"},image:{borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",height:"datstx6m",objectFit:"bixrwtb6",width:"k4urcfbm"},videoIndicator:{position:"pmk7jnqg",start:"kfkz5moi",marginStart:"fnu23jab",top:"rk01pc8j",marginTop:"gy6hb44f"},fileRoot:{alignItems:"bp9cbjyn",backgroundColor:"n1jkxfxr",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",display:"j83agx80",flexGrow:"kb5gq1qc",flexShrink:"pfnyh3mw",height:"m7zwrmfr",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"tvfksri0",marginBottom:"dicw6rsg",marginStart:"hcukyx3x",overflowWrap:"jm1wdb64",paddingStart:"scb9dxdr",paddingEnd:"hv4rvrfc",position:"l9j0dhe7",width:"k5ud4834"}};function a(a){a=a.attachment;var c=b("CometComposerViewState.bs").MediaAttachment.fromJS(a),d;switch(c.tag|0){case 0:case 1:d=[c[0],c[1]];break;default:d=[c[0],c[1]]}var e=d[1],f=e.uploadID;f=f==null?null:i.jsx(b("MWChatComposerRemoveMediaAttachmentItemButton.bs").make,{attachment:a});var k=i.jsxs("div",{children:[f,i.jsx("div",{children:i.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("908355"),16),color:"primary"}),className:(h||(h=b("stylex")))(b("MWChatFile.bs").styles.icon)}),i.jsx("div",{children:i.jsx(b("TetraText.react"),{type:"bodyLink3",numberOfLines:2,children:e.name}),className:h(b("MWChatFile.bs").styles.content)})],className:h(j.fileRoot)});if(c.tag===4)return i.jsx("div",{});else{a=i.jsxs("div",{children:[f,i.jsx(b("CometImage.react"),{alt:e.name,className:(h||(h=b("stylex")))(j.image),draggable:!1,src:URL.createObjectURL(e),loading:"lazy"})],className:h(j.root)});switch(d[0]){case 0:return a;case 1:if(e.type==="image/gif")return a;else return i.jsx(b("CometErrorBoundary.react"),{fallback:function(a){return k},children:i.jsx("div",{children:i.jsxs(b("CometPlaceholder.react"),{children:[f,i.jsx(b("CometLocalVideoFileThumbnailSuspense.react"),{file:e,height:200,renderer:function(a){return i.jsxs("div",{children:[i.jsx(b("CometImage.react"),{alt:e.name,className:(h||(h=b("stylex")))(j.image),draggable:!1,src:a,loading:"lazy"}),i.jsx(b("CometImage.react"),{className:h(j.videoIndicator),src:"/images/video/play_24dp.png"})]})},width:200})],fallback:null}),className:(h||(h=b("stylex")))(j.root)})});case 2:return k}}}c=a;f.make=c}),null);
__d("MWChatComposerUploadAnotherFileButton.bs",["ix","fbt","bs_curry","React","fbicon","stylex","TetraIcon.react","CometPressable.react","CometFileSelector.react","useComposerViewStateReducer","CometComposerViewStateActions.bs","composerMediaAttachmentReducer","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j={root:{alignItems:"bp9cbjyn",backgroundColor:"n1jkxfxr",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",display:"j83agx80",flexGrow:"kb5gq1qc",flexShrink:"pfnyh3mw",height:"m7zwrmfr",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"tvfksri0",marginBottom:"dicw6rsg",marginStart:"hcukyx3x",overflowWrap:"jm1wdb64",position:"l9j0dhe7",width:"tmrshh9y"}};function a(a){b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));var c=b("useComposerViewStateDispatcher")(),d=i.useCallback(function(a){if(a.length>0)return b("bs_curry")._1(c,b("CometComposerViewStateActions.bs").convert([-987546310,a]));else return 0},[c]);return i.jsx(b("CometFileSelector.react"),{accept:["image/*","image/heif","image/heic","video/*"],children:function(a){return i.jsx(b("CometPressable.react"),{"aria-label":h._("Upload another photo\/video"),onPress:function(c){return b("bs_curry")._1(a,0)},xstyle:j.root,children:i.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("481777"),24),testid:"composer_attachment_area_photo_uploader",color:"primary"})})},multiple:!0,onFilesSelected:function(a){return b("bs_curry")._1(d,Array.from(a))}})}c=a;f.make=c}),null);
__d("MWChatComposerMediaAttachmentArea.bs",["bs_curry","React","stylex","bs_caml_option","withComposerViewStatePart","useComposerViewStateReducer","CometComposerViewStateActions.bs","composerMediaAttachmentReducer","useComposerViewStateDispatcher","MWChatComposerMediaAttachmentItem.bs","MWChatComposerHeadlessMediaUploader.bs","MWChatComposerUploadAnotherFileButton.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.mediaAttachments,d=a.onFileUploadStart,e=a.onFileUploadSuccess;a=a.onAttachmentsChanged;b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));var f=b("useComposerViewStateDispatcher")();g.useEffect(function(){return function(a){return b("bs_curry")._1(f,b("CometComposerViewStateActions.bs").convert(-717406122))}},[f]);return g.jsxs("div",{children:[g.jsx(b("MWChatComposerHeadlessMediaUploader.bs").make,{onUploadStart:d,onUploadSuccess:e,onAttachmentsChanged:a}),c!==void 0?c.map(function(a,c){return g.jsx(b("MWChatComposerMediaAttachmentItem.bs").make,{attachment:a},"media-"+(String(c)+""))}):null,g.jsx(b("MWChatComposerUploadAnotherFileButton.bs").make,{})],className:"k4urcfbm b3onmgus r8blr3vg ph5uu5jm cxgpxx05 d76ob5m9 jifvfom9 j83agx80 bp9cbjyn"})}c=b("withComposerViewStatePart")(a,function(a){return{mediaAttachments:b("bs_caml_option").nullable_to_opt(a.mediaAttachments)}});f.make=c}),null);
__d("MWChatComposerRoundedCorners.bs",["React","Locale","stylex","useUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={roundedCornerTopRight:{fill:"qbubdy2e",position:"pmk7jnqg",top:"plgsh5y4",end:"n7fi1qx3",pointerEvents:"hzruof5a"},roundedCornerBottomRight:{fill:"qbubdy2e",position:"pmk7jnqg",bottom:"tghqpdut",end:"n7fi1qx3",pointerEvents:"hzruof5a"},roundedCornerRtl:{transform:"c3knoul3"}};function a(a){a=b("useUniqueID")();return h.jsx("div",{children:h.jsxs("svg",{children:[h.jsx("defs",{children:h.jsxs("mask",{children:[h.jsx("rect",{height:"40",width:"40",fill:"white",x:"-20",y:"0"}),h.jsx("circle",{cx:"0",cy:"20",fill:"black",r:"20"})],id:a})}),h.jsx("rect",{height:"20",width:"20",mask:"url(#"+(a+")"),x:"0",y:"0"})],height:"20px",width:"20px"}),className:(g||(g=b("stylex")))(i.roundedCornerTopRight,b("Locale").isRTL()?i.roundedCornerRtl:!1)})}d={make:a};function c(a){a=b("useUniqueID")();return h.jsx("div",{children:h.jsxs("svg",{children:[h.jsx("defs",{children:h.jsxs("mask",{children:[h.jsx("rect",{height:"40",width:"40",fill:"white",x:"-20",y:"0"}),h.jsx("circle",{cx:"0",cy:"0",fill:"black",r:"20"})],id:a})}),h.jsx("rect",{height:"20",width:"20",mask:"url(#"+(a+")"),x:"0",y:"0"})],height:"20px",width:"20px"}),className:(g||(g=b("stylex")))(i.roundedCornerBottomRight,b("Locale").isRTL()?i.roundedCornerRtl:!1)})}e={make:c};f.styles=i;f.TopRight=d;f.BottomRight=e}),null);
__d("MWChatComposerInner.bs",["fbt","Keys","bs_curry","React","Locale","bs_belt_Array","stylex","bs_caml_option","MWChatComposerUtil.bs","isMimeTypeForMedia","recoverableViolation","MWChatComposerButtons.bs","useCometComposerHandler","CometComposerEditor.react","MWChatComposerEmojiButton.bs","withComposerViewStatePart","useComposerViewStateReducer","MWChatComposerAttachmentArea.bs","MWChatComposerRoundedCorners.bs","CometComposerViewStateActions.bs","composerAttachmentAreaReducer","composerMediaAttachmentReducer","useComposerViewStateDispatcher","MWChatComposerMediaAttachmentArea.bs","getPlainTextFromDeferredDraftEditorState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{alignItems:"aovydwv3",display:"j83agx80",flexGrow:"buofh1pr",overflowX:"ni8dbmo4",paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",width:"qio8uep8",position:"l9j0dhe7"},container:{borderTopStartRadius:"orhb3f3m",borderTopEndRadius:"czkt41v7",borderBottomEndRadius:"fmqxjp7s",borderBottomStartRadius:"emzo65vh",paddingEnd:"dflh9lhu",paddingBottom:"e5nlhep0"},composeArea:{paddingTop:"ecm0bbzt",paddingStart:"h4z51re5",borderTop:"gvyehdmr",borderEnd:"mu0vl6fp",borderBottom:"msuhji6j",borderStart:"iqy7zqfr",flexBasis:"rj1gh0hx",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",display:"j83agx80",overflowX:"ni8dbmo4",alignItems:"ll8tlv6m",backgroundColor:"b3i9ofy5",color:"oo9gr5id",transitionProperty:"flx89l3n",transitionDuration:"dpja2al7",borderTopStartRadius:"orhb3f3m",borderTopEndRadius:"h905i5nu",borderBottomEndRadius:"jinzq4gt",borderBottomStartRadius:"emzo65vh"},composeAreaExpanded:{transform:"qiw3t3sk"},composeAreaCollapsed:{transform:"hedjyaoh"},composeAreaCollapsedRtl:{transform:"n83uzuu6"},inputContainer:{display:"j83agx80",width:"k4urcfbm"},emojiContainer:{position:"pmk7jnqg",end:"n7fi1qx3"},input:{paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0",flexGrow:"buofh1pr",fontSize:"jq4qci2q",lineHeight:"a3bd9o3v",maxHeight:"iko8p5ub",overflowY:"eg9m0zos",overflowX:"ni8dbmo4",boxSizing:"rq0escxv",marginEnd:"krc0q2jm"}};function a(a){var c=a.actionTrayOpen,d=a.buttonColor,e=a.closeActionTray,f=a.fileUploadHandlerRef,k=a.hasContent,l=a.inputRef,m=a.editorState,n=a.hasMediaAttachments,o=a.canSendGif,p=a.sendGif,q=a.sendSticker,r=a.shouldExpandInput,s=a.onBlur,t=a.onContentsChange,u=a.onEscape,v=a.onFileUploadStart,w=a.onFileUploadSuccess,x=a.onAttachmentsChanged,y=a.logOnOpenStickerFlyout,z=a.logOnOpenEmojiFlyout;a=a.logOnSelectFileForUpload;b("useComposerViewStateReducer")(b("composerAttachmentAreaReducer").composerAttachmentAreaReducer);b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));var A=b("useComposerViewStateDispatcher")(),B=i.useMemo(function(){return{handleKeyCommand:function(a,c,d){if(a==="Messenger/CloseTab"){b("bs_curry")._1(u,0);return"handled"}else return"not-handled"},keyBindingFn:function(a){if(a.keyCode===b("Keys").ESC)return"Messenger/CloseTab"},priority:10}},[u]);b("useCometComposerHandler")(B);B=function(a){if(m!==void 0){var c=b("getPlainTextFromDeferredDraftEditorState")(b("bs_caml_option").valFromOption(m)),d=b("getPlainTextFromDeferredDraftEditorState")(a);c!==d&&b("bs_curry")._1(t,d)}return a};var C=function(a){a=b("bs_belt_Array").keepMap(a,function(a){if(b("isMimeTypeForMedia").isMimeTypeForPhoto(a.type))return b("bs_caml_option").some(a)});a.length>0&&(b("bs_curry")._1(A,b("CometComposerViewStateActions.bs").convert([501001072,"MEDIA"])),b("bs_curry")._1(A,b("CometComposerViewStateActions.bs").convert([-987546310,a])));return"handled"};if(m!==void 0){var D=b("bs_caml_option").valFromOption(m);k.contents=b("MWChatComposerUtil.bs").hasContent(D);var E=D.draftEditorState;if(E!==void 0)E=b("bs_caml_option").valFromOption(E).isInCompositionMode();else{D=D.isComposing;D!==void 0?E=D:(b("recoverableViolation")("viewState.editorState in MWChatComposerInner is malformed!","messenger_comet"),E=!1)}}else b("recoverableViolation")("Did not properly supply editorState prop to MWChatComposerInner from viewState!","messenger_comet"),E=!1;D=r||E||c||n===!0||k.contents;r=function(a){a=l.current;if(a==null)return 0;else return a.focus()};E={fileUploadHandlerRef:f,canSendGif:o,sendGif:p,sendSticker:q,shouldHideButtons:D,logOnOpenStickerFlyout:y,logOnSelectFileForUpload:a};d!==void 0&&(E.buttonColor=b("bs_caml_option").valFromOption(d));return i.createElement(i.Fragment,void 0,i.jsx(b("MWChatComposerButtons.bs").make,E),i.jsxs("div",{children:[i.jsxs("div",{children:[n===!0?i.jsx(b("MWChatComposerAttachmentArea.bs").make,{children:function(a){return i.jsx(b("MWChatComposerMediaAttachmentArea.bs").make,{onFileUploadStart:v,onFileUploadSuccess:w,onAttachmentsChanged:x})},closeActionTray:e}):null,i.jsx("div",{children:i.jsx("div",{children:i.jsx(b("CometComposerEditor.react"),{autoFocus:!1,handlePastedFiles:C,onChange:B,onBlur:s,placeholder:g._("Aa"),ref:l,submitOnEnter:!0,testid:"chat_input"}),className:(h||(h=b("stylex")))(j.input)}),className:h(j.inputContainer)})],className:h(j.container,j.composeArea,D?j.composeAreaExpanded:b("Locale").isRTL()?j.composeAreaCollapsedRtl:j.composeAreaCollapsed),onClick:r}),i.jsx("div",{children:i.jsx(b("MWChatComposerEmojiButton.bs").make,{logOnOpenEmojiFlyout:z}),className:h(j.container,j.emojiContainer)}),i.jsx(b("MWChatComposerRoundedCorners.bs").TopRight.make,{}),i.jsx(b("MWChatComposerRoundedCorners.bs").BottomRight.make,{})],className:h(j.root)}))}c=b("withComposerViewStatePart")(a,function(a){var b=a.mediaAttachments;return{hasMediaAttachments:b==null?!1:b.length!==0,editorState:a.editorState}});f.styles=j;f.make=c}),null);
__d("MWChatBusinessPersistentMenuButton.bs",["ix","fbt","bs_curry","React","asset","IconSource","JSResource","stylex","TetraIcon.react","CometLazyPopoverTrigger.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.pageId;a=a.sendMenuItem;return i.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("MWChatBusinessPersistentMenuContainer.react").__setRef("MWChatBusinessPersistentMenuButton.bs"),popoverProps:{pageId:c,onSelect:b("bs_curry").__1(a)},align:"end",children:function(a,c){return i.jsx("div",{children:i.jsx(b("TetraIcon.react"),{"aria-label":h._("Open persistent menu"),icon:new(b("IconSource"))("FB",g("682268"),20),onPress:function(a){return b("bs_curry")._1(c,0)},testid:"composer_persistent_menu"}),ref:a,className:"tw6a2znq f10w8fjw d1544ag0 pybr56ya pcgkmkmd qzhwtbm6 j83agx80"})}},"tester")}c=a;f.make=c}),null);
__d("MWChatHotLikeButton.bs",["fbt","React","stylex","bs_caml_option","EmojiRenderer","CometEmoji.react","CometTooltip.react","CometPressable.react","MWChatChatButtonColorConstants.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={hotLikeCustom:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus",marginTop:"qjjbsfad",marginStart:"hnxzwevs",marginEnd:"qq4y78aw",marginBottom:"oud54xpy"},hotLikeDefault:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginTop:"knvmm38d",marginStart:"kkf49tns",marginEnd:"cgat1ltu",marginBottom:"bi6gxh9e"}};function a(a){var c=a.color,d=a.customLikeEmoji;a=a.sendHotLike;if(d!==void 0){var e=d;d=g._("Send a {emoji}",[g._param("emoji",e)]);var f=function(a){var c=b("EmojiRenderer").parse(e).map(function(a){return a.emoji});if(c.length!==1)return i.jsx("span",{children:e});else{c=c[0];return i.jsx(b("CometEmoji.react"),{emoji:c,size:a})}},k=g._("Send a");k=i.createElement(i.Fragment,void 0,i.jsxs("span",{children:[k," "]}),f(16));return i.jsx(b("CometTooltip.react"),{tooltip:k,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":d,testid:"messenger_hotlike_emoji_button",onPress:a,overlayRadius:"50%",xstyle:function(a){return[j.hotLikeCustom]},children:f(24)})})}else{k=g._("Send a Like");d={children:[i.jsx("path",{d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z"}),i.jsx("path",{d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z"})]};c!==void 0&&(d.fill=b("bs_caml_option").valFromOption(c));return i.jsx(b("CometTooltip.react"),{tooltip:k,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":k,testid:"messenger_hotlike_button",onPress:a,overlayRadius:"50%",xstyle:function(a){return[j.hotLikeDefault]},children:i.jsx("svg",{children:i.jsxs("g",d),className:(h||(h=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),height:"20px",width:"20px",preserveAspectRatio:"xMinYMax meet",version:"1.1",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"})})})}}c=a;f.styles=j;f.make=c}),null);
__d("MWChatSendButton.bs",["fbt","React","stylex","bs_caml_option","CometTooltip.react","CometPressable.react","MWChatChatButtonColorConstants.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={send:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginTop:"knvmm38d",marginStart:"kkf49tns",marginEnd:"cgat1ltu",marginBottom:"bi6gxh9e"}};function a(a){var c=a.onPress,d=a.color;a=a.testid;var e=g._("Press Enter to send"),f={d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fillRule:"evenodd",stroke:"none"};d!==void 0&&(f.fill=b("bs_caml_option").valFromOption(d));return i.jsx(b("CometTooltip.react"),{tooltip:e,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":e,testid:a,onPress:c,overlayRadius:"50%",xstyle:function(a){return[j.send]},children:i.jsx("svg",{children:i.jsx("path",f),className:(h||(h=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),height:"20px",width:"20px",viewBox:"0 0 24 24"})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatComposerLastButton.bs",["bs_curry","React","gkx","FBLogger","bs_belt_Option","bs_caml_option","MWChatSendButton.bs","MWChatComposerUtil.bs","MWChatHotLikeButton.bs","withComposerViewStatePart","MWChatBusinessPersistentMenuButton.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.color,d=a.customLikeEmoji,e=a.editorState,f=a.hasMediaAttachments,h=a.onFocusComposer,i=a.sendHotLike,j=a.sendMenuItem,k=a.sendMessage,l=a.shouldShowMenu;a=a.pageId;k={onPress:k,testid:"chat_send_button"};c!==void 0&&(k.color=b("bs_caml_option").valFromOption(c));k=g.jsx(b("MWChatSendButton.bs").make,k);if(e!==void 0){f=b("bs_belt_Option").getWithDefault(f,!1);if(!b("MWChatComposerUtil.bs").hasContent(b("bs_caml_option").valFromOption(e))&&!f){e=b("gkx")("1088007");if(a!==void 0&&l&&e)return g.jsx(b("MWChatBusinessPersistentMenuButton.bs").make,{pageId:b("bs_caml_option").valFromOption(a),sendMenuItem:j});f={customLikeEmoji:d,sendHotLike:function(a){b("bs_curry")._1(i,a);return b("bs_curry")._1(h,0)}};c!==void 0&&(f.color=b("bs_caml_option").valFromOption(c));return g.jsx(b("MWChatHotLikeButton.bs").make,f)}else return k}else{b("FBLogger")("messenger-comet").mustfix("Did not properly supply editorState prop to MWChatComposerLastButton from viewState!");return k}}c=b("withComposerViewStatePart")(a,function(a){var b=a.mediaAttachments;return{editorState:a.editorState,hasMediaAttachments:b==null?!1:b.length!==0}});d=b("bs_belt_Option").getWithDefault;f.$pipe$question=d;f.make=c}),null);
__d("MWChatComposerReplyView.bs",["ix","fbt","bs_curry","React","fbicon","stylex","MWCurrentThread.bs","TetraIcon.react","TetraText.react","MWChatTextTransform.bs","MWUILoadParticipants.bs","TetraTextPairing.react","CometTextWithEntities.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={container:{borderTop:"l6v480f0",backgroundColor:"nred35xi",paddingEnd:"oj5qckz4",paddingStart:"lb8aey2d",paddingTop:"jktsbyx5",paddingBottom:"pby63qed",display:"j83agx80",justifyContent:"i1fnvgqd",alignItems:"ll8tlv6m"},message:{marginEnd:"o3lre8g0"}};function a(a){var c=a.repliedToMessage,d=a.onClosePreview;a=b("MWCurrentThread.bs").useCurrentThreadExn(0);a=b("bs_curry")._1(b("MWUILoadParticipants.bs").useParticipants,a);var e;if(c.fromViewer)e=h._("yourself");else{a=a.get(c.authorID);e=a==null?h._("Message"):a.name}a=c.content;var f;switch(a.tag|0){case 0:c=a[2];if(c.tag)switch(c[0].tag|0){case 0:f=h._("Sticker");break;case 1:case 2:f=h._("Image");break;case 6:f=h._("Video");break;case 8:f=null;break;default:f=h._("Attachment")}else f=j.jsx(b("CometTextWithEntities.react"),{maxLength:50,maxLines:1,truncationStyle:"ellipsis-only",text:c[0].text,transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]});break;case 1:case 2:f=null;break}return j.jsxs("div",{children:[j.jsx(b("TetraTextPairing.react"),{body:j.createElement(j.Fragment,void 0,j.jsxs(b("TetraText.react"),{type:"body4",children:[h._("Replying to")," ",j.jsx(b("TetraText.react"),{type:"bodyLink4",children:e})]})),meta:f,level:3,style:k.message}),j.jsx(b("TetraIcon.react"),{"aria-label":h._("Remove"),icon:b("fbicon")._(g("478231"),12),onPress:function(a){return b("bs_curry")._1(d,0)},color:"primary"})],className:(i||(i=b("stylex")))(k.container)})}c=a;f.replyToStyles=k;f.make=c}),null);
__d("MWChatFocusComposerContext.bs",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=g.createContext({focusComposer:void 0,setFocusComposer:function(a){return 0}});function a(a){a=a.children;var b=g.useRef(void 0),c=b.current,d=g.useMemo(function(){return{focusComposer:c,setFocusComposer:function(a){b.current=a;return 0}}},[c]);return g.createElement(h.Provider,{value:d,children:a})}c=a;f.context=h;f.provider=c}),null);
__d("Draft.bs",["EditorState"],(function(a,b,c,d,e,f){"use strict";c={};d={};e={};var g={},h={},i={},j={},k={};function a(a){a=b("EditorState").createEmpty(void 0);var c=a.getCurrentContent();return b("EditorState").forceSelection(a,c.getSelectionAfter())}a={clearEditorContent:a};var l={};f.CharacterMetadata=c;f.ContentBlock=d;f.EntityInstance=e;f.SelectionState=g;f.ContentState=h;f.Decorator=i;f.CompositeDecorator=j;f.Modifier=k;f.EditorState=a;f.Editor=l}),null);
__d("MWChatResetComposer.bs",["bs_curry","Draft.bs","React","useComposerViewStateReducer","CometComposerViewStateActions.bs","composerEditorStateViewStateReducer","useControlledComposerViewStateDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){var d=a.onReset;a=c;b("useComposerViewStateReducer")(b("composerEditorStateViewStateReducer"));var e=b("useControlledComposerViewStateDispatcher")();g.useImperativeHandle(a,function(){return{reset:function(a){b("bs_curry")._1(d,0);return[[-397477428,b("Draft.bs").EditorState.clearEditorContent(0)],-717406122,[-179085375,"MEDIA"]].map(function(a){return b("bs_curry")._1(e,b("CometComposerViewStateActions.bs").convert(a))})}}},[e,d]);return null}c=g.forwardRef(a);f.make=c}),null);
__d("MWChatComposerBase.bs",["ix","bs_curry","React","qex","bs_belt_Array","fbicon","stylex","setTimeout","bs_caml_option","clearTimeout","MWChatUseLatch.bs","TetraButton.react","CometTooltip.react","MWChatComposerUtil.bs","CometComposer.react","MWChatComposerInner.bs","MWChatResetComposer.bs","MWChatComposerButtons.bs","CometPlaceholder.react","CometTooltipGroup.react","MWChatComposerReplyView.bs","MWChatComposerActionTray.bs","MWChatComposerLastButton.bs","CometOnOutsideClick.react","MWChatFocusComposerContext.bs","useCometInteractionTracing","MWChatComposerActionTrayButton.bs","MWChatComposerCreatePollButton.bs","MWChatComposerUploadFileButton.bs","CometInteractionTracingQuickLogModule"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{display:"j83agx80",position:"l9j0dhe7",alignItems:"aovydwv3",overflowX:"ni8dbmo4",overflowY:"stjgntxs",backgroundColor:"nred35xi",paddingEnd:"n8tt0mok",paddingStart:"hyh9befq"},aboveActionTray:{transitionProperty:"flx89l3n",transitionDuration:"l9l1gxur"},aboveActionTrayClosed:{transform:"agkhgkm8"},aboveActionTrayOpen:{transform:"brhp5kr4"}};function k(a){return 0}function a(a){var c=a.isPreviewThread,d=a.repliedToMessage,e=a.isTabFocused,f=a.initialComposerViewState,l=a.canSendGif,m=a.sendMessage,n=a.sendGif,o=a.sendSticker,p=a.sendHotLike,q=a.sendMenuItem,r=a.logOnOpenStickerFlyout,s=a.logOnOpenEmojiFlyout,t=a.logOnSelectFileForUpload,u=a.mentionsPlugin,v=a.actionTrayOpen,w=a.openActionTray,x=a.closeActionTray,y=a.color,z=a.customLikeEmoji,A=a.shouldShowMenu,B=a.pageId,C=a.onFileUploadStart,D=a.onFileUploadSuccess,E=a.onAttachmentsChanged,F=a.fileUploadHandlerRef,G=a.messageRequestInfoText,H=a.onContentsChange,I=a.hasContent,J=a.onCloseTab,K=a.onTypingStateChanged,L=a.isLocalThread,M=a.extraTrayButton,N=a.threadKey,aa=a.onCloseReplyPreview,ba=a.resetComposerRef,O=a.isSubmitting,ca=a.saveState;a=a.createPoll;var da=C!==void 0?C:function(a){return 0},P=i.useRef(null),Q=i.useRef(null);C=i.useState(function(){return!1});var R=C[1],ea=C[0];C=i.useContext(b("MWChatFocusComposerContext.bs").context);var S=C.setFocusComposer,T=function(a){a=Q.current;if(a==null)return 0;else return a.focus()};i.useEffect(function(){b("bs_curry")._1(S,T);return},[S]);i.useEffect(function(){return function(a){a=P.current;if(a==null||N===void 0)return 0;else{a=a.getViewState();return b("bs_curry")._2(ca,b("bs_caml_option").valFromOption(N),a)}}},[]);var U=d!==void 0;i.useEffect(function(){var a=Q.current;a==null||U&&a.focus();return},[U]);i.useEffect(function(){var a=Q.current;a==null||e&&!c&&a.focus();return},[c]);C=K!==void 0?b("MWChatUseLatch.bs").useLatch(K,!0,5e3):[k,k];var V=C[1],W=C[0],X=i.useRef(null),Y=i.useCallback(function(a){a=X.current;if(a==null)return 0;else{b("clearTimeout")(a);return 0}},[X]),fa=i.useCallback(function(a){a=b("qex")._("1409218");if(a==null)return 0;else{b("bs_curry")._1(Y,0);X.current=b("setTimeout")(function(a){return b("bs_curry")._1(R,function(a){return!1})},a);return 0}},[X,R]);i.useEffect(function(){return Y},[Y]);var ga=i.useCallback(function(a){b("bs_curry")._1(R,function(b){return a!==""});b("bs_curry")._1(Y,0);b("bs_curry")._1(H,a);if(a==="")return b("bs_curry")._1(V,0);else return b("bs_curry")._1(W,0)},[R,H,W,V]),ha=function(a){a=Q.current;a==null||a.focus();return b("bs_curry")._1(da,0)},ia=b("useCometInteractionTracing")(b("CometInteractionTracingQuickLogModule").CHAT_TAB_SEND_MESSAGE,"fast","INTERACTION");K=function(a){if(O.current)return 0;else return ia(function(d){d.onComplete(function(a){a=c?"search":"chat";return d.addMetadata("entrypoint",a)});b("bs_curry")._1(m,a);return b("bs_curry")._1(V,0)})};C=b("qex")._("1343059");var Z=b("bs_belt_Array").keepMap([i.jsx(b("MWChatComposerUploadFileButton.bs").make,{acceptAllFiles:!0,button:function(a){return i.jsx("div",{children:i.jsx(b("CometTooltip.react"),{tooltip:b("MWChatComposerUploadFileButton.bs").label,align:"middle",position:"above",children:i.jsx(b("TetraButton.react"),{disabled:!v,icon:b("fbicon")._(g("528566"),20),label:b("MWChatComposerUploadFileButton.bs").label,labelIsHidden:!0,type:"secondary",onPress:function(c){return b("bs_curry")._1(a,0)},testid:"composer_file_uploader"})}),className:(h||(h=b("stylex")))(b("MWChatComposerActionTray.bs").styles.button)})},logOnSelectFileForUpload:t},"composer_file_uploader"),M,C&&a!==void 0?i.jsx(b("MWChatComposerCreatePollButton.bs").make,{button:function(a,c){return i.jsx("div",{children:i.jsx(b("CometTooltip.react"),{tooltip:b("MWChatComposerButtons.bs").pollLabel,align:"middle",position:"above",children:i.jsx(b("TetraButton.react"),{disabled:!v,icon:b("fbicon")._(g("577048"),20),label:b("MWChatComposerButtons.bs").pollLabel,labelIsHidden:!0,type:"secondary",onPress:function(a){return b("bs_curry")._1(c,0)},testid:"composer_poll_action_tray"})}),ref:a,className:(h||(h=b("stylex")))(b("MWChatComposerActionTray.bs").styles.button)})},onPollCreate:a,logOnOpenPollFlyout:function(a){return 0}},"composer_create_poll"):null,i.jsx("div",{},"placeholder_div_do_not_use")],function(a){if(a===null)return;else return b("bs_caml_option").some(a)}),ja=d!==void 0?i.jsx(b("CometPlaceholder.react"),{children:i.jsx("div",{children:i.jsx(b("MWChatComposerReplyView.bs").make,{repliedToMessage:d,onClosePreview:aa}),className:(h||(h=b("stylex")))(j.aboveActionTray,v?j.aboveActionTrayOpen:j.aboveActionTrayClosed)}),fallback:null}):null,$=e?y:void 0;M={ref:P,children:function(a){return i.jsx(b("CometOnOutsideClick.react"),{children:function(c){var d={actionTrayOpen:v,hasTrayButtons:Z.length===0,isLocalThread:L,onPress:function(a){if(v){b("bs_curry")._1(x,0);return b("bs_curry")._1(R,function(a){return!1})}else return b("bs_curry")._1(w,0)}};$!==void 0&&(d.buttonColor=b("bs_caml_option").valFromOption($));var e={actionTrayOpen:v,closeActionTray:x,fileUploadHandlerRef:F,hasContent:I,inputRef:Q,canSendGif:l,sendGif:n,sendSticker:o,shouldExpandInput:ea,onBlur:V,onContentsChange:ga,onEscape:function(a){return b("bs_curry")._1(J,0)},onFileUploadStart:ha,onFileUploadSuccess:D,onAttachmentsChanged:E,logOnOpenStickerFlyout:r,logOnOpenEmojiFlyout:s,logOnSelectFileForUpload:t};$!==void 0&&(e.buttonColor=b("bs_caml_option").valFromOption($));var f={customLikeEmoji:z,onFocusComposer:T,sendHotLike:function(a){return b("bs_curry")._1(p,0)},sendMenuItem:q,sendMessage:a,shouldShowMenu:A,pageId:B};$!==void 0&&(f.color=b("bs_caml_option").valFromOption($));return i.jsxs("div",{children:[i.jsx(b("MWChatResetComposer.bs").make,{onReset:fa,ref:ba}),G!==void 0?i.jsx(b("CometPlaceholder.react"),{children:i.jsx("div",{children:b("bs_caml_option").valFromOption(G),className:(h||(h=b("stylex")))(j.aboveActionTray,v?j.aboveActionTrayOpen:j.aboveActionTrayClosed)}),fallback:null}):null,ja,u,i.jsx(b("MWChatComposerActionTray.bs").make,{isOpen:v,canSendGif:l,sendGif:n,sendSticker:o,logOnOpenStickerFlyout:r,logOnSelectFileForUpload:t,trayButtons:Z}),i.jsxs("div",{children:[i.jsxs(b("CometTooltipGroup.react"),{children:[i.jsx(b("MWChatComposerActionTrayButton.bs").make,d),i.jsx(b("MWChatComposerInner.bs").make,e)]}),i.jsx(b("MWChatComposerLastButton.bs").make,f)],className:(h||(h=b("stylex")))(j.root)})],ref:c})},onOutsideClick:function(a){return b("bs_curry")._1(R,function(a){return!1})}})},onBeforeViewStateChange:function(a){if(O.current&&!b("MWChatComposerUtil.bs").hasContent(a.editorState)){O.current=!1;return 0}else return 0},onSubmitCommit:K,registerOnBeforeUnload:!1};f!==void 0&&(M.beginningViewState=b("bs_caml_option").valFromOption(f));return i.jsx(b("CometComposer.react"),M)}c=a;f.styles=j;f.noOp=k;f.make=c}),null);
__d("MWChatComposerMentionsTypeaheadListItem.react",["CometImageIcon.react","CometSearchMentionsBaseViewItem.react","React","TetraTextPairing.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var d=c.getLabel(),e=c.getSublabel(),f=c.getPhotoURI();return g.jsx(b("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:c,children:g.jsxs("div",{className:"b38knevg j83agx80 bp9cbjyn",children:[g.jsx("div",{className:"ciadx1gn mudddibn",children:g.jsx(b("CometImageIcon.react"),{size:28,src:f,style:"circle"})}),g.jsx("div",{className:"ozuftl9m",children:g.jsx(b("TetraTextPairing.react"),{body:d,bodyLineLimit:1,level:3,meta:e,metaLineLimit:1})})]})}))}e.exports=a}),null);
__d("MWCurrentThread.re",["MWCurrentThread.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MWCurrentThread.bs").Provider.make;f.Provider_make=a;c=b("MWCurrentThread.bs").useCurrentThreadExn;f.useCurrentThreadExn=c;d=b("MWCurrentThread.bs").Provider;f.Provider=d}),null);
__d("MWChatComposerMentionsTypeaheadEntry",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getRawData=function(){return this.$1};b.getKey=function(){return this.$1.key};b.getLabel=function(){return this.$1.name};b.getSublabel=function(){return this.$1.nickname};b.getPhotoURI=function(){return this.$1.photoURI};b.isFromNickname=function(){return this.$1.source==="nickname"};return a}();e.exports=a}),null);
__d("MWChatComposerMentionsTypeaheadDataSource",["Promise","CurrentUser","MWChatComposerMentionsTypeaheadEntry"],(function(a,b,c,d,e,f){"use strict";var g=6;a=function(){function a(a){this.$1=[],this.$1=Array.from(a.values()).filter(function(a){return a.contactId!==b("CurrentUser").getID()})}var c=a.prototype;c.bootstrap=function(){return};c.fetchCache=function(a){return{entries:[],params:a}};c.$2=function(a,b){return a.split(" ").some(function(a){return a.startsWith(b)})||a.startsWith(b)};c.fetchNetwork=function(a){var c=this,d=a.query,e=d.toLowerCase(),f=[];this.$1.forEach(function(a){var d=a.nickname;d=d!=null&&d.toLowerCase();var g=null;c.$2(a.actualName.toLowerCase(),e)?g="name":d&&c.$2(d,e)&&(g="nickname");g!=null&&a.profilePictureUrl!=null&&f.push(new(b("MWChatComposerMentionsTypeaheadEntry"))({key:a.contactId+" "+g,name:a.actualName,nickname:a.nickname,photoURI:a.profilePictureUrl,source:g}))});f.length>g&&(f=f.slice(0,g));return b("Promise").resolve({entries:f,params:a})};return a}();e.exports=a}),null);
__d("useMWChatMentionsStrategyResolver",["MWChatComposerMentionsTypeaheadDataSource","createCometAtSignMentionStrategy","useCometMentionsStrategyResolver"],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.participants;return b("useCometMentionsStrategyResolver")([{dataSource:new(b("MWChatComposerMentionsTypeaheadDataSource"))(a),searchStrategy:b("createCometAtSignMentionStrategy")({minMatchLength:1})}])}e.exports=a}),null);
__d("MWChatComposerMentionsPlugin.react",["CometComposerMentionsPlugin.react","MWChatComposerMentionsTypeaheadListItem.react","MWCurrentThread.re","MWUILoadParticipants.re","React","createCometComposerMentionsEntity","getCometComposerMentionsSearch","useMWChatMentionsStrategyResolver","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=b("MWCurrentThread.re").useCurrentThreadExn,h=b("MWUILoadParticipants.re").useParticipants,i=b("React");function a(a){a=a.currentBlockKey;var c=g();c=h(c);c=b("useMWChatMentionsStrategyResolver")({participants:c});return i.jsx(b("CometComposerMentionsPlugin.react"),{currentBlockKey:a,getReplacementString:function(a){var b=a.getSublabel();return a.isFromNickname()&&b!=null?"@"+b:"@"+a.getLabel()},getSearchText:b("getCometComposerMentionsSearch"),onMentionCreateContentState:function(a,c){return b("createCometComposerMentionsEntity")(c.getKey(),!1,a)},priority:1,strategyResolver:c,viewItemStrategyRenderer:b("MWChatComposerMentionsTypeaheadListItem.react")})}e.exports=b("withComposerViewStatePart")(a,function(a){a=a==null?void 0:a.editorState;a=a!=null&&a.__type==="editor-state-based"?a.draftEditorState:null;return{currentBlockKey:a!=null?a.getSelection().getStartKey():null}})}),null);
__d("MWChatComposerMentionsPlugin.re",["MWChatComposerMentionsPlugin.react"],(function(a,b,c,d,e,f){a=b("MWChatComposerMentionsPlugin.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MWChatComposerP2PButton.bs",["ix","fbt","bs_curry","React","fbicon","bs_caml_option","TetraButton.react","CometTooltip.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=h._("Send or request money");a=i.forwardRef(function(a,c){var d=a.onClick,e=a.disabled;a=a.tooltip;c=c;e={disabled:e,icon:b("fbicon")._(g("480625"),20),label:j,labelIsHidden:!0,type:"secondary",onPress:function(a){if(d!==void 0)return b("bs_curry")._1(d,0);else return 0}};c=c==null?void 0:b("bs_caml_option").some(c);c!==void 0&&(e.ref=b("bs_caml_option").valFromOption(c));return i.jsx(b("CometTooltip.react"),{tooltip:a,align:"middle",position:"above",children:i.jsx(b("TetraButton.react"),e)})});f.label=j;f.make=a}),null);
__d("MWChatComposerP2PPopoverTrigger.bs",["React","gkx","bs_belt_Array","JSResource","bs_caml_option","MWChatComposerP2PButton.bs","CometEntryPointPopoverTrigger.react","MWChatComposerP2PPaymentEligibility","MWChatComposerP2PPopoverQuery$Parameters"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.actionTrayOpen,d=a.closeActionTray;a=a.otherUserFbid;var e={};e.rootQuery={parameters:b("MWChatComposerP2PPopoverQuery$Parameters"),variables:{should_include_paypal:b("gkx")("1343519")}};var f=b("MWChatComposerP2PPaymentEligibility").use({fbids:b("bs_belt_Array").keepMap([a],function(a){return a})});f=b("bs_belt_Array").get(f.viewer.peer_to_peer_payments.can_send_to,0);var h=b("gkx")("1013539");if(f!==void 0&&h){h=b("bs_caml_option").valFromOption(f);var i=h.is_eligible,j=i?b("MWChatComposerP2PButton.bs").label:h.exception.description;return g.jsx(b("CometEntryPointPopoverTrigger.react"),{align:"end",children:function(a,d){return g.jsx(b("MWChatComposerP2PButton.bs").make,{onClick:d,disabled:!c||!i,tooltip:j,ref:a})},entryPointParams:{},otherProps:{closeActionTray:d,otherUserFbid:a},popoverEntryPoint:{getPreloadProps:function(a){return{queries:e}},root:b("JSResource")("MWChatComposerP2PPopover.react").__setRef("MWChatComposerP2PPopoverTrigger.bs")},position:"above"})}else return null}c=a;f.make=c}),null);
__d("MWChatFileUploadErrorDialog.bs",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={body:g._("The file you have selected is too large. The maximum size is 25MB."),title:g._("Failed to upload files")};f.maxFileSizeExceeded=a}),null);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function(a,b,c,d,e,f){a={hasEditableVideos:function(a){var b=this.filterVideos(a).length;a=this.filterNonEditableVideos(a).length;return b>a},hasVideos:function(a){return this.filterVideos(a).length>0},hasAudioFiles:function(a){return this.filterAudioFiles(a).length>0},filterVideos:function(a){return this.filterFileOfSupportedType(a,b("VideoUploadConfig").videoExtensions)},filterNonEditableVideos:function(a){var b={gif:!0};return this.filterFileOfSupportedType(a,b)},filterAudioFiles:function(a){return this.filterFileOfSupportedType(a,b("ComposerXNativeAudioUploadsConfig").audioExtensions)},filterFileOfSupportedType:function(a,b){return a.filter(function(a){a=a.indexOf(".")!==-1?a.split(".").pop().toLowerCase():"";return b[a]})}};e.exports=a}),null);
__d("ImageExif",["exif-js"],(function(a,b,c,d,e,f){b("exif-js").enableXmp();function g(a){var b=function(b){return a.charCodeAt(b)&255};this.getByteAt=b;this.getShortAt=function(a,b){a=this.getSShortAt(a,b);return a>0?a:a+65536};this.getSShortAt=function(a,c){var d=b(a);a=b(a+1);return c?(d<<8)+a:(a<<8)+d};this.getLongAt=function(a,b){a=this.getSLongAt(a,b);return a>0?a:a+4294967296};this.getSLongAt=function(a,c){var d=b(a),e=b(a+1),f=b(a+2);a=b(a+3);return c?(((d<<8)+e<<8)+f<<8)+a:(((a<<8)+f<<8)+e<<8)+d};this.getStringAt=function(b,c){return a.substr(b,c)};this.getLength=function(){return a.length}}a={readFromFile:function(a,b){var c=this,d=new FileReader();d.addEventListener("load",function(a){a=a.target.result;a=a instanceof ArrayBuffer?c.readFromArrayBuffer(a):c.readFromBinaryString(a);b(a)},!1);window.DataView?d.readAsArrayBuffer(a):d.readAsBinaryString(a)},readFromBinaryString:function(a){return b("exif-js").readFromBinaryFile(new g(a))},readFromArrayBuffer:function(a){return b("exif-js").readFromBinaryFile(a)}};e.exports=a}),null);
__d("StringEncoding",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Uint8Array(a);var c=0,d=[];while(c<a.length){var e=a[c],f=void 0;if(e>>7===0)f=1;else if(e>>5===6)e&=31,f=2;else if(e>>4===14)e&=15,f=3;else if(e>>3===30)e&=7,f=4;else if(e>>2===62)e&=3,f=5;else if(e>>1===126)e&=1,f=6;else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(c+f>a.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var g=1;g<f;g++){var h=a[c+g];if(h>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");h&=63;e<<=6;e|=h}if(e>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!e)switch(b){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(e);c+=f}return String.fromCodePoint.apply(String,d)}function g(a){return(a&255)<<8|a>>8}function b(a,b){if(a.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");a=new Uint16Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==65534&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=g(f));var h=f;if(f>55295&&f<57344){if((f&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(c+1>=a.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++c;var i=a[c];e&&(i=g(i));if((i&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");h=((f&1023)<<10|i&1023)+65536}if(!h)switch(b){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(h);++c}return String.fromCodePoint.apply(String,d)}function h(a){return(a&255)<<24|(a&255<<8)<<8|(a&255<<16)>>8|a>>>24}function c(a,b){if(a.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");a=new Uint32Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==4294836224&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=h(f));if(f&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(f>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!f)switch(b){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(f);++c}return String.fromCodePoint.apply(String,d)}var i={"utf-8":a,"utf-16":b,"utf-32":c};d=function(){function a(a,b){a?this.$1=a:this.$1=["utf-8","utf-16","utf-32"];b||(b="error");this.$2=b;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$3(d)}}var b=a.prototype;b.getPrecedence=function(){return this.$1};b.decode=function(a){var b=[];for(var c=this.$1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=this.$3(f);try{return f(a,this.$2)}catch(a){b.push(a)}}throw new Error(b.join(", "))};b.$3=function(a){var b=i[a];if(!b)throw new Error("Unknown encoding "+a);return b};return a}();e.exports.Decoder=d}),null);
__d("ImageMetadata",["regeneratorRuntime","Promise","ImageExif","StringEncoding","emptyFunction"],(function(a,b,c,d,e,f){"use strict";c=function(){function c(a){this.$4="",this.$6=a,this.$7=new Uint8Array(a),this.$8()}var d=c.prototype;d.$8=function(){var a=0;while(a<this.$7.length){a=this.$9(a);if(a===-1)return;var b=this.$7[a+1];b=g[b];if(!b)return;var c=b.length;c===void 0&&(c=this.$7[a+2]*256+this.$7[a+3]);this.$10(a,c,b);if(b.name==="SOS")return;a+=2+c}};d.$10=function(a,b,c){switch(c.name){case"APP1":this.$11(a+4,h)?(this.$1||(this.$1=a,this.$2=b),this.$12(a+4+h.length,b-2-h.length)):this.$11(a+4,i)?(this.$1=a,this.$2=b,this.$13(a+4+i.length,b-2-i.length)):this.$11(a+4,j)&&this.$14(a+4+j.length,b-2-j.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$15(a+4,b-2);break}};d.$15=function(a,b){b=this.$7[a+3]*256+this.$7[a+4];a=this.$7[a+1]*256+this.$7[a+2];b>0&&a>0&&(this.$5={x:b,y:a})};d.$12=function(a,c){a=emptyFunction;try{emptyFunction=b("emptyFunction");c=b("ImageExif").readFromArrayBuffer(this.$6)||{}}finally{emptyFunction=a}a={};for(var d in c){var e=c[d];typeof e==="string"&&(e=e.trim());a[d.trim()]=e}this.$3=a};d.$13=function(a,c){var d=new(b("StringEncoding").Decoder)(null,"truncate");try{d=d.decode(this.$6.slice(a,a+c));this.$4=d}catch(a){return}};d.$14=function(a){};d.$11=function(a,b){var c=this;return b.split("").every(function(b){return c.$7[a++]===b.charCodeAt(0)})};d.$9=function(a){for(var a=a;a+1<this.$7.length;++a)if(this.$7[a]===255&&this.$7[a+1]!==0&&this.$7[a+1]!==255)return a;return-1};d.hasAPP1=function(){return Boolean(this.$1)};d.hasExif=function(){return Boolean(this.$3)};d.hasXMP=function(){return Boolean(this.$4)};d.hasSize=function(){return Boolean(this.$5)};d.getAPP1Location=function(){return!this.hasAPP1()?null:this.$1};d.getAPP1Length=function(){return!this.hasAPP1()?null:this.$2};d.getExif=function(){if(!this.$3)throw new Error("Image has no Exif data");return this.$3};d.getXMPString=function(){return this.$4};d.getSize=function(){if(!this.$5)throw new Error("Could not find size data?!");return this.$5};d.getBufferLength=function(){if(!this.$6)throw new Error("Do not find buffer data!");return this.$6.byteLength};c.genMetadataFromBlob=function(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.t0=c;d.next=3;return b("regeneratorRuntime").awrap(c.$16(a));case 3:d.t1=d.sent;return d.abrupt("return",new d.t0(d.t1));case 5:case"end":return d.stop()}},null,this)};c.$16=function(c){return new(b("Promise"))(function(b,d){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=b;e.readAsArrayBuffer(c)})};return c}();var g=[];g[216]={name:"SOI",length:0};g[192]={name:"SOF0"};g[193]={name:"SOF1"};g[194]={name:"SOF2"};g[195]={name:"SOF3"};g[197]={name:"SOF5"};g[198]={name:"SOF6"};g[199]={name:"SOF7"};g[200]={name:"JPG"};g[201]={name:"SOF9"};g[202]={name:"SOF10"};g[203]={name:"SOF11"};g[205]={name:"SOF13"};g[206]={name:"SOF14"};g[207]={name:"SOF15"};g[196]={name:"DHT"};g[219]={name:"DQT"};g[221]={name:"DRI",length:2};g[218]={name:"SOS"};g[208]={name:"RST0",length:0};g[209]={name:"RST1",length:0};g[210]={name:"RST2",length:0};g[211]={name:"RST3",length:0};g[212]={name:"RST4",length:0};g[213]={name:"RST5",length:0};g[214]={name:"RST6",length:0};g[215]={name:"RST7",length:0};g[224]={name:"APP0"};g[225]={name:"APP1"};g[226]={name:"APP2"};g[227]={name:"APP3"};g[228]={name:"APP4"};g[229]={name:"APP5"};g[230]={name:"APP6"};g[231]={name:"APP7"};g[232]={name:"APP8"};g[233]={name:"APP9"};g[234]={name:"APP10"};g[235]={name:"APP11"};g[236]={name:"APP12"};g[237]={name:"APP13"};g[238]={name:"APP14"};g[239]={name:"APP15"};g[254]={name:"COM"};g[217]={name:"EOI",length:0};var h="Exif\0\0",i="http://ns.adobe.com/xap/1.0/\0",j="http://ns.adobe.com/xmp/extension/\0";e.exports=c}),null);
__d("SphericalImageUtils",["Promise","ImageMetadata","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController"],(function(a,b,c,d,e,f){"use strict";var g=2048;c={genArrayBufferFromBlob:function(c){return new(b("Promise"))(function(b,d){if(a.FileReader){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=function(a){b(a.target.result)};e.readAsArrayBuffer(c)}else d(new Error("global.FileReader doesn't exit"))})},shouldCheckInServer:function(a){if(!a.hasExif()&&!a.hasXMP()||!a.hasSize())return!1;var b=a.getXMPString();if(this.getMayContainSphericalMetadata(b))return!0;var c=a.getSize(),d=c.x;c=c.y;if(Math.max(d,c)<g||d/c<2&&c/d<2)return!1;c=a.hasExif()?a.getExif():{};return b===""&&(!c.Make||!c.Model)?!1:!0},genPhotosphereMetadata:function(a){var c=this;return new(b("Promise"))(function(d,e){c.genArrayBufferFromBlob(a).done(function(a){try{var f=new(b("ImageMetadata"))(a);c.shouldCheckInServer(f)?c.genPhotosphereMetadataFromServer(f.hasSize()?f.getSize():{x:0,y:0},f.getXMPString(),f.hasExif()?f.getExif():{}).done(function(a){a=a.payload;d({photoSphereMetadata:a,imageMetadata:f})},e):d({})}catch(a){a.__manual=!0,e(a)}},e)})},genPhotosphereMetadataFromServer:function(a,c,d){var e=this;return new(b("Promise"))(function(f,g){new(b("XAsyncRequest"))(b("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:e.getExifString(d),height:a.y,width:a.x,xmp:c}).setHandler(f).setErrorHandler(g).send()})},getExifString:function(a){return JSON.stringify(a,function(a,b){return a==="FocalLength"&&b.numerator&&b.denominator?b.numerator+"/"+b.denominator:b})},getMayContainSphericalMetadata:function(a){return a!==""&&a.indexOf("GPano:")>-1}};e.exports=c}),null);
__d("SphericalImage",["regeneratorRuntime","SphericalImageUtils"],(function(a,b,c,d,e,f){"use strict";var g="ProjectionType";a=function(){function a(a){this.props=a}a.createFromBlob=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(b("SphericalImageUtils").genPhotosphereMetadata(a));case 2:c=d.sent;return d.abrupt("return",new this(c));case 4:case"end":return d.stop()}},null,this)};var c=a.prototype;c.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};c.getImageMetadata=function(){return this.props.imageMetadata};c.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};c.getSize=function(){return this.props.imageMetadata?this.props.imageMetadata.getSize():null};c.getBufferLength=function(){return this.props.imageMetadata?this.props.imageMetadata.getBufferLength():null};c.getProjectionType=function(){var a="";this.props.photoSphereMetadata&&this.props.photoSphereMetadata[g]&&(a=this.props.photoSphereMetadata[g]);return a};return a}();e.exports=a}),null);
__d("SphericalPhotoUploadHelper",[],(function(a,b,c,d,e,f){"use strict";e.exports={shouldResize360:function(a,b,c){return b&&Math.max(b.x,b.y)<=c||a==="cubestrip"?!1:!0},shouldRecompress360:function(a,b,c){return b==null||b<=c||a==="cubestrip"?!1:!0}}}),null);
__d("XComposerPhotoUploader",["regeneratorRuntime","Promise","AsyncUploadRequest","FileInputUploader","PhotosMimeType","PhotosUploadID","ReactComposerMediaFilterUtils","SphericalImage","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","curry","emptyFunction","performanceNow","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g,h=b("SphericalPhotoUploadHelper").shouldRecompress360,i=b("SphericalPhotoUploadHelper").shouldResize360,j=a.URL||a.webkitURL||{};c=function(){function a(a){this.$2=a.uploadData||{},this.$1=a.uploadEndpoint,this.$3=a.retryLimit,this.$4=a.concurrentLimit,this.$5=a.resizer,this.$6=a.onUploadEnqueued||b("emptyFunction"),this.$7=a.onUploadsEnqueued||b("emptyFunction"),this.$8=a.onResizeStart||b("emptyFunction"),this.$11=a.onResizeProgress||b("emptyFunction"),this.$9=a.onResizeSuccess||b("emptyFunction"),this.$10=a.onResizeFailure||b("emptyFunction"),this.$12=a.onSphericalCheckFailure||b("emptyFunction"),this.$13=a.onSphericalCheckSuccess||b("emptyFunction"),this.$14=a.onUploadIsSpherical||b("emptyFunction"),this.$15=a.onUploadSent||b("emptyFunction"),this.$16=a.onUploadStart||b("emptyFunction"),this.$17=a.onUploadProgress||b("emptyFunction"),this.$18=a.onUploadSuccess||b("emptyFunction"),this.$19=a.onUploadFailure||b("emptyFunction")}var c=a.prototype;c.setUploadEndpoint=function(a){this.$1=a};c.upload=function(a,c){var d=this;c||0;c=Object.assign({},this.$2);var e=null;if(!this.$20(a)){var f=b("PhotosUploadID").getNewID();a.uploadID=f;c.upload_id=f;this.$6({uploadID:f,fileName:a.value.split("/").pop().split("\\").pop(),fileURL:j.createObjectURL?j.createObjectURL(a):null})}else{e=Array.from(a.files);e=e.filter(function(a){return!b("ReactComposerMediaFilterUtils").hasVideos([a.name])});if(e.length===0)return;e.forEach(function(a){a.uploadID||(a.uploadID=b("PhotosUploadID").getNewID()),d.$6({uploadID:a.uploadID,fileName:a.name,isSpherical:!1,fileURL:j.createObjectURL?j.createObjectURL(a):null})})}this.$7();f=new(b("FileInputUploader"))(a).setURI(this.$1).setData(c).setAllowCrossOrigin(!0).setNetworkErrorRetryLimit(this.$3).setUploadInParallel(!0);e&&e.length>0&&(f.setFiles({farr:e}),this.$5?f.setPreprocessHandler(this.$21.bind(this)):f.setPreprocessHandler(this.$22.bind(this)),this.$4&&f.setConcurrentLimit(this.$4));f.subscribe("progress",function(b,c){return d.$17(d.$23(c,a),c)});f.subscribe("failure",function(b,c){return d.$19(d.$23(c,a),c,e)});f.subscribe("start",function(b,c){return d.$16(d.$23(c,a),c)});f.subscribe("success",function(b,c){return d.$18(d.$23(c,a),c)});try{f.send(),this.$15(a)}catch(a){throw a}};c.uploadFiles=function(a){var c=this;a=Array.from(a);var d=[];a.forEach(function(a){var e=b("PhotosUploadID").getNewID();c.$6({fileName:a.name,fileURL:j.createObjectURL?j.createObjectURL(a):null,isSpherical:!1,uploadID:e});d.push(e)});a=this.getAsyncFileUploadRequest(a,d);a.send()};c.getAsyncFileUploadRequest=function(a,b,c){var d=this;c=this.$24(a,c);c.subscribe("start",function(c,e){c=d.$25(a,b,e);d.$16(c,{upload:e})});c.subscribe("progress",function(c,e){c=d.$25(a,b,e);d.$17(c,{upload:e,event:e.getProgressEvent()})});c.subscribe("success",function(c,e){c=d.$25(a,b,e);d.$18(c,{upload:e,response:e.getResponse()})});c.subscribe("failure",function(c,e){c=d.$25(a,b,e);d.$19(c,{upload:e,response:e.getResponse()},a)});return c};c.getAsyncUploadRequest=function(a,b){var c=this;b=this.$24(a,b);b.subscribe("start",function(a,b){return c.$16(b.getFile().uploadID,{upload:b})});b.subscribe("progress",function(a,b){return c.$17(b.getFile().uploadID,{upload:b,event:b.getProgressEvent()})});b.subscribe("success",function(a,b){return c.$18(b.getFile().uploadID,{upload:b,response:b.getResponse()})});b.subscribe("failure",function(b,d){return c.$19(d.getFile().uploadID,{upload:d,response:d.getResponse()},a)});return b};c.$24=function(a,c){c=new(b("AsyncUploadRequest"))().setData(Object.assign({},c&&c.data,this.$2)).setFiles({farr:a}).setAllowCrossOrigin(!0).setURI(this.$1);this.$4&&c.setLimit(this.$4);this.$5&&c.setPreprocessHandler(this.$21.bind(this));return c};c.$25=function(a,b,c){c=c.getFile();a=a.indexOf(c);return b[a]};c.$23=function(a,b){if(a.upload)return a.upload.getFile().uploadID;else return b.uploadID};c.$22=function(a,c){var d=this;b("promiseDone")(function(){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(d.$26(a,c));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},null,this)}())};c.$26=function(a,c){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:d=a.getFile();f.next=3;return b("regeneratorRuntime").awrap(this.$27(d));case 3:e=f.sent,e&&e.isSpherical()?this.$14(d,e.isSpherical(),e.getProjectionType()):this.$14(d,!1,""),c(a);case 6:case"end":return f.stop()}},null,this)};c.$21=function(a,c){var d=this;b("promiseDone")(function(){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(d.$28(a,c));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},null,this)}())};c.$27=function(a){var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c=(g||(g=b("performanceNow")))();e.prev=1;e.next=4;return b("regeneratorRuntime").awrap(b("SphericalImage").createFromBlob(a));case 4:d=e.sent;this.$13(a,(g||(g=b("performanceNow")))()-c,d);return e.abrupt("return",d);case 9:e.prev=9;e.t0=e["catch"](1);this.$12(a,(g||(g=b("performanceNow")))()-c);return e.abrupt("return",null);case 14:case"end":return e.stop()}},null,this,[[1,9]])};c.$29=function(a){return this.$30(this.$5.resizeBlob.bind(this.$5),a)};c.$31=function(a,c){c===void 0&&(c=b("SphericalPhotoTypedConfig").upload_size_limit);return this.$30(this.$5.resize360Blob.bind(this.$5),a,c)};c.$32=function(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){b({width:d.width,height:d.height})};d.onerror=function(a){c(a)};d.src=j.createObjectURL(a)})};c.$30=function(a,c,d){var e=this,f=b("curry")(this.$11,c.uploadID),g=b("curry")(this.$8,c),h=function(){return e.$32(c).then(g)};return new(b("Promise"))(function(b,e){h(),a(c,function(a,c,d,f,g,h,i){a?e(a):d?b({originalWidth:f,originalHeight:g}):b({blob:c,originalWidth:f,originalHeight:g,outputWidth:h,outputHeight:i})},f,d)})};c.$28=function(a,c){var d,e,f,j,k,l,m,n,o,p,q,r;return b("regeneratorRuntime").async(function(s){while(1)switch(s.prev=s.next){case 0:d=a.getFile();if(!(!d||!b("PhotosMimeType").isJpeg(d.type))){s.next=6;break}this.$14(d,!1,"");d&&b("promiseDone")(this.$32(d).then(function(b){a.getAdditionalData().set("js_resized",!1).set("original_file_size",d.size).set("original_width",b==null?void 0:b.width).set("original_height",b==null?void 0:b.height).set("upload_width",b==null?void 0:b.width).set("upload_height",b==null?void 0:b.height)},b("emptyFunction")));c(a);return s.abrupt("return");case 6:e=(g||(g=b("performanceNow")))();s.prev=7;k=null;s.next=11;return b("regeneratorRuntime").awrap(this.$27(d));case 11:k=s.sent;if(!(k&&k.isSpherical())){s.next=32;break}this.$14(d,!0,k.getProjectionType());l=k.getSize();m=b("SphericalPhotoTypedConfig").upload_size_limit;n=k.getProjectionType();o=!1;o=h(n,k.getBufferLength(),b("SphericalPhotoTypedConfig").upload_bytes_limit);p=i(n,l,m);if(!(l&&(p||o))){s.next=30;break}if(p){s.next=27;break}s.next=24;return b("regeneratorRuntime").awrap(this.$31(d,Math.max(l.x,l.y)-1));case 24:f=s.sent;s.next=30;break;case 27:s.next=29;return b("regeneratorRuntime").awrap(this.$31(d));case 29:f=s.sent;case 30:s.next=36;break;case 32:this.$14(d,!1,"");s.next=35;return b("regeneratorRuntime").awrap(this.$29(d));case 35:f=s.sent;case 36:f&&(f.blob!=null&&(j=f.blob,j.uploadID=d.uploadID,j.name=d.name,a.setFile(j)),a.getAdditionalData().set("js_resized",!0).set("original_file_size",d.size).set("original_width",f.originalWidth).set("original_height",f.originalHeight).set("upload_width",f.outputWidth).set("upload_height",f.outputHeight));q=j===null;a.getFile().filename=d.name;this.$9(d,j||d,q,(g||(g=b("performanceNow")))()-e,a.getAdditionalData().get("original_width"),a.getAdditionalData().get("original_height"),a.getAdditionalData().get("upload_width"),a.getAdditionalData().get("upload_height"));s.next=47;break;case 42:s.prev=42,s.t0=s["catch"](7),r=(g||(g=b("performanceNow")))()-e,this.$10(d,j||d,s.t0,r);case 47:c(a);case 48:case"end":return s.stop()}},null,this,[[7,42]])};c.$20=function(a){return!!a.files&&b("AsyncUploadRequest").isSupported()};return a}();e.exports=c}),null);
__d("MWChatComposerUploadFileHook.bs",["URI","bs_curry","React","ActorURI","bs_belt_Array","bs_caml_array","bs_caml_option","CurrentUser","MercuryConfig","MercuryConstants","useCometAlertDialog","recoverableViolation","CometComposerViewState.bs","XComposerPhotoUploader","MWChatFileUploadErrorDialog.bs","CometComposerViewStateActions.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function i(a,c,d,e){return new(b("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){return 0},onUploadProgress:function(a,b){return 0},onUploadStart:function(a){b("bs_curry")._1(c,b("CometComposerViewStateActions.bs").convert([-766219812,a]));return b("bs_curry")._1(d,a)},onUploadSuccess:function(a,d){var f=d.upload.getFile();d=b("bs_caml_array").caml_array_get(d.response.payload.metadata,0);var g=d.fbid,h=d.video_id,i=d.audio_id,j=d.gif_id;d=d.file_id;g=g!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(g)):h!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(h)):i!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(i)):j!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(j)):d!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(d)):void 0;if(g!==void 0){h=b("bs_caml_option").valFromOption(g);b("bs_curry")._1(c,b("CometComposerViewStateActions.bs").convert([-1022610273,[h,a]]));return b("bs_curry")._3(e,f,a,h)}else{b("recoverableViolation")("Unrecognized file upload success payload","messenger_comet");return 0}},retryLimit:1,uploadEndpoint:new(b("ActorURI").create)(new(g||(g=b("URI")))(b("MercuryConfig").upload_url),a)})}function j(a,c,d,e){var f=b("bs_belt_Array").keepMap(c.map(b("CometComposerViewState.bs").MediaAttachment.fromJS),function(a){if(a.tag)return;else return b("bs_caml_option").some(a[1])});if(f.length>0){var g=f.some(function(a){return a.size>b("MercuryConstants").AttachmentMaxSize});if(g){c.forEach(function(a){return b("bs_curry")._1(d,b("CometComposerViewStateActions.bs").convert([-633946986,a]))});return b("bs_curry")._2(e,b("MWChatFileUploadErrorDialog.bs").maxFileSizeExceeded,function(a){return 0})}else{b("bs_curry")._1(d,b("CometComposerViewStateActions.bs").convert([425599457,b("bs_belt_Array").keepMap(f,function(a){return b("bs_caml_option").nullable_to_opt(a.uploadID)})]));a.getAsyncUploadRequest(f).send();return 0}}else return 0}function a(a){a=b("useCometAlertDialog")();var c=a[0],d=b("CurrentUser").getID();return h.useCallback(function(a){return function(e,f,g){if(a!==void 0){var h=a;if(h.some(function(a){return b("CometComposerViewState.bs").MediaAttachment.stateJS(a)==="NEW"}))return j(i(d,e,f,g),h,e,c);else return 0}else return 0}},[d])}f.createUploader=i;f.uploadAttachments=j;f.useHook=a}),null);
__d("MWChatProfileRange.bs",["FBID.bs","MercuryIDs"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=[],e={contents:0};c.getBlockMap().forEach(function(f,g,h){g=f.getText();f.findEntityRanges(function(a){return!0},function(g,h){var i=f.getEntityAt(g);if(i==null)return 0;else{i=c.getEntity(i);if(i.getType()==="MENTION"){var j=g+e.contents|0;i=i.getData().id.split(" ")[0];var k=b("MercuryIDs").getThreadIDFromThreadFBID(a);k=i===k?"t":i===k+"-active"?"a":/^\d+$/.test(i)?"p":void 0;if(k!==void 0){d.push({id:b("FBID.bs").ofStringExn(i),offset:j,length:h-g|0,type:k});return 0}else return 0}else return 0}});e.contents=(e.contents+g.length|0)+1|0;return 0});return d}f.getFromContentState=a}),null);
__d("MWPollsHooks.bs",["requireCond","cr:1429240"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1429240")).usePollOptions;d=a.useUpdatePoll;e=a.useCreatePoll;f.$MWLSPollsHooks$OR$MWMSPollsHooks$requireCond=a;f.usePollOptions=c;f.useUpdatePoll=d;f.useCreatePoll=e}),null);
__d("MWChatComposer.bs",["fbt","Promise","bs_curry","React","gkx","qex","uniqueID","BanzaiODS","bs_belt_Array","stylex","bs_caml_option","promiseDone","MWPollsHooks.bs","killswitch","MWCurrentThread.bs","MWUIChatTabState.bs","MWUICreateThread.bs","StickerConstants","MessengerWebEvent","MWChatComposerBase.bs","MWChatComposerUtil.bs","MWChatProfileRange.bs","MWUISendGifMessage.bs","MWUISendFileMessage.bs","MWUISendTextMessage.bs","MWUIMediaSendManager.bs","CometComposerViewState.bs","MWUISendStickerMessage.bs","MWUIThreadCapabilities.bs","unrecoverableViolation","MWChatComposerP2PButton.bs","MWChatComposerActionTray.bs","MWChatComposerUploadFileHook.bs","MWChatComposerViewStateStore.bs","MessengerWebStgTypedLoggerLite","MWChatComposerMentionsPlugin.re","MWChatComposerP2PPopoverTrigger.bs","getPlainTextFromDeferredDraftEditorState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");function j(a){var c=a.color,d=a.otherUserFbid,e=a.customLikeEmoji,f=a.isTabFocused,j=a.isPreviewThread,k=a.onFileUploadStart,l=a.shouldShowMenu,m=a.hasContent,n=a.repliedToMessage,o=a.actionTrayOpen,p=a.closeActionTray,q=a.openActionTray,r=a.initialComposerViewState,s=a.fileUploadHandlerRef,t=a.hardResetComposer,u=a.onContentsChange,v=a.messageRequestInfoText,w=a.onTypingStateChanged,x=a.sendMenuItem,y=a.closeReplyPreview,z=a.openTabFromPreview,A=a.closeTab,B=a.onSendMessage,C=i.useRef(null),D=i.useRef(!1),E=(a=b("bs_curry"))._1(b("MWUISendTextMessage.bs").useSendTextMessage,0),F=a._1(b("MWUISendGifMessage.bs").useSendGifMessage,0),G=a._1(b("MWUISendStickerMessage.bs").useSendStickerMessage,0),H=a._2(b("MWUISendFileMessage.bs").useSendFileMessage,n,B),I=H[1],J=H[0],K=a._1(b("MWPollsHooks.bs").useCreatePoll,0),L=b("MWCurrentThread.bs").useCurrentThread(0);H=a._1(b("MWUIThreadCapabilities.bs").useCapabilities,0);var M=b("MWUIChatTabState.bs").useLookupThreadHook(0),N=b("MWUIChatTabState.bs").useTab(0),O=b("MWUIChatTabState.bs").useTokenProvider(0),P=a._1(b("MWUICreateThread.bs").useHook,"comet_create_group"),Q=function(a){if(N)return b("Promise").resolve(N[0]);else{var c=b("bs_curry")._1(O,0);a=c.length;if(a!==1)if(a!==0)return M(c).then(function(a){if(a!==void 0)return b("Promise").resolve(a);else return b("bs_curry")._2(P,c,void 0).then(function(a){return b("Promise").resolve([757211935,a])})});else return b("Promise").reject(b("unrecoverableViolation")("Expected tokens","messenger_web_product"));else{a=c[0];return b("Promise").resolve([948354667,a])}}};a=function(c){b("BanzaiODS").bumpEntityKey(3185,"mwchat_send","text");D.current=!0;b("promiseDone")(Q(0),function(e){var f;if(typeof e==="number")f=[];else if(e[0]!==757211935)f=[];else{var a=c.editorState.draftEditorState;f=a!==void 0?b("MWChatProfileRange.bs").getFromContentState(e[1],b("bs_caml_option").valFromOption(a).getCurrentContent()):[]}a=b("MWChatComposerUtil.bs").hasContent(c.editorState)?b("getPlainTextFromDeferredDraftEditorState")(c.editorState):void 0;var g=c.mediaAttachments;f=f.length===0?void 0:f;var h;if(a!==void 0){var i=a;g==null||g.length===0?(h=i,i=2):i=1}else if(g==null){b("bs_curry")._1(B,e);return b("bs_curry")._1(z,0)}else i=1;switch(i){case 1:i=g.map(b("CometComposerViewState.bs").MediaAttachment.fromJS);b("bs_curry")._4(J,e,a,f,i);g=i;a=g.reduce(function(a,b){b=b.tag===3?1:0;return a+b|0},0);i=g.map(function(a){return b("CometComposerViewState.bs").MediaAttachment.file(a).name});var j=b("bs_belt_Array").keepMap(g,function(a){return b("bs_caml_option").nullable_to_opt(b("CometComposerViewState.bs").MediaAttachment.file(a).uploadID)}),k=b("bs_belt_Array").keepMap(g,function(a){if(a.tag===3)return a[2].id});if(L!==void 0){var l=L;l=typeof l==="number"||l[0]!==757211935?null:l[1]}else l=null;var m;if(L!==void 0){var d=L;if(typeof d==="number")m=null;else{var o=d[0];m=o!==892012143&&o!==948354667?null:d[1]}}else m=null;b("MessengerWebStgTypedLoggerLite").log({event_name:a===g.length?b("MessengerWebEvent").HIT_SEND_MESSAGE_WITH_ALL_FILES_UPLOADED:b("MessengerWebEvent").HIT_SEND_MESSAGE_WITH_FILES_PENDING,other_user_fbid:m,thread_fbid:l,extra_data:{attachment_names:i,attachment_upload_ids:j,attachment_fbids:k}});return 0;case 2:b("bs_curry")._4(E,e,h,f,n);b("bs_curry")._1(B,e);return b("bs_curry")._1(z,0)}});var a=C.current;a==null?b("bs_curry")._1(t,0):a.reset();return b("bs_curry")._1(y,0)};if(H!==void 0){H=b("bs_caml_option").valFromOption(H);H=[b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canSendGif,H),b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canSendPayment,H)]}else H=[!1,!1];if(L!==void 0){var R=L;R=typeof R==="number"||R[0]!==757211935?!1:b("qex")._("1343059")}else R=!1;R=R&&!b("killswitch")("MESSENGER_WEB_DISABLE_POLLS");d=b("gkx")("1013538")&&H[1]&&!R?i.jsx("div",{children:i.jsx(i.Suspense,{children:i.jsx(b("MWChatComposerP2PPopoverTrigger.bs").make,{actionTrayOpen:o,closeActionTray:p,otherUserFbid:d}),fallback:i.jsx(b("MWChatComposerP2PButton.bs").make,{disabled:!0,tooltip:g._("Loading...")})}),className:(h||(h=b("stylex")))(b("MWChatComposerActionTray.bs").styles.button)},"composer_p2p_button"):null;var S=L===void 0;if(L!==void 0){var T=L;T=typeof T==="number"||T[0]!==757211935?null:i.jsx(b("MWChatComposerMentionsPlugin.re").make,{})}else T=null;var U=function(a){var c;if(L!==void 0){a=L;if(typeof a==="number")c=null;else{var d=a[0];c=d!==892012143&&d!==948354667?null:a[1]}}else c=null;if(L!==void 0){d=L;a=typeof d==="number"||d[0]!==757211935?null:d[1]}else a=null;b("MessengerWebStgTypedLoggerLite").log({event_name:b("MessengerWebEvent").OPEN_STICKER_FLYOUT,other_user_fbid:c,thread_fbid:a});return 0},V=function(a){var c;if(L!==void 0){a=L;if(typeof a==="number")c=null;else{var d=a[0];c=d!==892012143&&d!==948354667?null:a[1]}}else c=null;if(L!==void 0){d=L;a=typeof d==="number"||d[0]!==757211935?null:d[1]}else a=null;b("MessengerWebStgTypedLoggerLite").log({event_name:b("MessengerWebEvent").OPEN_EMOJI_FLYOUT,other_user_fbid:c,thread_fbid:a});return 0},W=function(c){var d;if(L!==void 0){var a=L;if(typeof a==="number")d=null;else{var e=a[0];d=e!==892012143&&e!==948354667?null:a[1]}}else d=null;if(L!==void 0){e=L;a=typeof e==="number"||e[0]!==757211935?null:e[1]}else a=null;b("MessengerWebStgTypedLoggerLite").log({event_name:b("MessengerWebEvent").SELECT_FILE_FOR_UPLOAD,other_user_fbid:d,thread_fbid:a,extra_data:{attachment_names:c.map(function(a){return a.name})}});return 0},X=b("MWChatComposerUploadFileHook.bs").useHook(0);if(L!==void 0){var Y=L;Y=typeof Y==="number"||Y[0]!==892012143?void 0:b("bs_caml_option").some(Y[1])}else Y=void 0;j={isPreviewThread:j,repliedToMessage:n,isTabFocused:f,canSendGif:H[0],sendMessage:a,sendGif:function(a){b("BanzaiODS").bumpEntityKey(3185,"mwchat_send","gif");b("promiseDone")(Q(0),function(c){b("bs_curry")._3(F,c,a,n);return b("bs_curry")._1(B,c)});return b("bs_curry")._1(y,0)},sendSticker:function(a,c,d){var e=d.uri;b("BanzaiODS").bumpEntityKey(3185,"mwchat_send","sticker");b("promiseDone")(Q(0),function(c){b("bs_curry")._4(G,c,a,n,e);return b("bs_curry")._1(B,c)});return b("bs_curry")._1(y,0)},sendHotLike:function(a){b("BanzaiODS").bumpEntityKey(3185,"mwchat_send","hot_like");b("promiseDone")(Q(0),function(a){e!==void 0?b("bs_curry")._4(E,a,e,void 0,n):b("bs_curry")._4(G,a,b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,n,void 0);return b("bs_curry")._1(B,a)});return b("bs_curry")._1(y,0)},sendMenuItem:function(a){b("bs_curry")._1(x,a);return b("bs_curry")._1(y,0)},logOnOpenStickerFlyout:U,logOnOpenEmojiFlyout:V,logOnSelectFileForUpload:W,mentionsPlugin:T,actionTrayOpen:o,openActionTray:q,closeActionTray:p,color:c,customLikeEmoji:e,shouldShowMenu:l,pageId:Y,onFileUploadStart:k,onFileUploadSuccess:function(c,d,e){b("bs_curry")._2(I,d,e);c=c;d=d;e=e;var f;if(L!==void 0){var a=L;if(typeof a==="number")f=null;else{var g=a[0];f=g!==892012143&&g!==948354667?null:a[1]}}else f=null;if(L!==void 0){g=L;a=typeof g==="number"||g[0]!==757211935?null:g[1]}else a=null;b("MessengerWebStgTypedLoggerLite").log({event_name:b("MessengerWebEvent").UPLOAD_FILE_SUCCESS,other_user_fbid:f,thread_fbid:a,extra_data:{attachment_names:[c.name],attachment_upload_ids:[d],attachment_fbids:[e]}});return 0},onAttachmentsChanged:X,fileUploadHandlerRef:s,onContentsChange:u,hasContent:m,onCloseTab:A,isLocalThread:S,extraTrayButton:d,threadKey:L!==void 0?L:void 0,onCloseReplyPreview:y,resetComposerRef:C,isSubmitting:D,saveState:function(a,c){if(b("getPlainTextFromDeferredDraftEditorState")(c.editorState).length>0)return b("MWChatComposerViewStateStore.bs").set(a,b("bs_caml_option").some(c));else return 0},createPoll:R?function(a,c){b("BanzaiODS").bumpEntityKey(3185,"mwchat_send","sticker");b("promiseDone")(Q(0),function(d){return b("bs_curry")._3(K,d,a,c)});return 0}:void 0};r!==void 0&&(j.initialComposerViewState=b("bs_caml_option").valFromOption(r));v!==void 0&&(j.messageRequestInfoText=b("bs_caml_option").valFromOption(v));w!==void 0&&(j.onTypingStateChanged=b("bs_caml_option").valFromOption(w));return i.jsx(b("MWChatComposerBase.bs").make,j)}c={make:j};function a(a){var c=a.color,d=a.otherUserFbid,e=a.isPreviewThread,f=a.customLikeEmoji,g=a.isTabFocused,h=a.shouldShowMenu,k=a.hasContent,l=a.repliedToMessage,m=a.actionTrayOpen,n=a.closeActionTray,o=a.onContentsChange,p=a.onFileUploadStart,q=a.openActionTray,r=a.initialComposerViewState,s=a.fileUploadHandlerRef,t=a.messageRequestInfoText,u=a.onTypingStateChanged,v=a.sendMenuItem,w=a.closeReplyPreview,x=a.openTabFromPreview,y=a.closeTab;a=a.onSendMessage;e=e!==void 0?e:!1;o=o!==void 0?o:function(a){return 0};p=p!==void 0?p:function(a){return 0};var z=i.useState(function(){return b("uniqueID")()}),A=z[1];c={color:c,otherUserFbid:d,customLikeEmoji:f,isTabFocused:g,isPreviewThread:e,onFileUploadStart:p,shouldShowMenu:h,hasContent:k,repliedToMessage:l,actionTrayOpen:m,closeActionTray:n,openActionTray:q,fileUploadHandlerRef:s,hardResetComposer:function(a){return b("bs_curry")._1(A,function(a){return b("uniqueID")()})},onContentsChange:o,sendMenuItem:v,closeReplyPreview:w,openTabFromPreview:x,closeTab:y,onSendMessage:a};r!==void 0&&(c.initialComposerViewState=b("bs_caml_option").valFromOption(r));t!==void 0&&(c.messageRequestInfoText=b("bs_caml_option").valFromOption(t));u!==void 0&&(c.onTypingStateChanged=b("bs_caml_option").valFromOption(u));return i.jsx(b("MWUIMediaSendManager.bs").Provider.make,b("bs_curry")._2(b("MWUIMediaSendManager.bs").Provider.makeProps,i.jsx(j,c,z[0]),0))}d=a;f.MWChatComposer=c;f.make=d}),null);
__d("MWChatComposerMediaDropTarget.bs",["fbt","React","stylex","bs_caml_option","TetraText.react","useFileDragEvents","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{boxSizing:"rq0escxv",height:"datstx6m",position:"l9j0dhe7",width:"k4urcfbm"},dropContainer:{alignItems:"bp9cbjyn",backgroundColor:"ms7hmo2b",bottom:"i09qtzwb",display:"j83agx80",end:"n7fi1qx3",justifyContent:"taijpn5t",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",zIndex:"tkr6xdv7"},dropContent:{paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"}};function a(a){var c=a.children,d=a.disabled,e=a.fileUploadHandler;a=a.xstyle;var f=i.useCallback(function(a){e!==void 0?b("bs_caml_option").valFromOption(e).uploadFiles(Array.from(a)):b("recoverableViolation")("Could not find fileUploadHandler to handle dropped file!","messenger_comet");return},[e]),k=b("useFileDragEvents")(function(a){return!1},void 0),l=i.useRef(null);b("useFileDragEvents")(f,l.current);return i.jsxs("div",{children:[c,!d&&k?i.jsx("div",{children:i.jsx("div",{children:i.jsx(b("TetraText.react"),{type:"body1",children:g._("Drop Files Here")}),className:(h||(h=b("stylex")))(j.dropContent)}),className:(h||(h=b("stylex")))(j.dropContainer)}):null],ref:l,className:(h||(h=b("stylex")))(j.root,a)})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatBusinessPageGreeting.bs",["React","stylex","TetraText.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={item:{paddingBottom:"f10w8fjw"},pageResponsiveness:{paddingBottom:"f10w8fjw"},root:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"cbu4d94t",paddingBottom:"is38vakr",paddingTop:"bjjx79mm"}};function a(a){var c=a.contextItems,d=a.pageResponsiveness;a=a.pagesGreeting;return h.jsxs("div",{children:[d!==void 0?h.jsx("div",{children:h.jsx(b("TetraText.react"),{align:"center",color:"primary",type:"body3",children:d}),className:(g||(g=b("stylex")))(i.pageResponsiveness)}):null,c.map(function(a,c){return h.jsx("div",{children:h.jsx(b("TetraText.react"),{align:"center",color:"secondary",type:"body4",children:a}),className:(g||(g=b("stylex")))(i.item)},String(c))}),a!==void 0?h.jsx(b("TetraText.react"),{align:"center",color:"secondary",type:"body4",children:a}):null],className:(g||(g=b("stylex")))(i.root)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatContextBanner.bs",["React","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{display:"j83agx80",alignItems:"ll8tlv6m"},image:{display:"j83agx80",flexShink:"akh00gtn",paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"osnr6wyh",paddingStart:"h4z51re5"},main:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"osnr6wyh",paddingStart:"a8nywdso",fontSize:"e9vueds3"},img:{width:"ljni7pan",height:"cb02d2ww",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad"},context:{color:"oo9gr5id"},items:{color:"m9osqain"}};function a(a){var c=a.image,d=a.context;a=a.items;return h.jsxs("div",{children:[h.jsx("div",{children:h.jsx("img",{className:(g||(g=b("stylex")))(i.img),src:c}),className:g(i.image)}),h.jsxs("div",{children:[h.jsx("div",{children:d,className:g(i.context)}),h.jsx("div",{children:a.map(function(a,b){return h.jsx("div",{children:a},String(b))}),className:g(i.items)})],className:g(i.main)})],className:g(i.root)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatDateBreak.bs",["React","stylex","formatDate","MWChatTheme.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{textAlign:"oqcyycmt",color:"pipptul6",fontSize:"r9r71o1u",fontWeight:"lrazzd5p"},mask:{backgroundColor:"nred35xi"}};function a(a){a=a.timestamp;var c=b("MWChatTheme.bs").useTheme(0);return h.jsx("div",{children:b("formatDate")(new Date(a),{today:"g:ia",thisYear:"M jS, g:ia",withinWeek:"D g:ia",older:"m/d/Y g:ia",future:"g:ia"}),className:(g||(g=b("stylex")))(i.root,b("MWChatTheme.bs").isGradient(c)?i.mask:!1)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatIncomingError.bs",["fbt","React","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"osnr6wyh",paddingStart:"h4z51re5",maxWidth:"d2edcug0",verticalAlign:"sf5mxxl7",borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderTop:"l6v480f0",borderEnd:"maa8sdkg",borderBottom:"s1tcr66n",borderStart:"aypy0576"},content:{color:"erlsw9ld",fontStyle:"fmqa7x8m",wordBreak:"qv66sw1b"}};function a(a){return i.jsx("div",{children:i.jsx("div",{children:g._("Error rendering media"),className:(h||(h=b("stylex")))(j.content)}),className:h(j.root)})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatGutterItem.bs",["fbt","React","bs_caml_array","stylex","bs_caml_option","MWChatTheme.bs","MercuryTimestamp","CometTooltip.react","getFBTSafeGenderFromGenderConst"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{display:"j83agx80",alignItems:"aovydwv3"},mask:{backgroundColor:"nred35xi"},incoming:{flexDirection:"rl25f0pe"},icon:{marginStart:"kkf49tns",marginEnd:"cgat1ltu",verticalAlign:"hrs1iv20",userSelect:"abiwlrkh",width:"gab7stmx",height:"i4qgphn6"},image:{marginStart:"kkf49tns",marginEnd:"cgat1ltu",verticalAlign:"hrs1iv20",userSelect:"abiwlrkh",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},noneStatus:{flexShrink:"pfnyh3mw",width:"pgctjfs5"},backgroundStroke:{stroke:"gsoibega",fill:"mlqo0dh0"},greyStroke:{stroke:"s9lmpwuu",fill:"mlqo0dh0"},greyFill:{fill:"crt8y2ji",stroke:"ppxo33br"},negativeFill:{fill:"qe9egaru",stroke:"ppxo33br"},alwaysWhiteFill:{fill:"p361ku9c",stroke:"ppxo33br"},alwaysWhiteStroke:{stroke:"nfz0jrmp",fill:"mlqo0dh0"}};function k(a){if(typeof a==="number")switch(a){case 0:return"";case 1:return g._("Sending");case 2:return g._("Sent");case 3:return g._("Delivered");case 4:return g._("Error")}else{a=a[0];if(a.length===0)return"";else{a=b("bs_caml_array").caml_array_get(a,0);return g._({"*":"Seen by {full name} at {seen time}"},[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender)),g._param("seen time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))])}}}function a(a){var c=a.status,d=a.incoming,e=a.hasRepliedToMessage;a=a.xstyle;d=d!==void 0?d:!1;e=e!==void 0?e:!1;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var f=b("MWChatTheme.bs").useTheme(0);f=b("MWChatTheme.bs").isGradient(f);var g=k(c),l;if(typeof c==="number")switch(c){case 0:l=i.jsx("div",{className:(h||(h=b("stylex")))(j.noneStatus)});break;case 1:l=i.jsx("svg",{children:i.jsx("circle",{className:(h||(h=b("stylex")))(j.greyStroke),cx:"7",cy:"7",r:"7"}),className:(h||(h=b("stylex")))(j.icon),height:"14px",width:"14px"});break;case 2:var m={children:i.createElement(i.Fragment,void 0,i.jsx("circle",{className:(h||(h=b("stylex")))(j.greyStroke),cx:"7",cy:"7",r:"6.5"}),i.jsx("path",{className:(h||(h=b("stylex")))(j.greyStroke),d:"M3.1,7,5.7,9.6l5.2-5.2"})),className:(h||(h=b("stylex")))(j.icon),height:"14px",width:"14px"};m["data-testid"]="message_delivery_state_sent";l=i.jsx("svg",m);break;case 3:l=i.jsxs("svg",{children:[i.jsx("circle",{className:(h||(h=b("stylex")))(j.greyFill),cx:"7",cy:"7",r:"7"}),i.jsx("path",{className:(h||(h=b("stylex")))(j.backgroundStroke),d:"M4,7,6,9l4-4"})],className:(h||(h=b("stylex")))(j.icon),height:"14px",width:"14px"});break;case 4:l=i.jsxs("svg",{children:[i.jsx("circle",{className:(h||(h=b("stylex")))(j.negativeFill),cx:"7",cy:"7",r:"7"}),i.jsx("path",{className:(h||(h=b("stylex")))(j.alwaysWhiteStroke),d:"M6.77,2.33,7,8.17l.23-5.84"}),i.jsx("circle",{className:(h||(h=b("stylex")))(j.alwaysWhiteFill),cx:"7",cy:"10.5",r:"1.17"})],className:(h||(h=b("stylex")))(j.icon),height:"14px",width:"14px"});break}else{m=c[0];if(m.length===0)l=null;else{c=b("bs_caml_array").caml_array_get(m,0);l=i.jsx("img",{className:(h||(h=b("stylex")))(j.image),height:"14px",src:c.imageSrc,width:"14px"})}}m=i.jsx(b("CometTooltip.react"),{tooltip:g,align:"end",position:"above",children:l});c={children:m,className:(h||(h=b("stylex")))(j.root,f&&!e?j.mask:!1,d?j.incoming:!1,a)};c["data-testid"]="messenger_delivery_status";return i.jsx("div",c)}c=a;f.styles=j;f.getStatusTitle=k;f.make=c}),null);
__d("MWChatReactionsTooltip.bs",["fbt","React","bs_js_dict"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.reactions;var c=[];b("bs_js_dict").values(a).forEach(function(a){a.forEach(function(a){a=a[1];if(a!==void 0){c.push(a);return 0}else return 0});return 0});a=c.slice(0,9);c.length>9&&a.push(g._("and {count} others",[g._param("count",String(c.length-9|0))]));a=a.map(function(a,b){return h.jsx("div",{children:a},String(b))});return h.jsx("div",{children:a})}c=9;d=a;f.maxExplicitNames=c;f.make=d}),null);
__d("MWChatReactions.bs",["fbt","bs_curry","React","bs_js_dict","JSResource","stylex","MWCurrentThread.bs","CometEmoji.react","CometTooltip.react","CometPressable.react","MWUILoadParticipants.bs","MWChatReactionsTooltip.bs","CometLazyDialogTrigger.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{paddingTop:"ggysqto6",paddingEnd:"exrn9cbp",paddingBottom:"ojkyduve",paddingStart:"abpf7j7b",textAlign:"ftzlm3b6",backgroundColor:"hybvsw6c",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",boxShadow:"tlilfck6",display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t"},emoji:{alignItems:"bp9cbjyn",backgroundColor:"hybvsw6c",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",lineHeight:"soycq5t1",marginEnd:"o9f14d3k",cursor:"nhd2j8a9"},emojiNum:{width:"fhvfysw3",textAlign:"oqcyycmt",fontSize:"r9r71o1u",lineHeight:"soycq5t1",color:"m9osqain"},pressable:{position:"r2rdsn5e"}};function a(a){var c=a.reactions;a=b("MWCurrentThread.bs").useCurrentThreadExn(0);a=b("bs_curry")._1(b("MWUILoadParticipants.bs").useParticipants,a);var d=b("bs_js_dict").values(c).reduce(function(a,b){return a+b.length|0},0),e=Object.keys(c).slice(0,3).map(function(a,c){return i.jsx("div",{children:i.jsx(b("CometEmoji.react"),{emoji:[a],size:16,testid:"messenger_reaction_emoji_"+a},"emoji"+String(c)),className:(h||(h=b("stylex")))(j.emoji)},String(c))});return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatReactionsDialog").__setRef("MWChatReactions.bs"),dialogProps:{onClose:function(a){return 0},reactions:c,participants:a},children:function(a,f){return i.jsx(b("CometPressable.react"),{"aria-label":g._("See who reacted to this"),display:"inline",ref:f,onPress:function(c){return b("bs_curry")._1(a,0)},overlayDisabled:!0,xstyle:j.pressable,children:i.jsx("div",{children:i.jsxs(b("CometTooltip.react"),{tooltip:i.jsx(b("MWChatReactionsTooltip.bs").make,{reactions:c}),align:"middle",position:"above",children:[e,i.jsx("div",{children:String(d),className:(h||(h=b("stylex")))(j.emojiNum)},"emojiNum"+String(d))]}),className:h(j.root)})})}})}c=3;d=a;f.styles=j;f.maxShownReactions=c;f.make=d}),null);
__d("ReactData.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Object.assign(a,b)}f.set=a}),null);
__d("MWChatIncomingMessageDefaultRenderer.bs",["bs_curry","React","gkx","bs_js_dict","ReactData.bs","JSResource","stylex","bs_caml_option","MWChatTheme.bs","MWChatReactions.bs","MWChatGutterItem.bs","FocusRegion.react","BootloaderResource","MWChatIncomingError.bs","MWChatMessageTooltip.bs","CometErrorBoundary.react","FocusWithinHandler.react","TabbableScopeQuery.react","MWChatMessageCellFocusTable.bs","MWChatMessageTableFocusTable.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("JSResource")("MWWorkChatSavedBadge.bs").__setRef("MWChatIncomingMessageDefaultRenderer.bs");function a(a){return{}}function j(a){return h.createElement(b("BootloaderResource").read(i).make,a)}d={reasonResource:i,makeProps:a,make:j};var k={row:{display:"j83agx80",flexDirection:"cbu4d94t"},root:{display:"j83agx80"},solid:{paddingBottom:"r8blr3vg"},solidPaddingTop:{paddingTop:"jwdofwj8"},message:{backgroundColor:"g5ia77u1",whiteSpace:"ii04i59q"},mask:{backgroundColor:"nred35xi"},withAttachment:{display:"j83agx80",alignItems:"fsy3e5b7",flexDirection:"cbu4d94t"},action:{flexShrink:"pfnyh3mw",order:"ewlkfwdl",alignItems:"bp9cbjyn",display:"j83agx80",paddingStart:"qnrpqo6b"},actionWithPadding:{paddingBottom:"a5h7je3r"},spacer:{order:"h9e7qa53",flexBasis:"rj1gh0hx",flexGrow:"buofh1pr"},reactionSpacer:{height:"jnigpg78"},reactionSpacerOverlapping:{height:"ed3p1gfi"},messageContainer:{order:"jn8vp64t",position:"l9j0dhe7",minWidth:"hpfvmrgz"},focusNotVisible:{outline:"lzcic4wl"},gutterItem:{order:"iyic8zgw"},reactionRoot:{bottom:"be3nqp5n",position:"pmk7jnqg",alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"bkfpd7mw"},reactionEndAnchor:{end:"b5fwa0m2"},reactionStartAnchor:{start:"j9ispegn"}};function c(a){var c=a.messageActions,d=a.isSaved,e=a.renderAttachment,f=a.children,i=a.first,l=a.timestamp,m=a.removedTimestamp,n=a.status,o=a.reactions,p=a.showReactionsWithOverlapping,q=a.hasRepliedToMessage;a=a.testid;o=o!==void 0?b("bs_caml_option").valFromOption(o):void 0;p=p!==void 0?p:!0;q=q!==void 0?q:!1;var r=b("MWChatTheme.bs").useTheme(0),s=h.useState(function(){return!1}),t=s[1],u=s[0];s=function(a){return b("bs_curry")._1(t,function(a){return!0})};r=b("MWChatTheme.bs").isGradient(r);var v=typeof n==="number"?!1:n[0].length===1,w=h.useState(function(){return k.reactionEndAnchor}),x=w[1],y=h.useRef(null),z=h.useRef(null);h.useLayoutEffect(function(){var a=y.current,c=z.current;if(!(a==null)&&!(c==null)){var d=c.clientWidth+8;b("bs_curry")._1(x,function(b){if(a.clientWidth<d)return k.reactionStartAnchor;else return k.reactionEndAnchor})}return},[o,x]);f={children:h.jsx(b("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(b("MWChatIncomingError.bs").make,{})},children:f}),ref:y,className:(g||(g=b("stylex")))(k.message,r&&!q?k.mask:!1,e?k.withAttachment:!1)};a!==void 0&&(f["data-testid"]=a);var A;e=0;o!==void 0||d?e=1:A=null;e===1&&(A=h.createElement(h.Fragment,void 0,h.jsxs("div",{children:[d?h.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Cell.make,{children:h.jsx("div",{children:h.jsx(j,{}),role:"gridcell"})}):null,o!==void 0?h.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Cell.make,{children:h.jsx("div",{children:h.jsx(b("MWChatReactions.bs").make,{reactions:b("bs_caml_option").valFromOption(o)}),role:"gridcell"})}):null],ref:z,className:(g||(g=b("stylex")))(k.reactionRoot,w[0])}),h.jsx("div",{className:g(p?k.reactionSpacerOverlapping:k.reactionSpacer,r?k.mask:!1)})));var B=h.createElement(h.Fragment,void 0,h.jsx(b("MWChatMessageTooltip.bs").make,{removedTimestamp:m,timestamp:l,children:h.jsx("div",f)}),A);a=b("gkx")("1411545");return h.jsx(b("MWChatMessageCellFocusTable.bs").keyCommands,{onEscape:u?function(a){return b("bs_curry")._1(t,function(a){return!1})}:void 0,onEnter:u?void 0:s,onSpace:u?void 0:s,children:h.jsx("div",{children:h.jsxs("div",{children:[h.jsx("div",{children:c,className:g(k.action,r&&!q?k.mask:!1,o!==void 0||d?k.actionWithPadding:!1)}),h.jsx(b("MWChatMessageTableFocusTable.bs").Table_.Cell.make,{children:h.jsx(b("FocusWithinHandler.react"),{onFocusChange:function(a){if(a)return 0;else return b("bs_curry")._1(t,function(a){return!1})},children:function(a,c){a=b("ReactData.bs").set({children:u?h.jsx(b("FocusRegion.react").FocusRegion,{focusQuery:b("TabbableScopeQuery.react"),autoFocus:!0,disabled:!1,autoRestoreFocus:!0,autoRecoverFocus:!0,containFocus:!0,children:h.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Table.make,{tabScopeQuery:b("TabbableScopeQuery.react"),wrapX:!0,children:h.jsx("div",{children:h.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Row.make,{children:h.jsx("div",{children:B,role:"row"})}),role:"grid"})})}):B,className:(g||(g=b("stylex")))(k.messageContainer,c?!1:k.focusNotVisible),role:"gridcell",tabIndex:0},b("bs_js_dict").fromArray([["data-scope",b("MWChatMessageTableFocusTable.bs").scopeID]]));return h.jsx("div",a)}})}),h.jsx("div",{className:g(k.spacer,r&&!q?k.mask:!1)}),h.jsx(b("MWChatGutterItem.bs").make,{status:v?n:0,incoming:!0,hasRepliedToMessage:q,xstyle:k.gutterItem})],className:g(k.root,a?r||i?!1:k.solidPaddingTop:r?!1:k.solid)}),className:g(k.row)})})}e=c;f.LazyMWWorkChatSavedBadge=d;f.styles=k;f.make=e}),null);
__d("MWChatIncomingErrorRow.bs",["React","MWChatIncomingError.bs","MWChatIncomingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.status,d=a.timestamp;a=a.first;return g.jsx(b("MWChatIncomingMessageDefaultRenderer.bs").make,{messageActions:null,isSaved:!1,renderAttachment:!1,children:g.jsx(b("MWChatIncomingError.bs").make,{}),first:a,timestamp:d,status:c})}c=a;f.make=c}),null);
__d("MWChatIncomingMessageAudioRow.bs",["React","stylex","MWChatAudio.bs","MWChatActions.bs","MWChatTextBubbleSolid.bs","MWChatIncomingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={spacer:{height:"ay7djpcl",width:"k4urcfbm",backgroundColor:"nred35xi"}};function a(a){var c=a.content,d=a.visibleMessageData,e=a.commonMessageData,f=a.messageBody,j=a.first,k=a.showActions,l=a.hasRepliedToMessage;a=a.dispatch;k=k!==void 0?k:!1;if(f!==void 0){f=f;f=h.createElement(h.Fragment,void 0,h.jsx(b("MWChatTextBubbleSolid.bs").make,{text:f.text,first:j,last:!1,outgoing:!1,ranges:f.ranges,isForwarded:f.isForwarded,dispatch:a}),h.jsx("div",{className:(g||(g=b("stylex")))(i.spacer)}),h.jsx(b("MWChatAudio.bs").make,{content:c}))}else f=h.jsx(b("MWChatAudio.bs").make,{content:c});return h.jsx(b("MWChatIncomingMessageDefaultRenderer.bs").make,{messageActions:h.jsx(b("MWChatActions.bs").make,{outgoing:!1,showActions:k,messageID:e.messageID,isSaved:e.isSaved,dispatch:a,popoverAlign:-1021944796,selectedReaction:d.selectedReaction}),isSaved:e.isSaved,renderAttachment:!1,children:f,first:j,timestamp:e.timestamp,status:e.status,reactions:d.reactions,hasRepliedToMessage:l})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatEmoji.bs",["React","CometEmojiTransform","CometEmoticonTransform","CometTextWithEntities.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("CometEmojiTransform")({size:32}),i=b("CometEmoticonTransform")({size:32});function a(a){a=a.text;return g.jsx(b("CometTextWithEntities.react"),{withParagraphs:!0,text:a,transforms:[h,i]})}c=a;f.emojiTransform=h;f.emoticonTransform=i;f.make=c}),null);
__d("MWChatIncomingMessageEmojiRow.bs",["React","MWChatEmoji.bs","MWChatActions.bs","MWChatIncomingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.visibleMessageData,d=a.commonMessageData,e=a.content,f=a.showActions,h=a.first,i=a.hasRepliedToMessage;a=a.dispatch;f=f!==void 0?f:!1;i=i!==void 0?i:!1;return g.jsx(b("MWChatIncomingMessageDefaultRenderer.bs").make,{messageActions:g.jsx(b("MWChatActions.bs").make,{outgoing:!1,showActions:f,messageID:d.messageID,isSaved:d.isSaved,dispatch:a,selectedReaction:c.selectedReaction}),isSaved:d.isSaved,renderAttachment:!0,children:g.jsx(b("MWChatEmoji.bs").make,{text:e.text}),first:h,timestamp:d.timestamp,status:d.status,reactions:c.reactions,showReactionsWithOverlapping:!1,hasRepliedToMessage:i,testid:"messenger_incoming_emoji_row"})}c=a;f.make=c}),null);
__d("MWChatIncomingMessageFileRow.bs",["bs_block","React","MWChatFile.bs","bs_caml_option","MWChatActions.bs","MWChatBubbleSolid.bs","recoverableViolation","MWChatIncomingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.content,d=a.visibleMessageData,e=a.commonMessageData,f=a.messageBody,h=a.first,i=a.showActions,j=a.hasRepliedToMessage;a=a.dispatch;i=i!==void 0?i:!1;j=j!==void 0?j:!1;var k=f!==void 0;g.useEffect(function(){k&&b("recoverableViolation")("Unrendered message body","messenger_comet");return},[k]);f={url:c.url};c.fileName!==void 0&&(f.fileName=b("bs_caml_option").valFromOption(c.fileName));c=g.jsx(b("MWChatFile.bs").make,f);return g.jsx(b("MWChatIncomingMessageDefaultRenderer.bs").make,{messageActions:g.jsx(b("MWChatActions.bs").make,{outgoing:!1,showActions:i,messageID:e.messageID,enabledActions:b("bs_block").__(1,[!0,!0]),isSaved:e.isSaved,dispatch:a,selectedReaction:d.selectedReaction}),isSaved:e.isSaved,renderAttachment:!1,children:g.jsx(b("MWChatBubbleSolid.bs").make,{content:c,first:!0,last:!0,outgoing:!1}),first:h,timestamp:e.timestamp,status:e.status,reactions:d.reactions,hasRepliedToMessage:j})}c=a;f.make=c}),null);
__d("MWChatIncomingMessageFilesRow.bs",["bs_block","React","MWChatFile.bs","bs_caml_option","MWChatActions.bs","MWChatBubbleSolid.bs","recoverableViolation","MWChatIncomingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.content,d=a.visibleMessageData,e=a.commonMessageData,f=a.messageBody,h=a.first,i=a.showActions,j=a.hasRepliedToMessage;a=a.dispatch;i=i!==void 0?i:!1;j=j!==void 0?j:!1;var k=f!==void 0;g.useEffect(function(){k&&b("recoverableViolation")("Unrendered message body","messenger_comet");return},[k]);f=c.map(function(a){var c=a.url,d={url:c};a.fileName!==void 0&&(d.fileName=b("bs_caml_option").valFromOption(a.fileName));return g.jsx(b("MWChatFile.bs").make,d,c.toString())});return g.jsx(b("MWChatIncomingMessageDefaultRenderer.bs").make,{messageActions:g.jsx(b("MWChatActions.bs").make,{outgoing:!1,showActions:i,messageID:e.messageID,enabledActions:b("bs_block").__(0,[!0,!0,!1]),isSaved:e.isSaved,dispatch:a,selectedReaction:d.selectedReaction}),isSaved:e.isSaved,renderAttachment:!1,children:g.jsx(b("MWChatBubbleSolid.bs").make,{content:f,first:!0,last:!0,outgoing:!1}),first:h,timestamp:e.timestamp,status:e.status,reactions:d.reactions,hasRepliedToMessage:j})}c=a;f.make=c}),null);
__d("MWChatIncomingMessageLightspeedXMARow.bs",["bs_block","MWXMA.bs","React","stylex","MWChatActions.bs","MWXMAComponent.bs","MWChatTextBubbleSolid.bs","MWChatIncomingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={spacer:{height:"ay7djpcl",backgroundColor:"nred35xi"}};function a(a){var c=a.visibleMessageData,d=a.commonMessageData,e=a.xma,f=a.messageBody,j=a.first,k=a.last,l=a.hasRepliedToMessage,m=a.showActions;a=a.dispatch;l=l!==void 0?l:!1;if(f!==void 0){var n=f;n=h.createElement(h.Fragment,void 0,h.jsx(b("MWChatTextBubbleSolid.bs").make,{text:n.text,first:j,last:!1,outgoing:!1,ranges:n.ranges,isForwarded:n.isForwarded,dispatch:a}),h.jsx("div",{className:(g||(g=b("stylex")))(i.spacer)}),h.jsx(b("MWXMAComponent.bs").make,{xma:e,first:j,last:k,outgoing:!0,dispatch:a}))}else n=h.jsx(b("MWXMAComponent.bs").make,{xma:e,first:j,last:k,outgoing:!1,dispatch:a});return h.jsx(b("MWChatIncomingMessageDefaultRenderer.bs").make,{messageActions:h.jsx(b("MWChatActions.bs").make,{outgoing:!1,showActions:m,messageID:d.messageID,enabledActions:b("MWXMA.bs").canForward(e)?b("bs_block").__(1,[!0,!0]):b("bs_block").__(0,[!0,!0,!1]),isSaved:d.isSaved,dispatch:a,selectedReaction:c.selectedReaction}),isSaved:d.isSaved,renderAttachment:f===void 0,children:n,first:j,timestamp:d.timestamp,status:d.status,reactions:c.reactions,hasRepliedToMessage:l})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatIncomingMessagePhotoRow.bs",["bs_block","React","stylex","MWChatImage.bs","MWChatActions.bs","MWChatTextBubbleSolid.bs","MWChatIncomingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={imageWrap:{position:"l9j0dhe7",minWidth:"hpfvmrgz",marginTop:"km676qkl",marginEnd:"cxmmr5t8",marginBottom:"myj7ivm5",marginStart:"hcukyx3x"},spacer:{height:"ay7djpcl",width:"k4urcfbm",backgroundColor:"nred35xi"}};function a(a){var c=a.content,d=a.visibleMessageData,e=a.commonMessageData,f=a.messageBody,j=a.first,k=a.hasRepliedToMessage,l=a.showActions,m=a.dispatch;a=a.buildSharedMediaViewerURL;k=k!==void 0?k:!1;l=l!==void 0?l:!1;if(f!==void 0){var n=f;n=h.createElement(h.Fragment,void 0,h.jsx(b("MWChatTextBubbleSolid.bs").make,{text:n.text,first:j,last:!1,outgoing:!1,ranges:n.ranges,isForwarded:n.isForwarded,dispatch:m}),h.jsx("div",{className:(g||(g=b("stylex")))(i.spacer)}),h.jsx(b("MWChatImage.bs").make,{content:c,messageID:e.messageID,buildSharedMediaViewerURL:a}))}else n=h.jsx("div",{children:h.jsx(b("MWChatImage.bs").make,{content:c,messageID:e.messageID,buildSharedMediaViewerURL:a}),className:(g||(g=b("stylex")))(i.imageWrap)});return h.jsx(b("MWChatIncomingMessageDefaultRenderer.bs").make,{messageActions:h.jsx(b("MWChatActions.bs").make,{outgoing:!1,showActions:l,messageID:e.messageID,enabledActions:b("bs_block").__(1,[!0,!0]),isSaved:e.isSaved,dispatch:m,selectedReaction:d.selectedReaction}),isSaved:e.isSaved,renderAttachment:f===void 0,children:n,first:j,timestamp:e.timestamp,status:e.status,reactions:d.reactions,hasRepliedToMessage:k})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatIncomingMessagePhotosRow.bs",["React","stylex","MWChatActions.bs","MWChatImagesGrid.bs","MWChatTextBubbleSolid.bs","MWChatIncomingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={spacer:{height:"ay7djpcl",width:"k4urcfbm",backgroundColor:"nred35xi"}};function a(a){var c=a.content,d=a.visibleMessageData,e=a.commonMessageData,f=a.messageBody,j=a.first,k=a.showActions,l=a.hasRepliedToMessage,m=a.dispatch;a=a.buildSharedMediaViewerURL;k=k!==void 0?k:!1;l=l!==void 0?l:!1;if(f!==void 0){var n=f;n=h.createElement(h.Fragment,void 0,h.jsx(b("MWChatTextBubbleSolid.bs").make,{text:n.text,first:j,last:!1,outgoing:!1,ranges:n.ranges,isForwarded:n.isForwarded,dispatch:m}),h.jsx("div",{className:(g||(g=b("stylex")))(i.spacer)}),h.jsx(b("MWChatImagesGrid.bs").make,{content:c,buildSharedMediaViewerURL:a,messageID:e.messageID}))}else n=h.jsx(b("MWChatImagesGrid.bs").make,{content:c,buildSharedMediaViewerURL:a,messageID:e.messageID});return h.jsx(b("MWChatIncomingMessageDefaultRenderer.bs").make,{messageActions:h.jsx(b("MWChatActions.bs").make,{outgoing:!1,showActions:k,messageID:e.messageID,isSaved:e.isSaved,dispatch:m,selectedReaction:d.selectedReaction}),isSaved:e.isSaved,renderAttachment:f===void 0,children:n,first:j,timestamp:e.timestamp,status:e.status,reactions:d.reactions,hasRepliedToMessage:l})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatIncomingMessageStickerRow.bs",["React","MWChatActions.bs","MWChatSticker.bs","recoverableViolation","MWChatIncomingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.content,d=a.visibleMessageData,e=a.commonMessageData,f=a.messageBody,h=a.showActions,i=a.hasRepliedToMessage,j=a.first;a=a.dispatch;h=h!==void 0?h:!1;i=i!==void 0?i:!1;var k=f!==void 0;g.useEffect(function(){k&&b("recoverableViolation")("Unrendered message body","messenger_comet");return},[k]);return g.jsx(b("MWChatIncomingMessageDefaultRenderer.bs").make,{messageActions:g.jsx(b("MWChatActions.bs").make,{outgoing:!1,showActions:h,messageID:e.messageID,isSaved:e.isSaved,dispatch:a,selectedReaction:d.selectedReaction}),isSaved:e.isSaved,renderAttachment:!0,children:g.jsx(b("MWChatSticker.bs").make,{sticker:c}),first:j,timestamp:e.timestamp,status:e.status,reactions:d.reactions,hasRepliedToMessage:i,testid:"messenger_incoming_sticker_row"})}c=a;f.make=c}),null);
__d("MWChatIncomingMessageTextRow.bs",["React","MWChatActions.bs","MWChatTextBubbleSolid.bs","MWChatIncomingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.visibleMessageData,d=a.commonMessageData,e=a.content,f=a.showActions,h=a.first,i=a.last,j=a.hasRepliedToMessage;a=a.dispatch;f=f!==void 0?f:!1;j=j!==void 0?j:!1;return g.jsx(b("MWChatIncomingMessageDefaultRenderer.bs").make,{messageActions:g.jsx(b("MWChatActions.bs").make,{outgoing:!1,showActions:f,messageID:d.messageID,isSaved:d.isSaved,dispatch:a,selectedReaction:c.selectedReaction}),isSaved:d.isSaved,renderAttachment:!1,children:g.jsx(b("MWChatTextBubbleSolid.bs").make,{text:e.text,first:h,last:i,outgoing:!1,ranges:e.ranges,isForwarded:e.isForwarded,dispatch:a}),first:h,timestamp:d.timestamp,status:d.status,reactions:c.reactions,hasRepliedToMessage:j,testid:"messenger_incoming_text_row"})}c=a;f.make=c}),null);
__d("MWChatIncomingMessageVideoRow.bs",["bs_block","React","stylex","MWChatVideo.bs","MWChatActions.bs","MWChatTextBubbleSolid.bs","MWChatIncomingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={imageWrap:{position:"l9j0dhe7",marginTop:"km676qkl",marginEnd:"cxmmr5t8",marginBottom:"myj7ivm5",marginStart:"hcukyx3x"},spacer:{height:"ay7djpcl",width:"k4urcfbm",backgroundColor:"nred35xi"}};function a(a){var c=a.content,d=a.visibleMessageData,e=a.commonMessageData,f=a.messageBody,j=a.showActions,k=a.first,l=a.hasRepliedToMessage,m=a.dispatch;a=a.buildSharedMediaViewerURL;j=j!==void 0?j:!1;l=l!==void 0?l:!1;if(f!==void 0){var n=f;n=h.createElement(h.Fragment,void 0,h.jsx(b("MWChatTextBubbleSolid.bs").make,{text:n.text,first:k,last:!1,outgoing:!1,ranges:n.ranges,isForwarded:n.isForwarded,dispatch:m}),h.jsx("div",{className:(g||(g=b("stylex")))(i.spacer)}),h.jsx("div",{children:h.jsx(b("MWChatVideo.bs").make,{content:c,outgoing:!1,messageID:e.messageID,buildSharedMediaViewerURL:a}),className:g(i.imageWrap)}))}else n=h.jsx("div",{children:h.jsx(b("MWChatVideo.bs").make,{content:c,outgoing:!1,messageID:e.messageID,buildSharedMediaViewerURL:a}),className:(g||(g=b("stylex")))(i.imageWrap)});return h.jsx(b("MWChatIncomingMessageDefaultRenderer.bs").make,{messageActions:h.jsx(b("MWChatActions.bs").make,{outgoing:!1,showActions:j,messageID:e.messageID,enabledActions:b("bs_block").__(1,[!0,!0]),isSaved:e.isSaved,dispatch:m,selectedReaction:d.selectedReaction}),isSaved:e.isSaved,renderAttachment:f===void 0,children:n,first:k,timestamp:e.timestamp,status:e.status,reactions:d.reactions,hasRepliedToMessage:l})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatIncomingRemovedMessageTombstoneRow.bs",["fbt","bs_block","React","stylex","MWChatActions.bs","MWChatTextTransform.bs","CometTextWithEntities.react","getFBTSafeGenderFromGenderConst","MWChatIncomingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"osnr6wyh",paddingStart:"h4z51re5",maxWidth:"d2edcug0",verticalAlign:"sf5mxxl7",borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderTop:"l6v480f0",borderEnd:"maa8sdkg",borderBottom:"s1tcr66n",borderStart:"aypy0576"},content:{color:"erlsw9ld",fontStyle:"fmqa7x8m",wordBreak:"qv66sw1b"}};function a(a){var c=a.removedMessageData,d=a.commonMessageData,e=a.first,f=a.dispatch;a=a.showActions;var k=c.authorName;if(k!==void 0){k=i.jsx(b("CometTextWithEntities.react"),{text:k,transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]});k=g._({"*":"{name} removed a message"},[g._name("name","{name}",b("getFBTSafeGenderFromGenderConst")(d.authorGender)),g._param("name",k)])}else k=g._("A contact removed a message");return i.jsx(b("MWChatIncomingMessageDefaultRenderer.bs").make,{messageActions:i.jsx(b("MWChatActions.bs").make,{outgoing:!1,showActions:a,messageID:d.messageID,enabledActions:b("bs_block").__(0,[!1,!1,!1]),checkCanRemoveGlobally:function(a){return!1},isSaved:d.isSaved,dispatch:f}),isSaved:d.isSaved,renderAttachment:!1,children:i.jsx("div",{children:i.jsx("div",{children:k,className:(h||(h=b("stylex")))(j.content)}),className:h(j.root)}),first:e,timestamp:d.timestamp,removedTimestamp:c.removedTimestamp,status:d.status})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatIncomingMessageRow.bs",["React","MWChatIncomingErrorRow.bs","MWChatIncomingMessageFileRow.bs","MWChatIncomingMessageTextRow.bs","MWChatIncomingMessageAudioRow.bs","MWChatIncomingMessageEmojiRow.bs","MWChatIncomingMessageFilesRow.bs","MWChatIncomingMessagePhotoRow.bs","MWChatIncomingMessageVideoRow.bs","MWChatIncomingMessagePhotosRow.bs","MWChatIncomingMessageStickerRow.bs","MWChatIncomingMessageLightspeedXMARow.bs","MWChatIncomingRemovedMessageTombstoneRow.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.content,d=a.first,e=a.last,f=a.hasRepliedToMessage,h=a.dispatch,i=a.hovered;a=a.buildSharedMediaViewerURL;f=f!==void 0?f:!1;switch(c.tag|0){case 0:var j=c[2],k=c[1],l=c[0];if(j.tag){var m=j[1],n=j[0];switch(n.tag|0){case 0:return g.jsx(b("MWChatIncomingMessageStickerRow.bs").make,{content:n[0],visibleMessageData:k,commonMessageData:l,messageBody:m,showActions:i,hasRepliedToMessage:f,first:d,dispatch:h});case 1:return g.jsx(b("MWChatIncomingMessagePhotoRow.bs").make,{content:n[0],visibleMessageData:k,commonMessageData:l,messageBody:m,first:d,hasRepliedToMessage:f,showActions:i,dispatch:h,buildSharedMediaViewerURL:a});case 2:return g.jsx(b("MWChatIncomingMessagePhotosRow.bs").make,{content:n[0],visibleMessageData:k,commonMessageData:l,messageBody:m,first:d,showActions:i,hasRepliedToMessage:f,dispatch:h,buildSharedMediaViewerURL:a});case 3:return g.jsx(b("MWChatIncomingMessageFileRow.bs").make,{content:n[0],visibleMessageData:k,commonMessageData:l,messageBody:m,first:d,showActions:i,hasRepliedToMessage:f,dispatch:h});case 4:return g.jsx(b("MWChatIncomingMessageFilesRow.bs").make,{content:n[0],visibleMessageData:k,commonMessageData:l,messageBody:m,first:d,showActions:i,hasRepliedToMessage:f,dispatch:h});case 5:return g.jsx(b("MWChatIncomingMessageAudioRow.bs").make,{content:n[0],visibleMessageData:k,commonMessageData:l,messageBody:m,first:d,showActions:i,hasRepliedToMessage:f,dispatch:h});case 6:return g.jsx(b("MWChatIncomingMessageVideoRow.bs").make,{content:n[0],visibleMessageData:k,commonMessageData:l,messageBody:m,showActions:i,first:d,hasRepliedToMessage:f,dispatch:h,buildSharedMediaViewerURL:a});case 7:return g.jsx(b("MWChatIncomingMessageLightspeedXMARow.bs").make,{visibleMessageData:k,commonMessageData:l,xma:n[0],messageBody:m,first:d,last:e,hasRepliedToMessage:f,showActions:i,dispatch:h});case 8:return g.jsx(b("MWChatIncomingRemovedMessageTombstoneRow.bs").make,{removedMessageData:n[0],commonMessageData:l,first:d,dispatch:h,showActions:i})}}else{a=j[0];if(a.isEmojiOnly)return g.jsx(b("MWChatIncomingMessageEmojiRow.bs").make,{visibleMessageData:k,commonMessageData:l,content:a,showActions:i,first:d,hasRepliedToMessage:f,dispatch:h});else return g.jsx(b("MWChatIncomingMessageTextRow.bs").make,{visibleMessageData:k,commonMessageData:l,content:a,showActions:i,first:d,last:e,hasRepliedToMessage:f,dispatch:h})}case 1:return g.jsx(b("MWChatIncomingRemovedMessageTombstoneRow.bs").make,{removedMessageData:c[1],commonMessageData:c[0],first:d,dispatch:h,showActions:i});case 2:m=c[0];return g.jsx(b("MWChatIncomingErrorRow.bs").make,{status:m.status,timestamp:m.timestamp,first:d})}}c=a;f.make=c}),null);
__d("MWChatIncomingMessageReplyToDefault.bs",["React","gkx","stylex","MWChatIncomingMessageRow.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{backgroundColor:"nred35xi"},paddingTop:{paddingTop:"jwdofwj8"},originalRow:{backgroundColor:"g5ia77u1",position:"l9j0dhe7",marginBottom:"enqfppq2"},responseRow:{position:"l9j0dhe7",marginTop:"hy1o8qpp"},originalRoot:{display:"j83agx80"},originalSpacer:{flexBasis:"ir1wk9f7",flexGrow:"buofh1pr",flexShrink:"pfnyh3mw"}};function a(a){var c=a.response,d=a.dispatch,e=a.hovered,f=a.replied;a=a.buildSharedMediaViewerURL;return h.jsxs("div",{children:[h.jsx("div",{children:h.jsxs("div",{children:[f,h.jsx("div",{className:(g||(g=b("stylex")))(i.originalSpacer)})],className:g(i.originalRoot)}),className:g(i.originalRow)}),h.jsx("div",{children:h.jsx(b("MWChatIncomingMessageRow.bs").make,{content:c,first:!0,last:!0,hasRepliedToMessage:!0,dispatch:d,hovered:e,buildSharedMediaViewerURL:a}),className:g(i.responseRow)})],className:g(i.root,b("gkx")("1411545")?i.paddingTop:!1)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatIncomingMessageReplyToAttachment.bs",["React","MWChatAttachmentReplyBubble.bs","MWChatIncomingMessageReplyToDefault.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.pos,d=a.response,e=a.dispatch,f=a.replyToOther,h=a.hovered;a=a.buildSharedMediaViewerURL;return g.jsx(b("MWChatIncomingMessageReplyToDefault.bs").make,{response:d,dispatch:e,hovered:h,replied:g.jsx(b("MWChatAttachmentReplyBubble.bs").make,{pos:c,replyToOther:f,outgoing:!1}),buildSharedMediaViewerURL:a})}c=a;f.make=c}),null);
__d("MWChatIncomingMessageReplyToPhoto.bs",["React","gkx","stylex","MWChatIncomingMessageRow.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{backgroundColor:"nred35xi"},paddingTop:{paddingTop:"jwdofwj8"},originalRow:{position:"l9j0dhe7",display:"j83agx80",alignItems:"bp9cbjyn",height:"idiwt2bm",minWidth:"hpfvmrgz"},responseRow:{position:"l9j0dhe7",marginTop:"sxpk6l6v"},originalImage:{maxWidth:"d2edcug0",maxHeight:"iko8p5ub",verticalAlign:"sf5mxxl7",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomStartRadius:"qmr60zad",borderBottomEndRadius:"inkptoze",boxShadow:"hu0ub5uo",borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8"},originalSpacer:{flexBasis:"ir1wk9f7",flexGrow:"buofh1pr"},imageWrap:{position:"l9j0dhe7",minWidth:"hpfvmrgz"}};function a(a){var c=a.response,d=a.content,e=a.dispatch,f=a.hovered;a=a.buildSharedMediaViewerURL;return h.jsxs("div",{children:[h.jsxs("div",{children:[h.jsx("div",{children:h.jsx("img",{className:(g||(g=b("stylex")))(i.originalImage),src:d.previewUrl}),className:g(i.imageWrap)}),h.jsx("div",{className:g(i.originalSpacer)})],className:g(i.originalRow)}),h.jsx("div",{children:h.jsx(b("MWChatIncomingMessageRow.bs").make,{content:c,first:!0,last:!0,hasRepliedToMessage:!0,dispatch:e,hovered:f,buildSharedMediaViewerURL:a}),className:g(i.responseRow)})],className:g(i.root,b("gkx")("1411545")?i.paddingTop:!1)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatIncomingMessageReplyToPhotoGroup.bs",["React","gkx","stylex","CometPhotoGrid.react","CometImageCover.react","MWChatIncomingMessageRow.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{backgroundColor:"nred35xi"},paddingTop:{paddingTop:"jwdofwj8"},originalRow:{backgroundColor:"g5ia77u1",position:"l9j0dhe7",display:"j83agx80"},responseRow:{position:"l9j0dhe7",marginTop:"hy1o8qpp"},imagesWrap:{width:"nf4m65g7"},originalSpacer:{backgroundColor:"nred35xi",flexShrink:"pfnyh3mw",flexGrow:"buofh1pr",flexBasis:"ir1wk9f7"},image:{width:"k4urcfbm",height:"datstx6m",objectFit:"bixrwtb6"}};function a(a){var c=a.response,d=a.content,e=a.dispatch,f=a.hovered;a=a.buildSharedMediaViewerURL;d=d.attachments.map(function(a,c){return h.jsx(b("CometImageCover.react"),{src:a,style:i.image},String(c))});return h.jsxs("div",{children:[h.jsxs("div",{children:[h.jsx("div",{children:h.jsx(b("CometPhotoGrid.react"),{children:d}),className:(g||(g=b("stylex")))(i.imagesWrap)}),h.jsx("div",{className:g(i.originalSpacer)})],className:g(i.originalRow)}),h.jsx("div",{children:h.jsx(b("MWChatIncomingMessageRow.bs").make,{content:c,first:!0,last:!0,hasRepliedToMessage:!0,dispatch:e,hovered:f,buildSharedMediaViewerURL:a}),className:g(i.responseRow)})],className:g(i.root,b("gkx")("1411545")?i.paddingTop:!1)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatIncomingMessageReplyToRemovedMessage.bs",["fbt","React","stylex","MWChatReplyBubble.bs","MWChatIncomingMessageReplyToDefault.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={message:{fontStyle:"fmqa7x8m",fontSize:"e9vueds3",paddingBottom:"osnr6wyh"}};function a(a){var c=a.pos,d=a.response,e=a.dispatch,f=a.replyToOther,k=a.hovered;a=a.buildSharedMediaViewerURL;var l=i.jsx("div",{children:g._("Message removed"),className:(h||(h=b("stylex")))(j.message)});return i.jsx(b("MWChatIncomingMessageReplyToDefault.bs").make,{response:d,dispatch:e,hovered:k,replied:i.jsx(b("MWChatReplyBubble.bs").make,{pos:c,replyToOther:f,outgoing:!1,content:l}),buildSharedMediaViewerURL:a})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatOutgoingError.bs",["fbt","React","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"osnr6wyh",paddingStart:"h4z51re5",maxWidth:"d2edcug0",verticalAlign:"sf5mxxl7",borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderTop:"l6v480f0",borderEnd:"maa8sdkg",borderBottom:"s1tcr66n",borderStart:"aypy0576"},content:{color:"erlsw9ld",fontStyle:"fmqa7x8m",wordBreak:"qv66sw1b"}};function a(a){return i.jsx("div",{children:i.jsx("div",{children:g._("Error rendering media"),className:(h||(h=b("stylex")))(j.content)}),className:h(j.root)})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatSeenHeadsRow.bs",["fbt","bs_array","React","stylex","MWChatTheme.bs","MercuryTimestamp","CometTooltip.react","CometTooltipGroup.react","getFBTSafeGenderFromGenderConst"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{display:"j83agx80",paddingBottom:"r8blr3vg"},mask:{backgroundColor:"nred35xi"},spacer:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx"},heads:{flexShrink:"pfnyh3mw",display:"j83agx80",marginTop:"aahdfvyu",marginEnd:"cgat1ltu",marginBottom:"dicw6rsg",marginStart:"hcukyx3x"},img:{verticalAlign:"sf5mxxl7",width:"gab7stmx",height:"i4qgphn6",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",paddingStart:"abpf7j7b",paddingEnd:"exrn9cbp"},overflow:{backgroundColor:"tdjehn4e",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",color:"m9osqain",fontSize:"r9r71o1u",fontWeight:"n3ffmt46",lineHeight:"eagtllmd",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",paddingTop:"jb3vyjys",paddingEnd:"ph5uu5jm",paddingBottom:"qt6c0cv9",paddingStart:"b3onmgus",textAlign:"oqcyycmt"}};function k(a){var c=a.length,d=c>5;c=Math.max(c-(d?4:5)|0,0);var e=a.slice(c);if(d){d=Math.max(c-9|0,0);a=a.slice(d,c);var f="\n"+g._({"*":"and {Number of additional views} more"},[g._param("Number of additional views",d,[0])]);a=i.jsxs("ul",{children:[a.reverse().map(function(a,b){return i.jsx("li",{children:a.name},String(b))}),d>0?i.jsx("li",{children:f},"overflow"):null]});d=i.jsx(b("CometTooltip.react"),{tooltip:a,align:"end",position:"above",children:i.jsx("span",{children:g._({"*":"+{the number of additional viewers}"},[g._param("the number of additional viewers",c,[0])]),className:(h||(h=b("stylex")))(j.overflow)}),forceInlineDisplay:!0},"overflow")}else d=null;return b("bs_array").append([d],e.map(function(a){return i.jsx(b("CometTooltip.react"),{tooltip:g._({"*":"Seen by {full name} at {seen time}"},[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender)),g._param("seen time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]),align:"end",position:"above",children:i.jsx("img",{className:(h||(h=b("stylex")))(j.img),src:a.imageSrc}),forceInlineDisplay:!0},a.id)}))}function a(a){a=a.messageSeenBy;var c=b("MWChatTheme.bs").useTheme(0);return i.jsxs("div",{children:[i.jsx("div",{className:(h||(h=b("stylex")))(j.spacer)}),i.jsx("div",{children:i.jsx(b("CometTooltipGroup.react"),{children:k(a)}),className:h(j.heads)})],className:h(j.root,b("MWChatTheme.bs").isGradient(c)?j.mask:!1)})}c=5;d=a;f.styles=j;f.maxNumberOfHeads=c;f.getImageRow=k;f.make=d}),null);
__d("MWChatOutgoingMessageDefaultRenderer.bs",["bs_curry","React","bs_js_dict","ReactData.bs","JSResource","stylex","bs_caml_option","MWChatTheme.bs","MWChatReactions.bs","MWChatGutterItem.bs","FocusRegion.react","BootloaderResource","MWChatSeenHeadsRow.bs","MWChatOutgoingError.bs","MWChatMessageTooltip.bs","CometErrorBoundary.react","FocusWithinHandler.react","TabbableScopeQuery.react","MWChatMessageCellFocusTable.bs","MWChatMessageTableFocusTable.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("JSResource")("MWWorkChatSavedBadge.bs").__setRef("MWChatOutgoingMessageDefaultRenderer.bs");function a(a){return{}}function j(a){return h.createElement(b("BootloaderResource").read(i).make,a)}d={reasonResource:i,makeProps:a,make:j};var k={root:{display:"j83agx80"},solid:{paddingBottom:"r8blr3vg"},spacer:{order:"jn8vp64t",flexBasis:"rj1gh0hx",flexGrow:"buofh1pr"},mask:{backgroundColor:"nred35xi"},action:{flexShrink:"pfnyh3mw",order:"ewlkfwdl",display:"j83agx80",alignItems:"bp9cbjyn",paddingStart:"qnrpqo6b",paddingEnd:"jxrgncrl"},actionWithPadding:{paddingBottom:"a5h7je3r"},message:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",whiteSpace:"ii04i59q"},withAttachment:{display:"j83agx80",alignItems:"k5z4p5yh",flexDirection:"cbu4d94t"},messageContainer:{order:"h9e7qa53",position:"l9j0dhe7",minWidth:"hpfvmrgz"},reactionSpacer:{height:"jnigpg78"},reactionSpacerOverlapping:{height:"ed3p1gfi"},reply:{backgroundColor:"g5ia77u1"},gutterItem:{order:"iyic8zgw"},focusNotVisible:{outline:"lzcic4wl"},reactionRoot:{bottom:"be3nqp5n",position:"pmk7jnqg",end:"n7fi1qx3",alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"bkfpd7mw"}};function c(a){var c=a.messageActions,d=a.isSaved,e=a.renderAttachment,f=a.status,i=a.children,l=a.timestamp,m=a.removedTimestamp,n=a.reactions,o=a.showReactionsWithOverlapping,p=a.hasRepliedToMessage;a=a.testid;n=n!==void 0?b("bs_caml_option").valFromOption(n):void 0;o=o!==void 0?o:!0;p=p!==void 0?p:!1;var q=b("MWChatTheme.bs").useTheme(0),r=h.useState(function(){return!1}),s=r[1],t=r[0];r=function(a){return b("bs_curry")._1(s,function(a){return!0})};q=b("MWChatTheme.bs").isGradient(q);var u=typeof f==="number"?!0:f[0].length===1;i={children:h.jsx(b("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(b("MWChatOutgoingError.bs").make,{})},children:i}),className:(g||(g=b("stylex")))(k.message,e?k.withAttachment:!1,e&&q?k.mask:!1,p?k.reply:!1)};a!==void 0&&(i["data-testid"]=a);var v;e=0;n!==void 0||d?e=1:v=null;e===1&&(v=h.createElement(h.Fragment,void 0,h.jsxs("div",{children:[d?h.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Cell.make,{children:h.jsx("div",{children:h.jsx(j,{}),role:"gridcell"})}):null,n!==void 0?h.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Cell.make,{children:h.jsx("div",{children:h.jsx(b("MWChatReactions.bs").make,{reactions:b("bs_caml_option").valFromOption(n)}),role:"gridcell"})}):null],className:(g||(g=b("stylex")))(k.reactionRoot)}),h.jsx("div",{className:g(o?k.reactionSpacerOverlapping:k.reactionSpacer,q?k.mask:!1)})));var w=h.createElement(h.Fragment,void 0,h.jsx(b("MWChatMessageTooltip.bs").make,{removedTimestamp:m,timestamp:l,children:h.jsx("div",i)}),v);if(typeof f==="number")a=null;else{e=f[0];d=e.length;a=d!==1&&d!==0?h.jsx(b("MWChatSeenHeadsRow.bs").make,{messageSeenBy:e}):null}return h.jsxs(b("MWChatMessageCellFocusTable.bs").keyCommands,{onEscape:t?function(a){return b("bs_curry")._1(s,function(a){return!1})}:void 0,onEnter:t?void 0:r,onSpace:t?void 0:r,children:[h.jsxs("div",{children:[h.jsx("div",{className:g(k.spacer,q?k.mask:!1,p?k.reply:!1)}),h.jsx("div",{children:c,className:g(k.action,q?k.mask:!1,n!==void 0?k.actionWithPadding:!1,p?k.reply:!1)}),h.jsx(b("MWChatMessageTableFocusTable.bs").Table_.Cell.make,{children:h.jsx(b("FocusWithinHandler.react"),{onFocusChange:function(a){if(a)return 0;else return b("bs_curry")._1(s,function(a){return!1})},children:function(a,c){a=b("ReactData.bs").set({children:t?h.jsx(b("FocusRegion.react").FocusRegion,{focusQuery:b("TabbableScopeQuery.react"),autoFocus:!0,disabled:!1,autoRestoreFocus:!0,autoRecoverFocus:!0,containFocus:!0,children:h.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Table.make,{tabScopeQuery:b("TabbableScopeQuery.react"),wrapX:!0,children:h.jsx("div",{children:h.jsx(b("MWChatMessageCellFocusTable.bs").Table_.Row.make,{children:h.jsx("div",{children:w,role:"row"})}),role:"grid"})})}):w,className:(g||(g=b("stylex")))(k.messageContainer,c?!1:k.focusNotVisible),role:"gridcell",tabIndex:0},b("bs_js_dict").fromArray([["data-scope",b("MWChatMessageTableFocusTable.bs").scopeID]]));return h.jsx("div",a)}})}),h.jsx(b("MWChatGutterItem.bs").make,{status:u?f:0,xstyle:k.gutterItem})],className:g(k.root,q?!1:k.solid)}),a]})}e=c;f.LazyMWWorkChatSavedBadge=d;f.styles=k;f.make=e}),null);
__d("MWChatOutgoingErrorRow.bs",["React","MWChatOutgoingError.bs","MWChatOutgoingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.status;a=a.timestamp;return g.jsx(b("MWChatOutgoingMessageDefaultRenderer.bs").make,{messageActions:null,isSaved:!1,renderAttachment:!0,status:c,children:g.jsx(b("MWChatOutgoingError.bs").make,{}),timestamp:a})}c=a;f.make=c}),null);
__d("MWChatOutgoingMessageAudioRow.bs",["React","stylex","MWChatAudio.bs","MWChatActions.bs","MWChatTextBubble.bs","MWChatMessageUnsendability.bs","MWChatOutgoingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={row:{display:"j83agx80"},rowSpacer:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx",backgroundColor:"nred35xi"},spacer:{height:"ay7djpcl"},mask:{backgroundColor:"nred35xi"}};function a(a){var c=a.content,d=a.visibleMessageData,e=a.commonMessageData,f=a.messageBody,j=a.first;a.last;var k=a.pos,l=a.showActions,m=a.hasRepliedToMessage;a=a.dispatch;l=l!==void 0?l:!1;m=m!==void 0?m:!1;if(f!==void 0){var n=f;n=h.createElement(h.Fragment,void 0,h.jsxs("div",{children:[h.jsx("div",{className:(g||(g=b("stylex")))(i.rowSpacer)}),h.jsx(b("MWChatTextBubble.bs").make,{text:n.text,ranges:n.ranges,isForwarded:n.isForwarded,first:j,last:!1,hasRepliedToMessage:m,pos:k,outgoing:!0,dispatch:a})],className:g(i.row)}),h.jsx("div",{className:g(i.spacer,i.mask)}),h.jsxs("div",{children:[h.jsx("div",{className:g(i.rowSpacer)}),h.jsx("div",{children:h.jsx(b("MWChatAudio.bs").make,{content:c}),className:g(i.mask)})],className:g(i.row)}))}else n=h.jsx(b("MWChatAudio.bs").make,{content:c});return h.jsx(b("MWChatOutgoingMessageDefaultRenderer.bs").make,{messageActions:h.jsx(b("MWChatActions.bs").make,{outgoing:!0,showActions:l,messageID:e.messageID,checkCanRemoveGlobally:function(a){if(e.canRemoveGlobally)return b("MWChatMessageUnsendability.bs").isRecent(e.timestamp);else return!1},isSaved:e.isSaved,dispatch:a,selectedReaction:d.selectedReaction}),isSaved:e.isSaved,renderAttachment:f===void 0,status:e.status,children:n,timestamp:e.timestamp,reactions:d.reactions,hasRepliedToMessage:m})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatOutgoingMessageEmojiRow.bs",["React","MWChatEmoji.bs","MWChatActions.bs","MWChatMessageUnsendability.bs","MWChatOutgoingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.visibleMessageData,d=a.commonMessageData,e=a.content,f=a.showActions,h=a.hasRepliedToMessage;a=a.dispatch;f=f!==void 0?f:!1;h=h!==void 0?h:!1;return g.jsx(b("MWChatOutgoingMessageDefaultRenderer.bs").make,{messageActions:g.jsx(b("MWChatActions.bs").make,{outgoing:!0,showActions:f,messageID:d.messageID,checkCanRemoveGlobally:function(a){if(d.canRemoveGlobally)return b("MWChatMessageUnsendability.bs").isRecent(d.timestamp);else return!1},isSaved:d.isSaved,dispatch:a,selectedReaction:c.selectedReaction}),isSaved:d.isSaved,renderAttachment:!0,status:d.status,children:g.jsx(b("MWChatEmoji.bs").make,{text:e.text}),timestamp:d.timestamp,reactions:c.reactions,showReactionsWithOverlapping:!1,hasRepliedToMessage:h})}c=a;f.make=c}),null);
__d("MWChatOutgoingMessageFileRow.bs",["bs_block","React","MWChatFile.bs","bs_caml_option","MWChatActions.bs","MWChatBubbleSolid.bs","recoverableViolation","MWChatMessageUnsendability.bs","MWChatOutgoingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.content,d=a.visibleMessageData,e=a.commonMessageData,f=a.messageBody,h=a.showActions,i=a.dispatch;a=a.hasRepliedToMessage;h=h!==void 0?h:!1;a=a!==void 0?a:!1;var j=f!==void 0;g.useEffect(function(){j&&b("recoverableViolation")("Unrendered message body","messenger_comet");return},[j]);f={url:c.url};c.fileName!==void 0&&(f.fileName=b("bs_caml_option").valFromOption(c.fileName));c=g.jsx(b("MWChatFile.bs").make,f);return g.jsx(b("MWChatOutgoingMessageDefaultRenderer.bs").make,{messageActions:g.jsx(b("MWChatActions.bs").make,{outgoing:!0,showActions:h,messageID:e.messageID,enabledActions:b("bs_block").__(1,[!0,!0]),checkCanRemoveGlobally:function(a){if(e.canRemoveGlobally)return b("MWChatMessageUnsendability.bs").isRecent(e.timestamp);else return!1},isSaved:e.isSaved,dispatch:i,selectedReaction:d.selectedReaction}),isSaved:e.isSaved,renderAttachment:!0,status:e.status,children:g.jsx(b("MWChatBubbleSolid.bs").make,{content:c,first:!0,last:!0,outgoing:!0}),timestamp:e.timestamp,reactions:d.reactions,hasRepliedToMessage:a})}c=a;f.make=c}),null);
__d("MWChatOutgoingMessageFilesRow.bs",["bs_block","React","MWChatFile.bs","bs_caml_option","MWChatActions.bs","MWChatBubbleSolid.bs","recoverableViolation","MWChatMessageUnsendability.bs","MWChatOutgoingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.content,d=a.visibleMessageData,e=a.commonMessageData,f=a.messageBody,h=a.showActions,i=a.dispatch;a=a.hasRepliedToMessage;h=h!==void 0?h:!1;a=a!==void 0?a:!1;var j=f!==void 0;g.useEffect(function(){j&&b("recoverableViolation")("Unrendered message body","messenger_comet");return},[j]);f=c.map(function(a){var c=a.url,d={url:c};a.fileName!==void 0&&(d.fileName=b("bs_caml_option").valFromOption(a.fileName));return g.jsx(b("MWChatFile.bs").make,d,c.toString())});return g.jsx(b("MWChatOutgoingMessageDefaultRenderer.bs").make,{messageActions:g.jsx(b("MWChatActions.bs").make,{outgoing:!0,showActions:h,messageID:e.messageID,enabledActions:b("bs_block").__(0,[!0,!0,!1]),checkCanRemoveGlobally:function(a){if(e.canRemoveGlobally)return b("MWChatMessageUnsendability.bs").isRecent(e.timestamp);else return!1},isSaved:e.isSaved,dispatch:i,selectedReaction:d.selectedReaction}),isSaved:e.isSaved,renderAttachment:!0,status:e.status,children:g.jsx(b("MWChatBubbleSolid.bs").make,{content:f,first:!0,last:!0,outgoing:!0}),timestamp:e.timestamp,reactions:d.reactions,hasRepliedToMessage:a})}c=a;f.make=c}),null);
__d("MWChatOutgoingMessageLightspeedXMARow.bs",["bs_block","MWXMA.bs","React","stylex","MWChatActions.bs","MWXMAComponent.bs","MWChatTextBubble.bs","MWChatMessageUnsendability.bs","MWChatOutgoingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={spacer:{height:"ay7djpcl"},mask:{backgroundColor:"nred35xi"}};function a(a){var c=a.visibleMessageData,d=a.commonMessageData,e=a.messageBody,f=a.xma,j=a.first,k=a.last,l=a.pos,m=a.hasRepliedToMessage,n=a.showActions;a=a.dispatch;m=m!==void 0?m:!1;if(e!==void 0){var o=e;o=h.createElement(h.Fragment,void 0,h.jsx(b("MWChatTextBubble.bs").make,{text:o.text,ranges:o.ranges,isForwarded:o.isForwarded,first:j,last:!1,hasRepliedToMessage:m,pos:l,outgoing:!0,dispatch:a}),h.jsx("div",{className:(g||(g=b("stylex")))(i.spacer,i.mask)}),h.jsx("div",{children:h.jsx(b("MWXMAComponent.bs").make,{xma:f,first:j,last:k,outgoing:!0,dispatch:a}),className:g(i.mask)}))}else o=h.jsx(b("MWXMAComponent.bs").make,{xma:f,first:j,last:k,outgoing:!0,dispatch:a});return h.jsx(b("MWChatOutgoingMessageDefaultRenderer.bs").make,{messageActions:h.jsx(b("MWChatActions.bs").make,{outgoing:!0,showActions:n,messageID:d.messageID,enabledActions:b("MWXMA.bs").canForward(f)?b("bs_block").__(1,[!0,!0]):b("bs_block").__(0,[!0,!0,!1]),checkCanRemoveGlobally:function(a){if(d.canRemoveGlobally)return b("MWChatMessageUnsendability.bs").isRecent(d.timestamp);else return!1},isSaved:d.isSaved,dispatch:a,selectedReaction:c.selectedReaction}),isSaved:d.isSaved,renderAttachment:e===void 0,status:d.status,children:o,timestamp:d.timestamp,reactions:c.reactions,hasRepliedToMessage:m})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatOutgoingMessagePhotoRow.bs",["bs_block","React","stylex","MWChatImage.bs","MWChatActions.bs","MWChatTextBubble.bs","MWChatMessageUnsendability.bs","MWChatOutgoingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={imageWrap:{position:"l9j0dhe7",minWidth:"hpfvmrgz",marginTop:"km676qkl",marginEnd:"cxmmr5t8",marginBottom:"myj7ivm5",marginStart:"hcukyx3x"},row:{display:"j83agx80"},rowSpacer:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx",backgroundColor:"nred35xi"},spacer:{height:"ay7djpcl"},mask:{backgroundColor:"nred35xi"}};function a(a){var c=a.visibleMessageData,d=a.commonMessageData,e=a.content,f=a.messageBody,j=a.first;a.last;var k=a.pos,l=a.showActions,m=a.hasRepliedToMessage,n=a.dispatch;a=a.buildSharedMediaViewerURL;l=l!==void 0?l:!1;m=m!==void 0?m:!1;if(f!==void 0){var o=f;o=h.createElement(h.Fragment,void 0,h.jsxs("div",{children:[h.jsx("div",{className:(g||(g=b("stylex")))(i.rowSpacer)}),h.jsx(b("MWChatTextBubble.bs").make,{text:o.text,ranges:o.ranges,isForwarded:o.isForwarded,first:j,last:!1,hasRepliedToMessage:m,pos:k,outgoing:!0,dispatch:n})],className:g(i.row)}),h.jsx("div",{className:g(i.spacer,i.mask)}),h.jsxs("div",{children:[h.jsx("div",{className:g(i.rowSpacer)}),h.jsx("div",{children:h.jsx(b("MWChatImage.bs").make,{content:e,messageID:d.messageID,buildSharedMediaViewerURL:a}),className:g(i.imageWrap,i.mask)})],className:g(i.row)}))}else o=h.jsx("div",{children:h.jsx(b("MWChatImage.bs").make,{content:e,messageID:d.messageID,buildSharedMediaViewerURL:a}),className:(g||(g=b("stylex")))(i.imageWrap,m?!1:i.mask)});return h.jsx(b("MWChatOutgoingMessageDefaultRenderer.bs").make,{messageActions:h.jsx(b("MWChatActions.bs").make,{outgoing:!0,showActions:l,messageID:d.messageID,enabledActions:b("bs_block").__(1,[!0,!0]),checkCanRemoveGlobally:function(a){if(d.canRemoveGlobally)return b("MWChatMessageUnsendability.bs").isRecent(d.timestamp);else return!1},isSaved:d.isSaved,dispatch:n,selectedReaction:c.selectedReaction}),isSaved:d.isSaved,renderAttachment:f===void 0,status:d.status,children:o,timestamp:d.timestamp,reactions:c.reactions,hasRepliedToMessage:m})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatOutgoingMessagePhotosRow.bs",["React","stylex","MWChatActions.bs","MWChatImagesGrid.bs","MWChatTextBubble.bs","MWChatMessageUnsendability.bs","MWChatOutgoingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={spacer:{height:"ay7djpcl"},textRow:{display:"j83agx80"},textRowSpacer:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx",backgroundColor:"nred35xi"},mask:{backgroundColor:"nred35xi"}};function a(a){var c=a.content,d=a.visibleMessageData,e=a.commonMessageData,f=a.messageBody,j=a.first;a.last;var k=a.pos,l=a.showActions,m=a.hasRepliedToMessage,n=a.dispatch;a=a.buildSharedMediaViewerURL;l=l!==void 0?l:!1;m=m!==void 0?m:!1;if(f!==void 0){var o=f;o=h.createElement(h.Fragment,void 0,h.jsxs("div",{children:[h.jsx("div",{className:(g||(g=b("stylex")))(i.textRowSpacer)}),h.jsx(b("MWChatTextBubble.bs").make,{text:o.text,ranges:o.ranges,isForwarded:o.isForwarded,first:j,last:!1,hasRepliedToMessage:m,pos:k,outgoing:!0,dispatch:n})],className:g(i.textRow)}),h.jsx("div",{className:g(i.spacer,i.mask)}),h.jsx("div",{children:h.jsx(b("MWChatImagesGrid.bs").make,{content:c,buildSharedMediaViewerURL:a,messageID:e.messageID}),className:g(i.mask)}))}else o=h.jsx("div",{children:h.jsx(b("MWChatImagesGrid.bs").make,{content:c,buildSharedMediaViewerURL:a,messageID:e.messageID}),className:(g||(g=b("stylex")))(m?!1:i.mask)});return h.jsx(b("MWChatOutgoingMessageDefaultRenderer.bs").make,{messageActions:h.jsx(b("MWChatActions.bs").make,{outgoing:!0,showActions:l,messageID:e.messageID,checkCanRemoveGlobally:function(a){if(e.canRemoveGlobally)return b("MWChatMessageUnsendability.bs").isRecent(e.timestamp);else return!1},isSaved:e.isSaved,dispatch:n,selectedReaction:d.selectedReaction}),isSaved:e.isSaved,renderAttachment:f===void 0,status:e.status,children:o,timestamp:e.timestamp,reactions:d.reactions,hasRepliedToMessage:m})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatOutgoingMessageStickerRow.bs",["React","MWChatActions.bs","MWChatSticker.bs","recoverableViolation","MWChatMessageUnsendability.bs","MWChatOutgoingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.content,d=a.visibleMessageData,e=a.commonMessageData,f=a.messageBody,h=a.showActions,i=a.hasRepliedToMessage;a=a.dispatch;h=h!==void 0?h:!1;i=i!==void 0?i:!1;var j=f!==void 0;g.useEffect(function(){j&&b("recoverableViolation")("Unrendered message body","messenger_comet");return},[j]);return g.jsx(b("MWChatOutgoingMessageDefaultRenderer.bs").make,{messageActions:g.jsx(b("MWChatActions.bs").make,{outgoing:!0,showActions:h,messageID:e.messageID,checkCanRemoveGlobally:function(a){if(e.canRemoveGlobally)return b("MWChatMessageUnsendability.bs").isRecent(e.timestamp);else return!1},isSaved:e.isSaved,dispatch:a,selectedReaction:d.selectedReaction}),isSaved:e.isSaved,renderAttachment:!0,status:e.status,children:g.jsx(b("MWChatSticker.bs").make,{sticker:c}),timestamp:e.timestamp,reactions:d.reactions,hasRepliedToMessage:i})}c=a;f.make=c}),null);
__d("MWChatOutgoingMessageTextRow.bs",["React","MWChatActions.bs","MWChatTextBubble.bs","MWChatMessageUnsendability.bs","MWChatOutgoingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.visibleMessageData,d=a.commonMessageData,e=a.content,f=a.first,h=a.last,i=a.hasRepliedToMessage,j=a.showActions,k=a.showStatus,l=a.dispatch;a=a.pos;i=i!==void 0?i:!1;j=j!==void 0?j:!1;k=k!==void 0?k:!0;return g.jsx(b("MWChatOutgoingMessageDefaultRenderer.bs").make,{messageActions:g.jsx(b("MWChatActions.bs").make,{outgoing:!0,showActions:j,messageID:d.messageID,checkCanRemoveGlobally:function(a){if(d.canRemoveGlobally)return b("MWChatMessageUnsendability.bs").isRecent(d.timestamp);else return!1},isSaved:d.isSaved,dispatch:l,selectedReaction:c.selectedReaction}),isSaved:d.isSaved,renderAttachment:!1,status:k?d.status:0,children:g.jsx(b("MWChatTextBubble.bs").make,{text:e.text,ranges:e.ranges,isForwarded:e.isForwarded,first:f,last:h,hasRepliedToMessage:i,pos:a,outgoing:!0,dispatch:l}),timestamp:d.timestamp,reactions:c.reactions,hasRepliedToMessage:i})}c=a;f.make=c}),null);
__d("MWChatOutgoingMessageVideoRow.bs",["bs_block","React","stylex","MWChatVideo.bs","MWChatActions.bs","MWChatTextBubble.bs","MWChatMessageUnsendability.bs","MWChatOutgoingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={outgoingVideoMessage:{position:"l9j0dhe7",minWidth:"hpfvmrgz",marginTop:"km676qkl",marginEnd:"cxmmr5t8",marginBottom:"myj7ivm5",marginStart:"hcukyx3x"},row:{display:"j83agx80"},rowSpacer:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx",backgroundColor:"nred35xi"},spacer:{height:"ay7djpcl"},mask:{backgroundColor:"nred35xi"}};function a(a){var c=a.content,d=a.visibleMessageData,e=a.commonMessageData,f=a.messageBody,j=a.showActions,k=a.hasRepliedToMessage,l=a.pos,m=a.first,n=a.dispatch;a=a.buildSharedMediaViewerURL;j=j!==void 0?j:!1;k=k!==void 0?k:!1;if(f!==void 0){var o=f;o=h.createElement(h.Fragment,void 0,h.jsxs("div",{children:[h.jsx("div",{className:(g||(g=b("stylex")))(i.rowSpacer)}),h.jsx(b("MWChatTextBubble.bs").make,{text:o.text,ranges:o.ranges,isForwarded:o.isForwarded,first:m,last:!1,hasRepliedToMessage:k,pos:l,outgoing:!0,dispatch:n})],className:g(i.row)}),h.jsx("div",{className:g(i.spacer,i.mask)}),h.jsxs("div",{children:[h.jsx("div",{className:g(i.rowSpacer)}),h.jsx("div",{children:h.jsx(b("MWChatVideo.bs").make,{content:c,outgoing:!0,messageID:e.messageID,buildSharedMediaViewerURL:a}),className:g(i.outgoingVideoMessage,i.mask)})],className:g(i.row)}))}else o=h.jsx("div",{children:h.jsx(b("MWChatVideo.bs").make,{content:c,outgoing:!0,messageID:e.messageID,buildSharedMediaViewerURL:a}),className:(g||(g=b("stylex")))(i.outgoingVideoMessage,k?!1:i.mask)});return h.jsx(b("MWChatOutgoingMessageDefaultRenderer.bs").make,{messageActions:h.jsx(b("MWChatActions.bs").make,{outgoing:!0,showActions:j,messageID:e.messageID,enabledActions:b("bs_block").__(1,[!0,!0]),checkCanRemoveGlobally:function(a){if(e.canRemoveGlobally)return b("MWChatMessageUnsendability.bs").isRecent(e.timestamp);else return!1},isSaved:e.isSaved,dispatch:n,selectedReaction:d.selectedReaction}),isSaved:e.isSaved,renderAttachment:f===void 0,status:e.status,children:o,timestamp:e.timestamp,reactions:d.reactions,hasRepliedToMessage:k})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatOutgoingRemovedMessageTombstone.bs",["fbt","bs_block","React","stylex","MWChatActions.bs","MWChatOutgoingMessageDefaultRenderer.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"osnr6wyh",paddingStart:"h4z51re5",maxWidth:"d2edcug0",verticalAlign:"sf5mxxl7",borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderTop:"l6v480f0",borderEnd:"maa8sdkg",borderBottom:"s1tcr66n",borderStart:"aypy0576"},content:{color:"erlsw9ld",fontStyle:"fmqa7x8m",wordBreak:"qv66sw1b"}};function a(a){var c=a.removedMessageData,d=a.commonMessageData,e=a.dispatch;a=a.showActions;return i.jsx(b("MWChatOutgoingMessageDefaultRenderer.bs").make,{messageActions:i.jsx(b("MWChatActions.bs").make,{outgoing:!0,showActions:a,messageID:d.messageID,enabledActions:b("bs_block").__(0,[!1,!1,!1]),checkCanRemoveGlobally:function(a){return!1},isSaved:d.isSaved,dispatch:e}),isSaved:d.isSaved,renderAttachment:!0,status:d.status,children:i.jsx("div",{children:i.jsx("div",{children:g._("You removed a message"),className:(h||(h=b("stylex")))(j.content)}),className:h(j.root)}),timestamp:d.timestamp,removedTimestamp:c.removedTimestamp})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatOutgoingMessageRow.bs",["React","MWChatOutgoingErrorRow.bs","MWChatOutgoingMessageFileRow.bs","MWChatOutgoingMessageTextRow.bs","MWChatOutgoingMessageAudioRow.bs","MWChatOutgoingMessageEmojiRow.bs","MWChatOutgoingMessageFilesRow.bs","MWChatOutgoingMessagePhotoRow.bs","MWChatOutgoingMessageVideoRow.bs","MWChatOutgoingMessagePhotosRow.bs","MWChatOutgoingMessageStickerRow.bs","MWChatOutgoingMessageLightspeedXMARow.bs","MWChatOutgoingRemovedMessageTombstone.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.content,d=a.first,e=a.last,f=a.hasRepliedToMessage,h=a.pos,i=a.dispatch,j=a.hovered;a=a.buildSharedMediaViewerURL;f=f!==void 0?f:!1;switch(c.tag|0){case 0:var k=c[2],l=c[1],m=c[0];if(k.tag){var n=k[1],o=k[0];switch(o.tag|0){case 0:return g.jsx(b("MWChatOutgoingMessageStickerRow.bs").make,{content:o[0],visibleMessageData:l,commonMessageData:m,messageBody:n,showActions:j,hasRepliedToMessage:f,dispatch:i});case 1:return g.jsx(b("MWChatOutgoingMessagePhotoRow.bs").make,{visibleMessageData:l,commonMessageData:m,content:o[0],messageBody:n,first:d,last:e,pos:h,showActions:j,hasRepliedToMessage:f,dispatch:i,buildSharedMediaViewerURL:a});case 2:return g.jsx(b("MWChatOutgoingMessagePhotosRow.bs").make,{content:o[0],visibleMessageData:l,commonMessageData:m,messageBody:n,first:d,last:e,pos:h,showActions:j,hasRepliedToMessage:f,dispatch:i,buildSharedMediaViewerURL:a});case 3:return g.jsx(b("MWChatOutgoingMessageFileRow.bs").make,{content:o[0],visibleMessageData:l,commonMessageData:m,messageBody:n,showActions:j,dispatch:i,hasRepliedToMessage:f});case 4:return g.jsx(b("MWChatOutgoingMessageFilesRow.bs").make,{content:o[0],visibleMessageData:l,commonMessageData:m,messageBody:n,showActions:j,dispatch:i,hasRepliedToMessage:f});case 5:return g.jsx(b("MWChatOutgoingMessageAudioRow.bs").make,{content:o[0],visibleMessageData:l,commonMessageData:m,messageBody:n,first:d,last:e,pos:h,showActions:j,hasRepliedToMessage:f,dispatch:i});case 6:return g.jsx(b("MWChatOutgoingMessageVideoRow.bs").make,{content:o[0],visibleMessageData:l,commonMessageData:m,messageBody:n,showActions:j,hasRepliedToMessage:f,pos:h,first:d,dispatch:i,buildSharedMediaViewerURL:a});case 7:return g.jsx(b("MWChatOutgoingMessageLightspeedXMARow.bs").make,{visibleMessageData:l,commonMessageData:m,messageBody:n,xma:o[0],first:d,last:e,pos:h,hasRepliedToMessage:f,showActions:j,dispatch:i});case 8:return g.jsx(b("MWChatOutgoingRemovedMessageTombstone.bs").make,{removedMessageData:o[0],commonMessageData:m,dispatch:i,showActions:j})}}else{a=k[0];if(a.isEmojiOnly)return g.jsx(b("MWChatOutgoingMessageEmojiRow.bs").make,{visibleMessageData:l,commonMessageData:m,content:a,showActions:j,hasRepliedToMessage:f,dispatch:i});else return g.jsx(b("MWChatOutgoingMessageTextRow.bs").make,{visibleMessageData:l,commonMessageData:m,content:a,first:d,last:e,hasRepliedToMessage:f,showActions:j,dispatch:i,pos:h})}case 1:return g.jsx(b("MWChatOutgoingRemovedMessageTombstone.bs").make,{removedMessageData:c[1],commonMessageData:c[0],dispatch:i,showActions:j});case 2:n=c[0];return g.jsx(b("MWChatOutgoingErrorRow.bs").make,{status:n.status,timestamp:n.timestamp})}}c=a;f.make=c}),null);
__d("MWChatOutgoingMessageReplyToSticker.bs",["React","stylex","bs_belt_Option","MWChatSticker.bs","MWChatOutgoingMessageRow.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{backgroundColor:"nred35xi"},originalRow:{backgroundColor:"g5ia77u1",position:"l9j0dhe7",display:"j83agx80",alignItems:"bp9cbjyn",height:"idiwt2bm",minWidth:"hpfvmrgz"},responseRow:{position:"l9j0dhe7",marginTop:"hy1o8qpp"},stickerWrap:{position:"l9j0dhe7",minWidth:"hpfvmrgz"},originalSpacer:{width:"odw8uiq3",flexShrink:"pfnyh3mw",flexGrow:"buofh1pr",flexBasis:"mg4g778l"},originalGutter:{width:"pgctjfs5",flexShrink:"pfnyh3mw"},fade:{position:"pmk7jnqg",top:"kr520xx4",start:"j9ispegn",end:"n7fi1qx3",bottom:"i09qtzwb",backgroundColor:"nred35xi",opacity:"qwwmc0zo"}};function j(a){if(a<60)return 1;else return.5}function a(a){var c=a.pos,d=a.response,e=a.content,f=a.dispatch,k=a.hovered;a=a.buildSharedMediaViewerURL;return h.jsxs("div",{children:[h.jsxs("div",{children:[h.jsx("div",{className:(g||(g=b("stylex")))(i.originalSpacer)}),h.jsxs("div",{children:[h.jsx("div",{className:g(i.fade)}),h.jsx(b("MWChatSticker.bs").make,{sticker:e.sticker,scale:j(b("bs_belt_Option").getWithDefault(e.sticker.height,120))})],className:g(i.stickerWrap)}),h.jsx("div",{className:g(i.originalGutter)})],className:g(i.originalRow)}),h.jsx("div",{children:h.jsx(b("MWChatOutgoingMessageRow.bs").make,{content:d,first:!0,last:!0,hasRepliedToMessage:!0,pos:c,dispatch:f,hovered:k,buildSharedMediaViewerURL:a}),className:g(i.responseRow)})],className:g(i.root)})}c=a;f.styles=i;f.stickerScale=j;f.make=c}),null);
__d("MWChatIncomingMessageReplyToSticker.bs",["React","gkx","stylex","bs_belt_Option","MWChatSticker.bs","MWChatIncomingMessageRow.bs","MWChatOutgoingMessageReplyToSticker.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{backgroundColor:"nred35xi"},paddingTop:{paddingTop:"jwdofwj8"},originalRow:{position:"l9j0dhe7",display:"j83agx80",alignItems:"bp9cbjyn",height:"idiwt2bm",minWidth:"hpfvmrgz"},responseRow:{position:"l9j0dhe7",marginTop:"hy1o8qpp"},stickerWrap:{position:"l9j0dhe7",minWidth:"hpfvmrgz"},originalSpacer:{backgroundColor:"nred35xi",width:"odw8uiq3",flexShrink:"pfnyh3mw",flexGrow:"buofh1pr",flexBasis:"mg4g778l"},fade:{position:"pmk7jnqg",top:"kr520xx4",start:"j9ispegn",end:"n7fi1qx3",bottom:"i09qtzwb",backgroundColor:"nred35xi",opacity:"qwwmc0zo"}};function a(a){var c=a.response,d=a.content,e=a.dispatch,f=a.hovered;a=a.buildSharedMediaViewerURL;return h.jsxs("div",{children:[h.jsxs("div",{children:[h.jsxs("div",{children:[h.jsx("div",{className:(g||(g=b("stylex")))(i.fade)}),h.jsx(b("MWChatSticker.bs").make,{sticker:d.sticker,scale:b("MWChatOutgoingMessageReplyToSticker.bs").stickerScale(b("bs_belt_Option").getWithDefault(d.sticker.height,120))})],className:g(i.stickerWrap)}),h.jsx("div",{className:g(i.originalSpacer)})],className:g(i.originalRow)}),h.jsx("div",{children:h.jsx(b("MWChatIncomingMessageRow.bs").make,{content:c,first:!0,last:!0,hasRepliedToMessage:!0,dispatch:e,hovered:f,buildSharedMediaViewerURL:a}),className:g(i.responseRow)})],className:g(i.root,b("gkx")("1411545")?i.paddingTop:!1)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatIncomingMessageReplyToText.bs",["React","gkx","stylex","MWChatTheme.bs","MWChatColors.bs","MWChatBubbleBAF.bs","MWChatBubbleSolid.bs","MWChatTextTransform.bs","MWChatIncomingMessageRow.bs","CometTextWithEntities.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{backgroundColor:"nred35xi"},paddingTop:{paddingTop:"jwdofwj8"},originalRow:{position:"l9j0dhe7",marginBottom:"enqfppq2"},responseRow:{position:"l9j0dhe7",marginTop:"hy1o8qpp"},originalRoot:{display:"j83agx80"},originalSpacer:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",minWidth:"n5yhfkqm",flexShrink:"pfnyh3mw"},textContainer:{overflowWrap:"jm1wdb64",paddingBottom:"osnr6wyh",fontSize:"e9vueds3"}};function a(a){var c=a.pos,d=a.originalMessage,e=a.response,f=a.dispatch,j=a.replyToOther,k=a.hovered;a=a.buildSharedMediaViewerURL;var l=b("MWChatTheme.bs").useTheme(0);d=h.jsx("div",{children:h.jsx(b("CometTextWithEntities.react"),{ranges:d.ranges,text:d.text,transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]}),className:(g||(g=b("stylex")))(i.textContainer)});var m,n=0;l.tag?j?n=1:m=h.jsx(b("MWChatBubbleBAF.bs").make,{pos:c,colors:l[0].colors.map(function(a){return b("MWChatTheme.bs").lighten(void 0,a)}),content:d,first:!0,last:!1,outgoing:!1,hasRepliedToMessage:!0,xstyle:b("MWChatColors.bs").styles.replyToOriginal}):j?n=1:m=h.jsx(b("MWChatBubbleSolid.bs").make,{color:b("MWChatTheme.bs").lighten(void 0,l[0].color),content:d,first:!0,last:!1,hasRepliedToMessage:!0,outgoing:!1,xstyle:b("MWChatColors.bs").styles.replyToOriginal});n===1&&(m=h.jsx(b("MWChatBubbleSolid.bs").make,{content:d,first:!0,last:!1,hasRepliedToMessage:!0,outgoing:!1,xstyle:b("MWChatColors.bs").styles.replyToOriginal}));return h.jsxs("div",{children:[h.jsx("div",{children:h.jsxs("div",{children:[m,h.jsx("div",{className:g(i.originalSpacer)})],className:g(i.originalRoot)}),className:g(i.originalRow)}),h.jsx("div",{children:h.jsx(b("MWChatIncomingMessageRow.bs").make,{content:e,first:!0,last:!0,hasRepliedToMessage:!0,dispatch:f,hovered:k,buildSharedMediaViewerURL:a}),className:g(i.responseRow)})],className:g(i.root,b("gkx")("1411545")?i.paddingTop:!1)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatIntersperse.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return a.reduce(function(a,d,e){return a.concat(e===0?[d]:[b("bs_curry")._1(c,e),d])},[])}f.intersperse=a}),null);
__d("MWChatIncomingGroup.bs",["fbt","React","gkx","stylex","bs_belt_Option","bs_caml_option","MWChatTheme.bs","MWChatProfile.bs","CometLink.react","MWChatIntersperse.bs","MWChatSeenHeadsRow.bs","MWChatEventHandlers.bs","MWChatIncomingMessageRow.bs","MWChatMessageTableFocusTable.bs","MWChatIncomingMessageReplyToText.bs","MWChatIncomingMessageReplyToPhoto.bs","MWChatIncomingMessageReplyToSticker.bs","MWChatIncomingMessageReplyToAttachment.bs","MWChatIncomingMessageReplyToPhotoGroup.bs","MWChatIncomingMessageReplyToRemovedMessage.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{display:"j83agx80",paddingTop:"jwdofwj8",paddingBottom:"pby63qed"},rootMask:{paddingTop:"jb3vyjys",paddingBottom:"qt6c0cv9"},profile:{flexShrink:"pfnyh3mw",alignItems:"aovydwv3",display:"j83agx80"},solid:{marginStart:"h676nmdw",marginEnd:"oi9244e8",marginBottom:"arzshmzb"},noBottomMargin:{marginBottom:"oygrvhab"},mask:{backgroundColor:"nred35xi"},verticalSep:{width:"c9rrlmt1",backgroundColor:"nred35xi",flexShrink:"pfnyh3mw"},main:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",minWidth:"hpfvmrgz"},label:{paddingStart:"tw6a2znq"},sep:{height:"p3ovkuyr",backgroundColor:"nred35xi"},topSep:{height:"p3ovkuyr",backgroundColor:"nred35xi"},bottomSep:{height:"pmqtw6m8",backgroundColor:"nred35xi"},labelRoot:{display:"j83agx80"},labelLabel:{flexShrink:"pfnyh3mw",fontSize:"r9r71o1u",color:"m9osqain",lineHeight:"fsrhnwul",maxWidth:"dkr8dfph"},profileSpacer:{paddingBottom:"a5h7je3r"}};function k(a){a=a[0].status;if(typeof a==="number")return null;else{a=a[0];var c=a.length;if(c!==1&&c!==0)return i.jsx(b("MWChatSeenHeadsRow.bs").make,{messageSeenBy:a});else return null}}function l(a,c,d,e,f,g){return i.jsx(b("MWChatEventHandlers.bs").make,{handler:function(h){var j;if(typeof a==="number")j=i.jsx(b("MWChatIncomingMessageReplyToRemovedMessage.bs").make,{pos:e,response:c,dispatch:f,replyToOther:d,hovered:h.hovered,buildSharedMediaViewerURL:g});else switch(a.tag|0){case 0:j=i.jsx(b("MWChatIncomingMessageReplyToText.bs").make,{pos:e,originalMessage:a[0],response:c,dispatch:f,replyToOther:d,hovered:h.hovered,buildSharedMediaViewerURL:g});break;case 1:j=i.jsx(b("MWChatIncomingMessageReplyToSticker.bs").make,{response:c,content:a[0],dispatch:f,hovered:h.hovered,buildSharedMediaViewerURL:g});break;case 2:j=i.jsx(b("MWChatIncomingMessageReplyToPhoto.bs").make,{response:c,content:a[0],dispatch:f,hovered:h.hovered,buildSharedMediaViewerURL:g});break;case 3:j=i.jsx(b("MWChatIncomingMessageReplyToPhotoGroup.bs").make,{response:c,content:a[0],dispatch:f,hovered:h.hovered,buildSharedMediaViewerURL:g});break;case 4:j=i.jsx(b("MWChatIncomingMessageReplyToAttachment.bs").make,{pos:e,response:c,dispatch:f,replyToOther:d,hovered:h.hovered,buildSharedMediaViewerURL:g});break}return i.jsx("div",{children:i.jsx(b("MWChatMessageTableFocusTable.bs").Table_.Row.make,{children:j}),role:"row"})}})}function m(a){switch(a.tag|0){case 0:return a[1].reactions;case 1:case 2:return}}function a(a){var c=a.pos,d=a.image,e=a.title,f=a.profileHref,n=a.authorName,o=a.messages,p=a.dispatch,q=a.buildSharedMediaViewerURL;a=b("MWChatTheme.bs").useTheme(0);var r=o.length-1|0,s={contents:void 0},t={contents:!1};o=o.map(function(a,d){var e=d===0,f=d===r;switch(a.tag|0){case 0:var g=a[0],h=k(g);f&&(s.contents=b("bs_caml_option").some(h),t.contents=m(g)!==void 0);return i.createElement(i.Fragment,{key:String(d)},i.jsx(b("MWChatEventHandlers.bs").make,{handler:function(a){return i.jsx("div",{children:i.jsx(b("MWChatMessageTableFocusTable.bs").Table_.Row.make,{children:i.jsx(b("MWChatIncomingMessageRow.bs").make,{content:g,first:e,last:f,dispatch:p,hovered:a.hovered,buildSharedMediaViewerURL:q})}),role:"row"})}}),f?null:h);case 1:h=a[1];var j=k(h);f&&(s.contents=b("bs_caml_option").some(j),t.contents=m(h)!==void 0);return i.createElement(i.Fragment,{key:String(d)},l(a[0],h,!0,c,p,q),f?null:j);case 2:h=a[1];j=k(h);f&&(s.contents=b("bs_caml_option").some(j),t.contents=m(h)!==void 0);return i.createElement(i.Fragment,{key:String(d)},l(a[0],h,!1,c,p,q),f?null:j)}});if(f!==void 0){n=n!==void 0?g._("{user}'s profile",[g._param("user",n)]):g._("Participant's Profile");var u={size:28,isActiveNow:!1};d!==void 0&&(u.src=b("bs_caml_option").valFromOption(d));f=i.jsx(b("CometLink.react"),{href:f,label:n,children:i.jsx(b("MWChatProfile.bs").make,u)})}else{n={size:28,isActiveNow:!1};d!==void 0&&(n.src=b("bs_caml_option").valFromOption(d));f=i.jsx(b("MWChatProfile.bs").make,n)}u=a.tag?b("MWChatIntersperse.bs").intersperse(o,function(a){return i.jsx("div",{className:(h||(h=b("stylex")))(j.sep)},"sep_"+String(a))}):o;d={children:i.createElement(i.Fragment,void 0,b("MWChatTheme.bs").isGradient(a)?i.jsx("div",{className:(h||(h=b("stylex")))(j.verticalSep)}):null,i.jsx("div",{children:f,className:(h||(h=b("stylex")))(j.profile,b("MWChatTheme.bs").isGradient(a)?j.mask:j.solid,!b("MWChatTheme.bs").isGradient(a)&&b("gkx")("1411545")?j.noBottomMargin:!1,t.contents?j.profileSpacer:!1)}),b("MWChatTheme.bs").isGradient(a)?i.jsx("div",{className:(h||(h=b("stylex")))(j.verticalSep)}):null,i.jsxs("div",{children:[e!==void 0?i.jsx("div",{children:i.jsx("div",{children:i.jsx("div",{children:b("bs_caml_option").valFromOption(e),className:(h||(h=b("stylex")))(j.labelLabel)}),className:(h||(h=b("stylex")))(j.labelRoot)}),className:(h||(h=b("stylex")))(j.label,b("MWChatTheme.bs").isGradient(a)?j.mask:!1)}):null,u],className:h(j.main)})),className:h(j.root,b("MWChatTheme.bs").isGradient(a)?j.rootMask:!1)};return i.createElement(i.Fragment,void 0,b("MWChatTheme.bs").isGradient(a)?i.jsx("div",{className:(h||(h=b("stylex")))(j.topSep)}):null,(d["data-testid"]="incoming_group",i.jsx("div",d)),b("bs_belt_Option").getWithDefault(s.contents,null),b("MWChatTheme.bs").isGradient(a)?i.jsx("div",{className:(h||(h=b("stylex")))(j.bottomSep)}):null)}c=a;f.styles=j;f.getSeenHeadRow=k;f.renderReplyTo=l;f.getReaction=m;f.make=c}),null);
__d("MWChatOutgoingMessageReplyToDefault.bs",["React","stylex","MWChatOutgoingMessageRow.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{backgroundColor:"nred35xi"},originalRow:{backgroundColor:"g5ia77u1",position:"l9j0dhe7",marginBottom:"enqfppq2"},responseRow:{position:"l9j0dhe7",marginTop:"hy1o8qpp"},originalRoot:{display:"j83agx80"},originalSpacer:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",minWidth:"n5yhfkqm",flexShrink:"pfnyh3mw"},originalGutter:{width:"pgctjfs5",flexShrink:"pfnyh3mw"}};function a(a){var c=a.pos,d=a.response,e=a.dispatch,f=a.children,j=a.hovered;a=a.buildSharedMediaViewerURL;return h.jsxs("div",{children:[h.jsx("div",{children:h.jsxs("div",{children:[h.jsx("div",{className:(g||(g=b("stylex")))(i.originalSpacer)}),f,h.jsx("div",{className:g(i.originalGutter)})],className:g(i.originalRoot)}),className:g(i.originalRow)}),h.jsx("div",{children:h.jsx(b("MWChatOutgoingMessageRow.bs").make,{content:d,first:!0,last:!0,hasRepliedToMessage:!0,pos:c,dispatch:e,hovered:j,buildSharedMediaViewerURL:a}),className:g(i.responseRow)})],className:g(i.root)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatOutgoingMessageReplyToAttachment.bs",["React","MWChatAttachmentReplyBubble.bs","MWChatOutgoingMessageReplyToDefault.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.pos,d=a.response,e=a.dispatch,f=a.replyToOther,h=a.hovered;a=a.buildSharedMediaViewerURL;return g.jsx(b("MWChatOutgoingMessageReplyToDefault.bs").make,{pos:c,response:d,dispatch:e,children:g.jsx(b("MWChatAttachmentReplyBubble.bs").make,{pos:c,replyToOther:f,outgoing:!0}),hovered:h,buildSharedMediaViewerURL:a})}c=a;f.make=c}),null);
__d("MWChatOutgoingMessageReplyToPhoto.bs",["React","stylex","MWChatOutgoingMessageRow.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{backgroundColor:"nred35xi"},originalRow:{backgroundColor:"g5ia77u1",position:"l9j0dhe7",display:"j83agx80",alignItems:"bp9cbjyn",height:"idiwt2bm",minWidth:"hpfvmrgz"},responseRow:{position:"l9j0dhe7",marginTop:"sxpk6l6v"},imageWrap:{position:"l9j0dhe7",minWidth:"hpfvmrgz"},originalSpacer:{width:"odw8uiq3",flexShrink:"pfnyh3mw",flexGrow:"buofh1pr",flexBasis:"mg4g778l"},originalGutter:{width:"pgctjfs5",flexShrink:"pfnyh3mw"},originalImage:{maxWidth:"d2edcug0",maxHeight:"iko8p5ub",verticalAlign:"sf5mxxl7",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomStartRadius:"qmr60zad",borderBottomEndRadius:"jinzq4gt",boxShadow:"hu0ub5uo",borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8"}};function a(a){var c=a.pos,d=a.response,e=a.content,f=a.dispatch,j=a.hovered;a=a.buildSharedMediaViewerURL;return h.jsxs("div",{children:[h.jsxs("div",{children:[h.jsx("div",{className:(g||(g=b("stylex")))(i.originalSpacer)}),h.jsx("div",{children:h.jsx("img",{className:g(i.originalImage),src:e.previewUrl}),className:g(i.imageWrap)}),h.jsx("div",{className:g(i.originalGutter)})],className:g(i.originalRow)}),h.jsx("div",{children:h.jsx(b("MWChatOutgoingMessageRow.bs").make,{content:d,first:!0,last:!0,hasRepliedToMessage:!0,pos:c,dispatch:f,hovered:j,buildSharedMediaViewerURL:a}),className:g(i.responseRow)})],className:g(i.root)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatOutgoingMessageReplyToPhotoGroup.bs",["React","stylex","CometPhotoGrid.react","CometImageCover.react","MWChatOutgoingMessageRow.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{backgroundColor:"nred35xi"},originalRow:{backgroundColor:"g5ia77u1",position:"l9j0dhe7",display:"j83agx80"},responseRow:{position:"l9j0dhe7",marginTop:"hy1o8qpp"},imagesWrap:{width:"nf4m65g7"},originalSpacer:{flexShrink:"pfnyh3mw",flexGrow:"buofh1pr",flexBasis:"ir1wk9f7"},originalGutter:{width:"pgctjfs5",flexShrink:"pfnyh3mw"},image:{width:"k4urcfbm",height:"datstx6m",objectFit:"bixrwtb6"}};function a(a){var c=a.pos,d=a.response,e=a.content,f=a.dispatch,j=a.hovered;a=a.buildSharedMediaViewerURL;e=e.attachments.map(function(a,c){return h.jsx(b("CometImageCover.react"),{src:a,style:i.image},String(c))});return h.jsxs("div",{children:[h.jsxs("div",{children:[h.jsx("div",{className:(g||(g=b("stylex")))(i.originalSpacer)}),h.jsx("div",{children:h.jsx(b("CometPhotoGrid.react"),{children:e}),className:g(i.imagesWrap)}),h.jsx("div",{className:g(i.originalGutter)})],className:g(i.originalRow)}),h.jsx("div",{children:h.jsx(b("MWChatOutgoingMessageRow.bs").make,{content:d,first:!0,last:!0,hasRepliedToMessage:!0,pos:c,dispatch:f,hovered:j,buildSharedMediaViewerURL:a}),className:g(i.responseRow)})],className:g(i.root)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatOutgoingMessageReplyToRemovedMessage.bs",["fbt","React","stylex","MWChatReplyBubble.bs","MWChatOutgoingMessageReplyToDefault.bs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={message:{fontStyle:"fmqa7x8m",fontSize:"e9vueds3",paddingBottom:"osnr6wyh"}};function a(a){var c=a.pos,d=a.response,e=a.dispatch,f=a.replyToOther,k=a.hovered;a=a.buildSharedMediaViewerURL;var l=i.jsx("div",{children:g._("Message removed"),className:(h||(h=b("stylex")))(j.message)});return i.jsx(b("MWChatOutgoingMessageReplyToDefault.bs").make,{pos:c,response:d,dispatch:e,children:i.jsx(b("MWChatReplyBubble.bs").make,{pos:c,replyToOther:f,outgoing:!0,content:l}),hovered:k,buildSharedMediaViewerURL:a})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatOutgoingMessageReplyToText.bs",["React","stylex","MWChatTheme.bs","MWChatColors.bs","MWChatBubbleBAF.bs","MWChatBubbleSolid.bs","MWChatTextTransform.bs","MWChatOutgoingMessageRow.bs","CometTextWithEntities.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={mask:{backgroundColor:"nred35xi"},originalRow:{position:"l9j0dhe7",marginBottom:"enqfppq2"},responseRow:{position:"l9j0dhe7",marginTop:"hy1o8qpp"},originalRoot:{display:"j83agx80"},originalSpacer:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",minWidth:"n5yhfkqm",flexShrink:"pfnyh3mw"},originalGutter:{width:"pgctjfs5",flexShrink:"pfnyh3mw"},textContainer:{overflowWrap:"jm1wdb64",paddingBottom:"osnr6wyh",fontSize:"e9vueds3"}};function a(a){var c=a.pos,d=a.originalMessage,e=a.response,f=a.dispatch,j=a.replyToOther,k=a.hovered;a=a.buildSharedMediaViewerURL;var l=b("MWChatTheme.bs").useTheme(0);d=h.jsx("div",{children:h.jsx(b("CometTextWithEntities.react"),{ranges:d.ranges,text:d.text,transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]}),className:(g||(g=b("stylex")))(i.textContainer)});var m,n=0;l.tag?j?n=1:m=h.jsx(b("MWChatBubbleBAF.bs").make,{pos:c,colors:l[0].colors.map(function(a){return b("MWChatTheme.bs").lighten(void 0,a)}),content:d,first:!0,last:!1,outgoing:!0,xstyle:b("MWChatColors.bs").styles.replyToOriginal}):j?n=1:m=h.jsx(b("MWChatBubbleSolid.bs").make,{color:b("MWChatTheme.bs").lighten(void 0,l[0].color),content:d,first:!0,last:!1,outgoing:!0,xstyle:b("MWChatColors.bs").styles.replyToOriginal});n===1&&(m=h.jsx(b("MWChatBubbleSolid.bs").make,{content:d,first:!0,last:!1,outgoing:!0,xstyle:b("MWChatColors.bs").styles.replyToOriginal}));return h.jsxs("div",{children:[h.jsx("div",{children:h.jsxs("div",{children:[h.jsx("div",{className:g(i.originalSpacer)}),m,h.jsx("div",{className:g(i.originalGutter)})],className:g(i.originalRoot)}),className:g(i.originalRow)}),h.jsx("div",{children:h.jsx(b("MWChatOutgoingMessageRow.bs").make,{content:e,first:!0,last:!0,hasRepliedToMessage:!0,pos:c,dispatch:f,hovered:k,buildSharedMediaViewerURL:a}),className:g(i.responseRow)})],className:g(b("MWChatTheme.bs").isGradient(l)?i.mask:!1)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatOutgoingGroup.bs",["React","stylex","bs_caml_option","MWChatTheme.bs","MWChatIntersperse.bs","MWChatEventHandlers.bs","MWChatOutgoingMessageRow.bs","MWChatMessageTableFocusTable.bs","MWChatOutgoingMessageReplyToText.bs","MWChatOutgoingMessageReplyToPhoto.bs","MWChatOutgoingMessageReplyToSticker.bs","MWChatOutgoingMessageReplyToAttachment.bs","MWChatOutgoingMessageReplyToPhotoGroup.bs","MWChatOutgoingMessageReplyToRemovedMessage.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{backgroundColor:"g5ia77u1",paddingTop:"jwdofwj8",paddingBottom:"pby63qed"},rootMask:{paddingTop:"jb3vyjys",paddingBottom:"qt6c0cv9"},labelRoot:{display:"j83agx80"},mask:{backgroundColor:"nred35xi"},labelSpacer:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr"},labelLabel:{flexShrink:"pfnyh3mw",fontSize:"r9r71o1u",color:"m9osqain",lineHeight:"fsrhnwul",maxWidth:"dkr8dfph"},labelMargin:{flexShrink:"pfnyh3mw",width:"la0tivve"},sep:{height:"p3ovkuyr",backgroundColor:"nred35xi"},topSep:{height:"p3ovkuyr",backgroundColor:"nred35xi"},bottomSep:{height:"pmqtw6m8",backgroundColor:"nred35xi"}};function j(a,c,d,e,f,g,i){return h.jsx(b("MWChatEventHandlers.bs").make,{handler:function(g){var j;if(typeof a==="number")j=h.jsx(b("MWChatOutgoingMessageReplyToRemovedMessage.bs").make,{pos:e,response:c,dispatch:f,replyToOther:d,hovered:g.hovered,buildSharedMediaViewerURL:i});else switch(a.tag|0){case 0:j=h.jsx(b("MWChatOutgoingMessageReplyToText.bs").make,{pos:e,originalMessage:a[0],response:c,dispatch:f,replyToOther:d,hovered:g.hovered,buildSharedMediaViewerURL:i});break;case 1:j=h.jsx(b("MWChatOutgoingMessageReplyToSticker.bs").make,{pos:e,response:c,content:a[0],dispatch:f,hovered:g.hovered,buildSharedMediaViewerURL:i});break;case 2:j=h.jsx(b("MWChatOutgoingMessageReplyToPhoto.bs").make,{pos:e,response:c,content:a[0],dispatch:f,hovered:g.hovered,buildSharedMediaViewerURL:i});break;case 3:j=h.jsx(b("MWChatOutgoingMessageReplyToPhotoGroup.bs").make,{pos:e,response:c,content:a[0],dispatch:f,hovered:g.hovered,buildSharedMediaViewerURL:i});break;case 4:j=h.jsx(b("MWChatOutgoingMessageReplyToAttachment.bs").make,{pos:e,response:c,dispatch:f,replyToOther:d,hovered:g.hovered,buildSharedMediaViewerURL:i});break}return h.jsx("div",{children:h.jsx(b("MWChatMessageTableFocusTable.bs").Table_.Row.make,{children:j}),role:"row"})}},g)}function a(a){var c=a.pos,d=a.messages,e=a.title,f=a.dispatch,k=a.buildSharedMediaViewerURL;a=b("MWChatTheme.bs").useTheme(0);var l=d.length-1|0;d=d.map(function(a,d){var e=d===0,g=d===l;switch(a.tag|0){case 0:var i=a[0];return h.jsx(b("MWChatEventHandlers.bs").make,{handler:function(a){a={children:h.jsx(b("MWChatMessageTableFocusTable.bs").Table_.Row.make,{children:h.jsx(b("MWChatOutgoingMessageRow.bs").make,{content:i,first:e,last:g,pos:c,dispatch:f,hovered:a.hovered,buildSharedMediaViewerURL:k})}),role:"row"};a["data-testid"]="mwchat_outgoing_row";return h.jsx("div",a)}},String(d));case 1:return j(a[0],a[1],!0,c,f,String(d),k);case 2:return j(a[0],a[1],!1,c,f,String(d),k)}});d=a.tag?b("MWChatIntersperse.bs").intersperse(d,function(a){return h.jsx("div",{className:(g||(g=b("stylex")))(i.sep)},"sep_"+String(a))}):d;e={children:h.createElement(h.Fragment,void 0,e!==void 0?h.jsxs("div",{children:[h.jsx("div",{className:(g||(g=b("stylex")))(i.labelSpacer)}),h.jsx("div",{children:b("bs_caml_option").valFromOption(e),className:(g||(g=b("stylex")))(i.labelLabel)}),h.jsx("div",{className:(g||(g=b("stylex")))(i.labelMargin)})],className:(g||(g=b("stylex")))(i.labelRoot,b("MWChatTheme.bs").isGradient(a)?i.mask:!1)}):null,h.createElement(h.Fragment,void 0,d)),className:(g||(g=b("stylex")))(i.root,b("MWChatTheme.bs").isGradient(a)?i.rootMask:!1)};return h.createElement(h.Fragment,void 0,b("MWChatTheme.bs").isGradient(a)?h.jsx("div",{className:(g||(g=b("stylex")))(i.topSep)}):null,(e["data-testid"]="outgoing_group",h.jsx("div",e)),b("MWChatTheme.bs").isGradient(a)?h.jsx("div",{className:(g||(g=b("stylex")))(i.bottomSep)}):null)}c=a;f.styles=i;f.renderReplyTo=j;f.make=c}),null);
__d("MWChatTabContentStyles.bs",["stylex"],(function(a,b,c,d,e,f){"use strict";a={main:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",position:"l9j0dhe7",zIndex:"du4w35lb"},dropTarget:{display:"j83agx80",flexDirection:"cbu4d94t"},gradient:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",display:"j83agx80",position:"l9j0dhe7",flexDirection:"cbu4d94t",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},threadContainer:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",position:"l9j0dhe7",display:"j83agx80",flexDirection:"cbu4d94t"},thread:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},threadAnimation:{transitionProperty:"flx89l3n",transitionDuration:"l9l1gxur"},threadActionTrayClosed:{transform:"agkhgkm8"},threadActionTrayOpen:{transform:"brhp5kr4"},whitespace:{position:"pmk7jnqg",top:"fp9gknaq",height:"lbh82i0l",width:"k4urcfbm",backgroundColor:"nred35xi"},actionTrayPlaceholder:{height:"qu8okrzs"},contextOverlay:{position:"pmk7jnqg",top:"kr520xx4",backgroundColor:"nred35xi",width:"k4urcfbm"},composer:{flexShrink:"pfnyh3mw"}};f.styles=a}),null);
__d("MWChatThreadContext.bs",["bs_curry","React","gkx","stylex","bs_caml_option","MWChatTheme.bs","MWChatContextBanner.bs","useVisibilityObserver","CometHeroHoldTrigger.react","MWChatBusinessPageGreeting.bs","CometProgressRingIndeterminate.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={context:{flexShrink:"pfnyh3mw"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",height:"rgmg9uty",flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",flexShrink:"pfnyh3mw",paddingTop:"pybr56ya",paddingBottom:"f10w8fjw"},spinnerPlaceholder:{height:"rgmg9uty",width:"k4urcfbm",backgroundColor:"nred35xi"},mask:{backgroundColor:"nred35xi"}};function j(a){a=h.useState(function(){return!1});var c=a[1];a=a[0];var d=b("useVisibilityObserver")({onHidden:function(a){return b("bs_curry")._1(c,function(a){return!1})},onVisible:function(a){return b("bs_curry")._1(c,function(a){return!0})}});return h.createElement(h.Fragment,void 0,h.jsx(b("CometHeroHoldTrigger.react"),{description:"MWChatSpinner",hold:a}),h.jsx("div",{children:b("gkx")("1348836")?a?h.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}):h.jsx("div",{className:(g||(g=b("stylex")))(i.spinnerPlaceholder)}):h.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}),ref:d,className:(g||(g=b("stylex")))(i.spinner,i.mask)}))}c={make:j};function a(a){var c=a.id,d=a.contextBannerData,e=a.welcomePageData;a=a.isOverlay;a=a!==void 0?a:!1;var f=b("MWChatTheme.bs").useTheme(0);f=b("MWChatTheme.bs").isGradient(f);if(d!==void 0){d=d;if(typeof d==="number")if(d!==0||a)return null;else return h.jsx(j,{});else{var k=d[2];if(typeof c!=="number"&&c[0]===892012143)if(e!==void 0){c=b("bs_caml_option").valFromOption(e);return h.jsx(b("MWChatBusinessPageGreeting.bs").make,{contextItems:k,pageResponsiveness:c.should_show_responsive?c.page_responsiveness:void 0,pagesGreeting:c.pages_greeting_should_show?c.pages_greeting_content:void 0})}else return null;return h.jsx("div",{children:h.jsx(b("MWChatContextBanner.bs").make,{image:d[0],context:d[1],items:k}),className:(g||(g=b("stylex")))(i.context,f?i.mask:!1)})}}else if(a)return null;else return h.jsx(j,{})}d=a;f.styles=i;f.Spinner=c;f.make=d}),null);
__d("MWChatThreadAnimationWrapper.bs",["bs_curry","React","UserAgent","stylex","bs_caml_option","MWChatTheme.bs","useResizeObserver","MWChatThreadContext.bs","MWChatTabContentStyles.bs","MWChatComposerMediaDropTarget.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function a(a){var c=a.composer,d=a.threadView,e=a.animationEnabled,f=a.ensureScrolledToBottom,i=a.mediaDropDisabled,j=a.id,k=a.contextBannerData;a=a.welcomePageData;var l=b("MWChatTheme.bs").useTheme(0),m=b("MWChatTheme.bs").isGradient(l),n=h.useState(function(){return-1}),o=n[1],p=n[0];n=b("useResizeObserver")(function(a){return b("bs_curry")._1(o,function(b){return a.height})});var q=h.useReducer(function(a,b){if(e)switch(b){case 0:return{actionTrayOpen:!0,actionTrayFullyOpen:!1,shouldAnimateThread:!0,triggerCloseTrayStart:!1,shouldRenderContextOverlay:p>44};case 1:return{actionTrayOpen:!0,actionTrayFullyOpen:!0,shouldAnimateThread:!1,triggerCloseTrayStart:!1,shouldRenderContextOverlay:!1};case 2:return{actionTrayOpen:!0,actionTrayFullyOpen:!1,shouldAnimateThread:!1,triggerCloseTrayStart:!0,shouldRenderContextOverlay:p>0};case 3:return{actionTrayOpen:!1,actionTrayFullyOpen:!1,shouldAnimateThread:!0,triggerCloseTrayStart:!1,shouldRenderContextOverlay:p>0};case 4:return{actionTrayOpen:!1,actionTrayFullyOpen:!1,shouldAnimateThread:!1,triggerCloseTrayStart:!1,shouldRenderContextOverlay:!1}}else return a},{actionTrayOpen:!1,actionTrayFullyOpen:!1,shouldAnimateThread:!1,triggerCloseTrayStart:!1,shouldRenderContextOverlay:!1}),r=q[1],s=q[0];h.useEffect(function(){s.triggerCloseTrayStart&&b("bs_curry")._1(r,3);return},[s,r]);q=function(a){if(s.actionTrayFullyOpen)return b("bs_curry")._1(r,2);else if(s.actionTrayOpen)return b("bs_curry")._1(r,3);else return 0};var t=function(a){if(s.actionTrayOpen)return 0;else return b("bs_curry")._1(r,0)},u=h.useRef(null);l=l.tag?{backgroundImage:b("MWChatTheme.bs").gradient(void 0,void 0,l[0].colors)}:void 0;d={children:[h.jsxs("div",{children:[h.jsx("div",{children:b("bs_curry")._1(d,n),className:(g||(g=b("stylex")))(b("MWChatTabContentStyles.bs").styles.thread),onLoadedData:function(a){return b("bs_curry")._1(f,0)},onLoad:function(a){return b("bs_curry")._1(f,0)},onTransitionEnd:function(a){a.stopPropagation();return 0}}),e&&!b("UserAgent").isBrowser("Firefox")&&m?h.jsx("div",{className:(g||(g=b("stylex")))(b("MWChatTabContentStyles.bs").styles.whitespace)}):null],className:g(b("MWChatTabContentStyles.bs").styles.threadContainer,s.shouldAnimateThread?b("MWChatTabContentStyles.bs").styles.threadAnimation:!1,s.actionTrayFullyOpen?!1:s.actionTrayOpen?b("MWChatTabContentStyles.bs").styles.threadActionTrayOpen:b("MWChatTabContentStyles.bs").styles.threadActionTrayClosed),onTransitionEnd:function(a){if(s.actionTrayOpen)return b("bs_curry")._1(r,1);else return b("bs_curry")._1(r,4)}}),h.jsx("div",{className:g(s.actionTrayFullyOpen?b("MWChatTabContentStyles.bs").styles.actionTrayPlaceholder:!1)}),s.shouldRenderContextOverlay?h.jsx("div",{children:h.jsx(b("MWChatThreadContext.bs").make,{id:j,contextBannerData:k,welcomePageData:a,isOverlay:!0}),className:(g||(g=b("stylex")))(b("MWChatTabContentStyles.bs").styles.contextOverlay)}):null],className:g(b("MWChatTabContentStyles.bs").styles.gradient)};l!==void 0&&(d.style=b("bs_caml_option").valFromOption(l));return h.jsx("div",{children:h.jsxs(b("MWChatComposerMediaDropTarget.bs").make,{children:[h.jsxs("div",d),h.jsx("div",{children:b("bs_curry")._4(c,t,q,u,s.actionTrayOpen),className:g(b("MWChatTabContentStyles.bs").styles.composer)})],disabled:i,fileUploadHandler:b("bs_caml_option").nullable_to_opt(u.current),xstyle:b("MWChatTabContentStyles.bs").styles.dropTarget}),className:g(b("MWChatTabContentStyles.bs").styles.main)})}c=b("MWChatTabContentStyles.bs").styles;d=a;f.styles=c;f.make=d}),null);
__d("MWChatConversationScroller.bs",["bs_block","bs_curry","React","gkx","bs_caml_obj","UserAgent","stylex","bs_caml_option","CometThrottle","isEventSupported","BaseScrollableAreaContext","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function i(a,b){a=a!==void 0?a:20;if(b==null)return!1;else return b.scrollTop+b.clientHeight>=b.scrollHeight-a}function j(a,b){a=a!==void 0?a:20;if(b==null)return!1;else return b.scrollTop<=a}var k={root:{height:"datstx6m",display:"j83agx80",overflowY:"eg9m0zos",overflowX:"ni8dbmo4",flexDirection:"cbu4d94t",overscrollBehavior:"gok29vw1"}};function a(a,c){var d=a.children,e=a.boundingClientRectRef,f=a.isScrolledToBottomRef,l=a.dispatch;a=c;var m=h.useRef(l),n=h.useRef(null);c=h.useCallback(function(a){n.current=a;if(e!==void 0){e.current=a==null?void 0:b("bs_caml_option").some(a.getBoundingClientRect());return 0}else return 0},[e]);h.useEffect(function(){m.current=l;return});var o=function(a,b){b=n.current;if(b==null)return 0;else{b.scrollTop=a;return 0}},p=function(a,b){b=a!==void 0?a:!1;a=n.current;if(a==null)return 0;else return o(a.scrollHeight,b)},q=function(a,b){var c=n.current;if(c==null)return 0;else return o(c.scrollHeight-(a+c.clientHeight),b)},r=function(a){a=f.current;var c=n.current;c=c==null?void 0:c.scrollHeight-(c.scrollTop+c.clientHeight);var d=i(void 0,n.current),e=j(void 0,n.current);f.current=d||c===void 0?0:e?b("bs_block").__(0,[c]):b("bs_block").__(1,[c]);d=f.current;if(typeof a==="number")e=1;else if(typeof d==="number")return m.current(1);else if(d.tag)return 0;else e=1;if(e===1){if(typeof a!=="number"&&!a.tag)return 0;if(typeof d==="number"||d.tag)return 0;else return m.current(2)}},s=b("UserAgent").isBrowser("Safari"),t=function(a){if(s){var b=a.deltaY>0,c=a.deltaY<0;(b&&i(0,n.current)||c&&j(0,n.current))&&a.preventDefault()}return r(0)},u=function(a){var c=b("isEventSupported")("mousewheel")?"mousewheel":b("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",d=function(b,c){a.addEventListener(b,c,{passive:!0});return function(d){return a.removeEventListener(b,c,{passive:!0})}},e=function(b){return a.addEventListener(c,t,{passive:!s})},f=function(b){return a.removeEventListener(c,t,{passive:!s})},g=d("mouseenter",e),h=d("mouseleave",f);e=b("CometThrottle")(r,50,{trailing:!0});var i=b("gkx")("1283332")?d("scroll",e):function(a){return 0},j=d("mouseup",r),k=d("mousedown",r);return function(a){f(0);(a=b("bs_curry"))._1(i,0);a._1(g,0);a._1(h,0);a._1(k,0);return a._1(j,0)}};h.useEffect(function(){var a=n.current;if(a==null)return;else{var c=u(a);return function(a){return b("bs_curry")._1(c,0)}}},[]);h.useLayoutEffect(function(){var a=n.current;a==null||a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20&&m.current(0);return});b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=f.current;typeof a==="number"?p(void 0,0):q(a[0],!1);return});var v=h.useContext(b("BaseScrollableAreaContext")),w=h.useMemo(function(){return{getDOMNode:function(a){return n.current}}},[]),x=h.useMemo(function(){return v.concat([w])},[w,v]);h.useImperativeHandle(a,function(){return{scrollToBottom:function(a){f.current=0;return p(void 0,0)},scrollToElement:function(a,c){var d=n.current;if(d==null)return 0;else{a.scrollIntoView();a=a.getBoundingClientRect();var e=d.getBoundingClientRect();a=a.top;e=e.top;if(b("bs_caml_obj").caml_lessequal(a,e)){d.scrollBy(0,-c|0);return r(0)}else return 0}}}},[]);return h.createElement(b("BaseScrollableAreaContext").Provider,{children:h.jsx("div",{children:d,ref:c,className:(g||(g=b("stylex")))(k.root)}),value:x})}c=h.forwardRef(a);d=20;f.scrollTolerance=d;f.isScrolledToBottom=i;f.isScrolledToTop=j;f.styles=k;f.make=c}),null);
__d("MWChatMessageList.bs",["React","stylex","bs_caml_option","MWChatTheme.bs","MWChatAdminItem.bs","MWChatDateBreak.bs","MWChatIntersperse.bs","MWChatIncomingGroup.bs","MWChatOutgoingGroup.bs","FocusWithinHandler.react","MWChatMessageTableFocusTable.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={sep:{height:"mw227v9j",backgroundColor:"nred35xi"}},j={focusNotVisible:{outline:"lzcic4wl"}};function k(a){var c=a.children;return h.jsx(b("MWChatMessageTableFocusTable.bs").Table_.Row.make,{children:h.jsx("div",{children:h.jsx(b("MWChatMessageTableFocusTable.bs").Table_.Cell.make,{colSpan:2,children:h.jsx(b("FocusWithinHandler.react"),{children:function(a,d){return h.createElement("div",{role:"gridcell",tabIndex:0,"data-scope":b("MWChatMessageTableFocusTable.bs").scopeID,className:(g||(g=b("stylex")))(d?!1:j.focusNotVisible)},c)}})}),role:"row"})})}c={styles:j,make:k};function a(a){var c=a.pos,d=a.items,e=a.managePageMessagesLink,f=a.dispatch,j=a.buildSharedMediaViewerURL;a=b("MWChatTheme.bs").useTheme(0);d=d.map(function(a,d){var g;if(typeof a==="number")g=null;else switch(a.tag|0){case 0:g=h.jsx(k,{children:h.jsx(b("MWChatDateBreak.bs").make,{timestamp:a[0]})});break;case 1:g=h.jsx(k,{children:h.jsx(b("MWChatAdminItem.bs").make,{content:a[0],managePageMessagesLink:e,dispatch:f})});break;case 2:g=h.jsx(b("MWChatIncomingGroup.bs").make,{pos:c,image:a[2],title:a[1],profileHref:a[3],authorName:a[4],messages:a[0],dispatch:f,buildSharedMediaViewerURL:j});break;case 3:var i={pos:c,messages:a[0],dispatch:f,buildSharedMediaViewerURL:j};a=a[1];a!==void 0&&(i.title=b("bs_caml_option").valFromOption(a));g=h.jsx(b("MWChatOutgoingGroup.bs").make,i);break}return h.createElement(h.Fragment,{key:String(d)},g)});if(a.tag)return b("MWChatIntersperse.bs").intersperse(d,function(a){return h.jsx("div",{className:(g||(g=b("stylex")))(i.sep)},"sep_"+String(a))});else return d}d=a;f.styles=i;f.TabbableRow=c;f.make=d}),null);
__d("MWChatThreadPos.bs",["bs_curry","React","throttle","bs_caml_option","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h={top:0,bottom:100};function a(a){var c=g.useRef(void 0);a=g.useState(function(){return h});var d=a[1],e=function(a){a=c.current;if(a!==void 0){var e=b("bs_caml_option").valFromOption(a),f=window.innerHeight;return b("bs_curry")._1(d,function(a){return{top:e.top/f*100,bottom:e.bottom/f*100}})}else return 0},f=b("throttle")(e,200);g.useEffect(function(){window.addEventListener("resize",f);return function(a){window.removeEventListener("resize",f);return 0}},[]);b("useLayoutEffect_SAFE_FOR_SSR")(function(){e(0);return},[]);return[a[0],c]}c=200;f.resize_THROTTLE_TIME=c;f.init=h;f.useThreadPosition=a}),null);
__d("MWChatTypingIndicator.bs",["React","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");c="rqt66bd7-B";var i={root:{alignItems:"bp9cbjyn",display:"j83agx80",height:"kmzbrmfl"},dot:{animationName:"d75kxgp9",animationDuration:"kv069q7b",animationIterationCount:"ee40wjg4",animationTimingFunction:"rr7aif1o",borderTopStartRadius:"s8bnoagg",borderTopEndRadius:"bn9qtmzc",borderBottomEndRadius:"hp05c5td",borderBottomStartRadius:"b6jg2yqc",display:"q9uorilb",height:"mw227v9j",marginEnd:"kady6ibp",width:"loos5mxf",backgroundColor:"aph9nnby"},dot1:{animationDelay:"tv4077gy"},dot2:{animationDelay:"oeefd0zo"},dot3:{animationDelay:"dg03pwpq"}};function a(a){return h.jsxs("div",{children:[h.jsx("div",{className:(g||(g=b("stylex")))(i.dot,i.dot1)}),h.jsx("div",{className:g(i.dot,i.dot2)}),h.jsx("div",{className:g(i.dot,i.dot3)})],className:g(i.root)})}d=a;f.dotAnimation=c;f.styles=i;f.make=d}),null);
__d("MWChatTypingIndicators.bs",["React","stylex","bs_caml_option","MWChatTheme.bs","MWChatProfile.bs","MWChatBubbleSolid.bs","MWChatTypingIndicator.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{display:"j83agx80",paddingTop:"jwdofwj8",flexShrink:"pfnyh3mw",paddingBottom:"e5nlhep0"},rootMask:{paddingTop:"jb3vyjys",paddingBottom:"qt6c0cv9"},profile:{flexShrink:"pfnyh3mw",alignItems:"aovydwv3",display:"j83agx80"},solid:{marginStart:"h676nmdw",marginEnd:"oi9244e8",marginBottom:"arzshmzb"},mask:{backgroundColor:"nred35xi"},verticalSep:{width:"c9rrlmt1",backgroundColor:"nred35xi",flexShrink:"pfnyh3mw"},flexibleSep:{backgroundColor:"nred35xi",flexGrow:"buofh1pr"},topSep:{height:"am38r5jf",flexShrink:"pfnyh3mw",backgroundColor:"nred35xi"},bottomSep:{height:"mw227v9j",flexShrink:"pfnyh3mw",backgroundColor:"nred35xi"},bubbleContainer:{backgroundColor:"nred35xi"}};function a(a){a=a.typingParticipants;var c=b("MWChatTheme.bs").useTheme(0),d=b("MWChatTheme.bs").isGradient(c)?h.jsx("div",{className:(g||(g=b("stylex")))(i.topSep)}):null,e=b("MWChatTheme.bs").isGradient(c)?h.jsx("div",{className:(g||(g=b("stylex")))(i.bottomSep)}):null,f=b("MWChatTheme.bs").isGradient(c)?h.jsx("div",{className:(g||(g=b("stylex")))(i.verticalSep)}):null,j=b("MWChatTheme.bs").isGradient(c)?h.jsx("div",{className:(g||(g=b("stylex")))(i.flexibleSep)}):null;return a.map(function(a){var k={size:28,alt:a.name};a.profileImage!==void 0&&(k.src=b("bs_caml_option").valFromOption(a.profileImage));return h.jsxs(h.Fragment,{children:[d,h.jsxs("div",{children:[f,h.jsx("div",{children:h.jsx(b("MWChatProfile.bs").make,k),className:(g||(g=b("stylex")))(i.profile,b("MWChatTheme.bs").isGradient(c)?i.mask:i.solid)}),f,h.jsx("div",{children:h.jsx(b("MWChatBubbleSolid.bs").make,{content:h.jsx(b("MWChatTypingIndicator.bs").make,{}),first:!0,last:!0,outgoing:!1}),className:g(i.bubbleContainer)}),j],className:g(i.root,b("MWChatTheme.bs").isGradient(c)?i.rootMask:!1)}),e]},a.participantId)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatPollXMAActionHandler.bs",["React","JSResource","MWCurrentThread.bs","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWCurrentThread.bs").useCurrentThread(0);a=b("useCometLazyDialog")(b("JSResource")("MWChatPollDetailsDialog").__setRef("MWChatPollXMAActionHandler.bs"));var d=a[0];return g.useCallback(function(a){return function(b){return d({pollId:a,threadId:c,title:b},function(a){return 0})}},[d])}f.useHandler=a}),null);
__d("MWInboxContactListItem.bs",["bs_curry","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{backgroundColor:"b0kwm4yp",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginLeft:"cct8bvvd",marginRight:"pab8tfeg",borderTopStartRadius:"lit7pgxp",borderTopEndRadius:"o3c63hce",borderBottomEndRadius:"hqlzco19",borderBottomStartRadius:"lsl2245n",cursor:"nhd2j8a9",display:"j83agx80",overflowX:"ni8dbmo4",overflowY:"stjgntxs",alignItems:"bp9cbjyn",":hover":{backgroundColor:"lmxyrn9a"}},profile:{flexShrink:"pfnyh3mw",width:"f8ljpb73",height:"lbh82i0l",marginRight:"e598n5j2",verticalAlign:"sf5mxxl7",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},text:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},topline:{color:"pgkpb12u",overflowX:"ni8dbmo4",overflowY:"stjgntxs",textOverflow:"ltmttdrg",whiteWpace:"shni7thc",fontSize:"jq4qci2q",lineHeight:"g9io39s2",marginBottom:"dicw6rsg",fontFamily:"hjp7fe1o"},bottomline:{color:"c5ipbfu4",overflowX:"ni8dbmo4",overflowY:"stjgntxs",textOverflow:"ltmttdrg",whiteWpace:"shni7thc",fontSize:"e9vueds3",lineHeight:"suyiigvi"}};function a(a){var c=a.name,d=a.image,e=a.dispatch;return h.jsxs("div",{children:[h.jsx("img",{className:(g||(g=b("stylex")))(i.profile),src:d}),h.jsxs("div",{children:[h.jsx("div",{children:c,"aria-label":"new-thread-contact-name",className:g(i.topline)}),h.jsx("div",{children:"you know them somehow",className:g(i.bottomline)})],className:g(i.text)})],className:g(i.root),onClick:function(a){return b("bs_curry")._1(e,774008548)}})}c=a;f.styles=i;f.make=c}),null);
__d("MWInboxContactList.bs",["bs_array","bs_curry","bs_int64","React","MWLSLoadContacts.bs","MWInboxContactListItem.bs","MWInboxOpenThreadWithUser.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWInboxOpenThreadWithUser.bs").useHook(0);a=b("MWLSLoadContacts.bs").useContacts(0);return g.jsx("div",{children:b("bs_array").map(function(a){return g.jsx(g.Fragment,{children:g.jsx(b("MWInboxContactListItem.bs").make,{name:a.h,image:a.b,dispatch:function(d){return b("bs_curry")._1(c,a.a)}})},b("bs_int64").to_string(a.a))},a)})}c=a;f.make=c}),null);
__d("MWInboxDetailBar.bs",["bs_curry","React","stylex","bs_belt_Option","MWCurrentThread.bs","MWInboxToggleInfo.bs","MWInboxThreadPicture.bs","LSMessagingThreadTypeUtil.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",display:"j83agx80",alignItems:"bp9cbjyn",paddingStart:"dati1w0a",paddingEnd:"hv4rvrfc",paddingTop:"jktsbyx5",paddingBottom:"osnr6wyh"},profile:{verticalAlign:"sf5mxxl7",marginEnd:"tvfksri0",flexShrink:"pfnyh3mw"},text:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",overflowX:"ni8dbmo4",overflowY:"stjgntxs",display:"j83agx80",flexDirection:"cbu4d94t"},topline:{fontSize:"a5q79mjw",lineHeight:"lsqvapsv",fontWeight:"n3ffmt46",whiteSpace:"g0qnabr5",textOverflow:"ltmttdrg",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},bottomline:{fontSize:"e9vueds3",lineHeight:"j8p27hm0",color:"smt4xkiv",whiteSpace:"g0qnabr5",textOverflow:"ltmttdrg",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},actions:{display:"j83agx80",flexShrink:"pfnyh3mw"},action:{width:"b73ngqbp",height:"rgmg9uty",marginStart:"ozuftl9m",cursor:"nhd2j8a9"},icon:{verticalAlign:"sf5mxxl7"}};function a(a){var c=a.threadPicture,d=a.name,e=a.startCall,f=b("MWInboxToggleInfo.bs").useHook(0);a=b("MWCurrentThread.bs").useCurrentThreadExn(0);a=b("LSMessagingThreadTypeUtil.bs").isSecure(b("LSMessagingThreadTypeUtil.bs").ofThreadId(a));return h.jsxs("div",{children:[c!==void 0?h.jsx("div",{children:h.jsx(b("MWInboxThreadPicture.bs").make,{threadPicture:c,secure:a,size:40}),className:(g||(g=b("stylex")))(i.profile)}):h.jsxs("svg",{children:[h.jsx("circle",{cx:"20",cy:"20",fill:"#0084ff",r:"20"}),h.jsx("circle",{cx:"32",cy:"32",fill:"#5ad539",r:"6",stroke:"white",strokeWidth:"2"})],className:(g||(g=b("stylex")))(i.profile),height:"40px",width:"40px",viewBox:"0 0 40 40"}),h.jsxs("div",{children:[h.jsx("div",{children:b("bs_belt_Option").getWithDefault(d,"Facebook User"),className:(g||(g=b("stylex")))(i.topline)}),h.jsx("div",{children:"Active Now",className:g(i.bottomline)})],className:g(i.text)}),h.jsxs("div",{children:[h.jsx("div",{children:h.jsx("svg",{children:h.jsx("path",{d:"M8.8,11.6c0.1,0,0.1,0.1,0.2,0.1c0.4,0.2,0.8,0.1,1-0.3c0.1-0.2,0.2-0.4,0.3-0.6c0.2-0.2,0.5-0.6,0.8-0.7 C11.5,10,11.8,10,12,10c0.4,0,0.9,0.4,1.6,0.8c0.7,0.4,1.2,0.8,1.5,1c0.2,0.2,0.3,0.4,0.3,0.6c0,0.4,0,1.2-0.7,1.9 c-1,1.1-2.5,1.6-4.3,1c-1.8-0.6-4.1-1.7-6-3.7s-3.1-4.2-3.7-6s-0.2-3.3,1-4.3c0.7-0.6,1.4-0.7,1.9-0.7c0.2,0,0.5,0.1,0.6,0.3 c0.2,0.3,0.6,0.8,1,1.5C5.7,3.1,6,3.6,6,4c0,0.3,0,0.6-0.1,0.8C5.8,5.1,5.5,5.4,5.2,5.6C5,5.8,4.8,5.9,4.7,6C4.3,6.1,4.1,6.6,4.3,7 c0,0.1,0.1,0.1,0.1,0.2C5.5,9,7,10.5,8.8,11.6z",fill:"#0084ff",stroke:"#0084ff"}),className:g(i.icon),height:"24px",name:"icon",width:"24px",viewBox:"0 0 16 16"}),className:g(i.action),onClick:function(a){return b("bs_curry")._1(e,!1)}}),h.jsx("div",{children:h.jsxs("svg",{children:[h.jsx("path",{d:"M9.5,13.5h-7c-1.1,0-2-0.9-2-2v-7c0-1.1,0.9-2,2-2h7c1.1,0,2,0.9,2,2v7C11.5,12.6,10.6,13.5,9.5,13.5z",fill:"#0084ff",stroke:"#0084ff"},"body"),h.jsx("line",{stroke:"#0084ff",x1:"13.5",x2:"13.5",y1:"5",y2:"11"},"focus-ring"),h.jsx("path",{d:"M15,3.6l-3.5,3V8v1.4l3.5,3c0.2,0.2,0.5,0,0.5-0.3V8V3.9C15.5,3.6,15.2,3.4,15,3.6z",fill:"#0084ff",stroke:"#0084ff"},"lens")],className:g(i.icon),height:"24px",name:"icon",width:"24px",viewBox:"0 0 16 16"}),className:g(i.action),onClick:function(a){return b("bs_curry")._1(e,!0)}}),h.jsx("div",{children:h.jsx("svg",{children:h.jsx("g",{children:h.jsx("path",{d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z",fill:"#0084ff",stroke:"#0084ff"},"lens"),transform:"translate(18,18)scale(1.2)translate(-18,-18)"}),className:g(i.icon),height:"24px",name:"icon",width:"24px",viewBox:"0 0 36 36"}),className:g(i.action),onClick:function(a){return b("bs_curry")._1(f,0)}})],className:g(i.actions)})],className:g(i.root)})}c=a;f.styles=i;f.make=c}),null);
__d("MWInboxDetailNullState.bs",["React","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{display:"j83agx80","align-items":"k8ee5uiq"},content:{"text-align":"oqcyycmt","max-width":"p5gy4wmy"}};function a(a){return h.jsx("div",{children:h.jsx("div",{children:"Select a thread or start a new conversation",className:(g||(g=b("stylex")))(i.content)}),className:g(i.root)})}c=a;f.styles=i;f.make=c}),null);
__d("MWInboxInfoItem.bs",["React","stylex","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{"padding-top":"l60d2q6s","padding-bottom":"pd6db7fv","padding-left":"ih1jzu8y","padding-right":"dcnwmltn",display:"j83agx80",overflowX:"ni8dbmo4",overflowY:"stjgntxs","flex-direction":"btwxx1t3","align-items":"bp9cbjyn","border-radius":"lk2abc23",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr","margin-left":"cct8bvvd","margin-right":"pab8tfeg",cursor:"nhd2j8a9",":hover":{background:"ic459fjx"}},name:{"font-size":"jq4qci2q","line-height":"g9io39s2","flex-grow":"buofh1pr","white-space":"g0qnabr5",overflowX:"ni8dbmo4",overflowY:"stjgntxs","text-overflow":"ltmttdrg"},icon:{width:"bsnbvmp4",height:"k7cz35w2",background:"afenypqa","border-radius":"fnhzkyyu","flex-shrink":"pfnyh3mw"}};function a(a){var c=a.name;a=a.onClick;c={children:[h.jsx("div",{children:c,className:(g||(g=b("stylex")))(i.name)}),h.jsx("div",{className:g(i.icon)})],className:g(i.root)};a!==void 0&&(c.onClick=b("bs_caml_option").valFromOption(a));return h.jsxs("div",c)}c=a;f.styles=i;f.make=c}),null);
__d("MWInboxInfoPhotos.bs",["React","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=[1,2,2,3,4,5,5,6,6,7,78,8],j={root:{display:"j83agx80","flex-wrap":"lhclo0ds","margin-left":"qaxp8vne","margin-right":"hk5nqwnv","margin-top":"hop8lmos","margin-bottom":"scwd0bx6"},photo:{width:"e998eu06",height:"pe468gzs","margin-bottom":"dicw6rsg","margin-top":"rs0gx3tq"},inner:{marginTop:"rs0gx3tq",marginEnd:"kady6ibp",marginBottom:"dicw6rsg",marginStart:"dwxx2s2f",background:"yanm3f93",height:"datstx6m"}};function a(a){return h.jsx("div",{children:i.map(function(a,c){return h.jsx("div",{children:h.jsx("div",{className:(g||(g=b("stylex")))(j.inner)},String(c)),className:g(j.photo)},String(c))}),className:(g||(g=b("stylex")))(j.root)})}c=a;f.photos=i;f.styles=j;f.make=c}),null);
__d("MWInboxInfo.bs",["bs_curry","React","stylex","MWInboxInfoItem.bs","MWInboxInfoPhotos.bs","MWInboxInfoSection.bs","MWInboxSelectedThread.bs","MWInboxOpenSecretThreadWithUser.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{display:"j83agx80","flex-direction":"cbu4d94t","overflow-y":"eg9m0zos","overflow-x":"ni8dbmo4",height:"datstx6m",position:"l9j0dhe7"},profile:{"padding-top":"discj3wi","padding-bottom":"ihqw7lf3",display:"j83agx80","flex-direction":"cbu4d94t","align-items":"bp9cbjyn","flex-shrink":"pfnyh3mw"},image:{background:"lvba5paq",width:"gjzvkazv",height:"qzj7cv8z","border-radius":"fnhzkyyu","margin-bottom":"n851cfcs"},name:{"font-size":"o3w64lxj","line-height":"b9hevbmm",color:"mqnjmd5x","margin-bottom":"arzshmzb"},status:{"font-size":"e9vueds3","line-height":"suyiigvi",color:"c5ipbfu4"}};function a(a){var c=b("MWInboxSelectedThread.bs").useHook(0),d=b("MWInboxOpenSecretThreadWithUser.bs").useHook(0);return h.jsxs("div",{children:[h.jsxs("div",{children:[h.jsx("div",{className:(g||(g=b("stylex")))(i.image)}),h.jsx("div",{children:"User",className:g(i.name)}),h.jsx("div",{children:"Active Now",className:g(i.status)})],className:g(i.profile)}),h.jsx(b("MWInboxInfoSection.bs").make,{name:"Actions",children:h.createElement(h.Fragment,void 0,h.jsx(b("MWInboxInfoItem.bs").make,{name:"Open secret conversation",onClick:function(a){if(c!==void 0)return b("bs_curry")._1(d,c[0]);else return 0}}),h.jsx(b("MWInboxInfoItem.bs").make,{name:"Search in Conversation"}),h.jsx(b("MWInboxInfoItem.bs").make,{name:"Color"}),h.jsx(b("MWInboxInfoItem.bs").make,{name:"Emoji"}))}),h.jsx(b("MWInboxInfoSection.bs").make,{name:"Privacy & Support",children:h.createElement(h.Fragment,void 0,h.jsx(b("MWInboxInfoItem.bs").make,{name:"Notifications"}),h.jsx(b("MWInboxInfoItem.bs").make,{name:"Ignore Messages"}),h.jsx(b("MWInboxInfoItem.bs").make,{name:"Block"}),h.jsx(b("MWInboxInfoItem.bs").make,{name:"Emoji"}))}),h.jsx(b("MWInboxInfoSection.bs").make,{name:"Shared Photos",children:h.jsx(b("MWInboxInfoPhotos.bs").make,{})})],className:g(i.root)})}c=a;f.styles=i;f.make=c}),null);
__d("MWInboxLeftRailHeader.bs",["bs_curry","React","JSResource","stylex","MWChatProfile.bs","useCometLazyDialog","MWInboxCreateThread.bs","MWLSLoadCurrentUserProfilePicture.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{paddingStart:"dati1w0a",paddingEnd:"hv4rvrfc",paddingTop:"jktsbyx5",paddingBottom:"osnr6wyh",display:"j83agx80",alignItems:"bp9cbjyn"},profile:{flexShrink:"pfnyh3mw",marginEnd:"tvfksri0"},title:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",fontSize:"o0t2es00",fontWeight:"lrazzd5p",fontFamily:"hjp7fe1o"},actions:{flexShrink:"pfnyh3mw",display:"j83agx80",alignItems:"bp9cbjyn"},action:{backgroundColor:"q2a5enmb",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",marginStart:"ozuftl9m",width:"q676j6op",height:"qypqp5cg",display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",cursor:"nhd2j8a9"},svg:{verticalAlign:"sf5mxxl7"}};function a(a){a=b("MWLSLoadCurrentUserProfilePicture.bs").useCurrentUserProfilePicture(0);var c=b("useCometLazyDialog")(b("JSResource")("MWInboxSettingsDialog.react").__setRef("MWInboxLeftRailHeader.bs")),d=c[0],e=b("MWInboxCreateThread.bs").useHook(0);return h.jsxs("div",{children:[a!==void 0?h.jsx("div",{children:h.jsx(b("MWChatProfile.bs").make,{size:40,src:a,isActiveNow:!1}),className:(g||(g=b("stylex")))(i.profile)}):h.jsx("svg",{children:h.jsx("circle",{cx:"20",cy:"20",fill:"#0084ff",r:"20"}),className:(g||(g=b("stylex")))(i.profile),height:"40px",width:"40px",viewBox:"0 0 40 40"}),h.jsx("h1",{children:"Chats","aria-level":1,className:(g||(g=b("stylex")))(i.title),role:"heading"}),h.jsxs("div",{children:[h.jsx("div",{children:h.jsx("svg",{children:h.jsx("path",{d:"M18,11.00025 C14.1345,11.00025 11.0005,14.13425 11.0005,18.00025 C11.0005,21.86575 14.1345,24.99975 18,24.99975 C21.8655,24.99975 24.9995,21.86575 24.9995,18.00025 C24.9995,14.13425 21.8655,11.00025 18,11.00025 Z M31,17.42725 L31,18.57325 C31,19.14125 30.679,19.66025 30.171,19.91475 L28.638,20.68075 C28.2975,20.85125 28.0215,21.13725 27.8915,21.49475 C27.7675,21.83575 27.624,22.16775 27.4665,22.49175 C27.3,22.83375 27.286,23.23025 27.406,23.59175 L27.96,25.25225 C28.1395,25.79125 27.999,26.38575 27.5975,26.78725 L26.787,27.59775 C26.3855,27.99925 25.791,28.13975 25.2525,27.95975 L23.595,27.40725 C23.234,27.28725 22.837,27.30125 22.495,27.46775 C22.1705,27.62575 21.837,27.76975 21.4945,27.89425 C21.1355,28.02475 20.849,28.30125 20.6785,28.64275 L19.9145,30.17075 C19.6605,30.67875 19.141,31.00025 18.573,31.00025 L17.427,31.00025 C16.859,31.00025 16.3395,30.67875 16.0855,30.17075 L15.3215,28.64275 C15.151,28.30125 14.864,28.02475 14.5055,27.89425 C14.1625,27.76975 13.83,27.62575 13.505,27.46775 C13.163,27.30125 12.766,27.28725 12.405,27.40725 L10.7475,27.95975 C10.2085,28.13975 9.6145,27.99925 9.213,27.59775 L8.4025,26.78725 C8.0005,26.38575 7.8605,25.79125 8.04,25.25225 L8.594,23.59175 C8.714,23.23025 8.7,22.83375 8.5335,22.49175 C8.376,22.16775 8.2325,21.83575 8.1085,21.49475 C7.9785,21.13725 7.7025,20.85125 7.362,20.68075 L5.829,19.91475 C5.321,19.66025 5,19.14125 5,18.57325 L5,17.42725 C5,16.85875 5.321,16.33925 5.829,16.08525 L7.362,15.31925 C7.7025,15.14875 7.9785,14.86275 8.1085,14.50525 C8.2325,14.16425 8.376,13.83225 8.5335,13.50825 C8.7,13.16625 8.714,12.76975 8.594,12.40825 L8.04,10.74775 C7.8605,10.20875 8.0005,9.61475 8.4025,9.21275 L9.213,8.40275 C9.6145,8.00075 10.2085,7.86025 10.7475,8.04025 L12.405,8.59275 C12.766,8.71275 13.163,8.69875 13.505,8.53225 C13.83,8.37425 14.1625,8.23025 14.5055,8.10575 C14.864,7.97525 15.151,7.69875 15.3215,7.35725 L16.0855,5.82925 C16.3395,5.32125 16.859,5.00025 17.427,5.00025 L18.573,5.00025 C19.141,5.00025 19.6605,5.32125 19.9145,5.82925 L20.6785,7.35725 C20.849,7.69875 21.1355,7.97525 21.4945,8.10575 C21.837,8.23025 22.1705,8.37425 22.495,8.53225 C22.837,8.69875 23.234,8.71275 23.595,8.59275 L25.2525,8.04025 C25.791,7.86025 26.3855,8.00075 26.787,8.40275 L27.5975,9.21275 C27.999,9.61475 28.1395,10.20875 27.96,10.74775 L27.406,12.40825 C27.286,12.76975 27.3,13.16625 27.4665,13.50825 C27.624,13.83225 27.7675,14.16425 27.8915,14.50525 C28.0215,14.86275 28.2975,15.14875 28.638,15.31925 L30.171,16.08525 C30.679,16.33925 31,16.85875 31,17.42725 Z"}),className:g(i.svg),height:"28px",width:"28px",viewBox:"0 0 36 36"}),"aria-label":"skytale-settings-button",className:g(i.action),onClick:function(a){return d(0,function(a){return 0})}}),h.jsx("div",{children:h.jsx("svg",{children:h.jsx("path",{d:"M15.047,20.26245 L15.9815,17.45445 C16.091,17.12495 16.276,16.82495 16.5215,16.57945 L27.486,5.60195 C28.29,4.79695 29.595,4.79695 30.399,5.60195 C31.2025,6.40645 31.202,7.70895 30.399,8.51345 L19.432,19.49345 C19.186,19.73945 18.886,19.92495 18.556,20.03495 L15.7555,20.96995 C15.318,21.11645 14.901,20.69995 15.047,20.26245 Z M24.005,28.00095 L12.001,28.00095 C9.791,28.00095 8,26.20945 8,23.99995 L8,11.99895 C8,9.78945 9.791,7.99845 12.001,7.99845 L19.0035,7.99745 C19.5555,7.99745 20.0035,8.44545 20.0035,8.99745 C20.0035,9.54995 19.5555,9.99795 19.0035,9.99795 L12.001,9.99845 C10.8965,9.99845 10.0005,10.89395 10.0005,11.99895 L10.0005,23.99995 C10.0005,25.10445 10.8965,26.00045 12.001,26.00045 L24.005,26.00045 C25.1095,26.00045 26.005,25.10445 26.005,23.99995 C26.005,23.99995 26.0045,17.55145 26.0045,16.99895 C26.0045,16.44645 26.4525,15.99845 27.005,15.99845 C27.557,15.99845 28.005,16.44645 28.005,16.99895 C28.005,17.55145 28.0055,23.99995 28.0055,23.99995 C28.0055,26.20945 26.2145,28.00095 24.005,28.00095 Z"}),className:g(i.svg),height:"28px",width:"28px",viewBox:"0 0 36 36"}),"aria-label":"skytale-new-thread-button",className:g(i.action),onClick:function(a){return b("bs_curry")._1(e,0)}})],className:g(i.actions)})],className:g(i.root)})}c=a;f.styles=i;f.make=c}),null);
__d("MWInboxLeftRailSearch.bs",["bs_curry","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{background:"tdheqiok","margin-left":"sult9vgh","margin-right":"p3wok8gb","margin-top":"aahdfvyu","margin-bottom":"bi6gxh9e"},input:{width:"k4urcfbm","box-sizing":"rq0escxv",appearance:"dwo3fsh8",borderTop:"gvyehdmr",borderEnd:"mu0vl6fp",borderBottom:"msuhji6j",borderStart:"iqy7zqfr","padding-top":"cxgpxx05","padding-bottom":"sj5x9vvc","padding-left":"g8hf0nzw","padding-right":"l6okmz22","font-size":"jq4qci2q","line-height":"g9io39s2","border-radius":"rqsj5bl9",background:"afenypqa",color:"pgkpb12u","font-family":"hjp7fe1o",":focus":{outline:"iqfcb0g7"}}};function a(a){var c=a.text,d=a.dispatch;return h.jsx("div",{children:h.jsx("input",{"aria-label":"Search Messenger",className:(g||(g=b("stylex")))(i.input),title:"Search Messenger",placeholder:"Search Messenger",value:c,onFocus:function(a){return b("bs_curry")._1(d,0)},onBlur:function(a){return b("bs_curry")._1(d,1)},onChange:function(a){a=a.target;return b("bs_curry")._1(d,[a.value])}}),className:g(i.root)})}c=a;f.styles=i;f.make=c}),null);
__d("DummyKeyCommandListener.react",["CometKeyCommandUtilsContext","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useCallback;function a(a){var c=h(function(a){return{getActiveCommands:function(){return null},remove:b("emptyFunction")}},[]),d=h(function(a){},[]),e=h(function(a){},[]);c={addObserver:c,notifyCommandUpdate:b("emptyFunction"),setActiveLayer:d,setActiveWrapper:e};return g.jsx(b("CometKeyCommandUtilsContext").Provider,{value:c,children:a.children})}e.exports=a}),null);
__d("VideoPlayerDebugInstreamAdsAPIImpl",["createVideoPlayerDebugAPI"],(function(a,b,c,d,e,f){"use strict";e.exports=b("createVideoPlayerDebugAPI")(function(a){var b=a.organicVideoFreezeTokenRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["organicVideoFreezeTokenRef"]);return babelHelpers["extends"]({},a,{organicVideoIsFrozen:b.current!=null})},null)}),null);