if (self.CavalryLogger) { CavalryLogger.start_js(["zZpJ9"]); }

__d("MessengerAvatarActions.react",["cx","fbt","CurrentUser","MessengerContactActions.bs","MessengerMenu.react","MessengerPopoverMenu.react","prop-types","React","RTWebUserActionLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerContactActions.bs").actions,j=b("MessengerMenu.react").Item,k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return k.jsx(b("MessengerPopoverMenu.react"),{className:"_7934",menu:this.$1(),onShow:this.$2,children:this.props.avatar})};d.$1=function(){var a=this,c=this.props.contact,d=b("CurrentUser").isWorkUser()?h._("Call"):h._("Free Call");return k.jsxs(b("MessengerMenu.react"),{children:[this.props.showSendMessageItem&&k.jsx(j,{label:h._("Send Message"),onclick:function(b){a.props.onAction(i.MESSAGE,c,b)}}),k.jsx(j,{label:h._("View Profile"),onclick:function(b){a.props.onAction(i.PROFILE,c,b)}}),k.jsx(j,{label:d,onclick:function(b){a.props.onAction(i.FREE_CALL,c,b)}})]})};d.$2=function(){b("RTWebUserActionLogger").logPreCallImpression({surface:"messenger_bubble",component:"free_call"})};return c}(k.PureComponent);a.propTypes={avatar:(c=b("prop-types")).object.isRequired,contact:c.object,showSendMessageItem:c.bool,onAction:c.func.isRequired};e.exports=a}),null);
__d("PhotoLogger",["Banzai","BanzaiScuba","Event","SubscriptionsHandler"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=a,this.$2={}}var c=a.prototype;c.log=function(a,c,d,e){b("Banzai").post("profile_photos_view",{photo_fbid:c,source:d,profile_id:e}),this.$2[a]||(this.$3(a),this.$2[a]=!0)};c.$3=function(a){this.$4("loading",{uri:a});var c=new(b("SubscriptionsHandler"))(),d=new Image();c.addSubscriptions(b("Event").listen(d,"load",function(){this.$4("loaded",{uri:a}),c.release()}.bind(this)),b("Event").listen(d,"error",function(){this.$4("error",{uri:a}),c.release()}.bind(this)),b("Event").listen(d,"abort",function(){this.$4("abort",{uri:a}),c.release()}.bind(this)));d.src=a};c.logEvent=function(a){this.$4(a)};c.$4=function(a,c){var d=new(b("BanzaiScuba"))("photos_client_loading",null,{addBrowserFields:!0});d.addNormal("event",a);d.addNormal("viewer",this.$1);for(var e in c)d.addNormal(e,c[e]);d.post()};return a}();e.exports=a}),null);
__d("SaveMessageUtils",["MessengerDotComSaveModule","QE2Logger","immutable"],(function(a,b,c,d,e,f){var g=b("immutable").Set.of("fallback","share","event","attached_story","music_aggregation","avatar"),h=b("immutable").Set.of("group_sell_product_item");a={isSavableMessageAttachment:function(a){var c=!0;for(var d=0;d<a.length;d++){if(a[d]=="group_sell_product_item")if(b("MessengerDotComSaveModule").can_save_for_sale_item_attachment!=null){b("QE2Logger").logExposureForUser("marketplace_www_messenger_save");return b("MessengerDotComSaveModule").can_save_for_sale_item_attachment}else return!1;if(h.has(a[d]))return!0;g.has(a[d])||(c=!1)}return c}};e.exports=a}),null);