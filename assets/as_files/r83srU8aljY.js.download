if (self.CavalryLogger) { CavalryLogger.start_js(["WIiSq"]); }

/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("core-js-2.6.9",[],(function(a,b,c,d,e,f){"use strict";a={};var g={exports:a};function h(){var b=g.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=b)}var i=!1,j=function(){i||(i=!0,h());return g.exports};b={};var k={exports:b};function l(){var a={}.hasOwnProperty;k.exports=function(b,c){return a.call(b,c)}}var m=!1,n=function(){m||(m=!0,l());return k.exports};c={};var o={exports:c};function p(){o.exports=function(a){try{return!!a()}catch(a){return!0}}}var q=!1,r=function(){q||(q=!0,p());return o.exports};d={};var s={exports:d};function t(){s.exports=!r()(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})}var u=!1,v=function(){u||(u=!0,t());return s.exports};f={};var w={exports:f};function x(){var a=w.exports={version:"2.6.9"};typeof __e=="number"&&(__e=a)}var y=!1,z=function(){y||(y=!0,x());return w.exports};a={};var A={exports:a};function B(){A.exports=function(a){return typeof a==="object"?a!==null:typeof a==="function"}}var C=!1,D=function(){C||(C=!0,B());return A.exports};b={};var E={exports:b};function F(){var a=D();E.exports=function(b){if(!a(b))throw TypeError(b+" is not an object!");return b}}var G=!1,H=function(){G||(G=!0,F());return E.exports};c={};var I={exports:c};function J(){var a=D(),b=j().document,c=a(b)&&a(b.createElement);I.exports=function(a){return c?b.createElement(a):{}}}var K=!1,L=function(){K||(K=!0,J());return I.exports};d={};var M={exports:d};function N(){M.exports=!v()&&!r()(function(){return Object.defineProperty(L()("div"),"a",{get:function(){return 7}}).a!=7})}var O=!1,P=function(){O||(O=!0,N());return M.exports};f={};var aa={exports:f};function ba(){var a=D();aa.exports=function(b,c){if(!a(b))return b;var d,e;if(c&&typeof (d=b.toString)=="function"&&!a(e=d.call(b)))return e;if(typeof (d=b.valueOf)=="function"&&!a(e=d.call(b)))return e;if(!c&&typeof (d=b.toString)=="function"&&!a(e=d.call(b)))return e;throw TypeError("Can't convert object to primitive value")}}var Q=!1,ca=function(){Q||(Q=!0,ba());return aa.exports},da={},R={exports:da};function S(){var a=H(),b=P(),c=ca(),d=Object.defineProperty;da.f=v()?Object.defineProperty:function(e,f,g){a(e);f=c(f,!0);a(g);if(b)try{return d(e,f,g)}catch(a){}if("get"in g||"set"in g)throw TypeError("Accessors not supported!");"value"in g&&(e[f]=g.value);return e}}var T=!1,U=function(){T||(T=!0,S());return R.exports};a={};var ea={exports:a};function fa(){ea.exports=function(a,b){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:b}}}var ga=!1,ha=function(){ga||(ga=!0,fa());return ea.exports};b={};var ia={exports:b};function ja(){var a=U(),b=ha();ia.exports=v()?function(c,d,e){return a.f(c,d,b(1,e))}:function(a,b,c){a[b]=c;return a}}var ka=!1,la=function(){ka||(ka=!0,ja());return ia.exports};c={};var ma={exports:c};function na(){var a=0,b=Math.random();ma.exports=function(c){return"Symbol(".concat(c===void 0?"":c,")_",(++a+b).toString(36))}}var oa=!1,pa=function(){oa||(oa=!0,na());return ma.exports};d={};var qa={exports:d};function ra(){qa.exports=!1}var sa=!1,ta=function(){sa||(sa=!0,ra());return qa.exports};f={};var ua={exports:f};function va(){var c=z(),b=j(),d="__core-js_shared__",e=b[d]||(b[d]={});(ua.exports=function(a,b){return e[a]||(e[a]=b!==void 0?b:{})})("versions",[]).push({version:c.version,mode:ta()?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})}var wa=!1,xa=function(){wa||(wa=!0,va());return ua.exports};a={};var ya={exports:a};function za(){ya.exports=xa()("native-function-to-string",Function.toString)}var Aa=!1,Ba=function(){Aa||(Aa=!0,za());return ya.exports};b={};var Ca={exports:b};function Da(){var b=j(),c=la(),d=n(),e=pa()("src"),f=Ba(),g="toString",h=(""+f).split(g);z().inspectSource=function(a){return f.call(a)};(Ca.exports=function(a,f,g,i){var j=typeof g=="function";j&&(d(g,"name")||c(g,"name",f));if(a[f]===g)return;j&&(d(g,e)||c(g,e,a[f]?""+a[f]:h.join(String(f))));a===b?a[f]=g:!i?(delete a[f],c(a,f,g)):a[f]?a[f]=g:c(a,f,g)})(Function.prototype,g,function(){return typeof this=="function"&&this[e]||f.call(this)})}var Ea=!1,Fa=function(){Ea||(Ea=!0,Da());return Ca.exports};c={};var Ga={exports:c};function Ha(){Ga.exports=function(a){if(typeof a!="function")throw TypeError(a+" is not a function!");return a}}var Ia=!1,V=function(){Ia||(Ia=!0,Ha());return Ga.exports};d={};var Ja={exports:d};function Ka(){var a=V();Ja.exports=function(b,c,d){a(b);if(c===void 0)return b;switch(d){case 1:return function(a){return b.call(c,a)};case 2:return function(a,d){return b.call(c,a,d)};case 3:return function(a,d,e){return b.call(c,a,d,e)}}return function(){return b.apply(c,arguments)}}}var La=!1,Ma=function(){La||(La=!0,Ka());return Ja.exports};f={};var Na={exports:f};function Oa(){var b=j(),c=z(),d=la(),e=Fa(),g=Ma(),h="prototype",i=function(j,k,l){var m=j&i.F,n=j&i.G,o=j&i.S,p=j&i.P,q=j&i.B;o=n?b:o?b[k]||(b[k]={}):(b[k]||{})[h];var a=n?c:c[k]||(c[k]={}),r=a[h]||(a[h]={}),s;n&&(l=k);for(n in l)k=!m&&o&&o[n]!==void 0,s=(k?o:l)[n],k=q&&k?g(s,b):p&&typeof s=="function"?g(Function.call,s):s,o&&e(o,n,s,j&i.U),a[n]!=s&&d(a,n,k),p&&r[n]!=s&&(r[n]=s)};b.core=c;i.F=1;i.G=2;i.S=4;i.P=8;i.B=16;i.W=32;i.U=64;i.R=128;Na.exports=i}var Pa=!1,W=function(){Pa||(Pa=!0,Oa());return Na.exports};a={};var Qa={exports:a};function Ra(){var a=pa()("meta"),b=D(),c=n(),d=U().f,e=0,f=Object.isExtensible||function(){return!0},g=!r()(function(){return f(Object.preventExtensions({}))}),h=function(b){d(b,a,{value:{i:"O"+ ++e,w:{}}})},i=function(d,e){if(!b(d))return typeof d=="symbol"?d:(typeof d=="string"?"S":"P")+d;if(!c(d,a)){if(!f(d))return"F";if(!e)return"E";h(d)}return d[a].i},j=function(b,d){if(!c(b,a)){if(!f(b))return!0;if(!d)return!1;h(b)}return b[a].w},k=function(b){g&&l.NEED&&f(b)&&!c(b,a)&&h(b);return b},l=Qa.exports={KEY:a,NEED:!1,fastKey:i,getWeak:j,onFreeze:k}}var Sa=!1,X=function(){Sa||(Sa=!0,Ra());return Qa.exports};b={};var Ta={exports:b};function Ua(){var a=xa()("wks"),b=pa(),c=j().Symbol,d=typeof c=="function",e=Ta.exports=function(e){return a[e]||(a[e]=d&&c[e]||(d?c:b)("Symbol."+e))};e.store=a}var Va=!1,Y=function(){Va||(Va=!0,Ua());return Ta.exports};c={};var Wa={exports:c};function Xa(){var a=U().f,b=n(),c=Y()("toStringTag");Wa.exports=function(d,e,f){d&&!b(d=f?d:d.prototype,c)&&a(d,c,{configurable:!0,value:e})}}var Ya=!1,Za=function(){Ya||(Ya=!0,Xa());return Wa.exports},$a={},ab={exports:$a};function bb(){$a.f=Y()}var cb=!1,db=function(){cb||(cb=!0,bb());return ab.exports};d={};var eb={exports:d};function fb(){var b=j(),c=z(),d=ta(),e=db(),f=U().f;eb.exports=function(a){var g=c.Symbol||(c.Symbol=d?{}:b.Symbol||{});a.charAt(0)!="_"&&!(a in g)&&f(g,a,{value:e.f(a)})}}var gb=!1,hb=function(){gb||(gb=!0,fb());return eb.exports};f={};var ib={exports:f};function jb(){var a={}.toString;ib.exports=function(b){return a.call(b).slice(8,-1)}}var kb=!1,lb=function(){kb||(kb=!0,jb());return ib.exports};a={};var mb={exports:a};function nb(){var a=lb();mb.exports=Object("z").propertyIsEnumerable(0)?Object:function(b){return a(b)=="String"?b.split(""):Object(b)}}var ob=!1,pb=function(){ob||(ob=!0,nb());return mb.exports};b={};var qb={exports:b};function rb(){qb.exports=function(a){if(a==void 0)throw TypeError("Can't call method on  "+a);return a}}var sb=!1,tb=function(){sb||(sb=!0,rb());return qb.exports};c={};var ub={exports:c};function vb(){var a=pb(),b=tb();ub.exports=function(c){return a(b(c))}}var wb=!1,xb=function(){wb||(wb=!0,vb());return ub.exports};d={};var yb={exports:d};function zb(){var a=Math.ceil,b=Math.floor;yb.exports=function(c){return isNaN(c=+c)?0:(c>0?b:a)(c)}}var Ab=!1,Bb=function(){Ab||(Ab=!0,zb());return yb.exports};f={};var Cb={exports:f};function Db(){var a=Bb(),b=Math.min;Cb.exports=function(c){return c>0?b(a(c),9007199254740991):0}}var Eb=!1,Z=function(){Eb||(Eb=!0,Db());return Cb.exports};a={};var Fb={exports:a};function Gb(){var a=Bb(),b=Math.max,c=Math.min;Fb.exports=function(d,e){d=a(d);return d<0?b(d+e,0):c(d,e)}}var Hb=!1,Ib=function(){Hb||(Hb=!0,Gb());return Fb.exports};b={};var Jb={exports:b};function Kb(){var a=xb(),b=Z(),c=Ib();Jb.exports=function(d){return function(e,f,g){e=a(e);var h=b(e.length);g=c(g,h);var i;if(d&&f!=f)while(h>g){i=e[g++];if(i!=i)return!0}else for(;h>g;g++)if((d||g in e)&&e[g]===f)return d||g||0;return!d&&-1}}}var Lb=!1,Mb=function(){Lb||(Lb=!0,Kb());return Jb.exports};c={};var Nb={exports:c};function Ob(){var a=xa()("keys"),b=pa();Nb.exports=function(c){return a[c]||(a[c]=b(c))}}var Pb=!1,Qb=function(){Pb||(Pb=!0,Ob());return Nb.exports};d={};var Rb={exports:d};function Sb(){var a=n(),b=xb(),c=Mb()(!1),d=Qb()("IE_PROTO");Rb.exports=function(e,f){e=b(e);var g=0,h=[],i;for(i in e)i!=d&&(a(e,i)&&h.push(i));while(f.length>g)a(e,i=f[g++])&&(~c(h,i)||h.push(i));return h}}var Tb=!1,Ub=function(){Tb||(Tb=!0,Sb());return Rb.exports};f={};var Vb={exports:f};function Wb(){Vb.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}var Xb=!1,Yb=function(){Xb||(Xb=!0,Wb());return Vb.exports};a={};var Zb={exports:a};function $b(){var a=Ub(),b=Yb();Zb.exports=Object.keys||function(c){return a(c,b)}}var ac=!1,bc=function(){ac||(ac=!0,$b());return Zb.exports},cc={},dc={exports:cc};function ec(){cc.f=Object.getOwnPropertySymbols}var fc=!1,gc=function(){fc||(fc=!0,ec());return dc.exports},hc={},ic={exports:hc};function jc(){hc.f={}.propertyIsEnumerable}var kc=!1,lc=function(){kc||(kc=!0,jc());return ic.exports};b={};var mc={exports:b};function nc(){var a=bc(),b=gc(),c=lc();mc.exports=function(d){var e=a(d),f=b.f;if(f){f=f(d);var g=c.f,h=0,i;while(f.length>h)g.call(d,i=f[h++])&&e.push(i)}return e}}var oc=!1,pc=function(){oc||(oc=!0,nc());return mc.exports};c={};var qc={exports:c};function rc(){var a=lb();qc.exports=Array.isArray||function(b){return a(b)=="Array"}}var sc=!1,tc=function(){sc||(sc=!0,rc());return qc.exports};d={};var uc={exports:d};function vc(){var a=tb();uc.exports=function(b){return Object(a(b))}}var wc=!1,xc=function(){wc||(wc=!0,vc());return uc.exports};f={};var yc={exports:f};function zc(){var a=U(),b=H(),c=bc();yc.exports=v()?Object.defineProperties:function(d,e){b(d);var f=c(e),g=f.length,h=0,i;while(g>h)a.f(d,i=f[h++],e[i]);return d}}var Ac=!1,Bc=function(){Ac||(Ac=!0,zc());return yc.exports};a={};var Cc={exports:a};function Dc(){var a=j().document;Cc.exports=a&&a.documentElement}var Ec=!1,Fc=function(){Ec||(Ec=!0,Dc());return Cc.exports};b={};var Gc={exports:b};function Hc(){var a=H(),b=Bc(),c=Yb(),d=Qb()("IE_PROTO"),e=function(){},f="prototype",g=function(){var a=L()("iframe"),b=c.length,d="<",e=">";a.style.display="none";Fc().appendChild(a);a.src="javascript:";a=a.contentWindow.document;a.open();a.write(d+"script"+e+"document.F=Object"+d+"/script"+e);a.close();g=a.F;while(b--)delete g[f][c[b]];return g()};Gc.exports=Object.create||function(c,h){var i;c!==null?(e[f]=a(c),i=new e(),e[f]=null,i[d]=c):i=g();return h===void 0?i:b(i,h)}}var Ic=!1,Jc=function(){Ic||(Ic=!0,Hc());return Gc.exports},Kc={},Lc={exports:Kc};function Mc(){var a=Ub(),b=Yb().concat("length","prototype");Kc.f=Object.getOwnPropertyNames||function(c){return a(c,b)}}var Nc=!1,Oc=function(){Nc||(Nc=!0,Mc());return Lc.exports};c={};var Pc={exports:c};function Qc(){var a=xb(),b=Oc().f,c={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],e=function(a){try{return b(a)}catch(a){return d.slice()}};Pc.exports.f=function(f){return d&&c.call(f)=="[object Window]"?e(f):b(a(f))}}var Rc=!1,Sc=function(){Rc||(Rc=!0,Qc());return Pc.exports},Tc={},Uc={exports:Tc};function Vc(){var a=lc(),b=ha(),c=xb(),d=ca(),e=n(),f=P(),g=Object.getOwnPropertyDescriptor;Tc.f=v()?g:function(h,i){h=c(h);i=d(i,!0);if(f)try{return g(h,i)}catch(a){}if(e(h,i))return b(!a.f.call(h,i),h[i])}}var Wc=!1,Xc=function(){Wc||(Wc=!0,Vc());return Uc.exports};d={};var Yc={exports:d};function Zc(){var b=j(),c=n(),d=v(),e=W(),f=Fa(),g=X().KEY,h=r(),i=xa(),k=Za(),l=pa(),m=Y(),o=db(),p=hb(),q=pc(),s=tc(),t=H(),u=D(),w=xc(),x=xb(),y=ca(),z=ha(),A=Jc(),B=Sc(),C=Xc(),E=gc(),F=U(),G=bc(),I=C.f,J=F.f,K=B.f,L=b.Symbol,M=b.JSON,N=M&&M.stringify,O="prototype",P=m("_hidden"),aa=m("toPrimitive"),ba={}.propertyIsEnumerable,Q=i("symbol-registry"),da=i("symbols"),R=i("op-symbols"),S=Object[O];i=typeof L=="function"&&!!E.f;var T=b.QObject,ea=!T||!T[O]||!T[O].findChild,fa=d&&h(function(){return A(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a!=7})?function(a,b,c){var d=I(S,b);d&&delete S[b];J(a,b,c);d&&a!==S&&J(S,b,d)}:J,ga=function(a){var b=da[a]=A(L[O]);b._k=a;return b},ia=i&&typeof L.iterator=="symbol"?function(a){return typeof a=="symbol"}:function(a){return a instanceof L},ja=function(a,b,d){a===S&&ja(R,b,d);t(a);b=y(b,!0);t(d);if(c(da,b)){!d.enumerable?(c(a,P)||J(a,P,z(1,{})),a[P][b]=!0):(c(a,P)&&a[P][b]&&(a[P][b]=!1),d=A(d,{enumerable:z(0,!1)}));return fa(a,b,d)}return J(a,b,d)},ka=function(a,b){t(a);var c=q(b=x(b)),d=0,e=c.length,f;while(e>d)ja(a,f=c[d++],b[f]);return a};T=function(a,b){return b===void 0?A(a):ka(A(a),b)};var ma=function(a){var b=ba.call(this,a=y(a,!0));return this===S&&c(da,a)&&!c(R,a)?!1:b||!c(this,a)||!c(da,a)||c(this,P)&&this[P][a]?b:!0},na=function(a,b){a=x(a);b=y(b,!0);if(a===S&&c(da,b)&&!c(R,b))return;var d=I(a,b);d&&c(da,b)&&!(c(a,P)&&a[P][b])&&(d.enumerable=!0);return d},oa=function(a){a=K(x(a));var b=[],d=0,e;while(a.length>d)!c(da,e=a[d++])&&e!=P&&e!=g&&b.push(e);return b},qa=function(a){var b=a===S;a=K(b?R:x(a));var d=[],e=0,f;while(a.length>e)c(da,f=a[e++])&&(b?c(S,f):!0)&&d.push(da[f]);return d};i||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var a=l(arguments.length>0?arguments[0]:void 0),b=function(d){this===S&&b.call(R,d),c(this,P)&&c(this[P],a)&&(this[P][a]=!1),fa(this,a,z(1,d))};d&&ea&&fa(S,a,{configurable:!0,set:b});return ga(a)},f(L[O],"toString",function(){return this._k}),C.f=na,F.f=ja,Oc().f=B.f=oa,lc().f=ma,E.f=qa,d&&!ta()&&f(S,"propertyIsEnumerable",ma,!0),o.f=function(a){return ga(m(a))});e(e.G+e.W+e.F*!i,{Symbol:L});for(var C="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),F=0;C.length>F;)m(C[F++]);for(var B=G(m.store),f=0;B.length>f;)p(B[f++]);e(e.S+e.F*!i,"Symbol",{"for":function(a){return c(Q,a+="")?Q[a]:Q[a]=L(a)},keyFor:function(a){if(!ia(a))throw TypeError(a+" is not a symbol!");for(var b in Q)if(Q[b]===a)return b},useSetter:function(){ea=!0},useSimple:function(){ea=!1}});e(e.S+e.F*!i,"Object",{create:T,defineProperty:ja,defineProperties:ka,getOwnPropertyDescriptor:na,getOwnPropertyNames:oa,getOwnPropertySymbols:qa});ma=h(function(){E.f(1)});e(e.S+e.F*ma,"Object",{getOwnPropertySymbols:function(a){return E.f(w(a))}});M&&e(e.S+e.F*(!i||h(function(){var a=L();return N([a])!="[null]"||N({a:a})!="{}"||N(Object(a))!="{}"})),"JSON",{stringify:function(a){var b=[a],c=1,d,e;while(arguments.length>c)b.push(arguments[c++]);e=d=b[1];if(!u(d)&&a===void 0||ia(a))return;s(d)||(d=function(a,b){typeof e=="function"&&(b=e.call(this,a,b));if(!ia(b))return b});b[1]=d;return N.apply(M,b)}});L[O][aa]||la()(L[O],aa,L[O].valueOf);k(L,"Symbol");k(Math,"Math",!0);k(b.JSON,"JSON",!0)}var $c=!1,ad=function(){$c||($c=!0,Zc());return Yc.exports};f={};var bd={exports:f};function cd(){var a=W();a(a.S,"Object",{create:Jc()})}var dd=!1,ed=function(){dd||(dd=!0,cd());return bd.exports};a={};var fd={exports:a};function gd(){var a=W();a(a.S+a.F*!v(),"Object",{defineProperty:U().f})}var hd=!1,id=function(){hd||(hd=!0,gd());return fd.exports};b={};var jd={exports:b};function kd(){var a=W();a(a.S+a.F*!v(),"Object",{defineProperties:Bc()})}var ld=!1,md=function(){ld||(ld=!0,kd());return jd.exports};c={};var nd={exports:c};function od(){var a=W(),b=z(),c=r();nd.exports=function(d,e){var f=(b.Object||{})[d]||Object[d],g={};g[d]=e(f);a(a.S+a.F*c(function(){f(1)}),"Object",g)}}var pd=!1,qd=function(){pd||(pd=!0,od());return nd.exports};d={};var rd={exports:d};function sd(){var a=xb(),b=Xc().f;qd()("getOwnPropertyDescriptor",function(){return function(c,d){return b(a(c),d)}})}var td=!1,ud=function(){td||(td=!0,sd());return rd.exports};f={};var vd={exports:f};function wd(){var a=n(),b=xc(),c=Qb()("IE_PROTO"),d=Object.prototype;vd.exports=Object.getPrototypeOf||function(e){e=b(e);if(a(e,c))return e[c];return typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?d:null}}var xd=!1,yd=function(){xd||(xd=!0,wd());return vd.exports};a={};var zd={exports:a};function Ad(){var a=xc(),b=yd();qd()("getPrototypeOf",function(){return function(c){return b(a(c))}})}var Bd=!1,Cd=function(){Bd||(Bd=!0,Ad());return zd.exports};b={};var Dd={exports:b};function Ed(){var a=xc(),b=bc();qd()("keys",function(){return function(c){return b(a(c))}})}var Fd=!1,Gd=function(){Fd||(Fd=!0,Ed());return Dd.exports};c={};var Hd={exports:c};function Id(){qd()("getOwnPropertyNames",function(){return Sc().f})}var Jd=!1,Kd=function(){Jd||(Jd=!0,Id());return Hd.exports};d={};var Ld={exports:d};function Md(){var a=D(),b=X().onFreeze;qd()("freeze",function(c){return function(d){return c&&a(d)?c(b(d)):d}})}var Nd=!1,Od=function(){Nd||(Nd=!0,Md());return Ld.exports};f={};var Pd={exports:f};function Qd(){var a=D(),b=X().onFreeze;qd()("seal",function(c){return function(d){return c&&a(d)?c(b(d)):d}})}var Rd=!1,Sd=function(){Rd||(Rd=!0,Qd());return Pd.exports};a={};var Td={exports:a};function Ud(){var a=D(),b=X().onFreeze;qd()("preventExtensions",function(c){return function(d){return c&&a(d)?c(b(d)):d}})}var Vd=!1,Wd=function(){Vd||(Vd=!0,Ud());return Td.exports};b={};var Xd={exports:b};function Yd(){var a=D();qd()("isFrozen",function(b){return function(c){return a(c)?b?b(c):!1:!0}})}var Zd=!1,$d=function(){Zd||(Zd=!0,Yd());return Xd.exports};c={};var ae={exports:c};function be(){var a=D();qd()("isSealed",function(b){return function(c){return a(c)?b?b(c):!1:!0}})}var ce=!1,de=function(){ce||(ce=!0,be());return ae.exports};d={};var ee={exports:d};function fe(){var a=D();qd()("isExtensible",function(b){return function(c){return a(c)?b?b(c):!0:!1}})}var ge=!1,he=function(){ge||(ge=!0,fe());return ee.exports};f={};var ie={exports:f};function je(){var a=v(),b=bc(),c=gc(),d=lc(),e=xc(),f=pb(),g=Object.assign;ie.exports=!g||r()(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";a[c]=7;d.split("").forEach(function(a){b[a]=a});return g({},a)[c]!=7||Object.keys(g({},b)).join("")!=d})?function(g,h){var i=e(g),j=arguments.length,k=1,l=c.f,m=d.f;while(j>k){var n=f(arguments[k++]),o=l?b(n).concat(l(n)):b(n),p=o.length,q=0,r;while(p>q)r=o[q++],(!a||m.call(n,r))&&(i[r]=n[r])}return i}:g}var ke=!1,le=function(){ke||(ke=!0,je());return ie.exports};a={};var me={exports:a};function ne(){var a=W();a(a.S+a.F,"Object",{assign:le()})}var oe=!1,pe=function(){oe||(oe=!0,ne());return me.exports};b={};var qe={exports:b};function re(){qe.exports=Object.is||function(a,b){return a===b?a!==0||1/a===1/b:a!=a&&b!=b}}var se=!1,te=function(){se||(se=!0,re());return qe.exports};c={};var ue={exports:c};function ve(){var a=W();a(a.S,"Object",{is:te()})}var we=!1,xe=function(){we||(we=!0,ve());return ue.exports};d={};var ye={exports:d};function ze(){var a=D(),b=H(),c=function(c,d){b(c);if(!a(d)&&d!==null)throw TypeError(d+": can't set as prototype!")};ye.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(a,b,d){try{d=Ma()(Function.call,Xc().f(Object.prototype,"__proto__").set,2),d(a,[]),b=!(a instanceof Array)}catch(a){b=!0}return function(a,e){c(a,e);b?a.__proto__=e:d(a,e);return a}}({},!1):void 0),check:c}}var Ae=!1,Be=function(){Ae||(Ae=!0,ze());return ye.exports};f={};var Ce={exports:f};function De(){var a=W();a(a.S,"Object",{setPrototypeOf:Be().set})}var Ee=!1,Fe=function(){Ee||(Ee=!0,De());return Ce.exports};a={};var Ge={exports:a};function He(){var a=lb(),b=Y()("toStringTag"),c=a(function(){return arguments}())=="Arguments",d=function(a,b){try{return a[b]}catch(a){}};Ge.exports=function(e){var f;return e===void 0?"Undefined":e===null?"Null":typeof (f=d(e=Object(e),b))=="string"?f:c?a(e):(f=a(e))=="Object"&&typeof e.callee=="function"?"Arguments":f}}var Ie=!1,Je=function(){Ie||(Ie=!0,He());return Ge.exports};b={};var Ke={exports:b};function Le(){var a=Je(),b={};b[Y()("toStringTag")]="z";b+""!="[object z]"&&Fa()(Object.prototype,"toString",function(){return"[object "+a(this)+"]"},!0)}var Me=!1,Ne=function(){Me||(Me=!0,Le());return Ke.exports};c={};var Oe={exports:c};function Pe(){Oe.exports=function(a,b,c){var d=c===void 0;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}}var Qe=!1,Re=function(){Qe||(Qe=!0,Pe());return Oe.exports};d={};var Se={exports:d};function Te(){var a=V(),b=D(),c=Re(),d=[].slice,e={},f=function(a,b,c){if(!(b in e)){for(var d=[],f=0;f<b;f++)d[f]="a["+f+"]";e[b]=Function("F,a","return new F("+d.join(",")+")")}return e[b](a,c)};Se.exports=Function.bind||function(e){var g=a(this),h=d.call(arguments,1),i=function(){var a=h.concat(d.call(arguments));return this instanceof i?f(g,a.length,a):c(g,a,e)};b(g.prototype)&&(i.prototype=g.prototype);return i}}var Ue=!1,Ve=function(){Ue||(Ue=!0,Te());return Se.exports};f={};var We={exports:f};function Xe(){var a=W();a(a.P,"Function",{bind:Ve()})}var Ye=!1,Ze=function(){Ye||(Ye=!0,Xe());return We.exports};a={};var $e={exports:a};function af(){var a=U().f,b=Function.prototype,c=/^\s*function ([^ (]*)/,d="name";d in b||v()&&a(b,d,{configurable:!0,get:function(){try{return(""+this).match(c)[1]}catch(a){return""}}})}var bf=!1,cf=function(){bf||(bf=!0,af());return $e.exports};b={};var df={exports:b};function ef(){var a=D(),b=yd(),c=Y()("hasInstance"),d=Function.prototype;c in d||U().f(d,c,{value:function(c){if(typeof this!="function"||!a(c))return!1;if(!a(this.prototype))return c instanceof this;while(c=b(c))if(this.prototype===c)return!0;return!1}})}var ff=!1,gf=function(){ff||(ff=!0,ef());return df.exports};c={};var hf={exports:c};function jf(){hf.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"}var kf=!1,lf=function(){kf||(kf=!0,jf());return hf.exports};d={};var mf={exports:d};function nf(){var a=W(),b=tb(),c=r(),d=lf(),e="["+d+"]",f="\u200b\x85",g=RegExp("^"+e+e+"*"),h=RegExp(e+e+"*$");e=function(b,e,g){var h={},j=c(function(){return!!d[b]()||f[b]()!=f});e=h[b]=j?e(i):d[b];g&&(h[g]=e);a(a.P+a.F*j,"String",h)};var i=e.trim=function(a,c){a=String(b(a));c&1&&(a=a.replace(g,""));c&2&&(a=a.replace(h,""));return a};mf.exports=e}var of=!1,pf=function(){of||(of=!0,nf());return mf.exports};f={};var qf={exports:f};function rf(){var a=j().parseInt,b=pf().trim,c=lf(),d=/^[-+]?0[xX]/;qf.exports=a(c+"08")!==8||a(c+"0x16")!==22?function(c,e){c=b(String(c),3);return a(c,e>>>0||(d.test(c)?16:10))}:a}var sf=!1,tf=function(){sf||(sf=!0,rf());return qf.exports};a={};var uf={exports:a};function vf(){var a=W(),b=tf();a(a.G+a.F*(parseInt!=b),{parseInt:b})}var wf=!1,xf=function(){wf||(wf=!0,vf());return uf.exports};b={};var yf={exports:b};function zf(){var a=j().parseFloat,b=pf().trim;yf.exports=1/a(lf()+"-0")!==-Infinity?function(c){c=b(String(c),3);var d=a(c);return d===0&&c.charAt(0)=="-"?-0:d}:a}var Af=!1,Bf=function(){Af||(Af=!0,zf());return yf.exports};c={};var Cf={exports:c};function Df(){var a=W(),b=Bf();a(a.G+a.F*(parseFloat!=b),{parseFloat:b})}var Ef=!1,Ff=function(){Ef||(Ef=!0,Df());return Cf.exports};d={};var Gf={exports:d};function Hf(){var a=D(),b=Be().set;Gf.exports=function(c,d,e){d=d.constructor;var f;d!==e&&typeof d=="function"&&(f=d.prototype)!==e.prototype&&a(f)&&b&&b(c,f);return c}}var If=!1,Jf=function(){If||(If=!0,Hf());return Gf.exports};f={};var Kf={exports:f};function Lf(){var b=j(),c=n(),d=lb(),e=Jf(),f=ca(),g=r(),h=Oc().f,i=Xc().f,k=U().f,l=pf().trim,m="Number",o=b[m],p=o,q=o.prototype,s=d(Jc()(q))==m,t="trim"in String.prototype,u=function(a){a=f(a,!1);if(typeof a=="string"&&a.length>2){a=t?a.trim():l(a,3);var b=a.charCodeAt(0),c,d,e;if(b===43||b===45){c=a.charCodeAt(2);if(c===88||c===120)return NaN}else if(b===48){switch(a.charCodeAt(1)){case 66:case 98:d=2;e=49;break;case 79:case 111:d=8;e=55;break;default:return+a}for(var c=a.slice(2),b=0,g=c.length,h;b<g;b++){h=c.charCodeAt(b);if(h<48||h>e)return NaN}return parseInt(c,d)}}return+a};if(!o(" 0o1")||!o("0b1")||o("+0x1")){o=function(a){var b=arguments.length<1?0:a,c=this;return c instanceof o&&(s?g(function(){q.valueOf.call(c)}):d(c)!=m)?e(new p(u(b)),c,o):u(b)};for(var h=v()?h(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0,x;h.length>w;w++)c(p,x=h[w])&&!c(o,x)&&k(o,x,i(p,x));o.prototype=q;q.constructor=o;Fa()(b,m,o)}}var Mf=!1,Nf=function(){Mf||(Mf=!0,Lf());return Kf.exports};a={};var Of={exports:a};function Pf(){var a=lb();Of.exports=function(b,c){if(typeof b!="number"&&a(b)!="Number")throw TypeError(c);return+b}}var Qf=!1,Rf=function(){Qf||(Qf=!0,Pf());return Of.exports};b={};var Sf={exports:b};function Tf(){var a=Bb(),b=tb();Sf.exports=function(c){var d=String(b(this)),e="";c=a(c);if(c<0||c==Infinity)throw RangeError("Count can't be negative");for(;c>0;(c>>>=1)&&(d+=d))c&1&&(e+=d);return e}}var Uf=!1,Vf=function(){Uf||(Uf=!0,Tf());return Sf.exports};c={};var Wf={exports:c};function Xf(){var a=W(),b=Bb(),c=Rf(),d=Vf(),e=1..toFixed,f=Math.floor,g=[0,0,0,0,0,0],h="Number.toFixed: incorrect invocation!",i="0",j=function(a,b){var c=-1;b=b;while(++c<6)b+=a*g[c],g[c]=b%1e7,b=f(b/1e7)},k=function(a){var b=6,c=0;while(--b>=0)c+=g[b],g[b]=f(c/a),c=c%a*1e7},l=function(){var a=6,b="";while(--a>=0)if(b!==""||a===0||g[a]!==0){var c=String(g[a]);b=b===""?c:b+d.call(i,7-c.length)+c}return b},m=function(a,b,c){return b===0?c:b%2===1?m(a,b-1,c*a):m(a*a,b/2,c)},n=function(a){var b=0;a=a;while(a>=4096)b+=12,a/=4096;while(a>=2)b+=1,a/=2;return b};a(a.P+a.F*(!!e&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||1000000000000000100..toFixed(0)!=="1000000000000000128")||!r()(function(){e.call({})})),"Number",{toFixed:function(a){var e=c(this,h);a=b(a);var f="",g=i,o,p;if(a<0||a>20)throw RangeError(h);if(e!=e)return"NaN";if(e<=-1e21||e>=1e21)return String(e);e<0&&(f="-",e=-e);if(e>1e-21){o=n(e*m(2,69,1))-69;e=o<0?e*m(2,-o,1):e/m(2,o,1);e*=4503599627370496;o=52-o;if(o>0){j(0,e);p=a;while(p>=7)j(1e7,0),p-=7;j(m(10,p,1),0);p=o-1;while(p>=23)k(1<<23),p-=23;k(1<<p);j(1,1);k(2);g=l()}else j(0,e),j(1<<-o,0),g=l()+d.call(i,a)}a>0?(p=g.length,g=f+(p<=a?"0."+d.call(i,a-p)+g:g.slice(0,p-a)+"."+g.slice(p-a))):g=f+g;return g}})}var Yf=!1,Zf=function(){Yf||(Yf=!0,Xf());return Wf.exports};d={};var $f={exports:d};function ag(){var a=W(),b=r(),c=Rf(),d=1..toPrecision;a(a.P+a.F*(b(function(){return d.call(1,void 0)!=="1"})||!b(function(){d.call({})})),"Number",{toPrecision:function(a){var b=c(this,"Number#toPrecision: incorrect invocation!");return a===void 0?d.call(b):d.call(b,a)}})}var bg=!1,cg=function(){bg||(bg=!0,ag());return $f.exports};f={};var dg={exports:f};function eg(){var a=W();a(a.S,"Number",{EPSILON:Math.pow(2,-52)})}var fg=!1,gg=function(){fg||(fg=!0,eg());return dg.exports};a={};var hg={exports:a};function ig(){var a=W(),b=j().isFinite;a(a.S,"Number",{isFinite:function(a){return typeof a=="number"&&b(a)}})}var jg=!1,kg=function(){jg||(jg=!0,ig());return hg.exports};b={};var lg={exports:b};function mg(){var a=D(),b=Math.floor;lg.exports=function(c){return!a(c)&&isFinite(c)&&b(c)===c}}var ng=!1,og=function(){ng||(ng=!0,mg());return lg.exports};c={};var pg={exports:c};function qg(){var a=W();a(a.S,"Number",{isInteger:og()})}var rg=!1,sg=function(){rg||(rg=!0,qg());return pg.exports};d={};var tg={exports:d};function ug(){var a=W();a(a.S,"Number",{isNaN:function(a){return a!=a}})}var vg=!1,wg=function(){vg||(vg=!0,ug());return tg.exports};f={};var xg={exports:f};function yg(){var a=W(),b=og(),c=Math.abs;a(a.S,"Number",{isSafeInteger:function(a){return b(a)&&c(a)<=9007199254740991}})}var zg=!1,Ag=function(){zg||(zg=!0,yg());return xg.exports};a={};var Bg={exports:a};function Cg(){var a=W();a(a.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})}var Dg=!1,Eg=function(){Dg||(Dg=!0,Cg());return Bg.exports};b={};var Fg={exports:b};function Gg(){var a=W();a(a.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})}var Hg=!1,Ig=function(){Hg||(Hg=!0,Gg());return Fg.exports};c={};var Jg={exports:c};function Kg(){var a=W(),b=Bf();a(a.S+a.F*(Number.parseFloat!=b),"Number",{parseFloat:b})}var Lg=!1,Mg=function(){Lg||(Lg=!0,Kg());return Jg.exports};d={};var Ng={exports:d};function Og(){var a=W(),b=tf();a(a.S+a.F*(Number.parseInt!=b),"Number",{parseInt:b})}var Pg=!1,Qg=function(){Pg||(Pg=!0,Og());return Ng.exports};f={};var Rg={exports:f};function Sg(){Rg.exports=Math.log1p||function(a){return(a=+a)>-1e-8&&a<1e-8?a-a*a/2:Math.log(1+a)}}var Tg=!1,Ug=function(){Tg||(Tg=!0,Sg());return Rg.exports};a={};var Vg={exports:a};function Wg(){var a=W(),b=Ug(),c=Math.sqrt,d=Math.acosh;a(a.S+a.F*!(d&&Math.floor(d(Number.MAX_VALUE))==710&&d(Infinity)==Infinity),"Math",{acosh:function(a){return(a=+a)<1?NaN:a>94906265.62425156?Math.log(a)+Math.LN2:b(a-1+c(a-1)*c(a+1))}})}var Xg=!1,Yg=function(){Xg||(Xg=!0,Wg());return Vg.exports};b={};var Zg={exports:b};function $g(){var a=W(),b=Math.asinh;function c(a){return!isFinite(a=+a)||a==0?a:a<0?-c(-a):Math.log(a+Math.sqrt(a*a+1))}a(a.S+a.F*!(b&&1/b(0)>0),"Math",{asinh:c})}var ah=!1,bh=function(){ah||(ah=!0,$g());return Zg.exports};c={};var ch={exports:c};function dh(){var a=W(),b=Math.atanh;a(a.S+a.F*!(b&&1/b(-0)<0),"Math",{atanh:function(a){return(a=+a)==0?a:Math.log((1+a)/(1-a))/2}})}var eh=!1,fh=function(){eh||(eh=!0,dh());return ch.exports};d={};var gh={exports:d};function hh(){gh.exports=Math.sign||function(a){return(a=+a)==0||a!=a?a:a<0?-1:1}}var ih=!1,jh=function(){ih||(ih=!0,hh());return gh.exports};f={};var kh={exports:f};function lh(){var a=W(),b=jh();a(a.S,"Math",{cbrt:function(a){return b(a=+a)*Math.pow(Math.abs(a),1/3)}})}var mh=!1,nh=function(){mh||(mh=!0,lh());return kh.exports};a={};var oh={exports:a};function ph(){var a=W();a(a.S,"Math",{clz32:function(a){return(a>>>=0)?31-Math.floor(Math.log(a+.5)*Math.LOG2E):32}})}var qh=!1,rh=function(){qh||(qh=!0,ph());return oh.exports};b={};var sh={exports:b};function th(){var a=W(),b=Math.exp;a(a.S,"Math",{cosh:function(a){return(b(a=+a)+b(-a))/2}})}var uh=!1,vh=function(){uh||(uh=!0,th());return sh.exports};c={};var wh={exports:c};function xh(){var a=Math.expm1;wh.exports=!a||a(10)>22025.465794806718||a(10)<22025.465794806718||a(-2e-17)!=-2e-17?function(a){return(a=+a)==0?a:a>-1e-6&&a<1e-6?a+a*a/2:Math.exp(a)-1}:a}var yh=!1,zh=function(){yh||(yh=!0,xh());return wh.exports};d={};var Ah={exports:d};function Bh(){var a=W(),b=zh();a(a.S+a.F*(b!=Math.expm1),"Math",{expm1:b})}var Ch=!1,Dh=function(){Ch||(Ch=!0,Bh());return Ah.exports};f={};var Eh={exports:f};function Fh(){var a=jh(),b=Math.pow,c=b(2,-52),d=b(2,-23),e=b(2,127)*(2-d),f=b(2,-126),g=function(a){return a+1/c-1/c};Eh.exports=Math.fround||function(b){var h=Math.abs(b);b=a(b);var i;if(h<f)return b*g(h/f/d)*f*d;i=(1+d/c)*h;i=i-(i-h);return i>e||i!=i?b*Infinity:b*i}}var Gh=!1,Hh=function(){Gh||(Gh=!0,Fh());return Eh.exports};a={};var Ih={exports:a};function Jh(){var a=W();a(a.S,"Math",{fround:Hh()})}var Kh=!1,Lh=function(){Kh||(Kh=!0,Jh());return Ih.exports};b={};var Mh={exports:b};function Nh(){var a=W(),b=Math.abs;a(a.S,"Math",{hypot:function(a,c){var d=0,e=0,f=arguments.length,g=0,h,i;while(e<f)h=b(arguments[e++]),g<h?(i=g/h,d=d*i*i+1,g=h):h>0?(i=h/g,d+=i*i):d+=h;return g===Infinity?Infinity:g*Math.sqrt(d)}})}var Oh=!1,Ph=function(){Oh||(Oh=!0,Nh());return Mh.exports};c={};var Qh={exports:c};function Rh(){var a=W(),b=Math.imul;a(a.S+a.F*r()(function(){return b(4294967295,5)!=-5||b.length!=2}),"Math",{imul:function(a,b){var c=65535;a=+a;b=+b;var d=c&a,e=c&b;return 0|d*e+((c&a>>>16)*e+d*(c&b>>>16)<<16>>>0)}})}var Sh=!1,Th=function(){Sh||(Sh=!0,Rh());return Qh.exports};d={};var Uh={exports:d};function Vh(){var a=W();a(a.S,"Math",{log10:function(a){return Math.log(a)*Math.LOG10E}})}var Wh=!1,Xh=function(){Wh||(Wh=!0,Vh());return Uh.exports};f={};var Yh={exports:f};function Zh(){var a=W();a(a.S,"Math",{log1p:Ug()})}var $h=!1,ai=function(){$h||($h=!0,Zh());return Yh.exports};a={};var bi={exports:a};function ci(){var a=W();a(a.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}})}var di=!1,ei=function(){di||(di=!0,ci());return bi.exports};b={};var fi={exports:b};function gi(){var a=W();a(a.S,"Math",{sign:jh()})}var hi=!1,ii=function(){hi||(hi=!0,gi());return fi.exports};c={};var ji={exports:c};function ki(){var a=W(),b=zh(),c=Math.exp;a(a.S+a.F*r()(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(a){return Math.abs(a=+a)<1?(b(a)-b(-a))/2:(c(a-1)-c(-a-1))*(Math.E/2)}})}var li=!1,mi=function(){li||(li=!0,ki());return ji.exports};d={};var ni={exports:d};function oi(){var a=W(),b=zh(),c=Math.exp;a(a.S,"Math",{tanh:function(a){var d=b(a=+a),e=b(-a);return d==Infinity?1:e==Infinity?-1:(d-e)/(c(a)+c(-a))}})}var pi=!1,qi=function(){pi||(pi=!0,oi());return ni.exports};f={};var ri={exports:f};function si(){var a=W();a(a.S,"Math",{trunc:function(a){return(a>0?Math.floor:Math.ceil)(a)}})}var ti=!1,ui=function(){ti||(ti=!0,si());return ri.exports};a={};var vi={exports:a};function wi(){var a=W(),b=Ib(),c=String.fromCharCode,d=String.fromCodePoint;a(a.S+a.F*(!!d&&d.length!=1),"String",{fromCodePoint:function(a){var d=[],e=arguments.length,f=0,g;while(e>f){g=+arguments[f++];if(b(g,1114111)!==g)throw RangeError(g+" is not a valid code point");d.push(g<65536?c(g):c(((g-=65536)>>10)+55296,g%1024+56320))}return d.join("")}})}var xi=!1,yi=function(){xi||(xi=!0,wi());return vi.exports};b={};var zi={exports:b};function Ai(){var a=W(),b=xb(),c=Z();a(a.S,"String",{raw:function(a){var d=b(a.raw),e=c(d.length),f=arguments.length,g=[],h=0;while(e>h)g.push(String(d[h++])),h<f&&g.push(String(arguments[h]));return g.join("")}})}var Bi=!1,Ci=function(){Bi||(Bi=!0,Ai());return zi.exports};c={};var Di={exports:c};function Ei(){pf()("trim",function(a){return function(){return a(this,3)}})}var Fi=!1,Gi=function(){Fi||(Fi=!0,Ei());return Di.exports};d={};var Hi={exports:d};function Ii(){var a=Bb(),b=tb();Hi.exports=function(c){return function(d,e){d=String(b(d));e=a(e);var f=d.length,g,h;if(e<0||e>=f)return c?"":void 0;g=d.charCodeAt(e);return g<55296||g>56319||e+1===f||(h=d.charCodeAt(e+1))<56320||h>57343?c?d.charAt(e):g:c?d.slice(e,e+2):(g-55296<<10)+(h-56320)+65536}}}var Ji=!1,Ki=function(){Ji||(Ji=!0,Ii());return Hi.exports};f={};var Li={exports:f};function Mi(){Li.exports={}}var Ni=!1,Oi=function(){Ni||(Ni=!0,Mi());return Li.exports};a={};var Pi={exports:a};function Qi(){var a=Jc(),b=ha(),c=Za(),d={};la()(d,Y()("iterator"),function(){return this});Pi.exports=function(e,f,g){e.prototype=a(d,{next:b(1,g)}),c(e,f+" Iterator")}}var Ri=!1,Si=function(){Ri||(Ri=!0,Qi());return Pi.exports};b={};var Ti={exports:b};function Ui(){var a=ta(),b=W(),c=Fa(),d=la(),e=Oi(),f=Si(),g=Za(),h=yd(),i=Y()("iterator"),j=!([].keys&&"next"in[].keys()),k="@@iterator",l="keys",m="values",n=function(){return this};Ti.exports=function(o,p,q,r,s,t,u){f(q,p,r);r=function(a){if(!j&&a in y)return y[a];switch(a){case l:return function(){return new q(this,a)};case m:return function(){return new q(this,a)}}return function(){return new q(this,a)}};var v=p+" Iterator",w=s==m,x=!1,y=o.prototype,z=y[i]||y[k]||s&&y[s],A=z||r(s),B=s?w?r("entries"):A:void 0,C=p=="Array"?y.entries||z:z,D;C&&(C=h(C.call(new o())),C!==Object.prototype&&C.next&&(g(C,v,!0),!a&&typeof C[i]!="function"&&d(C,i,n)));w&&z&&z.name!==m&&(x=!0,A=function(){return z.call(this)});(!a||u)&&(j||x||!y[i])&&d(y,i,A);e[p]=A;e[v]=n;if(s){D={values:w?A:r(m),keys:t?A:r(l),entries:B};if(u)for(o in D)o in y||c(y,o,D[o]);else b(b.P+b.F*(j||x),p,D)}return D}}var Vi=!1,Wi=function(){Vi||(Vi=!0,Ui());return Ti.exports};c={};var Xi={exports:c};function Yi(){var a=Ki()(!0);Wi()(String,"String",function(a){this._t=String(a),this._i=0},function(){var b=this._t,c=this._i;if(c>=b.length)return{value:void 0,done:!0};b=a(b,c);this._i+=b.length;return{value:b,done:!1}})}var Zi=!1,$i=function(){Zi||(Zi=!0,Yi());return Xi.exports};d={};var aj={exports:d};function bj(){var a=W(),b=Ki()(!1);a(a.P,"String",{codePointAt:function(a){return b(this,a)}})}var cj=!1,dj=function(){cj||(cj=!0,bj());return aj.exports};f={};var ej={exports:f};function fj(){var a=D(),b=lb(),c=Y()("match");ej.exports=function(d){var e;return a(d)&&((e=d[c])!==void 0?!!e:b(d)=="RegExp")}}var gj=!1,hj=function(){gj||(gj=!0,fj());return ej.exports};a={};var ij={exports:a};function jj(){var a=hj(),b=tb();ij.exports=function(c,d,e){if(a(d))throw TypeError("String#"+e+" doesn't accept regex!");return String(b(c))}}var kj=!1,lj=function(){kj||(kj=!0,jj());return ij.exports};b={};var mj={exports:b};function nj(){var a=Y()("match");mj.exports=function(b){var c=/./;try{"/./"[b](c)}catch(d){try{c[a]=!1;return!"/./"[b](c)}catch(a){}}return!0}}var oj=!1,pj=function(){oj||(oj=!0,nj());return mj.exports};c={};var qj={exports:c};function rj(){var a=W(),b=Z(),c=lj(),d="endsWith",e=""[d];a(a.P+a.F*pj()(d),"String",{endsWith:function(a){var f=c(this,a,d),g=arguments.length>1?arguments[1]:void 0,h=b(f.length),i=g===void 0?h:Math.min(b(g),h),j=String(a);return e?e.call(f,j,i):f.slice(i-j.length,i)===j}})}var sj=!1,tj=function(){sj||(sj=!0,rj());return qj.exports};d={};var uj={exports:d};function vj(){var a=W(),b=lj(),c="includes";a(a.P+a.F*pj()(c),"String",{includes:function(a){return!!~b(this,a,c).indexOf(a,arguments.length>1?arguments[1]:void 0)}})}var wj=!1,xj=function(){wj||(wj=!0,vj());return uj.exports};f={};var yj={exports:f};function zj(){var a=W();a(a.P,"String",{repeat:Vf()})}var Aj=!1,Bj=function(){Aj||(Aj=!0,zj());return yj.exports};a={};var Cj={exports:a};function Dj(){var a=W(),b=Z(),c=lj(),d="startsWith",e=""[d];a(a.P+a.F*pj()(d),"String",{startsWith:function(a){var f=c(this,a,d),g=b(Math.min(arguments.length>1?arguments[1]:void 0,f.length)),h=String(a);return e?e.call(f,h,g):f.slice(g,g+h.length)===h}})}var Ej=!1,Fj=function(){Ej||(Ej=!0,Dj());return Cj.exports};b={};var Gj={exports:b};function Hj(){var a=W(),b=r(),c=tb(),d=/"/g,e=function(a,b,e,f){a=String(c(a));var g="<"+b;e!==""&&(g+=" "+e+'="'+String(f).replace(d,"&quot;")+'"');return g+">"+a+"</"+b+">"};Gj.exports=function(c,d){var f={};f[c]=d(e);a(a.P+a.F*b(function(){var a=""[c]('"');return a!==a.toLowerCase()||a.split('"').length>3}),"String",f)}}var Ij=!1,Jj=function(){Ij||(Ij=!0,Hj());return Gj.exports};c={};var Kj={exports:c};function Lj(){Jj()("anchor",function(a){return function(b){return a(this,"a","name",b)}})}var Mj=!1,Nj=function(){Mj||(Mj=!0,Lj());return Kj.exports};d={};var Oj={exports:d};function Pj(){Jj()("big",function(a){return function(){return a(this,"big","","")}})}var Qj=!1,Rj=function(){Qj||(Qj=!0,Pj());return Oj.exports};f={};var Sj={exports:f};function Tj(){Jj()("blink",function(a){return function(){return a(this,"blink","","")}})}var Uj=!1,Vj=function(){Uj||(Uj=!0,Tj());return Sj.exports};a={};var Wj={exports:a};function Xj(){Jj()("bold",function(a){return function(){return a(this,"b","","")}})}var Yj=!1,Zj=function(){Yj||(Yj=!0,Xj());return Wj.exports};b={};var $j={exports:b};function ak(){Jj()("fixed",function(a){return function(){return a(this,"tt","","")}})}var bk=!1,ck=function(){bk||(bk=!0,ak());return $j.exports};c={};var dk={exports:c};function ek(){Jj()("fontcolor",function(a){return function(b){return a(this,"font","color",b)}})}var fk=!1,gk=function(){fk||(fk=!0,ek());return dk.exports};d={};var hk={exports:d};function ik(){Jj()("fontsize",function(a){return function(b){return a(this,"font","size",b)}})}var jk=!1,kk=function(){jk||(jk=!0,ik());return hk.exports};f={};var lk={exports:f};function mk(){Jj()("italics",function(a){return function(){return a(this,"i","","")}})}var nk=!1,ok=function(){nk||(nk=!0,mk());return lk.exports};a={};var pk={exports:a};function qk(){Jj()("link",function(a){return function(b){return a(this,"a","href",b)}})}var rk=!1,sk=function(){rk||(rk=!0,qk());return pk.exports};b={};var tk={exports:b};function uk(){Jj()("small",function(a){return function(){return a(this,"small","","")}})}var vk=!1,wk=function(){vk||(vk=!0,uk());return tk.exports};c={};var xk={exports:c};function yk(){Jj()("strike",function(a){return function(){return a(this,"strike","","")}})}var zk=!1,Ak=function(){zk||(zk=!0,yk());return xk.exports};d={};var Bk={exports:d};function Ck(){Jj()("sub",function(a){return function(){return a(this,"sub","","")}})}var Dk=!1,Ek=function(){Dk||(Dk=!0,Ck());return Bk.exports};f={};var Fk={exports:f};function Gk(){Jj()("sup",function(a){return function(){return a(this,"sup","","")}})}var Hk=!1,Ik=function(){Hk||(Hk=!0,Gk());return Fk.exports};a={};var Jk={exports:a};function Kk(){var a=W();a(a.S,"Date",{now:function(){return new Date().getTime()}})}var Lk=!1,Mk=function(){Lk||(Lk=!0,Kk());return Jk.exports};b={};var Nk={exports:b};function Ok(){var a=W(),b=xc(),c=ca();a(a.P+a.F*r()(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1}),"Date",{toJSON:function(a){a=b(this);var d=c(a);return typeof d=="number"&&!isFinite(d)?null:a.toISOString()}})}var Pk=!1,Qk=function(){Pk||(Pk=!0,Ok());return Nk.exports};c={};var Rk={exports:c};function Sk(){var a=r(),b=Date.prototype.getTime,c=Date.prototype.toISOString,d=function(a){return a>9?a:"0"+a};Rk.exports=a(function(){return c.call(new Date(-5e13-1))!="0385-07-25T07:06:39.999Z"})||!a(function(){c.call(new Date(NaN))})?function(){if(!isFinite(b.call(this)))throw RangeError("Invalid time value");var a=this,c=a.getUTCFullYear(),e=a.getUTCMilliseconds(),f=c<0?"-":c>9999?"+":"";return f+("00000"+Math.abs(c)).slice(f?-6:-4)+"-"+d(a.getUTCMonth()+1)+"-"+d(a.getUTCDate())+"T"+d(a.getUTCHours())+":"+d(a.getUTCMinutes())+":"+d(a.getUTCSeconds())+"."+(e>99?e:"0"+d(e))+"Z"}:c}var Tk=!1,Uk=function(){Tk||(Tk=!0,Sk());return Rk.exports};d={};var Vk={exports:d};function Wk(){var a=W(),b=Uk();a(a.P+a.F*(Date.prototype.toISOString!==b),"Date",{toISOString:b})}var Xk=!1,Yk=function(){Xk||(Xk=!0,Wk());return Vk.exports};f={};var Zk={exports:f};function $k(){var a=Date.prototype,b="Invalid Date",c="toString",d=a[c],e=a.getTime;new Date(NaN)+""!=b&&Fa()(a,c,function(){var a=e.call(this);return a===a?d.call(this):b})}var al=!1,bl=function(){al||(al=!0,$k());return Zk.exports};a={};var cl={exports:a};function dl(){var a=H(),b=ca(),c="number";cl.exports=function(d){if(d!=="string"&&d!==c&&d!=="default")throw TypeError("Incorrect hint");return b(a(this),d!=c)}}var el=!1,fl=function(){el||(el=!0,dl());return cl.exports};b={};var gl={exports:b};function hl(){var a=Y()("toPrimitive"),b=Date.prototype;a in b||la()(b,a,fl())}var il=!1,jl=function(){il||(il=!0,hl());return gl.exports};c={};var kl={exports:c};function ll(){var a=W();a(a.S,"Array",{isArray:tc()})}var ml=!1,nl=function(){ml||(ml=!0,ll());return kl.exports};d={};var ol={exports:d};function pl(){var a=H();ol.exports=function(b,c,d,e){try{return e?c(a(d)[0],d[1]):c(d)}catch(c){e=b["return"];e!==void 0&&a(e.call(b));throw c}}}var ql=!1,rl=function(){ql||(ql=!0,pl());return ol.exports};f={};var sl={exports:f};function tl(){var a=Oi(),b=Y()("iterator"),c=Array.prototype;sl.exports=function(d){return d!==void 0&&(a.Array===d||c[b]===d)}}var ul=!1,vl=function(){ul||(ul=!0,tl());return sl.exports};a={};var wl={exports:a};function xl(){var a=U(),b=ha();wl.exports=function(c,d,e){d in c?a.f(c,d,b(0,e)):c[d]=e}}var yl=!1,zl=function(){yl||(yl=!0,xl());return wl.exports};b={};var Al={exports:b};function Bl(){var a=Je(),b=Y()("iterator"),c=Oi();Al.exports=z().getIteratorMethod=function(d){if(d!=void 0)return d[b]||d["@@iterator"]||c[a(d)]}}var Cl=!1,Dl=function(){Cl||(Cl=!0,Bl());return Al.exports};c={};var El={exports:c};function Fl(){var a=Y()("iterator"),b=!1;try{var c=[7][a]();c["return"]=function(){b=!0}}catch(a){}El.exports=function(c,d){if(!d&&!b)return!1;d=!1;try{var e=[7],f=e[a]();f.next=function(){return{done:d=!0}};e[a]=function(){return f};c(e)}catch(a){}return d}}var Gl=!1,Hl=function(){Gl||(Gl=!0,Fl());return El.exports};d={};var Il={exports:d};function Jl(){var a=Ma(),b=W(),c=xc(),d=rl(),e=vl(),f=Z(),g=zl(),h=Dl();b(b.S+b.F*!Hl()(function(a){}),"Array",{from:function(b){var i=c(b),j=typeof this=="function"?this:Array,k=arguments.length,l=k>1?arguments[1]:void 0,m=l!==void 0,n=0,o=h(i),p,q,r,s;m&&(l=a(l,k>2?arguments[2]:void 0,2));if(o!=void 0&&!(j==Array&&e(o)))for(s=o.call(i),q=new j();!(r=s.next()).done;n++)g(q,n,m?d(s,l,[r.value,n],!0):r.value);else{p=f(i.length);for(q=new j(p);p>n;n++)g(q,n,m?l(i[n],n):i[n])}q.length=n;return q}})}var Kl=!1,Ll=function(){Kl||(Kl=!0,Jl());return Il.exports};f={};var Ml={exports:f};function Nl(){var a=W(),b=zl();a(a.S+a.F*r()(function(){function a(){}return!(Array.of.call(a)instanceof a)}),"Array",{of:function(){var a=0,c=arguments.length,d=new(typeof this=="function"?this:Array)(c);while(c>a)b(d,a,arguments[a++]);d.length=c;return d}})}var Ol=!1,Pl=function(){Ol||(Ol=!0,Nl());return Ml.exports};a={};var Ql={exports:a};function Rl(){var a=r();Ql.exports=function(b,c){return!!b&&a(function(){c?b.call(null,function(){},1):b.call(null)})}}var Sl=!1,Tl=function(){Sl||(Sl=!0,Rl());return Ql.exports};b={};var Ul={exports:b};function Vl(){var a=W(),b=xb(),c=[].join;a(a.P+a.F*(pb()!=Object||!Tl()(c)),"Array",{join:function(a){return c.call(b(this),a===void 0?",":a)}})}var Wl=!1,Xl=function(){Wl||(Wl=!0,Vl());return Ul.exports};c={};var Yl={exports:c};function Zl(){var a=W(),b=Fc(),c=lb(),d=Ib(),e=Z(),f=[].slice;a(a.P+a.F*r()(function(){b&&f.call(b)}),"Array",{slice:function(a,b){var g=e(this.length),h=c(this);b=b===void 0?g:b;if(h=="Array")return f.call(this,a,b);a=d(a,g);b=d(b,g);g=e(b-a);b=new Array(g);var i=0;for(;i<g;i++)b[i]=h=="String"?this.charAt(a+i):this[a+i];return b}})}var $l=!1,am=function(){$l||($l=!0,Zl());return Yl.exports};d={};var bm={exports:d};function cm(){var a=W(),b=V(),c=xc(),d=r(),e=[].sort,f=[1,2,3];a(a.P+a.F*(d(function(){f.sort(void 0)})||!d(function(){f.sort(null)})||!Tl()(e)),"Array",{sort:function(a){return a===void 0?e.call(c(this)):e.call(c(this),b(a))}})}var dm=!1,em=function(){dm||(dm=!0,cm());return bm.exports};f={};var fm={exports:f};function gm(){var a=D(),b=tc(),c=Y()("species");fm.exports=function(d){var e;b(d)&&(e=d.constructor,typeof e=="function"&&(e===Array||b(e.prototype))&&(e=void 0),a(e)&&(e=e[c],e===null&&(e=void 0)));return e===void 0?Array:e}}var hm=!1,im=function(){hm||(hm=!0,gm());return fm.exports};a={};var jm={exports:a};function km(){var a=im();jm.exports=function(b,c){return new(a(b))(c)}}var lm=!1,mm=function(){lm||(lm=!0,km());return jm.exports};b={};var nm={exports:b};function om(){var a=Ma(),b=pb(),c=xc(),d=Z(),e=mm();nm.exports=function(f,g){var h=f==1,i=f==2,j=f==3,k=f==4,l=f==6,m=f==5||l,n=g||e;return function(e,g,o){var p=c(e),q=b(p);g=a(g,o,3);o=d(q.length);var r=0;e=h?n(e,o):i?n(e,0):void 0;var s,t;for(;o>r;r++)if(m||r in q){s=q[r];t=g(s,r,p);if(f)if(h)e[r]=t;else if(t)switch(f){case 3:return!0;case 5:return s;case 6:return r;case 2:e.push(s)}else if(k)return!1}return l?-1:j||k?k:e}}}var pm=!1,qm=function(){pm||(pm=!0,om());return nm.exports};c={};var rm={exports:c};function sm(){var a=W(),b=qm()(0),c=Tl()([].forEach,!0);a(a.P+a.F*!c,"Array",{forEach:function(a){return b(this,a,arguments[1])}})}var tm=!1,um=function(){tm||(tm=!0,sm());return rm.exports};d={};var vm={exports:d};function wm(){var a=W(),b=qm()(1);a(a.P+a.F*!Tl()([].map,!0),"Array",{map:function(a){return b(this,a,arguments[1])}})}var xm=!1,ym=function(){xm||(xm=!0,wm());return vm.exports};f={};var zm={exports:f};function Am(){var a=W(),b=qm()(2);a(a.P+a.F*!Tl()([].filter,!0),"Array",{filter:function(a){return b(this,a,arguments[1])}})}var Bm=!1,Cm=function(){Bm||(Bm=!0,Am());return zm.exports};a={};var Dm={exports:a};function Em(){var a=W(),b=qm()(3);a(a.P+a.F*!Tl()([].some,!0),"Array",{some:function(a){return b(this,a,arguments[1])}})}var Fm=!1,Gm=function(){Fm||(Fm=!0,Em());return Dm.exports};b={};var Hm={exports:b};function Im(){var a=W(),b=qm()(4);a(a.P+a.F*!Tl()([].every,!0),"Array",{every:function(a){return b(this,a,arguments[1])}})}var Jm=!1,Km=function(){Jm||(Jm=!0,Im());return Hm.exports};c={};var Lm={exports:c};function Mm(){var a=V(),b=xc(),c=pb(),d=Z();Lm.exports=function(e,f,g,h,i){a(f);e=b(e);var j=c(e),k=d(e.length),l=i?k-1:0,m=i?-1:1;if(g<2)for(;;){if(l in j){h=j[l];l+=m;break}l+=m;if(i?l<0:k<=l)throw TypeError("Reduce of empty array with no initial value")}for(;i?l>=0:k>l;l+=m)l in j&&(h=f(h,j[l],l,e));return h}}var Nm=!1,Om=function(){Nm||(Nm=!0,Mm());return Lm.exports};d={};var Pm={exports:d};function Qm(){var a=W(),b=Om();a(a.P+a.F*!Tl()([].reduce,!0),"Array",{reduce:function(a){return b(this,a,arguments.length,arguments[1],!1)}})}var Rm=!1,Sm=function(){Rm||(Rm=!0,Qm());return Pm.exports};f={};var Tm={exports:f};function Um(){var a=W(),b=Om();a(a.P+a.F*!Tl()([].reduceRight,!0),"Array",{reduceRight:function(a){return b(this,a,arguments.length,arguments[1],!0)}})}var Vm=!1,Wm=function(){Vm||(Vm=!0,Um());return Tm.exports};a={};var Xm={exports:a};function Ym(){var a=W(),b=Mb()(!1),c=[].indexOf,d=!!c&&1/[1].indexOf(1,-0)<0;a(a.P+a.F*(d||!Tl()(c)),"Array",{indexOf:function(a){return d?c.apply(this,arguments)||0:b(this,a,arguments[1])}})}var Zm=!1,$m=function(){Zm||(Zm=!0,Ym());return Xm.exports};b={};var an={exports:b};function bn(){var a=W(),b=xb(),c=Bb(),d=Z(),e=[].lastIndexOf,f=!!e&&1/[1].lastIndexOf(1,-0)<0;a(a.P+a.F*(f||!Tl()(e)),"Array",{lastIndexOf:function(a){if(f)return e.apply(this,arguments)||0;var g=b(this),h=d(g.length),i=h-1;arguments.length>1&&(i=Math.min(i,c(arguments[1])));i<0&&(i=h+i);for(;i>=0;i--)if(i in g&&g[i]===a)return i||0;return-1}})}var cn=!1,dn=function(){cn||(cn=!0,bn());return an.exports};c={};var en={exports:c};function fn(){var a=xc(),b=Ib(),c=Z();en.exports=[].copyWithin||function(d,e){var f=a(this),g=c(f.length),h=b(d,g),i=b(e,g),j=arguments.length>2?arguments[2]:void 0,k=Math.min((j===void 0?g:b(j,g))-i,g-h),l=1;i<h&&h<i+k&&(l=-1,i+=k-1,h+=k-1);while(k-->0)i in f?f[h]=f[i]:delete f[h],h+=l,i+=l;return f}}var gn=!1,hn=function(){gn||(gn=!0,fn());return en.exports};d={};var jn={exports:d};function kn(){var a=Y()("unscopables"),b=Array.prototype;b[a]==void 0&&la()(b,a,{});jn.exports=function(c){b[a][c]=!0}}var ln=!1,mn=function(){ln||(ln=!0,kn());return jn.exports};f={};var nn={exports:f};function on(){var a=W();a(a.P,"Array",{copyWithin:hn()});mn()("copyWithin")}var pn=!1,qn=function(){pn||(pn=!0,on());return nn.exports};a={};var rn={exports:a};function sn(){var a=xc(),b=Ib(),c=Z();rn.exports=function(d){var e=a(this),f=c(e.length),g=arguments.length,h=b(g>1?arguments[1]:void 0,f),i=g>2?arguments[2]:void 0,j=i===void 0?f:b(i,f);while(j>h)e[h++]=d;return e}}var tn=!1,un=function(){tn||(tn=!0,sn());return rn.exports};b={};var vn={exports:b};function wn(){var a=W();a(a.P,"Array",{fill:un()});mn()("fill")}var xn=!1,yn=function(){xn||(xn=!0,wn());return vn.exports};c={};var zn={exports:c};function An(){var a=W(),b=qm()(5),c="find",d=!0;c in[]&&Array(1)[c](function(){d=!1});a(a.P+a.F*d,"Array",{find:function(a){return b(this,a,arguments.length>1?arguments[1]:void 0)}});mn()(c)}var Bn=!1,Cn=function(){Bn||(Bn=!0,An());return zn.exports};d={};var Dn={exports:d};function En(){var a=W(),b=qm()(6),c="findIndex",d=!0;c in[]&&Array(1)[c](function(){d=!1});a(a.P+a.F*d,"Array",{findIndex:function(a){return b(this,a,arguments.length>1?arguments[1]:void 0)}});mn()(c)}var Fn=!1,Gn=function(){Fn||(Fn=!0,En());return Dn.exports};f={};var Hn={exports:f};function In(){var b=j(),c=U(),d=v(),e=Y()("species");Hn.exports=function(a){a=b[a];d&&a&&!a[e]&&c.f(a,e,{configurable:!0,get:function(){return this}})}}var Jn=!1,Kn=function(){Jn||(Jn=!0,In());return Hn.exports};a={};var Ln={exports:a};function Mn(){Kn()("Array")}var Nn=!1,On=function(){Nn||(Nn=!0,Mn());return Ln.exports};b={};var Pn={exports:b};function Qn(){Pn.exports=function(a,b){return{value:b,done:!!a}}}var Rn=!1,Sn=function(){Rn||(Rn=!0,Qn());return Pn.exports};c={};var Tn={exports:c};function Un(){var a=mn(),b=Sn(),c=Oi(),d=xb();Tn.exports=Wi()(Array,"Array",function(a,b){this._t=d(a),this._i=0,this._k=b},function(){var a=this._t,c=this._k,d=this._i++;if(!a||d>=a.length){this._t=void 0;return b(1)}if(c=="keys")return b(0,d);return c=="values"?b(0,a[d]):b(0,[d,a[d]])},"values");c.Arguments=c.Array;a("keys");a("values");a("entries")}var Vn=!1,Wn=function(){Vn||(Vn=!0,Un());return Tn.exports};d={};var Xn={exports:d};function Yn(){var a=H();Xn.exports=function(){var b=a(this),c="";b.global&&(c+="g");b.ignoreCase&&(c+="i");b.multiline&&(c+="m");b.unicode&&(c+="u");b.sticky&&(c+="y");return c}}var Zn=!1,$n=function(){Zn||(Zn=!0,Yn());return Xn.exports};f={};var ao={exports:f};function bo(){var b=j(),c=Jf(),d=U().f,e=Oc().f,f=hj(),g=$n(),h=b.RegExp,i=h,k=h.prototype,l=/a/g,m=/a/g,n=new h(l)!==l;if(v()&&(!n||r()(function(){m[Y()("match")]=!1;return h(l)!=l||h(m)==m||h(l,"i")!="/a/i"}))){h=function(a,b){var d=this instanceof h,e=f(a),j=b===void 0;return!d&&e&&a.constructor===h&&j?a:c(n?new i(e&&!j?a.source:a,b):i((e=a instanceof h)?a.source:a,e&&j?g.call(a):b),d?this:k,h)};var o=function(a){a in h||d(h,a,{configurable:!0,get:function(){return i[a]},set:function(b){i[a]=b}})};for(var e=e(i),p=0;e.length>p;)o(e[p++]);k.constructor=h;h.prototype=k;Fa()(b,"RegExp",h)}Kn()("RegExp")}var co=!1,eo=function(){co||(co=!0,bo());return ao.exports};a={};var fo={exports:a};function go(){var a=$n(),b=RegExp.prototype.exec,c=String.prototype.replace,d=b,e="lastIndex",f=function(){var a=/a/,c=/b*/g;b.call(a,"a");b.call(c,"a");return a[e]!==0||c[e]!==0}(),g=/()??/.exec("")[1]!==void 0,h=f||g;h&&(d=function(d){var h=this,i,j,k;g&&(j=new RegExp("^"+h.source+"$(?!\\s)",a.call(h)));f&&(i=h[e]);k=b.call(h,d);f&&k&&(h[e]=h.global?k.index+k[0].length:i);g&&k&&k.length>1&&c.call(k[0],j,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(k[d]=void 0)});return k});fo.exports=d}var ho=!1,io=function(){ho||(ho=!0,go());return fo.exports};b={};var jo={exports:b};function ko(){var a=io();W()({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})}var lo=!1,mo=function(){lo||(lo=!0,ko());return jo.exports};c={};var no={exports:c};function oo(){v()&&/./g.flags!="g"&&U().f(RegExp.prototype,"flags",{configurable:!0,get:$n()})}var po=!1,qo=function(){po||(po=!0,oo());return no.exports};d={};var ro={exports:d};function so(){qo();var a=H(),b=$n(),c=v(),d="toString",e=/./[d],f=function(a){Fa()(RegExp.prototype,d,a,!0)};r()(function(){return e.call({source:"a",flags:"b"})!="/a/b"})?f(function(){var d=a(this);return"/".concat(d.source,"/","flags"in d?d.flags:!c&&d instanceof RegExp?b.call(d):void 0)}):e.name!=d&&f(function(){return e.call(this)})}var to=!1,uo=function(){to||(to=!0,so());return ro.exports};f={};var vo={exports:f};function wo(){var a=Ki()(!0);vo.exports=function(b,c,d){return c+(d?a(b,c).length:1)}}var xo=!1,yo=function(){xo||(xo=!0,wo());return vo.exports};a={};var zo={exports:a};function Ao(){var a=Je(),b=RegExp.prototype.exec;zo.exports=function(c,d){var e=c.exec;if(typeof e==="function"){e=e.call(c,d);if(typeof e!=="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return e}if(a(c)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return b.call(c,d)}}var Bo=!1,Co=function(){Bo||(Bo=!0,Ao());return zo.exports};b={};var Do={exports:b};function Eo(){mo();var a=Fa(),b=la(),c=r(),d=tb(),e=Y(),f=io(),g=e("species"),h=!c(function(){var a=/./;a.exec=function(){var a=[];a.groups={a:"7"};return a};return"".replace(a,"$<a>")!=="7"}),i=function(){var a=/(?:)/,b=a.exec;a.exec=function(){return b.apply(this,arguments)};a="ab".split(a);return a.length===2&&a[0]==="a"&&a[1]==="b"}();Do.exports=function(j,k,l){var m=e(j),n=!c(function(){var a={};a[m]=function(){return 7};return""[j](a)!=7}),o=n?!c(function(){var a=!1,b=/a/;b.exec=function(){a=!0;return null};j==="split"&&(b.constructor={},b.constructor[g]=function(){return b});b[m]("");return!a}):void 0;if(!n||!o||j==="replace"&&!h||j==="split"&&!i){var p=/./[m];o=l(d,m,""[j],function(a,b,c,d,e){return b.exec===f?n&&!e?{done:!0,value:p.call(b,c,d)}:{done:!0,value:a.call(c,b,d)}:{done:!1}});l=o[0];var q=o[1];a(String.prototype,j,l);b(RegExp.prototype,m,k==2?function(a,b){return q.call(a,this,b)}:function(a){return q.call(a,this)})}}}var Fo=!1,Go=function(){Fo||(Fo=!0,Eo());return Do.exports};c={};var Ho={exports:c};function Io(){var a=H(),b=Z(),c=yo(),d=Co();Go()("match",1,function(e,f,g,h){return[function(a){var b=e(this),c=a==void 0?void 0:a[f];return c!==void 0?c.call(a,b):new RegExp(a)[f](String(b))},function(e){var f=h(g,e,this);if(f.done)return f.value;f=a(e);e=String(this);if(!f.global)return d(f,e);var i=f.unicode;f.lastIndex=0;var j=[],k=0,l;while((l=d(f,e))!==null){l=String(l[0]);j[k]=l;l===""&&(f.lastIndex=c(e,b(f.lastIndex),i));k++}return k===0?null:j}]})}var Jo=!1,Ko=function(){Jo||(Jo=!0,Io());return Ho.exports};d={};var Lo={exports:d};function Mo(){var b=H(),c=xc(),d=Z(),e=Bb(),f=yo(),g=Co(),h=Math.max,i=Math.min,j=Math.floor,k=/\$([$&`']|\d\d?|<[^>]*>)/g,l=/\$([$&`']|\d\d?)/g,m=function(a){return a===void 0?a:String(a)};Go()("replace",2,function(n,o,p,q){return[function(a,b){var c=n(this),d=a==void 0?void 0:a[o];return d!==void 0?d.call(a,c,b):p.call(String(c),a,b)},function(j,k){var l=q(p,j,this,k);if(l.done)return l.value;l=b(j);j=String(this);var n=typeof k==="function";n||(k=String(k));var c=l.global;if(c){var o=l.unicode;l.lastIndex=0}var s=[];while(!0){var t=g(l,j);if(t===null)break;s.push(t);if(!c)break;var u=String(t[0]);u===""&&(l.lastIndex=f(j,d(l.lastIndex),o))}u="";c=0;for(var l=0;l<s.length;l++){t=s[l];var v=String(t[0]),w=h(i(e(t.index),j.length),0),x=[];for(var y=1;y<t.length;y++)x.push(m(t[y]));y=t.groups;if(n){var z=[v].concat(x,w,j);y!==void 0&&z.push(y);z=String(k.apply(void 0,z))}else z=r(v,j,w,x,y,k);w>=c&&(u+=j.slice(c,w)+z,c=w+v.length)}return u+j.slice(c)}];function r(a,b,d,e,f,g){var h=d+a.length,i=e.length,m=l;f!==void 0&&(f=c(f),m=k);return p.call(g,m,function(c,g){var k;switch(g.charAt(0)){case"$":return"$";case"&":return a;case"`":return b.slice(0,d);case"'":return b.slice(h);case"<":k=f[g.slice(1,-1)];break;default:var l=+g;if(l===0)return c;if(l>i){var m=j(l/10);if(m===0)return c;return m<=i?e[m-1]===void 0?g.charAt(1):e[m-1]+g.charAt(1):c}k=e[l-1]}return k===void 0?"":k})}})}var No=!1,Oo=function(){No||(No=!0,Mo());return Lo.exports};f={};var Po={exports:f};function Qo(){var a=H(),b=te(),c=Co();Go()("search",1,function(d,e,f,g){return[function(a){var b=d(this),c=a==void 0?void 0:a[e];return c!==void 0?c.call(a,b):new RegExp(a)[e](String(b))},function(d){var e=g(f,d,this);if(e.done)return e.value;e=a(d);d=String(this);var h=e.lastIndex;b(h,0)||(e.lastIndex=0);d=c(e,d);b(e.lastIndex,h)||(e.lastIndex=h);return d===null?-1:d.index}]})}var Ro=!1,So=function(){Ro||(Ro=!0,Qo());return Po.exports};a={};var To={exports:a};function Uo(){var a=H(),b=V(),c=Y()("species");To.exports=function(d,e){d=a(d).constructor;var f;return d===void 0||(f=a(d)[c])==void 0?e:b(f)}}var Vo=!1,Wo=function(){Vo||(Vo=!0,Uo());return To.exports};b={};var Xo={exports:b};function Yo(){var a=hj(),b=H(),c=Wo(),d=yo(),e=Z(),f=Co(),g=io(),h=r(),i=Math.min,j=[].push,k="split",l="length",m="lastIndex",n=4294967295,o=!h(function(){});Go()("split",2,function(h,p,q,r){var s;"abbc"[k](/(b)*/)[1]=="c"||"test"[k](/(?:)/,-1)[l]!=4||"ab"[k](/(?:ab)*/)[l]!=2||"."[k](/(.?)(.?)/)[l]!=4||"."[k](/()()/)[l]>1||""[k](/.?/)[l]?s=function(b,c){var d=String(this);if(b===void 0&&c===0)return[];if(!a(b))return q.call(d,b,c);var e=[],f=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.unicode?"u":"")+(b.sticky?"y":""),h=0;c=c===void 0?n:c>>>0;b=new RegExp(b.source,f+"g");var i,k;while(f=g.call(b,d)){i=b[m];if(i>h){e.push(d.slice(h,f.index));f[l]>1&&f.index<d[l]&&j.apply(e,f.slice(1));k=f[0][l];h=i;if(e[l]>=c)break}b[m]===f.index&&b[m]++}h===d[l]?(k||!b.test(""))&&e.push(""):e.push(d.slice(h));return e[l]>c?e.slice(0,c):e}:"0"[k](void 0,0)[l]?s=function(a,b){return a===void 0&&b===0?[]:q.call(this,a,b)}:s=q;return[function(a,b){var c=h(this),d=a==void 0?void 0:a[p];return d!==void 0?d.call(a,c,b):s.call(String(c),a,b)},function(a,g){var h=r(s,a,this,g,s!==q);if(h.done)return h.value;h=b(a);a=String(this);var j=c(h,RegExp),k=h.unicode,l=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(o?"y":"g");j=new j(o?h:"^(?:"+h.source+")",l);h=g===void 0?n:g>>>0;if(h===0)return[];if(a.length===0)return f(j,a)===null?[a]:[];l=0;g=0;var m=[];while(g<a.length){j.lastIndex=o?g:0;var p=f(j,o?a:a.slice(g)),t;if(p===null||(t=i(e(j.lastIndex+(o?0:g)),a.length))===l)g=d(a,g,k);else{m.push(a.slice(l,g));if(m.length===h)return m;for(var u=1;u<=p.length-1;u++){m.push(p[u]);if(m.length===h)return m}g=l=t}}m.push(a.slice(l));return m}]})}var Zo=!1,$o=function(){Zo||(Zo=!0,Yo());return Xo.exports};c={};var ap={exports:c};function bp(){ap.exports=function(a,b,c,d){if(!(a instanceof b)||d!==void 0&&d in a)throw TypeError(c+": incorrect invocation!");return a}}var cp=!1,dp=function(){cp||(cp=!0,bp());return ap.exports};d={};var ep={exports:d};function fp(){var b=Ma(),c=rl(),d=vl(),e=H(),g=Z(),h=Dl(),i={},j={},a=ep.exports=function(a,f,k,l,m){m=m?function(){return a}:h(a);k=b(k,l,f?2:1);l=0;var n,o,p;if(typeof m!="function")throw TypeError(a+" is not iterable!");if(d(m))for(n=g(a.length);n>l;l++){p=f?k(e(o=a[l])[0],o[1]):k(a[l]);if(p===i||p===j)return p}else for(l=m.call(a);!(o=l.next()).done;){p=c(l,k,o.value,f);if(p===i||p===j)return p}};a.BREAK=i;a.RETURN=j}var gp=!1,hp=function(){gp||(gp=!0,fp());return ep.exports};f={};var ip={exports:f};function jp(){var c=Ma(),d=Re(),e=Fc(),f=L(),b=j(),g=b.process,h=b.setImmediate,i=b.clearImmediate,k=b.MessageChannel,l=b.Dispatch,m=0,n={},o="onreadystatechange",p,q,r=function(){var a=+this;if(n.hasOwnProperty(a)){var b=n[a];delete n[a];b()}},s=function(a){r.call(a.data)};(!h||!i)&&(h=function(a){var b=[],c=1;while(arguments.length>c)b.push(arguments[c++]);n[++m]=function(){d(typeof a=="function"?a:Function(a),b)};p(m);return m},i=function(a){delete n[a]},lb()(g)=="process"?p=function(a){g.nextTick(c(r,a,1))}:l&&l.now?p=function(a){l.now(c(r,a,1))}:k?(k=new k(),q=k.port2,k.port1.onmessage=s,p=c(q.postMessage,q,1)):b.addEventListener&&typeof postMessage=="function"&&!b.importScripts?(p=function(a){b.postMessage(a+"","*")},b.addEventListener("message",s,!1)):o in f("script")?p=function(a){e.appendChild(f("script"))[o]=function(){e.removeChild(this),r.call(a)}}:p=function(a){setTimeout(c(r,a,1),0)});ip.exports={set:h,clear:i}}var kp=!1,lp=function(){kp||(kp=!0,jp());return ip.exports};a={};var mp={exports:a};function np(){var b=j(),c=lp().set,d=b.MutationObserver||b.WebKitMutationObserver,e=b.process,f=b.Promise,g=lb()(e)=="process";mp.exports=function(){var a,h,i,j=function(){var b,c;g&&(b=e.domain)&&b.exit();while(a){c=a.fn;a=a.next;try{c()}catch(b){a?i():h=void 0;throw b}}h=void 0;b&&b.enter()};if(g)i=function(){e.nextTick(j)};else if(d&&!(b.navigator&&b.navigator.standalone)){var k=!0,l=document.createTextNode("");new d(j).observe(l,{characterData:!0});i=function(){l.data=k=!k}}else if(f&&f.resolve){var m=f.resolve(void 0);i=function(){m.then(j)}}else i=function(){c.call(b,j)};return function(b){b={fn:b,next:void 0};h&&(h.next=b);a||(a=b,i());h=b}}}var op=!1,pp=function(){op||(op=!0,np());return mp.exports};b={};var qp={exports:b};function rp(){var a=V();function b(b){var c,d;this.promise=new b(function(a,b){if(c!==void 0||d!==void 0)throw TypeError("Bad Promise constructor");c=a;d=b});this.resolve=a(c);this.reject=a(d)}qp.exports.f=function(a){return new b(a)}}var sp=!1,tp=function(){sp||(sp=!0,rp());return qp.exports};c={};var up={exports:c};function vp(){up.exports=function(a){try{return{e:!1,v:a()}}catch(a){return{e:!0,v:a}}}}var wp=!1,xp=function(){wp||(wp=!0,vp());return up.exports};d={};var yp={exports:d};function zp(){var b=j();b=b.navigator;yp.exports=b&&b.userAgent||""}var Ap=!1,Bp=function(){Ap||(Ap=!0,zp());return yp.exports};f={};var Cp={exports:f};function Dp(){var a=H(),b=D(),c=tp();Cp.exports=function(d,e){a(d);if(b(e)&&e.constructor===d)return e;d=c.f(d);var f=d.resolve;f(e);return d.promise}}var Ep=!1,Fp=function(){Ep||(Ep=!0,Dp());return Cp.exports};a={};var Gp={exports:a};function Hp(){var a=Fa();Gp.exports=function(b,c,d){for(var e in c)a(b,e,c[e],d);return b}}var Ip=!1,Jp=function(){Ip||(Ip=!0,Hp());return Gp.exports};b={};var Kp={exports:b};function Lp(){var c=ta(),b=j(),d=Ma(),e=Je(),f=W(),g=D(),h=V(),i=dp(),k=hp(),l=Wo(),m=lp().set,n=pp()(),o=tp(),p=xp(),q=Bp(),r=Fp(),s="Promise",t=b.TypeError,u=b.process,v=u&&u.versions,w=v&&v.v8||"",x=b[s],y=e(u)=="process",A=function(){},B,C,E,F,G=C=o.f;v=!!function(){try{var a=x.resolve(1),b=(a.constructor={})[Y()("species")]=function(a){a(A,A)};return(y||typeof PromiseRejectionEvent=="function")&&a.then(A)instanceof b&&w.indexOf("6.6")!==0&&q.indexOf("Chrome/66")===-1}catch(a){}}();var H=function(a){var b;return g(a)&&typeof (b=a.then)=="function"?b:!1},I=function(a,b){if(a._n)return;a._n=!0;var c=a._c;n(function(){var d=a._v,e=a._s==1,f=0,g=function(b){var c=e?b.ok:b.fail,f=b.resolve,g=b.reject,h=b.domain,i,j;try{c?(e||(a._h==2&&L(a),a._h=1),c===!0?i=d:(h&&h.enter(),i=c(d),h&&(h.exit(),j=!0)),i===b.promise?g(t("Promise-chain cycle")):(c=H(i))?c.call(i,f,g):f(i)):g(d)}catch(a){h&&!j&&h.exit(),g(a)}};while(c.length>f)g(c[f++]);a._c=[];a._n=!1;b&&!a._h&&J(a)})},J=function(a){m.call(b,function(){var c=a._v,d=K(a),e,f;d&&(e=p(function(){y?u.emit("unhandledRejection",c,a):(f=b.onunhandledrejection)?f({promise:a,reason:c}):b.console&&emptyFunction}),a._h=y||K(a)?2:1);a._a=void 0;if(d&&e.e)throw e.v})},K=function(a){return a._h!==1&&(a._a||a._c).length===0},L=function(a){m.call(b,function(){var c;y?u.emit("rejectionHandled",a):(c=b.onrejectionhandled)&&c({promise:a,reason:a._v})})},M=function(a){var b=this;if(b._d)return;b._d=!0;b=b._w||b;b._v=a;b._s=2;b._a||(b._a=b._c.slice());I(b,!0)},N=function(a){var b=this,c;if(b._d)return;b._d=!0;b=b._w||b;try{if(b===a)throw t("Promise can't be resolved itself");(c=H(a))?n(function(){var e={_w:b,_d:!1};try{c.call(a,d(N,e,1),d(M,e,1))}catch(a){M.call(e,a)}}):(b._v=a,b._s=1,I(b,!1))}catch(a){M.call({_w:b,_d:!1},a)}};v||(x=function(a){i(this,x,s,"_h");h(a);B.call(this);try{a(d(N,this,1),d(M,this,1))}catch(a){M.call(this,a)}},B=function(a){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},B.prototype=Jp()(x.prototype,{then:function(a,b){var c=G(l(this,x));c.ok=typeof a=="function"?a:!0;c.fail=typeof b=="function"&&b;c.domain=y?u.domain:void 0;this._c.push(c);this._a&&this._a.push(c);this._s&&I(this,!1);return c.promise},"catch":function(a){return this.then(void 0,a)}}),E=function(){var a=new B();this.promise=a;this.resolve=d(N,a,1);this.reject=d(M,a,1)},o.f=G=function(a){return a===x||a===F?new E(a):C(a)});f(f.G+f.W+f.F*!v,{Promise:x});Za()(x,s);Kn()(s);F=z()[s];f(f.S+f.F*!v,s,{reject:function(a){var b=G(this),c=b.reject;c(a);return b.promise}});f(f.S+f.F*(c||!v),s,{resolve:function(a){return r(c&&this===F?x:this,a)}});f(f.S+f.F*!(v&&Hl()(function(a){x.all(a)["catch"](A)})),s,{all:function(a){var b=this,c=G(b),d=c.resolve,e=c.reject,f=p(function(){var c=[],f=0,g=1;k(a,!1,function(a){var h=f++,i=!1;c.push(void 0);g++;b.resolve(a).then(function(a){if(i)return;i=!0;c[h]=a;--g||d(c)},e)});--g||d(c)});f.e&&e(f.v);return c.promise},race:function(a){var b=this,c=G(b),d=c.reject,e=p(function(){k(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});e.e&&d(e.v);return c.promise}})}var Mp=!1,Np=function(){Mp||(Mp=!0,Lp());return Kp.exports};c={};var Op={exports:c};function Pp(){var a=D();Op.exports=function(b,c){if(!a(b)||b._t!==c)throw TypeError("Incompatible receiver, "+c+" required!");return b}}var Qp=!1,Rp=function(){Qp||(Qp=!0,Pp());return Op.exports};d={};var Sp={exports:d};function Tp(){var a=U().f,b=Jc(),c=Jp(),d=Ma(),e=dp(),f=hp(),g=Wi(),h=Sn(),i=Kn(),j=v(),k=X().fastKey,l=Rp(),m=j?"_s":"size",n=function(a,b){var c=k(b);if(c!=="F")return a._i[c];for(c=a._f;c;c=c.n)if(c.k==b)return c};Sp.exports={getConstructor:function(g,h,i,k){var o=g(function(a,c){e(a,o,h,"_i"),a._t=h,a._i=b(null),a._f=void 0,a._l=void 0,a[m]=0,c!=void 0&&f(c,i,a[k],a)});c(o.prototype,{clear:function(){for(var a=l(this,h),b=a._i,c=a._f;c;c=c.n)c.r=!0,c.p&&(c.p=c.p.n=void 0),delete b[c.i];a._f=a._l=void 0;a[m]=0},"delete":function(a){var b=l(this,h);a=n(b,a);if(a){var c=a.n,d=a.p;delete b._i[a.i];a.r=!0;d&&(d.n=c);c&&(c.p=d);b._f==a&&(b._f=c);b._l==a&&(b._l=d);b[m]--}return!!a},forEach:function(a){l(this,h);var b=d(a,arguments.length>1?arguments[1]:void 0,3),c;while(c=c?c.n:this._f){b(c.v,c.k,this);while(c&&c.r)c=c.p}},has:function(a){return!!n(l(this,h),a)}});j&&a(o.prototype,"size",{get:function(){return l(this,h)[m]}});return o},def:function(a,b,c){var d=n(a,b),e;d?d.v=c:(a._l=d={i:e=k(b,!0),k:b,v:c,p:b=a._l,n:void 0,r:!1},a._f||(a._f=d),b&&(b.n=d),a[m]++,e!=="F"&&(a._i[e]=d));return a},getEntry:n,setStrong:function(a,b,c){g(a,b,function(a,c){this._t=l(a,b),this._k=c,this._l=void 0},function(){var a=this,b=a._k,c=a._l;while(c&&c.r)c=c.p;if(!a._t||!(a._l=c=c?c.n:a._t._f)){a._t=void 0;return h(1)}if(b=="keys")return h(0,c.k);return b=="values"?h(0,c.v):h(0,[c.k,c.v])},c?"entries":"values",!c,!0),i(b)}}}var Up=!1,Vp=function(){Up||(Up=!0,Tp());return Sp.exports};f={};var Wp={exports:f};function Xp(){var b=j(),c=W(),d=Fa(),e=Jp(),f=X(),g=hp(),h=dp(),i=D(),k=r(),l=Hl(),m=Za(),n=Jf();Wp.exports=function(a,j,o,p,q,r){var s=b[a],t=s,u=q?"set":"add",v=t&&t.prototype,w={},x=function(a){var b=v[a];d(v,a,a=="delete"?function(a){return r&&!i(a)?!1:b.call(this,a===0?0:a)}:a=="has"?function(a){return r&&!i(a)?!1:b.call(this,a===0?0:a)}:a=="get"?function(a){return r&&!i(a)?void 0:b.call(this,a===0?0:a)}:a=="add"?function(a){b.call(this,a===0?0:a);return this}:function(a,c){b.call(this,a===0?0:a,c);return this})};if(typeof t!="function"||!(r||v.forEach&&!k(function(){new t().entries().next()})))t=p.getConstructor(j,a,q,u),e(t.prototype,o),f.NEED=!0;else{var y=new t();o=y[u](r?{}:-0,1)!=y;var z=k(function(){y.has(1)}),A=l(function(a){new t(a)}),B=!r&&k(function(){var a=new t(),b=5;while(b--)a[u](b,b);return!a.has(-0)});A||(t=j(function(b,c){h(b,t,a);b=n(new s(),b,t);c!=void 0&&g(c,q,b[u],b);return b}),t.prototype=v,v.constructor=t);(z||B)&&(x("delete"),x("has"),q&&x("get"));(B||o)&&x(u);r&&v.clear&&delete v.clear}m(t,a);w[a]=t;c(c.G+c.W+c.F*(t!=s),w);r||p.setStrong(t,a,q);return t}}var Yp=!1,Zp=function(){Yp||(Yp=!0,Xp());return Wp.exports};a={};var $p={exports:a};function aq(){var a=Vp(),b=Rp(),c="Map";$p.exports=Zp()(c,function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{get:function(d){d=a.getEntry(b(this,c),d);return d&&d.v},set:function(d,e){return a.def(b(this,c),d===0?0:d,e)}},a,!0)}var bq=!1,cq=function(){bq||(bq=!0,aq());return $p.exports};b={};var dq={exports:b};function eq(){var a=Vp(),b=Rp(),c="Set";dq.exports=Zp()(c,function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{add:function(d){return a.def(b(this,c),d=d===0?0:d,d)}},a)}var fq=!1,gq=function(){fq||(fq=!0,eq());return dq.exports};c={};var hq={exports:c};function iq(){var a=Jp(),b=X().getWeak,c=H(),d=D(),e=dp(),f=hp(),g=qm(),h=n(),i=Rp(),j=g(5),k=g(6),l=0,m=function(a){return a._l||(a._l=new o())},o=function(){this.a=[]},p=function(a,b){return j(a.a,function(a){return a[0]===b})};o.prototype={get:function(a){a=p(this,a);if(a)return a[1]},has:function(a){return!!p(this,a)},set:function(a,b){var c=p(this,a);c?c[1]=b:this.a.push([a,b])},"delete":function(a){var b=k(this.a,function(b){return b[0]===a});~b&&this.a.splice(b,1);return!!~b}};hq.exports={getConstructor:function(c,g,j,k){var n=c(function(a,b){e(a,n,g,"_i"),a._t=g,a._i=l++,a._l=void 0,b!=void 0&&f(b,j,a[k],a)});a(n.prototype,{"delete":function(a){if(!d(a))return!1;var c=b(a);return c===!0?m(i(this,g))["delete"](a):c&&h(c,this._i)&&delete c[this._i]},has:function(a){if(!d(a))return!1;var c=b(a);return c===!0?m(i(this,g)).has(a):c&&h(c,this._i)}});return n},def:function(a,d,e){var f=b(c(d),!0);f===!0?m(a).set(d,e):f[a._i]=e;return a},ufstore:m}}var jq=!1,kq=function(){jq||(jq=!0,iq());return hq.exports};d={};var lq={exports:d};function mq(){var b=j(),c=qm()(0),d=Fa(),e=X(),f=le(),g=kq(),h=D(),i=Rp(),k=Rp();b=!b.ActiveXObject&&"ActiveXObject"in b;var l="WeakMap",m=e.getWeak,n=Object.isExtensible,o=g.ufstore,p,q=function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},r={get:function(a){if(h(a)){var b=m(a);return b===!0?o(i(this,l)).get(a):b?b[this._i]:void 0}},set:function(a,b){return g.def(i(this,l),a,b)}},s=lq.exports=Zp()(l,q,r,g,!0,!0);k&&b&&(p=g.getConstructor(q,l),f(p.prototype,r),e.NEED=!0,c(["delete","has","get","set"],function(a){var b=s.prototype,c=b[a];d(b,a,function(b,d){if(h(b)&&!n(b)){this._f||(this._f=new p());var e=this._f[a](b,d);return a=="set"?this:e}return c.call(this,b,d)})}))}var nq=!1,oq=function(){nq||(nq=!0,mq());return lq.exports};f={};var pq={exports:f};function qq(){var a=kq(),b=Rp(),c="WeakSet";Zp()(c,function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{add:function(d){return a.def(b(this,c),d,!0)}},a,!1,!0)}var rq=!1,sq=function(){rq||(rq=!0,qq());return pq.exports};a={};var tq={exports:a};function uq(){var b=j(),c=la(),d=pa(),e=d("typed_array");d=d("view");var f=!!(b.ArrayBuffer&&b.DataView),g=f,h=0,i=9,k,l="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(h<i)(k=b[l[h++]])?(c(k.prototype,e,!0),c(k.prototype,d,!0)):g=!1;tq.exports={ABV:f,CONSTR:g,TYPED:e,VIEW:d}}var vq=!1,wq=function(){vq||(vq=!0,uq());return tq.exports};b={};var xq={exports:b};function yq(){var a=Bb(),b=Z();xq.exports=function(c){if(c===void 0)return 0;c=a(c);var d=b(c);if(c!==d)throw RangeError("Wrong length!");return d}}var zq=!1,Aq=function(){zq||(zq=!0,yq());return xq.exports},Bq={},Cq={exports:Bq};function Dq(){var b=j(),c=v(),d=ta(),e=wq(),f=la(),g=Jp(),h=r(),i=dp(),k=Bb(),l=Z(),m=Aq(),n=Oc().f,o=U().f,p=un(),q=Za(),s="ArrayBuffer",t="DataView",u="prototype",w="Wrong length!",x="Wrong index!",y=b[s],z=b[t],A=b.Math,B=b.RangeError,C=b.Infinity,D=y,E=A.abs,F=A.pow,G=A.floor,H=A.log,I=A.LN2;b="buffer";A="byteLength";var J="byteOffset",K=c?"_b":b,L=c?"_l":A,M=c?"_o":J;function N(a,b,c){var d=new Array(c);c=c*8-b-1;var e=(1<<c)-1,f=e>>1,g=b===23?F(2,-24)-F(2,-77):0,h=0,i=a<0||a===0&&1/a<0?1:0,j,k,l;a=E(a);a!=a||a===C?(k=a!=a?1:0,j=e):(j=G(H(a)/I),a*(l=F(2,-j))<1&&(j--,l*=2),j+f>=1?a+=g/l:a+=g*F(2,1-f),a*l>=2&&(j++,l/=2),j+f>=e?(k=0,j=e):j+f>=1?(k=(a*l-1)*F(2,b),j=j+f):(k=a*F(2,f-1)*F(2,b),j=0));for(;b>=8;d[h++]=k&255,k/=256,b-=8);j=j<<b|k;c+=b;for(;c>0;d[h++]=j&255,j/=256,c-=8);d[--h]|=i*128;return d}function O(a,b,c){var d=c*8-b-1,e=(1<<d)-1,f=e>>1;d=d-7;c=c-1;var g=a[c--],h=g&127,i;g>>=7;for(;d>0;h=h*256+a[c],c--,d-=8);i=h&(1<<-d)-1;h>>=-d;d+=b;for(;d>0;i=i*256+a[c],c--,d-=8);if(h===0)h=1-f;else if(h===e)return i?NaN:g?-C:C;else i=i+F(2,b),h=h-f;return(g?-1:1)*i*F(2,h-b)}function P(a){return a[3]<<24|a[2]<<16|a[1]<<8|a[0]}function aa(a){return[a&255]}function ba(a){return[a&255,a>>8&255]}function Q(a){return[a&255,a>>8&255,a>>16&255,a>>24&255]}function ca(a){return N(a,52,8)}function da(a){return N(a,23,4)}function R(a,b,c){o(a[u],b,{get:function(){return this[c]}})}function S(a,b,c,d){c=+c;c=m(c);if(c+b>a[L])throw B(x);var e=a[K]._b;c=c+a[M];a=e.slice(c,c+b);return d?a:a.reverse()}function T(a,b,c,d,e,f){c=+c;c=m(c);if(c+b>a[L])throw B(x);var g=a[K]._b;c=c+a[M];a=d(+e);for(var d=0;d<b;d++)g[c+d]=a[f?d:b-d-1]}if(!e.ABV)y=function(a){i(this,y,s);a=m(a);this._b=p.call(new Array(a),0);this[L]=a},z=function(a,b,c){i(this,z,t);i(a,y,t);var d=a[L];b=k(b);if(b<0||b>d)throw B("Wrong offset!");c=c===void 0?d-b:l(c);if(b+c>d)throw B(w);this[K]=a;this[M]=b;this[L]=c},c&&(R(y,A,"_l"),R(z,b,"_b"),R(z,A,"_l"),R(z,J,"_o")),g(z[u],{getInt8:function(a){return S(this,1,a)[0]<<24>>24},getUint8:function(a){return S(this,1,a)[0]},getInt16:function(a){var b=S(this,2,a,arguments[1]);return(b[1]<<8|b[0])<<16>>16},getUint16:function(a){var b=S(this,2,a,arguments[1]);return b[1]<<8|b[0]},getInt32:function(a){return P(S(this,4,a,arguments[1]))},getUint32:function(a){return P(S(this,4,a,arguments[1]))>>>0},getFloat32:function(a){return O(S(this,4,a,arguments[1]),23,4)},getFloat64:function(a){return O(S(this,8,a,arguments[1]),52,8)},setInt8:function(a,b){T(this,1,a,aa,b)},setUint8:function(a,b){T(this,1,a,aa,b)},setInt16:function(a,b){T(this,2,a,ba,b,arguments[2])},setUint16:function(a,b){T(this,2,a,ba,b,arguments[2])},setInt32:function(a,b){T(this,4,a,Q,b,arguments[2])},setUint32:function(a,b){T(this,4,a,Q,b,arguments[2])},setFloat32:function(a,b){T(this,4,a,da,b,arguments[2])},setFloat64:function(a,b){T(this,8,a,ca,b,arguments[2])}});else{if(!h(function(){y(1)})||!h(function(){new y(-1)})||h(function(){new y();new y(1.5);new y(NaN);return y.name!=s})){y=function(a){i(this,y);return new D(m(a))};c=y[u]=D[u];for(var b=n(D),A=0,R;b.length>A;)(R=b[A++])in y||f(y,R,D[R]);d||(c.constructor=y)}J=new z(new y(2));var ea=z[u].setInt8;J.setInt8(0,2147483648);J.setInt8(1,2147483649);(J.getInt8(0)||!J.getInt8(1))&&g(z[u],{setInt8:function(a,b){ea.call(this,a,b<<24>>24)},setUint8:function(a,b){ea.call(this,a,b<<24>>24)}},!0)}q(y,s);q(z,t);f(z[u],e.VIEW,!0);Bq[s]=y;Bq[t]=z}var Eq=!1,Fq=function(){Eq||(Eq=!0,Dq());return Cq.exports};c={};var Gq={exports:c};function Hq(){var a=W(),b=wq(),c=Fq(),d=H(),e=Ib(),f=Z(),g=D(),h=j().ArrayBuffer,i=Wo(),k=c.ArrayBuffer,l=c.DataView,m=b.ABV&&h.isView,n=k.prototype.slice,o=b.VIEW;c="ArrayBuffer";a(a.G+a.W+a.F*(h!==k),{ArrayBuffer:k});a(a.S+a.F*!b.CONSTR,c,{isView:function(a){return m&&m(a)||g(a)&&o in a}});a(a.P+a.U+a.F*r()(function(){return!new k(2).slice(1,void 0).byteLength}),c,{slice:function(a,b){if(n!==void 0&&b===void 0)return n.call(d(this),a);var c=d(this).byteLength;a=e(a,c);b=e(b===void 0?c:b,c);c=new(i(this,k))(f(b-a));var g=new l(this),h=new l(c),j=0;while(a<b)h.setUint8(j++,g.getUint8(a++));return c}});Kn()(c)}var Iq=!1,Jq=function(){Iq||(Iq=!0,Hq());return Gq.exports};d={};var Kq={exports:d};function Lq(){var a=W();a(a.G+a.W+a.F*!wq().ABV,{DataView:Fq().DataView})}var Mq=!1,Nq=function(){Mq||(Mq=!0,Lq());return Kq.exports};f={};var Oq={exports:f};function Pq(){if(v()){var c=ta(),b=j(),d=r(),e=W(),f=wq(),g=Fq(),h=Ma(),i=dp(),k=ha(),l=la(),m=Jp(),o=Bb(),p=Z(),q=Aq(),s=Ib(),t=ca(),u=n(),w=Je(),x=D(),y=xc(),z=vl(),A=Jc(),B=yd(),C=Oc().f,E=Dl(),F=pa(),G=Y(),H=qm(),I=Mb(),J=Wo(),K=Wn(),L=Oi(),M=Hl(),N=Kn(),O=un(),P=hn(),aa=U(),ba=Xc(),Q=aa.f,da=ba.f,R=b.RangeError,S=b.TypeError,T=b.Uint8Array,ea="ArrayBuffer",fa="Shared"+ea,ga="BYTES_PER_ELEMENT",ia="prototype",ja=Array[ia],ka=g.ArrayBuffer,ma=g.DataView,na=H(0),oa=H(2),qa=H(3),ra=H(4),sa=H(5),ua=H(6),va=I(!0),wa=I(!1),xa=K.values,ya=K.keys,za=K.entries,Aa=ja.lastIndexOf,Ba=ja.reduce,Ca=ja.reduceRight,Da=ja.join,Ea=ja.sort,Fa=ja.slice,Ga=ja.toString,Ha=ja.toLocaleString,Ia=G("iterator"),V=G("toStringTag"),Ja=F("typed_constructor"),Ka=F("def_constructor");g=f.CONSTR;var La=f.TYPED,Na=f.VIEW,Oa="Wrong length!",Pa=H(1,function(a,b){return Ta(J(a,a[Ka]),b)}),Qa=d(function(){return new T(new Uint16Array([1]).buffer)[0]===1}),Ra=!!T&&!!T[ia].set&&d(function(){new T(1).set({})}),Sa=function(a,b){a=o(a);if(a<0||a%b)throw R("Wrong offset!");return a},X=function(a){if(x(a)&&La in a)return a;throw S(a+" is not a typed array!")},Ta=function(a,b){if(!(x(a)&&Ja in a))throw S("It is not a typed array constructor!");return new a(b)},Ua=function(a,b){return Va(J(a,a[Ka]),b)},Va=function(a,b){var c=0,d=b.length;a=Ta(a,d);while(d>c)a[c]=b[c++];return a};I=function(a,b,c){Q(a,b,{get:function(){return this._d[c]}})};var Wa=function(a){var b=y(a),c=arguments.length,d=c>1?arguments[1]:void 0,e=d!==void 0,f=E(b),g,i,j,k,l,m;if(f!=void 0&&!z(f)){for(m=f.call(b),j=[],g=0;!(l=m.next()).done;g++)j.push(l.value);b=j}e&&c>2&&(d=h(d,arguments[2],2));for(g=0,i=p(b.length),k=Ta(this,i);i>g;g++)k[g]=e?d(b[g],g):b[g];return k},Xa=function(){var a=0,b=arguments.length,c=Ta(this,b);while(b>a)c[a]=arguments[a++];return c},Ya=!!T&&d(function(){Ha.call(new T(1))}),Za=function(){return Ha.apply(Ya?Fa.call(X(this)):X(this),arguments)},$a={copyWithin:function(a,b){return P.call(X(this),a,b,arguments.length>2?arguments[2]:void 0)},every:function(a){return ra(X(this),a,arguments.length>1?arguments[1]:void 0)},fill:function(a){return O.apply(X(this),arguments)},filter:function(a){return Ua(this,oa(X(this),a,arguments.length>1?arguments[1]:void 0))},find:function(a){return sa(X(this),a,arguments.length>1?arguments[1]:void 0)},findIndex:function(a){return ua(X(this),a,arguments.length>1?arguments[1]:void 0)},forEach:function(a){na(X(this),a,arguments.length>1?arguments[1]:void 0)},indexOf:function(a){return wa(X(this),a,arguments.length>1?arguments[1]:void 0)},includes:function(a){return va(X(this),a,arguments.length>1?arguments[1]:void 0)},join:function(a){return Da.apply(X(this),arguments)},lastIndexOf:function(a){return Aa.apply(X(this),arguments)},map:function(a){return Pa(X(this),a,arguments.length>1?arguments[1]:void 0)},reduce:function(a){return Ba.apply(X(this),arguments)},reduceRight:function(a){return Ca.apply(X(this),arguments)},reverse:function(){var a=this,b=X(a).length,c=Math.floor(b/2),d=0,e;while(d<c)e=a[d],a[d++]=a[--b],a[b]=e;return a},some:function(a){return qa(X(this),a,arguments.length>1?arguments[1]:void 0)},sort:function(a){return Ea.call(X(this),a)},subarray:function(a,b){var c=X(this),d=c.length;a=s(a,d);return new(J(c,c[Ka]))(c.buffer,c.byteOffset+a*c.BYTES_PER_ELEMENT,p((b===void 0?d:s(b,d))-a))}},ab=function(a,b){return Ua(this,Fa.call(X(this),a,b))},bb=function(a){X(this);var b=Sa(arguments[1],1),c=this.length,d=y(a),e=p(d.length),f=0;if(e+b>c)throw R(Oa);while(f<e)this[b+f]=d[f++]},cb={entries:function(){return za.call(X(this))},keys:function(){return ya.call(X(this))},values:function(){return xa.call(X(this))}},db=function(a,b){return x(a)&&a[La]&&typeof b!="symbol"&&b in a&&String(+b)==String(b)};K=function(a,b){return db(a,b=t(b,!0))?k(2,a[b]):da(a,b)};ja=function(a,b,c){if(db(a,b=t(b,!0))&&x(c)&&u(c,"value")&&!u(c,"get")&&!u(c,"set")&&!c.configurable&&(!u(c,"writable")||c.writable)&&(!u(c,"enumerable")||c.enumerable)){a[b]=c.value;return a}return Q(a,b,c)};g||(ba.f=K,aa.f=ja);e(e.S+e.F*!g,"Object",{getOwnPropertyDescriptor:K,defineProperty:ja});d(function(){Ga.call({})})&&(Ga=Ha=function(){return Da.call(this)});var eb=m({},$a);m(eb,cb);l(eb,Ia,cb.values);m(eb,{slice:ab,set:bb,constructor:function(){},toString:Ga,toLocaleString:Za});I(eb,"buffer","b");I(eb,"byteOffset","o");I(eb,"byteLength","l");I(eb,"length","e");Q(eb,V,{get:function(){return this[La]}});Oq.exports=function(a,g,h,j){j=!!j;var k=a+(j?"Clamped":"")+"Array",m="get"+a,n="set"+a,o=b[k],r=o||{};a=o&&B(o);var s=!o||!f.ABV,t={},u=o&&o[ia],v=function(a,b){a=a._d;return a.v[m](b*g+a.o,Qa)},y=function(a,b,c){a=a._d;j&&(c=(c=Math.round(c))<0?0:c>255?255:c&255);a.v[n](b*g+a.o,c,Qa)},z=function(a,b){Q(a,b,{get:function(){return v(this,b)},set:function(a){return y(this,b,a)},enumerable:!0})};s?(o=h(function(a,b,c,d){i(a,o,k,"_d");var e=0,f=0,h,j,m,n;if(!x(b))m=q(b),j=m*g,h=new ka(j);else if(b instanceof ka||(n=w(b))==ea||n==fa){h=b;f=Sa(c,g);c=b.byteLength;if(d===void 0){if(c%g)throw R(Oa);j=c-f;if(j<0)throw R(Oa)}else{j=p(d)*g;if(j+f>c)throw R(Oa)}m=j/g}else if(La in b)return Va(o,b);else return Wa.call(o,b);l(a,"_d",{b:h,o:f,l:j,e:m,v:new ma(h)});while(e<m)z(a,e++)}),u=o[ia]=A(eb),l(u,"constructor",o)):(!d(function(){o(1)})||!d(function(){new o(-1)})||!M(function(a){new o(),new o(null),new o(1.5),new o(a)},!0))&&(o=h(function(a,b,c,d){i(a,o,k);var e;if(!x(b))return new r(q(b));if(b instanceof ka||(e=w(b))==ea||e==fa)return d!==void 0?new r(b,Sa(c,g),d):c!==void 0?new r(b,Sa(c,g)):new r(b);return La in b?Va(o,b):Wa.call(o,b)}),na(a!==Function.prototype?C(r).concat(C(a)):C(r),function(a){a in o||l(o,a,r[a])}),o[ia]=u,c||(u.constructor=o));s=u[Ia];h=!!s&&(s.name=="values"||s.name==void 0);a=cb.values;l(o,Ja,!0);l(u,La,k);l(u,Na,!0);l(u,Ka,o);(j?new o(1)[V]!=k:!(V in u))&&Q(u,V,{get:function(){return k}});t[k]=o;e(e.G+e.W+e.F*(o!=r),t);e(e.S,k,{BYTES_PER_ELEMENT:g});e(e.S+e.F*d(function(){r.of.call(o,1)}),k,{from:Wa,of:Xa});ga in u||l(u,ga,g);e(e.P,k,$a);N(k);e(e.P+e.F*Ra,k,{set:bb});e(e.P+e.F*!h,k,cb);!c&&u.toString!=Ga&&(u.toString=Ga);e(e.P+e.F*d(function(){new o(1).slice()}),k,{slice:ab});e(e.P+e.F*(d(function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()})||!d(function(){u.toLocaleString.call([1,2])})),k,{toLocaleString:Za});L[k]=h?s:a;!c&&!h&&l(u,Ia,a)}}else Oq.exports=function(){}}var Qq=!1,Rq=function(){Qq||(Qq=!0,Pq());return Oq.exports};a={};var Sq={exports:a};function Tq(){Rq()("Int8",1,function(a){return function(b,c,d){return a(this,b,c,d)}})}var Uq=!1,Vq=function(){Uq||(Uq=!0,Tq());return Sq.exports};b={};var Wq={exports:b};function Xq(){Rq()("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}})}var Yq=!1,Zq=function(){Yq||(Yq=!0,Xq());return Wq.exports};c={};var $q={exports:c};function ar(){Rq()("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}},!0)}var br=!1,cr=function(){br||(br=!0,ar());return $q.exports};d={};var dr={exports:d};function er(){Rq()("Int16",2,function(a){return function(b,c,d){return a(this,b,c,d)}})}var fr=!1,gr=function(){fr||(fr=!0,er());return dr.exports};f={};var hr={exports:f};function ir(){Rq()("Uint16",2,function(a){return function(b,c,d){return a(this,b,c,d)}})}var jr=!1,kr=function(){jr||(jr=!0,ir());return hr.exports};a={};var lr={exports:a};function mr(){Rq()("Int32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})}var nr=!1,or=function(){nr||(nr=!0,mr());return lr.exports};b={};var pr={exports:b};function qr(){Rq()("Uint32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})}var rr=!1,sr=function(){rr||(rr=!0,qr());return pr.exports};c={};var tr={exports:c};function ur(){Rq()("Float32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})}var vr=!1,wr=function(){vr||(vr=!0,ur());return tr.exports};d={};var xr={exports:d};function yr(){Rq()("Float64",8,function(a){return function(b,c,d){return a(this,b,c,d)}})}var zr=!1,Ar=function(){zr||(zr=!0,yr());return xr.exports};f={};var Br={exports:f};function Cr(){var a=W(),b=V(),c=H(),d=(j().Reflect||{}).apply,e=Function.apply;a(a.S+a.F*!r()(function(){d(function(){})}),"Reflect",{apply:function(a,f,g){a=b(a);g=c(g);return d?d(a,f,g):e.call(a,f,g)}})}var Dr=!1,Er=function(){Dr||(Dr=!0,Cr());return Br.exports};a={};var Fr={exports:a};function Gr(){var a=W(),b=Jc(),c=V(),d=H(),e=D(),f=r(),g=Ve(),h=(j().Reflect||{}).construct,i=f(function(){function a(){}return!(h(function(){},[],a)instanceof a)}),k=!f(function(){h(function(){})});a(a.S+a.F*(i||k),"Reflect",{construct:function(a,f){c(a);d(f);var j=arguments.length<3?a:c(arguments[2]);if(k&&!i)return h(a,f,j);if(a==j){switch(f.length){case 0:return new a();case 1:return new a(f[0]);case 2:return new a(f[0],f[1]);case 3:return new a(f[0],f[1],f[2]);case 4:return new a(f[0],f[1],f[2],f[3])}var l=[null];l.push.apply(l,f);return new(g.apply(a,l))()}var m=j.prototype,n=b(e(m)?m:Object.prototype),o=Function.apply.call(a,n,f);return e(o)?o:n}})}var Hr=!1,Ir=function(){Hr||(Hr=!0,Gr());return Fr.exports};b={};var Jr={exports:b};function Kr(){var a=U(),b=W(),c=H(),d=ca();b(b.S+b.F*r()(function(){Reflect.defineProperty(a.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(b,e,f){c(b);e=d(e,!0);c(f);try{a.f(b,e,f);return!0}catch(a){return!1}}})}var Lr=!1,Mr=function(){Lr||(Lr=!0,Kr());return Jr.exports};c={};var Nr={exports:c};function Or(){var a=W(),b=Xc().f,c=H();a(a.S,"Reflect",{deleteProperty:function(a,d){var e=b(c(a),d);return e&&!e.configurable?!1:delete a[d]}})}var Pr=!1,Qr=function(){Pr||(Pr=!0,Or());return Nr.exports};d={};var Rr={exports:d};function Sr(){var a=W(),b=H(),c=function(a){this._t=b(a);this._i=0;var c=this._k=[];for(a in a)c.push(a)};Si()(c,"Object",function(){var a=this,b=a._k,c;do if(a._i>=b.length)return{value:void 0,done:!0};while(!((c=b[a._i++])in a._t));return{value:c,done:!1}});a(a.S,"Reflect",{enumerate:function(a){return new c(a)}})}var Tr=!1,Ur=function(){Tr||(Tr=!0,Sr());return Rr.exports};f={};var Vr={exports:f};function Wr(){var a=Xc(),b=yd(),c=n(),d=W(),e=D(),f=H();function g(d,h){var i=arguments.length<3?d:arguments[2],j,k;if(f(d)===i)return d[h];if(j=a.f(d,h))return c(j,"value")?j.value:j.get!==void 0?j.get.call(i):void 0;if(e(k=b(d)))return g(k,h,i)}d(d.S,"Reflect",{get:g})}var Xr=!1,Yr=function(){Xr||(Xr=!0,Wr());return Vr.exports};a={};var Zr={exports:a};function $r(){var a=Xc(),b=W(),c=H();b(b.S,"Reflect",{getOwnPropertyDescriptor:function(b,d){return a.f(c(b),d)}})}var as=!1,bs=function(){as||(as=!0,$r());return Zr.exports};b={};var cs={exports:b};function ds(){var a=W(),b=yd(),c=H();a(a.S,"Reflect",{getPrototypeOf:function(a){return b(c(a))}})}var es=!1,fs=function(){es||(es=!0,ds());return cs.exports};c={};var gs={exports:c};function hs(){var a=W();a(a.S,"Reflect",{has:function(a,b){return b in a}})}var is=!1,js=function(){is||(is=!0,hs());return gs.exports};d={};var ks={exports:d};function ls(){var a=W(),b=H(),c=Object.isExtensible;a(a.S,"Reflect",{isExtensible:function(a){b(a);return c?c(a):!0}})}var ms=!1,ns=function(){ms||(ms=!0,ls());return ks.exports};f={};var os={exports:f};function ps(){var a=Oc(),b=gc(),c=H(),d=j().Reflect;os.exports=d&&d.ownKeys||function(d){var e=a.f(c(d)),f=b.f;return f?e.concat(f(d)):e}}var qs=!1,rs=function(){qs||(qs=!0,ps());return os.exports};a={};var ss={exports:a};function ts(){var a=W();a(a.S,"Reflect",{ownKeys:rs()})}var us=!1,vs=function(){us||(us=!0,ts());return ss.exports};b={};var ws={exports:b};function xs(){var a=W(),b=H(),c=Object.preventExtensions;a(a.S,"Reflect",{preventExtensions:function(a){b(a);try{c&&c(a);return!0}catch(a){return!1}}})}var ys=!1,zs=function(){ys||(ys=!0,xs());return ws.exports};c={};var As={exports:c};function Bs(){var a=U(),b=Xc(),c=yd(),d=n(),e=W(),f=ha(),g=H(),h=D();function i(e,j,k){var l=arguments.length<4?e:arguments[3],m=b.f(g(e),j),n,o;if(!m){if(h(o=c(e)))return i(o,j,k,l);m=f(0)}if(d(m,"value")){if(m.writable===!1||!h(l))return!1;if(n=b.f(l,j)){if(n.get||n.set||n.writable===!1)return!1;n.value=k;a.f(l,j,n)}else a.f(l,j,f(0,k));return!0}return m.set===void 0?!1:(m.set.call(l,k),!0)}e(e.S,"Reflect",{set:i})}var Cs=!1,Ds=function(){Cs||(Cs=!0,Bs());return As.exports};d={};var Es={exports:d};function Fs(){var a=W(),b=Be();b&&a(a.S,"Reflect",{setPrototypeOf:function(a,c){b.check(a,c);try{b.set(a,c);return!0}catch(a){return!1}}})}var Gs=!1,Hs=function(){Gs||(Gs=!0,Fs());return Es.exports};f={};var Is={exports:f};function Js(){var a=W(),b=Mb()(!0);a(a.P,"Array",{includes:function(a){return b(this,a,arguments.length>1?arguments[1]:void 0)}});mn()("includes")}var Ks=!1,Ls=function(){Ks||(Ks=!0,Js());return Is.exports};a={};var Ms={exports:a};function Ns(){var a=tc(),b=D(),c=Z(),d=Ma(),e=Y()("isConcatSpreadable");function f(g,h,i,j,k,l,m,n){k=k;var o=0;m=m?d(m,n,3):!1;var p;while(o<j){if(o in i){n=m?m(i[o],o,h):i[o];p=!1;b(n)&&(p=n[e],p=p!==void 0?!!p:a(n));if(p&&l>0)k=f(g,h,n,c(n.length),k,l-1)-1;else{if(k>=9007199254740991)throw TypeError();g[k]=n}k++}o++}return k}Ms.exports=f}var Os=!1,Ps=function(){Os||(Os=!0,Ns());return Ms.exports};b={};var Qs={exports:b};function Rs(){var a=W(),b=Ps(),c=xc(),d=Z(),e=V(),f=mm();a(a.P,"Array",{flatMap:function(a){var g=c(this),h,i;e(a);h=d(g.length);i=f(g,0);b(i,g,g,h,0,1,a,arguments[1]);return i}});mn()("flatMap")}var Ss=!1,Ts=function(){Ss||(Ss=!0,Rs());return Qs.exports};c={};var Us={exports:c};function Vs(){var a=W(),b=Ps(),c=xc(),d=Z(),e=Bb(),f=mm();a(a.P,"Array",{flatten:function(){var a=arguments[0],g=c(this),h=d(g.length),i=f(g,0);b(i,g,g,h,0,a===void 0?1:e(a));return i}});mn()("flatten")}var Ws=!1,Xs=function(){Ws||(Ws=!0,Vs());return Us.exports};d={};var Ys={exports:d};function Zs(){var a=W(),b=Ki()(!0);a(a.P,"String",{at:function(a){return b(this,a)}})}var $s=!1,at=function(){$s||($s=!0,Zs());return Ys.exports};f={};var bt={exports:f};function ct(){var a=Z(),b=Vf(),c=tb();bt.exports=function(d,e,f,g){d=String(c(d));var h=d.length;f=f===void 0?" ":String(f);e=a(e);if(e<=h||f=="")return d;e=e-h;h=b.call(f,Math.ceil(e/f.length));h.length>e&&(h=h.slice(0,e));return g?h+d:d+h}}var dt=!1,et=function(){dt||(dt=!0,ct());return bt.exports};a={};var ft={exports:a};function gt(){var a=W(),b=et(),c=Bp();c=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(c);a(a.P+a.F*c,"String",{padStart:function(a){return b(this,a,arguments.length>1?arguments[1]:void 0,!0)}})}var ht=!1,it=function(){ht||(ht=!0,gt());return ft.exports};b={};var jt={exports:b};function kt(){var a=W(),b=et(),c=Bp();c=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(c);a(a.P+a.F*c,"String",{padEnd:function(a){return b(this,a,arguments.length>1?arguments[1]:void 0,!1)}})}var lt=!1,mt=function(){lt||(lt=!0,kt());return jt.exports};c={};var nt={exports:c};function ot(){pf()("trimLeft",function(a){return function(){return a(this,1)}},"trimStart")}var pt=!1,qt=function(){pt||(pt=!0,ot());return nt.exports};d={};var rt={exports:d};function st(){pf()("trimRight",function(a){return function(){return a(this,2)}},"trimEnd")}var tt=!1,ut=function(){tt||(tt=!0,st());return rt.exports};f={};var vt={exports:f};function wt(){var a=W(),b=tb(),c=Z(),d=hj(),e=$n(),f=RegExp.prototype,g=function(a,b){this._r=a,this._s=b};Si()(g,"RegExp String",function(){var a=this._r.exec(this._s);return{value:a,done:a===null}});a(a.P,"String",{matchAll:function(a){b(this);if(!d(a))throw TypeError(a+" is not a regexp!");var h=String(this),i="flags"in f?String(a.flags):e.call(a);i=new RegExp(a.source,~i.indexOf("g")?i:"g"+i);i.lastIndex=c(a.lastIndex);return new g(i,h)}})}var xt=!1,yt=function(){xt||(xt=!0,wt());return vt.exports};a={};var zt={exports:a};function At(){hb()("asyncIterator")}var Bt=!1,Ct=function(){Bt||(Bt=!0,At());return zt.exports};b={};var Dt={exports:b};function Et(){hb()("observable")}var Ft=!1,Gt=function(){Ft||(Ft=!0,Et());return Dt.exports};c={};var Ht={exports:c};function It(){var a=W(),b=rs(),c=xb(),d=Xc(),e=zl();a(a.S,"Object",{getOwnPropertyDescriptors:function(a){a=c(a);var f=d.f,g=b(a),h={},i=0,j,k;while(g.length>i)k=f(a,j=g[i++]),k!==void 0&&e(h,j,k);return h}})}var Jt=!1,Kt=function(){Jt||(Jt=!0,It());return Ht.exports};d={};var Lt={exports:d};function Mt(){var a=v(),b=bc(),c=xb(),d=lc().f;Lt.exports=function(e){return function(f){f=c(f);var g=b(f),h=g.length,i=0,j=[],k;while(h>i)k=g[i++],(!a||d.call(f,k))&&j.push(e?[k,f[k]]:f[k]);return j}}}var Nt=!1,Ot=function(){Nt||(Nt=!0,Mt());return Lt.exports};f={};var Pt={exports:f};function Qt(){var a=W(),b=Ot()(!1);a(a.S,"Object",{values:function(a){return b(a)}})}var Rt=!1,St=function(){Rt||(Rt=!0,Qt());return Pt.exports};a={};var Tt={exports:a};function Ut(){var a=W(),b=Ot()(!0);a(a.S,"Object",{entries:function(a){return b(a)}})}var Vt=!1,Wt=function(){Vt||(Vt=!0,Ut());return Tt.exports};b={};var Xt={exports:b};function Yt(){Xt.exports=ta()||!r()(function(){var a=Math.random();__defineSetter__.call(null,a,function(){});delete j()[a]})}var Zt=!1,$t=function(){Zt||(Zt=!0,Yt());return Xt.exports};c={};var au={exports:c};function bu(){var a=W(),b=xc(),c=V(),d=U();v()&&a(a.P+$t(),"Object",{__defineGetter__:function(a,e){d.f(b(this),a,{get:c(e),enumerable:!0,configurable:!0})}})}var cu=!1,du=function(){cu||(cu=!0,bu());return au.exports};d={};var eu={exports:d};function fu(){var a=W(),b=xc(),c=V(),d=U();v()&&a(a.P+$t(),"Object",{__defineSetter__:function(a,e){d.f(b(this),a,{set:c(e),enumerable:!0,configurable:!0})}})}var gu=!1,hu=function(){gu||(gu=!0,fu());return eu.exports};f={};var iu={exports:f};function ju(){var a=W(),b=xc(),c=ca(),d=yd(),e=Xc().f;v()&&a(a.P+$t(),"Object",{__lookupGetter__:function(a){var f=b(this);a=c(a,!0);var g;do if(g=e(f,a))return g.get;while(f=d(f))}})}var ku=!1,lu=function(){ku||(ku=!0,ju());return iu.exports};a={};var mu={exports:a};function nu(){var a=W(),b=xc(),c=ca(),d=yd(),e=Xc().f;v()&&a(a.P+$t(),"Object",{__lookupSetter__:function(a){var f=b(this);a=c(a,!0);var g;do if(g=e(f,a))return g.set;while(f=d(f))}})}var ou=!1,pu=function(){ou||(ou=!0,nu());return mu.exports};b={};var qu={exports:b};function ru(){var a=hp();qu.exports=function(b,c){var d=[];a(b,!1,d.push,d,c);return d}}var su=!1,tu=function(){su||(su=!0,ru());return qu.exports};c={};var uu={exports:c};function vu(){var a=Je(),b=tu();uu.exports=function(c){return function(){if(a(this)!=c)throw TypeError(c+"#toJSON isn't generic");return b(this)}}}var wu=!1,xu=function(){wu||(wu=!0,vu());return uu.exports};d={};var yu={exports:d};function zu(){var a=W();a(a.P+a.R,"Map",{toJSON:xu()("Map")})}var Au=!1,Bu=function(){Au||(Au=!0,zu());return yu.exports};f={};var Cu={exports:f};function Du(){var a=W();a(a.P+a.R,"Set",{toJSON:xu()("Set")})}var Eu=!1,Fu=function(){Eu||(Eu=!0,Du());return Cu.exports};a={};var Gu={exports:a};function Hu(){var a=W();Gu.exports=function(b){a(a.S,b,{of:function(){var a=arguments.length,b=new Array(a);while(a--)b[a]=arguments[a];return new this(b)}})}}var Iu=!1,Ju=function(){Iu||(Iu=!0,Hu());return Gu.exports};b={};var Ku={exports:b};function Lu(){Ju()("Map")}var Mu=!1,Nu=function(){Mu||(Mu=!0,Lu());return Ku.exports};c={};var Ou={exports:c};function Pu(){Ju()("Set")}var Qu=!1,Ru=function(){Qu||(Qu=!0,Pu());return Ou.exports};d={};var Su={exports:d};function Tu(){Ju()("WeakMap")}var Uu=!1,Vu=function(){Uu||(Uu=!0,Tu());return Su.exports};f={};var Wu={exports:f};function Xu(){Ju()("WeakSet")}var Yu=!1,Zu=function(){Yu||(Yu=!0,Xu());return Wu.exports};a={};var $u={exports:a};function av(){var a=W(),b=V(),c=Ma(),d=hp();$u.exports=function(e){a(a.S,e,{from:function(a){var e=arguments[1],f,g,h,i;b(this);f=e!==void 0;f&&b(e);if(a==void 0)return new this();g=[];f?(h=0,i=c(e,arguments[2],2),d(a,!1,function(a){g.push(i(a,h++))})):d(a,!1,g.push,g);return new this(g)}})}}var bv=!1,cv=function(){bv||(bv=!0,av());return $u.exports};b={};var dv={exports:b};function ev(){cv()("Map")}var fv=!1,gv=function(){fv||(fv=!0,ev());return dv.exports};c={};var hv={exports:c};function iv(){cv()("Set")}var jv=!1,kv=function(){jv||(jv=!0,iv());return hv.exports};d={};var lv={exports:d};function mv(){cv()("WeakMap")}var nv=!1,ov=function(){nv||(nv=!0,mv());return lv.exports};f={};var pv={exports:f};function qv(){cv()("WeakSet")}var rv=!1,sv=function(){rv||(rv=!0,qv());return pv.exports};a={};var tv={exports:a};function uv(){var a=W();a(a.G,{global:j()})}var vv=!1,wv=function(){vv||(vv=!0,uv());return tv.exports};b={};var xv={exports:b};function yv(){var a=W();a(a.S,"System",{global:j()})}var zv=!1,Av=function(){zv||(zv=!0,yv());return xv.exports};c={};var Bv={exports:c};function Cv(){var a=W(),b=lb();a(a.S,"Error",{isError:function(a){return b(a)==="Error"}})}var Dv=!1,Ev=function(){Dv||(Dv=!0,Cv());return Bv.exports};d={};var Fv={exports:d};function Gv(){var a=W();a(a.S,"Math",{clamp:function(a,b,c){return Math.min(c,Math.max(b,a))}})}var Hv=!1,Iv=function(){Hv||(Hv=!0,Gv());return Fv.exports};f={};var Jv={exports:f};function Kv(){var a=W();a(a.S,"Math",{DEG_PER_RAD:Math.PI/180})}var Lv=!1,Mv=function(){Lv||(Lv=!0,Kv());return Jv.exports};a={};var Nv={exports:a};function Ov(){var a=W(),b=180/Math.PI;a(a.S,"Math",{degrees:function(a){return a*b}})}var Pv=!1,Qv=function(){Pv||(Pv=!0,Ov());return Nv.exports};b={};var Rv={exports:b};function Sv(){Rv.exports=Math.scale||function(a,b,c,d,e){if(arguments.length===0||a!=a||b!=b||c!=c||d!=d||e!=e)return NaN;return a===Infinity||a===-Infinity?a:(a-b)*(e-d)/(c-b)+d}}var Tv=!1,Uv=function(){Tv||(Tv=!0,Sv());return Rv.exports};c={};var Vv={exports:c};function Wv(){var a=W(),b=Uv(),c=Hh();a(a.S,"Math",{fscale:function(a,d,e,f,g){return c(b(a,d,e,f,g))}})}var Xv=!1,Yv=function(){Xv||(Xv=!0,Wv());return Vv.exports};d={};var Zv={exports:d};function $v(){var a=W();a(a.S,"Math",{iaddh:function(a,b,c,d){a=a>>>0;b=b>>>0;c=c>>>0;return b+(d>>>0)+((a&c|(a|c)&~(a+c>>>0))>>>31)|0}})}var aw=!1,bw=function(){aw||(aw=!0,$v());return Zv.exports};f={};var cw={exports:f};function dw(){var a=W();a(a.S,"Math",{isubh:function(a,b,c,d){a=a>>>0;b=b>>>0;c=c>>>0;return b-(d>>>0)-((~a&c|~(a^c)&a-c>>>0)>>>31)|0}})}var ew=!1,fw=function(){ew||(ew=!0,dw());return cw.exports};a={};var gw={exports:a};function hw(){var a=W();a(a.S,"Math",{imulh:function(a,b){var c=65535;a=+a;b=+b;var d=a&c,e=b&c;a=a>>16;b=b>>16;e=(a*e>>>0)+(d*e>>>16);return a*b+(e>>16)+((d*b>>>0)+(e&c)>>16)}})}var iw=!1,jw=function(){iw||(iw=!0,hw());return gw.exports};b={};var kw={exports:b};function lw(){var a=W();a(a.S,"Math",{RAD_PER_DEG:180/Math.PI})}var mw=!1,nw=function(){mw||(mw=!0,lw());return kw.exports};c={};var ow={exports:c};function pw(){var a=W(),b=Math.PI/180;a(a.S,"Math",{radians:function(a){return a*b}})}var qw=!1,rw=function(){qw||(qw=!0,pw());return ow.exports};d={};var sw={exports:d};function tw(){var a=W();a(a.S,"Math",{scale:Uv()})}var uw=!1,vw=function(){uw||(uw=!0,tw());return sw.exports};f={};var ww={exports:f};function xw(){var a=W();a(a.S,"Math",{umulh:function(a,b){var c=65535;a=+a;b=+b;var d=a&c,e=b&c;a=a>>>16;b=b>>>16;e=(a*e>>>0)+(d*e>>>16);return a*b+(e>>>16)+((d*b>>>0)+(e&c)>>>16)}})}var yw=!1,zw=function(){yw||(yw=!0,xw());return ww.exports};a={};var Aw={exports:a};function Bw(){var a=W();a(a.S,"Math",{signbit:function(a){return(a=+a)!=a?a:a==0?1/a==Infinity:a>0}})}var Cw=!1,Dw=function(){Cw||(Cw=!0,Bw());return Aw.exports};b={};var Ew={exports:b};function Fw(){var c=W(),d=z(),b=j(),e=Wo(),f=Fp();c(c.P+c.R,"Promise",{"finally":function(a){var c=e(this,d.Promise||b.Promise),g=typeof a=="function";return this.then(g?function(b){return f(c,a()).then(function(){return b})}:a,g?function(b){return f(c,a()).then(function(){throw b})}:a)}})}var Gw=!1,Hw=function(){Gw||(Gw=!0,Fw());return Ew.exports};c={};var Iw={exports:c};function Jw(){var a=W(),b=tp(),c=xp();a(a.S,"Promise",{"try":function(a){var d=b.f(this);a=c(a);(a.e?d.reject:d.resolve)(a.v);return d.promise}})}var Kw=!1,Lw=function(){Kw||(Kw=!0,Jw());return Iw.exports};d={};var Mw={exports:d};function Nw(){var a=cq(),b=W(),c=xa()("metadata"),d=c.store||(c.store=new(oq())()),e=function(b,c,e){var f=d.get(b);if(!f){if(!e)return void 0;d.set(b,f=new a())}b=f.get(c);if(!b){if(!e)return void 0;f.set(c,b=new a())}return b};c=function(a,b,c){b=e(b,c,!1);return b===void 0?!1:b.has(a)};var f=function(a,b,c){b=e(b,c,!1);return b===void 0?void 0:b.get(a)},g=function(a,b,c,d){e(c,d,!0).set(a,b)},h=function(a,b){a=e(a,b,!1);var c=[];a&&a.forEach(function(a,b){c.push(b)});return c},i=function(a){return a===void 0||typeof a=="symbol"?a:String(a)},j=function(a){b(b.S,"Reflect",a)};Mw.exports={store:d,map:e,has:c,get:f,set:g,keys:h,key:i,exp:j}}var Ow=!1,Pw=function(){Ow||(Ow=!0,Nw());return Mw.exports};f={};var Qw={exports:f};function Rw(){var a=Pw(),b=H(),c=a.key,d=a.set;a.exp({defineMetadata:function(a,e,f,g){d(a,e,b(f),c(g))}})}var Sw=!1,Tw=function(){Sw||(Sw=!0,Rw());return Qw.exports};a={};var Uw={exports:a};function Vw(){var a=Pw(),b=H(),c=a.key,d=a.map,e=a.store;a.exp({deleteMetadata:function(a,f){var g=arguments.length<3?void 0:c(arguments[2]),h=d(b(f),g,!1);if(h===void 0||!h["delete"](a))return!1;if(h.size)return!0;var i=e.get(f);i["delete"](g);return!!i.size||e["delete"](f)}})}var Ww=!1,Xw=function(){Ww||(Ww=!0,Vw());return Uw.exports};b={};var Yw={exports:b};function Zw(){var a=Pw(),b=H(),c=yd(),d=a.has,e=a.get,f=a.key,g=function(a,b,f){var h=d(a,b,f);if(h)return e(a,b,f);h=c(b);return h!==null?g(a,h,f):void 0};a.exp({getMetadata:function(a,c){return g(a,b(c),arguments.length<3?void 0:f(arguments[2]))}})}var $w=!1,ax=function(){$w||($w=!0,Zw());return Yw.exports};c={};var bx={exports:c};function cx(){var a=gq(),b=tu(),c=Pw(),d=H(),e=yd(),f=c.keys,g=c.key,h=function(c,d){var g=f(c,d);c=e(c);if(c===null)return g;c=h(c,d);return c.length?g.length?b(new a(g.concat(c))):c:g};c.exp({getMetadataKeys:function(a){return h(d(a),arguments.length<2?void 0:g(arguments[1]))}})}var dx=!1,ex=function(){dx||(dx=!0,cx());return bx.exports};d={};var fx={exports:d};function gx(){var a=Pw(),b=H(),c=a.get,d=a.key;a.exp({getOwnMetadata:function(a,e){return c(a,b(e),arguments.length<3?void 0:d(arguments[2]))}})}var hx=!1,ix=function(){hx||(hx=!0,gx());return fx.exports};f={};var jx={exports:f};function kx(){var a=Pw(),b=H(),c=a.keys,d=a.key;a.exp({getOwnMetadataKeys:function(a){return c(b(a),arguments.length<2?void 0:d(arguments[1]))}})}var lx=!1,mx=function(){lx||(lx=!0,kx());return jx.exports};a={};var nx={exports:a};function ox(){var a=Pw(),b=H(),c=yd(),d=a.has,e=a.key,f=function(a,b,e){var g=d(a,b,e);if(g)return!0;g=c(b);return g!==null?f(a,g,e):!1};a.exp({hasMetadata:function(a,c){return f(a,b(c),arguments.length<3?void 0:e(arguments[2]))}})}var px=!1,qx=function(){px||(px=!0,ox());return nx.exports};b={};var rx={exports:b};function sx(){var a=Pw(),b=H(),c=a.has,d=a.key;a.exp({hasOwnMetadata:function(a,e){return c(a,b(e),arguments.length<3?void 0:d(arguments[2]))}})}var tx=!1,ux=function(){tx||(tx=!0,sx());return rx.exports};c={};var vx={exports:c};function wx(){var a=Pw(),b=H(),c=V(),d=a.key,e=a.set;a.exp({metadata:function(a,f){return function(g,h){e(a,f,(h!==void 0?b:c)(g),d(h))}}})}var xx=!1,yx=function(){xx||(xx=!0,wx());return vx.exports};d={};var zx={exports:d};function Ax(){var a=W(),b=pp()(),c=j().process,d=lb()(c)=="process";a(a.G,{asap:function(a){var e=d&&c.domain;b(e?e.bind(a):a)}})}var Bx=!1,Cx=function(){Bx||(Bx=!0,Ax());return zx.exports};f={};var Dx={exports:f};function Ex(){var c=W(),b=j(),d=z(),e=pp()(),f=Y()("observable"),g=V(),h=H(),i=dp(),k=Jp(),l=la(),m=hp(),n=m.RETURN,o=function(a){return a==null?void 0:g(a)},p=function(a){var b=a._c;b&&(a._c=void 0,b())},q=function(a){return a._o===void 0},r=function(a){q(a)||(a._o=void 0,p(a))},s=function(a,b){h(a);this._c=void 0;this._o=a;a=new t(this);try{b=b(a);var c=b;b!=null&&(typeof b.unsubscribe==="function"?b=function(){c.unsubscribe()}:g(b),this._c=b)}catch(b){a.error(b);return}q(this)&&p(this)};s.prototype=k({},{unsubscribe:function(){r(this)}});var t=function(a){this._s=a};t.prototype=k({},{next:function(a){var b=this._s;if(!q(b)){var c=b._o;try{var d=o(c.next);if(d)return d.call(c,a)}catch(a){try{r(b)}finally{throw a}}}},error:function(a){var b=this._s;if(q(b))throw a;var c=b._o;b._o=void 0;try{var d=o(c.error);if(!d)throw a;a=d.call(c,a)}catch(a){try{p(b)}finally{throw a}}p(b);return a},complete:function(a){var b=this._s;if(!q(b)){var c=b._o;b._o=void 0;try{var d=o(c.complete);a=d?d.call(c,a):void 0}catch(a){try{p(b)}finally{throw a}}p(b);return a}}});var u=function(a){i(this,u,"Observable","_f")._f=g(a)};k(u.prototype,{subscribe:function(a){return new s(a,this._f)},forEach:function(a){var c=this;return new(d.Promise||b.Promise)(function(b,d){g(a);b=c.subscribe({next:function(c){try{return a(c)}catch(a){d(a),b.unsubscribe()}},error:d,complete:b})})}});k(u,{from:function(a){var b=typeof this==="function"?this:u,c=o(h(a)[f]);if(c){var d=h(c.call(a));return d.constructor===b?d:new b(function(a){return d.subscribe(a)})}return new b(function(b){var c=!1;e(function(){if(!c){try{if(m(a,!1,function(a){b.next(a);if(c)return n})===n)return}catch(a){if(c)throw a;b.error(a);return}b.complete()}});return function(){c=!0}})},of:function(){for(var a=0,b=arguments.length,c=new Array(b);a<b;)c[a]=arguments[a++];return new(typeof this==="function"?this:u)(function(a){var b=!1;e(function(){if(!b){for(var d=0;d<c.length;++d){a.next(c[d]);if(b)return}a.complete()}});return function(){b=!0}})}});l(u.prototype,f,function(){return this});c(c.G,{Observable:u});Kn()("Observable")}var Fx=!1,Gx=function(){Fx||(Fx=!0,Ex());return Dx.exports};a={};var Hx={exports:a};function Ix(){var b=j(),c=W(),d=Bp(),e=[].slice;d=/MSIE .\./.test(d);var f=function(a){return function(b,c){var d=arguments.length>2,f=d?e.call(arguments,2):!1;return a(d?function(){(typeof b=="function"?b:Function(b)).apply(this,f)}:b,c)}};c(c.G+c.B+c.F*d,{setTimeout:f(b.setTimeout),setInterval:f(b.setInterval)})}var Jx=!1,Kx=function(){Jx||(Jx=!0,Ix());return Hx.exports};b={};var Lx={exports:b};function Mx(){var a=W(),b=lp();a(a.G+a.B,{setImmediate:b.set,clearImmediate:b.clear})}var Nx=!1,Ox=function(){Nx||(Nx=!0,Mx());return Lx.exports};c={};var Px={exports:c};function Qx(){var c=Wn(),d=bc(),e=Fa(),b=j(),f=la(),g=Oi(),h=Y(),i=h("iterator");h=h("toStringTag");var k=g.Array,l={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1};for(var d=d(l),m=0;m<d.length;m++){var n=d[m],o=l[n],p=b[n];p=p&&p.prototype;if(p){p[i]||f(p,i,k);p[h]||f(p,h,n);g[n]=k;if(o)for(n in c)p[n]||e(p,n,c[n],!0)}}}var Rx=!1,Sx=function(){Rx||(Rx=!0,Qx());return Px.exports};d={};var Tx={exports:d};function Ux(){ad(),ed(),id(),md(),ud(),Cd(),Gd(),Kd(),Od(),Sd(),Wd(),$d(),de(),he(),pe(),xe(),Fe(),Ne(),Ze(),cf(),gf(),xf(),Ff(),Nf(),Zf(),cg(),gg(),kg(),sg(),wg(),Ag(),Eg(),Ig(),Mg(),Qg(),Yg(),bh(),fh(),nh(),rh(),vh(),Dh(),Lh(),Ph(),Th(),Xh(),ai(),ei(),ii(),mi(),qi(),ui(),yi(),Ci(),Gi(),$i(),dj(),tj(),xj(),Bj(),Fj(),Nj(),Rj(),Vj(),Zj(),ck(),gk(),kk(),ok(),sk(),wk(),Ak(),Ek(),Ik(),Mk(),Qk(),Yk(),bl(),jl(),nl(),Ll(),Pl(),Xl(),am(),em(),um(),ym(),Cm(),Gm(),Km(),Sm(),Wm(),$m(),dn(),qn(),yn(),Cn(),Gn(),On(),Wn(),eo(),mo(),uo(),qo(),Ko(),Oo(),So(),$o(),Np(),cq(),gq(),oq(),sq(),Jq(),Nq(),Vq(),Zq(),cr(),gr(),kr(),or(),sr(),wr(),Ar(),Er(),Ir(),Mr(),Qr(),Ur(),Yr(),bs(),fs(),js(),ns(),vs(),zs(),Ds(),Hs(),Ls(),Ts(),Xs(),at(),it(),mt(),qt(),ut(),yt(),Ct(),Gt(),Kt(),St(),Wt(),du(),hu(),lu(),pu(),Bu(),Fu(),Nu(),Ru(),Vu(),Zu(),gv(),kv(),ov(),sv(),wv(),Av(),Ev(),Iv(),Mv(),Qv(),Yv(),bw(),fw(),jw(),nw(),rw(),vw(),zw(),Dw(),Hw(),Lw(),Tw(),Xw(),ax(),ex(),ix(),mx(),qx(),ux(),yx(),Cx(),Gx(),Kx(),Ox(),Sx(),Tx.exports=z()}var Vx=!1,Wx=function(){Vx||(Vx=!0,Ux());return Tx.exports};f={};var Xx={exports:f};function Yx(){var a=bc(),b=xb();Xx.exports=function(c,d){c=b(c);var e=a(c),f=e.length,g=0,h;while(f>g)if(c[h=e[g++]]===d)return h}}var Zx=!1,$x=function(){Zx||(Zx=!0,Yx());return Xx.exports};a={};var ay={exports:a};function by(){var a=Je(),b=Y()("iterator"),c=Oi();ay.exports=z().isIterable=function(d){d=Object(d);return d[b]!==void 0||"@@iterator"in d||c.hasOwnProperty(a(d))}}var cy=!1,dy=function(){cy||(cy=!0,by());return ay.exports};b={};var ey={exports:b};function fy(){var a=Ma(),b=W(),c=ha(),d=le(),e=Jc(),f=yd(),g=bc(),h=U(),i=$x(),j=V(),k=hp(),l=dy(),m=Si(),o=Sn(),p=D(),q=xb(),r=v(),s=n(),t=function(b){var c=b==1,d=b==4;return function(e,f,g){f=a(f,g,3);g=q(e);var h=c||b==7||b==2?new(typeof this=="function"?this:y)():void 0,i,j,k;for(i in g)if(s(g,i)){j=g[i];k=f(j,i,e);if(b)if(c)h[i]=k;else if(k)switch(b){case 2:h[i]=j;break;case 3:return!0;case 5:return j;case 6:return i;case 7:h[k[0]]=k[1]}else if(d)return!1}return b==3||d?d:h}},u=t(6),w=function(a){return function(b){return new x(b,a)}},x=function(a,b){this._t=q(a),this._a=g(a),this._i=0,this._k=b};m(x,"Dict",function(){var a=this,b=a._t,c=a._a,d=a._k,e;do if(a._i>=c.length){a._t=void 0;return o(1)}while(!s(b,e=c[a._i++]));if(d=="keys")return o(0,e);return d=="values"?o(0,b[e]):o(0,[e,b[e]])});function y(a){var b=e(null);a!=void 0&&(l(a)?k(a,!0,function(a,c){b[a]=c}):d(b,a));return b}y.prototype=null;function z(a,b,c){j(b);var d=q(a),e=g(d),f=e.length,h=0,i,k;if(arguments.length<3){if(!f)throw TypeError("Reduce of empty object with no initial value");i=d[e[h++]]}else i=Object(c);while(f>h)s(d,k=e[h++])&&(i=b(i,d[k],k,a));return i}function A(a,b){return(b==b?i(a,b):u(a,function(a){return a!=a}))!==void 0}function B(a,b){if(s(a,b))return a[b]}function C(a,b,d){r&&b in Object?h.f(a,b,c(0,d)):a[b]=d;return a}function E(a){return p(a)&&f(a)===y.prototype}b(b.G+b.F,{Dict:y});b(b.S,"Dict",{keys:w("keys"),values:w("values"),entries:w("entries"),forEach:t(0),map:t(1),filter:t(2),some:t(3),every:t(4),find:t(5),findKey:u,mapPairs:t(7),reduce:z,keyOf:i,includes:A,has:s,get:B,set:C,isDict:E})}var gy=!1,hy=function(){gy||(gy=!0,fy());return ey.exports};c={};var iy={exports:c};function jy(){var a=H(),b=Dl();iy.exports=z().getIterator=function(c){var d=b(c);if(typeof d!="function")throw TypeError(c+" is not iterable!");return a(d.call(c))}}var ky=!1,ly=function(){ky||(ky=!0,jy());return iy.exports};d={};var my={exports:d};function ny(){my.exports=j()}var oy=!1,py=function(){oy||(oy=!0,ny());return my.exports};f={};var qy={exports:f};function ry(){var a=py(),b=Re(),c=V();qy.exports=function(){var d=c(this),e=arguments.length,f=new Array(e),g=0,h=a._,i=!1;while(e>g)(f[g]=arguments[g++])===h&&(i=!0);return function(){var a=this,c=arguments.length,g=0,j=0,k;if(!i&&!c)return b(d,f,a);k=f.slice();if(i)for(;e>g;g++)k[g]===h&&(k[g]=arguments[j++]);while(c>j)k.push(arguments[j++]);return b(d,k,a)}}}var sy=!1,ty=function(){sy||(sy=!0,ry());return qy.exports};a={};var uy={exports:a};function vy(){var b=j(),c=z(),d=W(),e=ty();d(d.G+d.F,{delay:function(a){return new(c.Promise||b.Promise)(function(b){setTimeout(e.call(b,!0),a)})}})}var wy=!1,xy=function(){wy||(wy=!0,vy());return uy.exports};b={};var yy={exports:b};function zy(){var a=py(),b=W();z()._=a._=a._||{};b(b.P+b.F,"Function",{part:ty()})}var Ay=!1,By=function(){Ay||(Ay=!0,zy());return yy.exports};c={};var Cy={exports:c};function Dy(){var a=W();a(a.S+a.F,"Object",{isObject:D()})}var Ey=!1,Fy=function(){Ey||(Ey=!0,Dy());return Cy.exports};d={};var Gy={exports:d};function Hy(){var a=W();a(a.S+a.F,"Object",{classof:Je()})}var Iy=!1,Jy=function(){Iy||(Iy=!0,Hy());return Gy.exports};f={};var Ky={exports:f};function Ly(){var a=U(),b=Xc(),c=rs(),d=xb();Ky.exports=function(e,f){var g=c(d(f)),h=g.length,i=0,j;while(h>i)a.f(e,j=g[i++],b.f(f,j));return e}}var My=!1,Ny=function(){My||(My=!0,Ly());return Ky.exports};a={};var Oy={exports:a};function Py(){var a=W(),b=Ny();a(a.S+a.F,"Object",{define:b})}var Qy=!1,Ry=function(){Qy||(Qy=!0,Py());return Oy.exports};b={};var Sy={exports:b};function Ty(){var a=W(),b=Ny(),c=Jc();a(a.S+a.F,"Object",{make:function(a,d){return b(c(a),d)}})}var Uy=!1,Vy=function(){Uy||(Uy=!0,Ty());return Sy.exports};c={};var Wy={exports:c};function Xy(){Wi()(Number,"Number",function(a){this._l=+a,this._i=0},function(){var a=this._i++,b=!(a<this._l);return{done:b,value:b?void 0:a}})}var Yy=!1,Zy=function(){Yy||(Yy=!0,Xy());return Wy.exports};d={};var $y={exports:d};function az(){$y.exports=function(a,b){var c=b===Object(b)?function(a){return b[a]}:b;return function(b){return String(b).replace(a,c)}}}var bz=!1,cz=function(){bz||(bz=!0,az());return $y.exports};f={};var dz={exports:f};function ez(){var a=W(),b=cz()(/[\\^$*+?.()|[\]{}]/g,"\\$&");a(a.S,"RegExp",{escape:function(a){return b(a)}})}var fz=!1,gz=function(){fz||(fz=!0,ez());return dz.exports};a={};var hz={exports:a};function iz(){var a=W(),b=cz()(/[&<>"']/g,{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"});a(a.P+a.F,"String",{escapeHTML:function(){return b(this)}})}var jz=!1,kz=function(){jz||(jz=!0,iz());return hz.exports};b={};var lz={exports:b};function mz(){var a=W(),b=cz()(/&(?:amp|lt|gt|quot|apos);/g,{"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'"});a(a.P+a.F,"String",{unescapeHTML:function(){return b(this)}})}var nz=!1,oz=function(){nz||(nz=!0,mz());return lz.exports};c={};var pz={exports:c};function qz(){Wx(),hy(),Dl(),ly(),dy(),xy(),By(),Fy(),Jy(),Ry(),Vy(),Zy(),gz(),kz(),oz(),pz.exports=z()}var rz=!1,sz=function(){rz||(rz=!0,qz());return pz.exports};d={};var tz={exports:d};function uz(){var a=Math.ceil,b=Math.floor;tz.exports=function(c){return isNaN(c=+c)?0:(c>0?b:a)(c)}}var vz=!1,wz=function(){vz||(vz=!0,uz());return tz.exports};f={};var xz={exports:f};function yz(){xz.exports=function(a){if(a==void 0)throw TypeError("Can't call method on  "+a);return a}}var zz=!1,Az=function(){zz||(zz=!0,yz());return xz.exports};a={};var Bz={exports:a};function Cz(){var a=wz(),b=Az();Bz.exports=function(c){return function(d,e){d=String(b(d));e=a(e);var f=d.length,g,h;if(e<0||e>=f)return c?"":void 0;g=d.charCodeAt(e);return g<55296||g>56319||e+1===f||(h=d.charCodeAt(e+1))<56320||h>57343?c?d.charAt(e):g:c?d.slice(e,e+2):(g-55296<<10)+(h-56320)+65536}}}var Dz=!1,Ez=function(){Dz||(Dz=!0,Cz());return Bz.exports};b={};var Fz={exports:b};function Gz(){Fz.exports=!0}var Hz=!1,Iz=function(){Hz||(Hz=!0,Gz());return Fz.exports};c={};var Jz={exports:c};function Kz(){var b=Jz.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=b)}var Lz=!1,Mz=function(){Lz||(Lz=!0,Kz());return Jz.exports};d={};var Nz={exports:d};function Oz(){var a=Nz.exports={version:"2.6.9"};typeof __e=="number"&&(__e=a)}var Pz=!1,$=function(){Pz||(Pz=!0,Oz());return Nz.exports};f={};var Qz={exports:f};function Rz(){Qz.exports=function(a){if(typeof a!="function")throw TypeError(a+" is not a function!");return a}}var Sz=!1,Tz=function(){Sz||(Sz=!0,Rz());return Qz.exports};a={};var Uz={exports:a};function Vz(){var a=Tz();Uz.exports=function(b,c,d){a(b);if(c===void 0)return b;switch(d){case 1:return function(a){return b.call(c,a)};case 2:return function(a,d){return b.call(c,a,d)};case 3:return function(a,d,e){return b.call(c,a,d,e)}}return function(){return b.apply(c,arguments)}}}var Wz=!1,Xz=function(){Wz||(Wz=!0,Vz());return Uz.exports};b={};var Yz={exports:b};function Zz(){Yz.exports=function(a){return typeof a==="object"?a!==null:typeof a==="function"}}var $z=!1,aA=function(){$z||($z=!0,Zz());return Yz.exports};c={};var bA={exports:c};function cA(){var a=aA();bA.exports=function(b){if(!a(b))throw TypeError(b+" is not an object!");return b}}var dA=!1,eA=function(){dA||(dA=!0,cA());return bA.exports};d={};var fA={exports:d};function gA(){fA.exports=function(a){try{return!!a()}catch(a){return!0}}}var hA=!1,iA=function(){hA||(hA=!0,gA());return fA.exports};f={};var jA={exports:f};function kA(){jA.exports=!iA()(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})}var lA=!1,mA=function(){lA||(lA=!0,kA());return jA.exports};a={};var nA={exports:a};function oA(){var a=aA(),b=Mz().document,c=a(b)&&a(b.createElement);nA.exports=function(a){return c?b.createElement(a):{}}}var pA=!1,qA=function(){pA||(pA=!0,oA());return nA.exports};b={};var rA={exports:b};function sA(){rA.exports=!mA()&&!iA()(function(){return Object.defineProperty(qA()("div"),"a",{get:function(){return 7}}).a!=7})}var tA=!1,uA=function(){tA||(tA=!0,sA());return rA.exports};c={};var vA={exports:c};function wA(){var a=aA();vA.exports=function(b,c){if(!a(b))return b;var d,e;if(c&&typeof (d=b.toString)=="function"&&!a(e=d.call(b)))return e;if(typeof (d=b.valueOf)=="function"&&!a(e=d.call(b)))return e;if(!c&&typeof (d=b.toString)=="function"&&!a(e=d.call(b)))return e;throw TypeError("Can't convert object to primitive value")}}var xA=!1,yA=function(){xA||(xA=!0,wA());return vA.exports},zA={},AA={exports:zA};function BA(){var a=eA(),b=uA(),c=yA(),d=Object.defineProperty;zA.f=mA()?Object.defineProperty:function(e,f,g){a(e);f=c(f,!0);a(g);if(b)try{return d(e,f,g)}catch(a){}if("get"in g||"set"in g)throw TypeError("Accessors not supported!");"value"in g&&(e[f]=g.value);return e}}var CA=!1,DA=function(){CA||(CA=!0,BA());return AA.exports};d={};var EA={exports:d};function FA(){EA.exports=function(a,b){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:b}}}var GA=!1,HA=function(){GA||(GA=!0,FA());return EA.exports};f={};var IA={exports:f};function JA(){var a=DA(),b=HA();IA.exports=mA()?function(c,d,e){return a.f(c,d,b(1,e))}:function(a,b,c){a[b]=c;return a}}var KA=!1,LA=function(){KA||(KA=!0,JA());return IA.exports};a={};var MA={exports:a};function NA(){var a={}.hasOwnProperty;MA.exports=function(b,c){return a.call(b,c)}}var OA=!1,PA=function(){OA||(OA=!0,NA());return MA.exports};b={};var QA={exports:b};function RA(){var b=Mz(),c=$(),d=Xz(),e=LA(),g=PA(),h="prototype",i=function(j,k,l){var m=j&i.F,n=j&i.G,o=j&i.S,p=j&i.P,q=j&i.B,r=j&i.W,a=n?c:c[k]||(c[k]={}),s=a[h];o=n?b:o?b[k]:(b[k]||{})[h];var t,u;n&&(l=k);for(k in l){t=!m&&o&&o[k]!==void 0;if(t&&g(a,k))continue;u=t?o[k]:l[k];a[k]=n&&typeof o[k]!="function"?l[k]:q&&t?d(u,b):r&&o[k]==u?function(a){var b=function(b,c,d){if(this instanceof a){switch(arguments.length){case 0:return new a();case 1:return new a(b);case 2:return new a(b,c)}return new a(b,c,d)}return a.apply(this,arguments)};b[h]=a[h];return b}(u):p&&typeof u=="function"?d(Function.call,u):u;p&&((a.virtual||(a.virtual={}))[k]=u,j&i.R&&s&&!s[k]&&e(s,k,u))}};i.F=1;i.G=2;i.S=4;i.P=8;i.B=16;i.W=32;i.U=64;i.R=128;QA.exports=i}var SA=!1,TA=function(){SA||(SA=!0,RA());return QA.exports};c={};var UA={exports:c};function VA(){UA.exports=LA()}var WA=!1,XA=function(){WA||(WA=!0,VA());return UA.exports};d={};var YA={exports:d};function ZA(){YA.exports={}}var $A=!1,aB=function(){$A||($A=!0,ZA());return YA.exports};f={};var bB={exports:f};function cB(){var a={}.toString;bB.exports=function(b){return a.call(b).slice(8,-1)}}var dB=!1,eB=function(){dB||(dB=!0,cB());return bB.exports};a={};var fB={exports:a};function gB(){var a=eB();fB.exports=Object("z").propertyIsEnumerable(0)?Object:function(b){return a(b)=="String"?b.split(""):Object(b)}}var hB=!1,iB=function(){hB||(hB=!0,gB());return fB.exports};b={};var jB={exports:b};function kB(){var a=iB(),b=Az();jB.exports=function(c){return a(b(c))}}var lB=!1,mB=function(){lB||(lB=!0,kB());return jB.exports};c={};var nB={exports:c};function oB(){var a=wz(),b=Math.min;nB.exports=function(c){return c>0?b(a(c),9007199254740991):0}}var pB=!1,qB=function(){pB||(pB=!0,oB());return nB.exports};d={};var rB={exports:d};function sB(){var a=wz(),b=Math.max,c=Math.min;rB.exports=function(d,e){d=a(d);return d<0?b(d+e,0):c(d,e)}}var tB=!1,uB=function(){tB||(tB=!0,sB());return rB.exports};f={};var vB={exports:f};function wB(){var a=mB(),b=qB(),c=uB();vB.exports=function(d){return function(e,f,g){e=a(e);var h=b(e.length);g=c(g,h);var i;if(d&&f!=f)while(h>g){i=e[g++];if(i!=i)return!0}else for(;h>g;g++)if((d||g in e)&&e[g]===f)return d||g||0;return!d&&-1}}}var xB=!1,yB=function(){xB||(xB=!0,wB());return vB.exports};a={};var zB={exports:a};function AB(){var c=$(),b=Mz(),d="__core-js_shared__",e=b[d]||(b[d]={});(zB.exports=function(a,b){return e[a]||(e[a]=b!==void 0?b:{})})("versions",[]).push({version:c.version,mode:Iz()?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})}var BB=!1,CB=function(){BB||(BB=!0,AB());return zB.exports};b={};var DB={exports:b};function EB(){var a=0,b=Math.random();DB.exports=function(c){return"Symbol(".concat(c===void 0?"":c,")_",(++a+b).toString(36))}}var FB=!1,GB=function(){FB||(FB=!0,EB());return DB.exports};c={};var HB={exports:c};function IB(){var a=CB()("keys"),b=GB();HB.exports=function(c){return a[c]||(a[c]=b(c))}}var JB=!1,KB=function(){JB||(JB=!0,IB());return HB.exports};d={};var LB={exports:d};function MB(){var a=PA(),b=mB(),c=yB()(!1),d=KB()("IE_PROTO");LB.exports=function(e,f){e=b(e);var g=0,h=[],i;for(i in e)i!=d&&(a(e,i)&&h.push(i));while(f.length>g)a(e,i=f[g++])&&(~c(h,i)||h.push(i));return h}}var NB=!1,OB=function(){NB||(NB=!0,MB());return LB.exports};f={};var PB={exports:f};function QB(){PB.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}var RB=!1,SB=function(){RB||(RB=!0,QB());return PB.exports};a={};var TB={exports:a};function UB(){var a=OB(),b=SB();TB.exports=Object.keys||function(c){return a(c,b)}}var VB=!1,WB=function(){VB||(VB=!0,UB());return TB.exports};b={};var XB={exports:b};function YB(){var a=DA(),b=eA(),c=WB();XB.exports=mA()?Object.defineProperties:function(d,e){b(d);var f=c(e),g=f.length,h=0,i;while(g>h)a.f(d,i=f[h++],e[i]);return d}}var ZB=!1,$B=function(){ZB||(ZB=!0,YB());return XB.exports};c={};var aC={exports:c};function bC(){var a=Mz().document;aC.exports=a&&a.documentElement}var cC=!1,dC=function(){cC||(cC=!0,bC());return aC.exports};d={};var eC={exports:d};function fC(){var a=eA(),b=$B(),c=SB(),d=KB()("IE_PROTO"),e=function(){},f="prototype",g=function(){var a=qA()("iframe"),b=c.length,d="<",e=">";a.style.display="none";dC().appendChild(a);a.src="javascript:";a=a.contentWindow.document;a.open();a.write(d+"script"+e+"document.F=Object"+d+"/script"+e);a.close();g=a.F;while(b--)delete g[f][c[b]];return g()};eC.exports=Object.create||function(c,h){var i;c!==null?(e[f]=a(c),i=new e(),e[f]=null,i[d]=c):i=g();return h===void 0?i:b(i,h)}}var gC=!1,hC=function(){gC||(gC=!0,fC());return eC.exports};f={};var iC={exports:f};function jC(){var a=CB()("wks"),b=GB(),c=Mz().Symbol,d=typeof c=="function",e=iC.exports=function(e){return a[e]||(a[e]=d&&c[e]||(d?c:b)("Symbol."+e))};e.store=a}var kC=!1,lC=function(){kC||(kC=!0,jC());return iC.exports};a={};var mC={exports:a};function nC(){var a=DA().f,b=PA(),c=lC()("toStringTag");mC.exports=function(d,e,f){d&&!b(d=f?d:d.prototype,c)&&a(d,c,{configurable:!0,value:e})}}var oC=!1,pC=function(){oC||(oC=!0,nC());return mC.exports};b={};var qC={exports:b};function rC(){var a=hC(),b=HA(),c=pC(),d={};LA()(d,lC()("iterator"),function(){return this});qC.exports=function(e,f,g){e.prototype=a(d,{next:b(1,g)}),c(e,f+" Iterator")}}var sC=!1,tC=function(){sC||(sC=!0,rC());return qC.exports};c={};var uC={exports:c};function vC(){var a=Az();uC.exports=function(b){return Object(a(b))}}var wC=!1,xC=function(){wC||(wC=!0,vC());return uC.exports};d={};var yC={exports:d};function zC(){var a=PA(),b=xC(),c=KB()("IE_PROTO"),d=Object.prototype;yC.exports=Object.getPrototypeOf||function(e){e=b(e);if(a(e,c))return e[c];return typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?d:null}}var AC=!1,BC=function(){AC||(AC=!0,zC());return yC.exports};f={};var CC={exports:f};function DC(){var a=Iz(),b=TA(),c=XA(),d=LA(),e=aB(),f=tC(),g=pC(),h=BC(),i=lC()("iterator"),j=!([].keys&&"next"in[].keys()),k="@@iterator",l="keys",m="values",n=function(){return this};CC.exports=function(o,p,q,r,s,t,u){f(q,p,r);r=function(a){if(!j&&a in y)return y[a];switch(a){case l:return function(){return new q(this,a)};case m:return function(){return new q(this,a)}}return function(){return new q(this,a)}};var v=p+" Iterator",w=s==m,x=!1,y=o.prototype,z=y[i]||y[k]||s&&y[s],A=z||r(s),B=s?w?r("entries"):A:void 0,C=p=="Array"?y.entries||z:z,D;C&&(C=h(C.call(new o())),C!==Object.prototype&&C.next&&(g(C,v,!0),!a&&typeof C[i]!="function"&&d(C,i,n)));w&&z&&z.name!==m&&(x=!0,A=function(){return z.call(this)});(!a||u)&&(j||x||!y[i])&&d(y,i,A);e[p]=A;e[v]=n;if(s){D={values:w?A:r(m),keys:t?A:r(l),entries:B};if(u)for(o in D)o in y||c(y,o,D[o]);else b(b.P+b.F*(j||x),p,D)}return D}}var EC=!1,FC=function(){EC||(EC=!0,DC());return CC.exports};a={};var GC={exports:a};function HC(){var a=Ez()(!0);FC()(String,"String",function(a){this._t=String(a),this._i=0},function(){var b=this._t,c=this._i;if(c>=b.length)return{value:void 0,done:!0};b=a(b,c);this._i+=b.length;return{value:b,done:!1}})}var IC=!1,JC=function(){IC||(IC=!0,HC());return GC.exports};b={};var KC={exports:b};function LC(){var a=eA();KC.exports=function(b,c,d,e){try{return e?c(a(d)[0],d[1]):c(d)}catch(c){e=b["return"];e!==void 0&&a(e.call(b));throw c}}}var MC=!1,NC=function(){MC||(MC=!0,LC());return KC.exports};c={};var OC={exports:c};function PC(){var a=aB(),b=lC()("iterator"),c=Array.prototype;OC.exports=function(d){return d!==void 0&&(a.Array===d||c[b]===d)}}var QC=!1,RC=function(){QC||(QC=!0,PC());return OC.exports};d={};var SC={exports:d};function TC(){var a=DA(),b=HA();SC.exports=function(c,d,e){d in c?a.f(c,d,b(0,e)):c[d]=e}}var UC=!1,VC=function(){UC||(UC=!0,TC());return SC.exports};f={};var WC={exports:f};function XC(){var a=eB(),b=lC()("toStringTag"),c=a(function(){return arguments}())=="Arguments",d=function(a,b){try{return a[b]}catch(a){}};WC.exports=function(e){var f;return e===void 0?"Undefined":e===null?"Null":typeof (f=d(e=Object(e),b))=="string"?f:c?a(e):(f=a(e))=="Object"&&typeof e.callee=="function"?"Arguments":f}}var YC=!1,ZC=function(){YC||(YC=!0,XC());return WC.exports};a={};var $C={exports:a};function aD(){var a=ZC(),b=lC()("iterator"),c=aB();$C.exports=$().getIteratorMethod=function(d){if(d!=void 0)return d[b]||d["@@iterator"]||c[a(d)]}}var bD=!1,cD=function(){bD||(bD=!0,aD());return $C.exports};b={};var dD={exports:b};function eD(){var a=lC()("iterator"),b=!1;try{var c=[7][a]();c["return"]=function(){b=!0}}catch(a){}dD.exports=function(c,d){if(!d&&!b)return!1;d=!1;try{var e=[7],f=e[a]();f.next=function(){return{done:d=!0}};e[a]=function(){return f};c(e)}catch(a){}return d}}var fD=!1,gD=function(){fD||(fD=!0,eD());return dD.exports};c={};var hD={exports:c};function iD(){var a=Xz(),b=TA(),c=xC(),d=NC(),e=RC(),f=qB(),g=VC(),h=cD();b(b.S+b.F*!gD()(function(a){}),"Array",{from:function(b){var i=c(b),j=typeof this=="function"?this:Array,k=arguments.length,l=k>1?arguments[1]:void 0,m=l!==void 0,n=0,o=h(i),p,q,r,s;m&&(l=a(l,k>2?arguments[2]:void 0,2));if(o!=void 0&&!(j==Array&&e(o)))for(s=o.call(i),q=new j();!(r=s.next()).done;n++)g(q,n,m?d(s,l,[r.value,n],!0):r.value);else{p=f(i.length);for(q=new j(p);p>n;n++)g(q,n,m?l(i[n],n):i[n])}q.length=n;return q}})}var jD=!1,kD=function(){jD||(jD=!0,iD());return hD.exports};d={};var lD={exports:d};function mD(){JC(),kD(),lD.exports=$().Array.from}var nD=!1,oD=function(){nD||(nD=!0,mD());return lD.exports};f={};var pD={exports:f};function qD(){var a=TA();a(a.S,"Date",{now:function(){return new Date().getTime()}})}var rD=!1,sD=function(){rD||(rD=!0,qD());return pD.exports};a={};var tD={exports:a};function uD(){sD(),tD.exports=$().Date.now}var vD=!1,wD=function(){vD||(vD=!0,uD());return tD.exports};b={};var xD={exports:b};function yD(){xD.exports=function(){}}var zD=!1,AD=function(){zD||(zD=!0,yD());return xD.exports};c={};var BD={exports:c};function CD(){BD.exports=function(a,b){return{value:b,done:!!a}}}var DD=!1,ED=function(){DD||(DD=!0,CD());return BD.exports};d={};var FD={exports:d};function GD(){var a=AD(),b=ED(),c=aB(),d=mB();FD.exports=FC()(Array,"Array",function(a,b){this._t=d(a),this._i=0,this._k=b},function(){var a=this._t,c=this._k,d=this._i++;if(!a||d>=a.length){this._t=void 0;return b(1)}if(c=="keys")return b(0,d);return c=="values"?b(0,a[d]):b(0,[d,a[d]])},"values");c.Arguments=c.Array;a("keys");a("values");a("entries")}var HD=!1,ID=function(){HD||(HD=!0,GD());return FD.exports};f={};var JD={exports:f};function KD(){ID();var b=Mz(),c=LA(),d=aB(),e=lC()("toStringTag"),f="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(",");for(var g=0;g<f.length;g++){var h=f[g],i=b[h];i=i&&i.prototype;i&&!i[e]&&c(i,e,h);d[h]=d.Array}}var LD=!1,MD=function(){LD||(LD=!0,KD());return JD.exports};a={};var ND={exports:a};function OD(){var a=eA(),b=cD();ND.exports=$().getIterator=function(c){var d=b(c);if(typeof d!="function")throw TypeError(c+" is not iterable!");return a(d.call(c))}}var PD=!1,QD=function(){PD||(PD=!0,OD());return ND.exports};b={};var RD={exports:b};function SD(){MD(),JC(),RD.exports=QD()}var TD=!1,UD=function(){TD||(TD=!0,SD());return RD.exports};c={};var VD={exports:c};function WD(){var a=ZC(),b=lC()("iterator"),c=aB();VD.exports=$().isIterable=function(d){d=Object(d);return d[b]!==void 0||"@@iterator"in d||c.hasOwnProperty(a(d))}}var XD=!1,YD=function(){XD||(XD=!0,WD());return VD.exports};d={};var ZD={exports:d};function $D(){MD(),JC(),ZD.exports=YD()}var aE=!1,bE=function(){aE||(aE=!0,$D());return ZD.exports};f={};var cE={exports:f};function dE(){var a=TA(),b=Mz().isFinite;a(a.S,"Number",{isFinite:function(a){return typeof a=="number"&&b(a)}})}var eE=!1,fE=function(){eE||(eE=!0,dE());return cE.exports};a={};var gE={exports:a};function hE(){fE(),gE.exports=$().Number.isFinite}var iE=!1,jE=function(){iE||(iE=!0,hE());return gE.exports};b={};var kE={exports:b};function lE(){var a=aA(),b=Math.floor;kE.exports=function(c){return!a(c)&&isFinite(c)&&b(c)===c}}var mE=!1,nE=function(){mE||(mE=!0,lE());return kE.exports};c={};var oE={exports:c};function pE(){var a=TA();a(a.S,"Number",{isInteger:nE()})}var qE=!1,rE=function(){qE||(qE=!0,pE());return oE.exports};d={};var sE={exports:d};function tE(){rE(),sE.exports=$().Number.isInteger}var uE=!1,vE=function(){uE||(uE=!0,tE());return sE.exports},wE={},xE={exports:wE};function yE(){wE.f=Object.getOwnPropertySymbols}var zE=!1,AE=function(){zE||(zE=!0,yE());return xE.exports},BE={},CE={exports:BE};function DE(){BE.f={}.propertyIsEnumerable}var EE=!1,FE=function(){EE||(EE=!0,DE());return CE.exports};f={};var GE={exports:f};function HE(){var a=mA(),b=WB(),c=AE(),d=FE(),e=xC(),f=iB(),g=Object.assign;GE.exports=!g||iA()(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";a[c]=7;d.split("").forEach(function(a){b[a]=a});return g({},a)[c]!=7||Object.keys(g({},b)).join("")!=d})?function(g,h){var i=e(g),j=arguments.length,k=1,l=c.f,m=d.f;while(j>k){var n=f(arguments[k++]),o=l?b(n).concat(l(n)):b(n),p=o.length,q=0,r;while(p>q)r=o[q++],(!a||m.call(n,r))&&(i[r]=n[r])}return i}:g}var IE=!1,JE=function(){IE||(IE=!0,HE());return GE.exports};a={};var KE={exports:a};function LE(){var a=TA();a(a.S+a.F,"Object",{assign:JE()})}var ME=!1,NE=function(){ME||(ME=!0,LE());return KE.exports};b={};var OE={exports:b};function PE(){NE(),OE.exports=$().Object.assign}var QE=!1,RE=function(){QE||(QE=!0,PE());return OE.exports};c={};var SE={exports:c};function TE(){var a=TA();a(a.S,"Object",{create:hC()})}var UE=!1,VE=function(){UE||(UE=!0,TE());return SE.exports};d={};var WE={exports:d};function XE(){VE();var a=$().Object;WE.exports=function(b,c){return a.create(b,c)}}var YE=!1,ZE=function(){YE||(YE=!0,XE());return WE.exports};f={};var $E={exports:f};function aF(){var a=TA();a(a.S+a.F*!mA(),"Object",{defineProperty:DA().f})}var bF=!1,cF=function(){bF||(bF=!0,aF());return $E.exports};a={};var dF={exports:a};function eF(){cF();var a=$().Object;dF.exports=function(b,c,d){return a.defineProperty(b,c,d)}}var fF=!1,gF=function(){fF||(fF=!0,eF());return dF.exports},hF={},iF={exports:hF};function jF(){var a=FE(),b=HA(),c=mB(),d=yA(),e=PA(),f=uA(),g=Object.getOwnPropertyDescriptor;hF.f=mA()?g:function(h,i){h=c(h);i=d(i,!0);if(f)try{return g(h,i)}catch(a){}if(e(h,i))return b(!a.f.call(h,i),h[i])}}var kF=!1,lF=function(){kF||(kF=!0,jF());return iF.exports};b={};var mF={exports:b};function nF(){var a=TA(),b=$(),c=iA();mF.exports=function(d,e){var f=(b.Object||{})[d]||Object[d],g={};g[d]=e(f);a(a.S+a.F*c(function(){f(1)}),"Object",g)}}var oF=!1,pF=function(){oF||(oF=!0,nF());return mF.exports};c={};var qF={exports:c};function rF(){var a=mB(),b=lF().f;pF()("getOwnPropertyDescriptor",function(){return function(c,d){return b(a(c),d)}})}var sF=!1,tF=function(){sF||(sF=!0,rF());return qF.exports};d={};var uF={exports:d};function vF(){tF();var a=$().Object;uF.exports=function(b,c){return a.getOwnPropertyDescriptor(b,c)}}var wF=!1,xF=function(){wF||(wF=!0,vF());return uF.exports};f={};var yF={exports:f};function zF(){var a=xC(),b=BC();pF()("getPrototypeOf",function(){return function(c){return b(a(c))}})}var AF=!1,BF=function(){AF||(AF=!0,zF());return yF.exports};a={};var CF={exports:a};function DF(){BF(),CF.exports=$().Object.getPrototypeOf}var EF=!1,FF=function(){EF||(EF=!0,DF());return CF.exports};b={};var GF={exports:b};function HF(){var a=xC(),b=WB();pF()("keys",function(){return function(c){return b(a(c))}})}var IF=!1,JF=function(){IF||(IF=!0,HF());return GF.exports};c={};var KF={exports:c};function LF(){JF(),KF.exports=$().Object.keys}var MF=!1,NF=function(){MF||(MF=!0,LF());return KF.exports};d={};var OF={exports:d};function PF(){var a=aA(),b=eA(),c=function(c,d){b(c);if(!a(d)&&d!==null)throw TypeError(d+": can't set as prototype!")};OF.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(a,b,d){try{d=Xz()(Function.call,lF().f(Object.prototype,"__proto__").set,2),d(a,[]),b=!(a instanceof Array)}catch(a){b=!0}return function(a,e){c(a,e);b?a.__proto__=e:d(a,e);return a}}({},!1):void 0),check:c}}var QF=!1,RF=function(){QF||(QF=!0,PF());return OF.exports};f={};var SF={exports:f};function TF(){var a=TA();a(a.S,"Object",{setPrototypeOf:RF().set})}var UF=!1,VF=function(){UF||(UF=!0,TF());return SF.exports};a={};var WF={exports:a};function XF(){VF(),WF.exports=$().Object.setPrototypeOf}var YF=!1,ZF=function(){YF||(YF=!0,XF());return WF.exports};b={};var $F={exports:b};function aG(){var a=mA(),b=WB(),c=mB(),d=FE().f;$F.exports=function(e){return function(f){f=c(f);var g=b(f),h=g.length,i=0,j=[],k;while(h>i)k=g[i++],(!a||d.call(f,k))&&j.push(e?[k,f[k]]:f[k]);return j}}}var bG=!1,cG=function(){bG||(bG=!0,aG());return $F.exports};c={};var dG={exports:c};function eG(){var a=TA(),b=cG()(!1);a(a.S,"Object",{values:function(a){return b(a)}})}var fG=!1,gG=function(){fG||(fG=!0,eG());return dG.exports};d={};var hG={exports:d};function iG(){gG(),hG.exports=$().Object.values}var jG=!1,kG=function(){jG||(jG=!0,iG());return hG.exports};f={};var lG={exports:f};function mG(){lG.exports=function(a,b,c,d){if(!(a instanceof b)||d!==void 0&&d in a)throw TypeError(c+": incorrect invocation!");return a}}var nG=!1,oG=function(){nG||(nG=!0,mG());return lG.exports};a={};var pG={exports:a};function qG(){var b=Xz(),c=NC(),d=RC(),e=eA(),g=qB(),h=cD(),i={},j={},a=pG.exports=function(a,f,k,l,m){m=m?function(){return a}:h(a);k=b(k,l,f?2:1);l=0;var n,o,p;if(typeof m!="function")throw TypeError(a+" is not iterable!");if(d(m))for(n=g(a.length);n>l;l++){p=f?k(e(o=a[l])[0],o[1]):k(a[l]);if(p===i||p===j)return p}else for(l=m.call(a);!(o=l.next()).done;){p=c(l,k,o.value,f);if(p===i||p===j)return p}};a.BREAK=i;a.RETURN=j}var rG=!1,sG=function(){rG||(rG=!0,qG());return pG.exports};b={};var tG={exports:b};function uG(){var a=eA(),b=Tz(),c=lC()("species");tG.exports=function(d,e){d=a(d).constructor;var f;return d===void 0||(f=a(d)[c])==void 0?e:b(f)}}var vG=!1,wG=function(){vG||(vG=!0,uG());return tG.exports};c={};var xG={exports:c};function yG(){xG.exports=function(a,b,c){var d=c===void 0;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}}var zG=!1,AG=function(){zG||(zG=!0,yG());return xG.exports};d={};var BG={exports:d};function CG(){var c=Xz(),d=AG(),e=dC(),f=qA(),b=Mz(),g=b.process,h=b.setImmediate,i=b.clearImmediate,j=b.MessageChannel,k=b.Dispatch,l=0,m={},n="onreadystatechange",o,p,q=function(){var a=+this;if(m.hasOwnProperty(a)){var b=m[a];delete m[a];b()}},r=function(a){q.call(a.data)};(!h||!i)&&(h=function(a){var b=[],c=1;while(arguments.length>c)b.push(arguments[c++]);m[++l]=function(){d(typeof a=="function"?a:Function(a),b)};o(l);return l},i=function(a){delete m[a]},eB()(g)=="process"?o=function(a){g.nextTick(c(q,a,1))}:k&&k.now?o=function(a){k.now(c(q,a,1))}:j?(j=new j(),p=j.port2,j.port1.onmessage=r,o=c(p.postMessage,p,1)):b.addEventListener&&typeof postMessage=="function"&&!b.importScripts?(o=function(a){b.postMessage(a+"","*")},b.addEventListener("message",r,!1)):n in f("script")?o=function(a){e.appendChild(f("script"))[n]=function(){e.removeChild(this),q.call(a)}}:o=function(a){setTimeout(c(q,a,1),0)});BG.exports={set:h,clear:i}}var DG=!1,EG=function(){DG||(DG=!0,CG());return BG.exports};f={};var FG={exports:f};function GG(){var b=Mz(),c=EG().set,d=b.MutationObserver||b.WebKitMutationObserver,e=b.process,f=b.Promise,g=eB()(e)=="process";FG.exports=function(){var a,h,i,j=function(){var b,c;g&&(b=e.domain)&&b.exit();while(a){c=a.fn;a=a.next;try{c()}catch(b){a?i():h=void 0;throw b}}h=void 0;b&&b.enter()};if(g)i=function(){e.nextTick(j)};else if(d&&!(b.navigator&&b.navigator.standalone)){var k=!0,l=document.createTextNode("");new d(j).observe(l,{characterData:!0});i=function(){l.data=k=!k}}else if(f&&f.resolve){var m=f.resolve(void 0);i=function(){m.then(j)}}else i=function(){c.call(b,j)};return function(b){b={fn:b,next:void 0};h&&(h.next=b);a||(a=b,i());h=b}}}var HG=!1,IG=function(){HG||(HG=!0,GG());return FG.exports};a={};var JG={exports:a};function KG(){var a=Tz();function b(b){var c,d;this.promise=new b(function(a,b){if(c!==void 0||d!==void 0)throw TypeError("Bad Promise constructor");c=a;d=b});this.resolve=a(c);this.reject=a(d)}JG.exports.f=function(a){return new b(a)}}var LG=!1,MG=function(){LG||(LG=!0,KG());return JG.exports};b={};var NG={exports:b};function OG(){NG.exports=function(a){try{return{e:!1,v:a()}}catch(a){return{e:!0,v:a}}}}var PG=!1,QG=function(){PG||(PG=!0,OG());return NG.exports};c={};var RG={exports:c};function SG(){var b=Mz();b=b.navigator;RG.exports=b&&b.userAgent||""}var TG=!1,UG=function(){TG||(TG=!0,SG());return RG.exports};d={};var VG={exports:d};function WG(){var a=eA(),b=aA(),c=MG();VG.exports=function(d,e){a(d);if(b(e)&&e.constructor===d)return e;d=c.f(d);var f=d.resolve;f(e);return d.promise}}var XG=!1,YG=function(){XG||(XG=!0,WG());return VG.exports};f={};var ZG={exports:f};function $G(){var a=LA();ZG.exports=function(b,c,d){for(var e in c)d&&b[e]?b[e]=c[e]:a(b,e,c[e]);return b}}var aH=!1,bH=function(){aH||(aH=!0,$G());return ZG.exports};a={};var cH={exports:a};function dH(){var b=Mz(),c=$(),d=DA(),e=mA(),f=lC()("species");cH.exports=function(a){a=typeof c[a]=="function"?c[a]:b[a];e&&a&&!a[f]&&d.f(a,f,{configurable:!0,get:function(){return this}})}}var eH=!1,fH=function(){eH||(eH=!0,dH());return cH.exports};b={};var gH={exports:b};function hH(){var c=Iz(),b=Mz(),d=Xz(),e=ZC(),f=TA(),g=aA(),h=Tz(),i=oG(),j=sG(),k=wG(),l=EG().set,m=IG()(),n=MG(),o=QG(),p=UG(),q=YG(),r="Promise",s=b.TypeError,t=b.process,u=t&&t.versions,v=u&&u.v8||"",w=b[r],x=e(t)=="process",y=function(){},z,A,B,C,D=A=n.f;u=!!function(){try{var a=w.resolve(1),b=(a.constructor={})[lC()("species")]=function(a){a(y,y)};return(x||typeof PromiseRejectionEvent=="function")&&a.then(y)instanceof b&&v.indexOf("6.6")!==0&&p.indexOf("Chrome/66")===-1}catch(a){}}();var E=function(a){var b;return g(a)&&typeof (b=a.then)=="function"?b:!1},F=function(a,b){if(a._n)return;a._n=!0;var c=a._c;m(function(){var d=a._v,e=a._s==1,f=0,g=function(b){var c=e?b.ok:b.fail,f=b.resolve,g=b.reject,h=b.domain,i,j;try{c?(e||(a._h==2&&I(a),a._h=1),c===!0?i=d:(h&&h.enter(),i=c(d),h&&(h.exit(),j=!0)),i===b.promise?g(s("Promise-chain cycle")):(c=E(i))?c.call(i,f,g):f(i)):g(d)}catch(a){h&&!j&&h.exit(),g(a)}};while(c.length>f)g(c[f++]);a._c=[];a._n=!1;b&&!a._h&&G(a)})},G=function(a){l.call(b,function(){var c=a._v,d=H(a),e,f;d&&(e=o(function(){x?t.emit("unhandledRejection",c,a):(f=b.onunhandledrejection)?f({promise:a,reason:c}):b.console&&emptyFunction}),a._h=x||H(a)?2:1);a._a=void 0;if(d&&e.e)throw e.v})},H=function(a){return a._h!==1&&(a._a||a._c).length===0},I=function(a){l.call(b,function(){var c;x?t.emit("rejectionHandled",a):(c=b.onrejectionhandled)&&c({promise:a,reason:a._v})})},J=function(a){var b=this;if(b._d)return;b._d=!0;b=b._w||b;b._v=a;b._s=2;b._a||(b._a=b._c.slice());F(b,!0)},K=function(a){var b=this,c;if(b._d)return;b._d=!0;b=b._w||b;try{if(b===a)throw s("Promise can't be resolved itself");(c=E(a))?m(function(){var e={_w:b,_d:!1};try{c.call(a,d(K,e,1),d(J,e,1))}catch(a){J.call(e,a)}}):(b._v=a,b._s=1,F(b,!1))}catch(a){J.call({_w:b,_d:!1},a)}};u||(w=function(a){i(this,w,r,"_h");h(a);z.call(this);try{a(d(K,this,1),d(J,this,1))}catch(a){J.call(this,a)}},z=function(a){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},z.prototype=bH()(w.prototype,{then:function(a,b){var c=D(k(this,w));c.ok=typeof a=="function"?a:!0;c.fail=typeof b=="function"&&b;c.domain=x?t.domain:void 0;this._c.push(c);this._a&&this._a.push(c);this._s&&F(this,!1);return c.promise},"catch":function(a){return this.then(void 0,a)}}),B=function(){var a=new z();this.promise=a;this.resolve=d(K,a,1);this.reject=d(J,a,1)},n.f=D=function(a){return a===w||a===C?new B(a):A(a)});f(f.G+f.W+f.F*!u,{Promise:w});pC()(w,r);fH()(r);C=$()[r];f(f.S+f.F*!u,r,{reject:function(a){var b=D(this),c=b.reject;c(a);return b.promise}});f(f.S+f.F*(c||!u),r,{resolve:function(a){return q(c&&this===C?w:this,a)}});f(f.S+f.F*!(u&&gD()(function(a){w.all(a)["catch"](y)})),r,{all:function(a){var b=this,c=D(b),d=c.resolve,e=c.reject,f=o(function(){var c=[],f=0,g=1;j(a,!1,function(a){var h=f++,i=!1;c.push(void 0);g++;b.resolve(a).then(function(a){if(i)return;i=!0;c[h]=a;--g||d(c)},e)});--g||d(c)});f.e&&e(f.v);return c.promise},race:function(a){var b=this,c=D(b),d=c.reject,e=o(function(){j(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});e.e&&d(e.v);return c.promise}})}var iH=!1,jH=function(){iH||(iH=!0,hH());return gH.exports};c={};var kH={exports:c};function lH(){var c=TA(),d=$(),b=Mz(),e=wG(),f=YG();c(c.P+c.R,"Promise",{"finally":function(a){var c=e(this,d.Promise||b.Promise),g=typeof a=="function";return this.then(g?function(b){return f(c,a()).then(function(){return b})}:a,g?function(b){return f(c,a()).then(function(){throw b})}:a)}})}var mH=!1,nH=function(){mH||(mH=!0,lH());return kH.exports};d={};var oH={exports:d};function pH(){var a=TA(),b=MG(),c=QG();a(a.S,"Promise",{"try":function(a){var d=b.f(this);a=c(a);(a.e?d.reject:d.resolve)(a.v);return d.promise}})}var qH=!1,rH=function(){qH||(qH=!0,pH());return oH.exports};f={};var sH={exports:f};function tH(){JC(),MD(),jH(),nH(),rH(),sH.exports=$().Promise}var uH=!1,vH=function(){uH||(uH=!0,tH());return sH.exports};a={};var wH={exports:a};function xH(){var a=GB()("meta"),b=aA(),c=PA(),d=DA().f,e=0,f=Object.isExtensible||function(){return!0},g=!iA()(function(){return f(Object.preventExtensions({}))}),h=function(b){d(b,a,{value:{i:"O"+ ++e,w:{}}})},i=function(d,e){if(!b(d))return typeof d=="symbol"?d:(typeof d=="string"?"S":"P")+d;if(!c(d,a)){if(!f(d))return"F";if(!e)return"E";h(d)}return d[a].i},j=function(b,d){if(!c(b,a)){if(!f(b))return!0;if(!d)return!1;h(b)}return b[a].w},k=function(b){g&&l.NEED&&f(b)&&!c(b,a)&&h(b);return b},l=wH.exports={KEY:a,NEED:!1,fastKey:i,getWeak:j,onFreeze:k}}var yH=!1,zH=function(){yH||(yH=!0,xH());return wH.exports},AH={},BH={exports:AH};function CH(){AH.f=lC()}var DH=!1,EH=function(){DH||(DH=!0,CH());return BH.exports};b={};var FH={exports:b};function GH(){var b=Mz(),c=$(),d=Iz(),e=EH(),f=DA().f;FH.exports=function(a){var g=c.Symbol||(c.Symbol=d?{}:b.Symbol||{});a.charAt(0)!="_"&&!(a in g)&&f(g,a,{value:e.f(a)})}}var HH=!1,IH=function(){HH||(HH=!0,GH());return FH.exports};c={};var JH={exports:c};function KH(){var a=WB(),b=AE(),c=FE();JH.exports=function(d){var e=a(d),f=b.f;if(f){f=f(d);var g=c.f,h=0,i;while(f.length>h)g.call(d,i=f[h++])&&e.push(i)}return e}}var LH=!1,MH=function(){LH||(LH=!0,KH());return JH.exports};d={};var NH={exports:d};function OH(){var a=eB();NH.exports=Array.isArray||function(b){return a(b)=="Array"}}var PH=!1,QH=function(){PH||(PH=!0,OH());return NH.exports},RH={},SH={exports:RH};function TH(){var a=OB(),b=SB().concat("length","prototype");RH.f=Object.getOwnPropertyNames||function(c){return a(c,b)}}var UH=!1,VH=function(){UH||(UH=!0,TH());return SH.exports};f={};var WH={exports:f};function XH(){var a=mB(),b=VH().f,c={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],e=function(a){try{return b(a)}catch(a){return d.slice()}};WH.exports.f=function(f){return d&&c.call(f)=="[object Window]"?e(f):b(a(f))}}var YH=!1,ZH=function(){YH||(YH=!0,XH());return WH.exports};a={};var $H={exports:a};function aI(){var b=Mz(),c=PA(),d=mA(),e=TA(),f=XA(),g=zH().KEY,h=iA(),i=CB(),j=pC(),k=GB(),l=lC(),m=EH(),n=IH(),o=MH(),p=QH(),q=eA(),r=aA(),s=xC(),t=mB(),u=yA(),v=HA(),w=hC(),x=ZH(),y=lF(),z=AE(),A=DA(),B=WB(),C=y.f,D=A.f,E=x.f,F=b.Symbol,G=b.JSON,H=G&&G.stringify,I="prototype",J=l("_hidden"),K=l("toPrimitive"),L={}.propertyIsEnumerable,M=i("symbol-registry"),N=i("symbols"),O=i("op-symbols"),P=Object[I];i=typeof F=="function"&&!!z.f;var aa=b.QObject,ba=!aa||!aa[I]||!aa[I].findChild,Q=d&&h(function(){return w(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a!=7})?function(a,b,c){var d=C(P,b);d&&delete P[b];D(a,b,c);d&&a!==P&&D(P,b,d)}:D,ca=function(a){var b=N[a]=w(F[I]);b._k=a;return b},da=i&&typeof F.iterator=="symbol"?function(a){return typeof a=="symbol"}:function(a){return a instanceof F},R=function(a,b,d){a===P&&R(O,b,d);q(a);b=u(b,!0);q(d);if(c(N,b)){!d.enumerable?(c(a,J)||D(a,J,v(1,{})),a[J][b]=!0):(c(a,J)&&a[J][b]&&(a[J][b]=!1),d=w(d,{enumerable:v(0,!1)}));return Q(a,b,d)}return D(a,b,d)},S=function(a,b){q(a);var c=o(b=t(b)),d=0,e=c.length,f;while(e>d)R(a,f=c[d++],b[f]);return a};aa=function(a,b){return b===void 0?w(a):S(w(a),b)};var T=function(a){var b=L.call(this,a=u(a,!0));return this===P&&c(N,a)&&!c(O,a)?!1:b||!c(this,a)||!c(N,a)||c(this,J)&&this[J][a]?b:!0},U=function(a,b){a=t(a);b=u(b,!0);if(a===P&&c(N,b)&&!c(O,b))return;var d=C(a,b);d&&c(N,b)&&!(c(a,J)&&a[J][b])&&(d.enumerable=!0);return d},ea=function(a){a=E(t(a));var b=[],d=0,e;while(a.length>d)!c(N,e=a[d++])&&e!=J&&e!=g&&b.push(e);return b},fa=function(a){var b=a===P;a=E(b?O:t(a));var d=[],e=0,f;while(a.length>e)c(N,f=a[e++])&&(b?c(P,f):!0)&&d.push(N[f]);return d};i||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var a=k(arguments.length>0?arguments[0]:void 0),b=function(d){this===P&&b.call(O,d),c(this,J)&&c(this[J],a)&&(this[J][a]=!1),Q(this,a,v(1,d))};d&&ba&&Q(P,a,{configurable:!0,set:b});return ca(a)},f(F[I],"toString",function(){return this._k}),y.f=U,A.f=R,VH().f=x.f=ea,FE().f=T,z.f=fa,d&&!Iz()&&f(P,"propertyIsEnumerable",T,!0),m.f=function(a){return ca(l(a))});e(e.G+e.W+e.F*!i,{Symbol:F});for(var y="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),A=0;y.length>A;)l(y[A++]);for(var x=B(l.store),f=0;x.length>f;)n(x[f++]);e(e.S+e.F*!i,"Symbol",{"for":function(a){return c(M,a+="")?M[a]:M[a]=F(a)},keyFor:function(a){if(!da(a))throw TypeError(a+" is not a symbol!");for(var b in M)if(M[b]===a)return b},useSetter:function(){ba=!0},useSimple:function(){ba=!1}});e(e.S+e.F*!i,"Object",{create:aa,defineProperty:R,defineProperties:S,getOwnPropertyDescriptor:U,getOwnPropertyNames:ea,getOwnPropertySymbols:fa});T=h(function(){z.f(1)});e(e.S+e.F*T,"Object",{getOwnPropertySymbols:function(a){return z.f(s(a))}});G&&e(e.S+e.F*(!i||h(function(){var a=F();return H([a])!="[null]"||H({a:a})!="{}"||H(Object(a))!="{}"})),"JSON",{stringify:function(a){var b=[a],c=1,d,e;while(arguments.length>c)b.push(arguments[c++]);e=d=b[1];if(!r(d)&&a===void 0||da(a))return;p(d)||(d=function(a,b){typeof e=="function"&&(b=e.call(this,a,b));if(!da(b))return b});b[1]=d;return H.apply(G,b)}});F[I][K]||LA()(F[I],K,F[I].valueOf);j(F,"Symbol");j(Math,"Math",!0);j(b.JSON,"JSON",!0)}var bI=!1,cI=function(){bI||(bI=!0,aI());return $H.exports};b={};var dI={exports:b};function eI(){IH()("asyncIterator")}var fI=!1,gI=function(){fI||(fI=!0,eI());return dI.exports};c={};var hI={exports:c};function iI(){IH()("observable")}var jI=!1,kI=function(){jI||(jI=!0,iI());return hI.exports};d={};var lI={exports:d};function mI(){cI(),gI(),kI(),lI.exports=$().Symbol}var nI=!1,oI=function(){nI||(nI=!0,mI());return lI.exports};f={};var pI={exports:f};function qI(){JC(),MD(),pI.exports=EH().f("iterator")}var rI=!1,sI=function(){rI||(rI=!0,qI());return pI.exports};a=function(a){switch(a){case void 0:return sz();case"/library/fn/array/from":return oD();case"/library/fn/date/now":return wD();case"/library/fn/get-iterator":return UD();case"/library/fn/is-iterable":return bE();case"/library/fn/number/is-finite":return jE();case"/library/fn/number/is-integer":return vE();case"/library/fn/object/assign":return RE();case"/library/fn/object/create":return ZE();case"/library/fn/object/define-property":return gF();case"/library/fn/object/get-own-property-descriptor":return xF();case"/library/fn/object/get-prototype-of":return FF();case"/library/fn/object/keys":return NF();case"/library/fn/object/set-prototype-of":return ZF();case"/library/fn/object/values":return kG();case"/library/fn/promise":return vH();case"/library/fn/symbol":return oI();case"/library/fn/symbol/iterator":return sI()}};e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("tiny-invariant-1.0.6",[],(function(a,b,c,d,e,f){"use strict";a={};var g={exports:a};function h(){var a=!0,b="Invariant failed";function c(c,d){if(c)return;if(a)throw new Error(b);else throw new Error(b+": "+(d||""))}g.exports=c}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("css-box-model-1.2.0",["tiny-invariant-1.0.6"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("tiny-invariant-1.0.6")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var b=a(g()),c=function(a){var b=a.top,c=a.right,d=a.bottom;a=a.left;var e=c-a,f=d-b;e={top:b,right:c,bottom:d,left:a,width:e,height:f,x:a,y:b,center:{x:(c+a)/2,y:(d+b)/2}};return e},d=function(a,b){return{top:a.top-b.top,left:a.left-b.left,bottom:a.bottom+b.bottom,right:a.right+b.right}},e=function(a,b){return{top:a.top+b.top,left:a.left+b.left,bottom:a.bottom-b.bottom,right:a.right-b.right}},f=function(a,b){return{top:a.top+b.y,left:a.left+b.x,bottom:a.bottom+b.y,right:a.right+b.x}},i={top:0,right:0,bottom:0,left:0},j=function(a){var b=a.borderBox,f=a.margin;f=f===void 0?i:f;var g=a.border;g=g===void 0?i:g;a=a.padding;a=a===void 0?i:a;var h=c(d(b,f)),j=c(e(b,g)),k=c(e(j,a));return{marginBox:h,borderBox:c(b),paddingBox:j,contentBox:k,margin:f,border:g,padding:a}},k=function(a){var c=a.slice(0,-2);a=a.slice(-2);if(a!=="px")return 0;a=Number(c);isNaN(a)?b(!1):void 0;return a},l=function(){return{x:window.pageXOffset,y:window.pageYOffset}},m=function(a,b){var c=a.borderBox,d=a.border,e=a.margin;a=a.padding;c=f(c,b);return j({borderBox:c,border:d,margin:e,padding:a})};a=function(a,b){b===void 0&&(b=l());return m(a,b)};var n=function(a,b){var c={top:k(b.marginTop),right:k(b.marginRight),bottom:k(b.marginBottom),left:k(b.marginLeft)},d={top:k(b.paddingTop),right:k(b.paddingRight),bottom:k(b.paddingBottom),left:k(b.paddingLeft)};b={top:k(b.borderTopWidth),right:k(b.borderRightWidth),bottom:k(b.borderBottomWidth),left:k(b.borderLeftWidth)};return j({borderBox:a,margin:c,padding:d,border:b})},o=function(a){var b=a.getBoundingClientRect();a=window.getComputedStyle(a);return n(b,a)};h.calculateBox=n;h.createBox=j;h.expand=d;h.getBox=o;h.getRect=c;h.offset=m;h.shrink=e;h.withScroll=a}var k=!1,l=function(){k||(k=!0,j());return i.exports};c=function(a){switch(a){case void 0:return l()}};e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("react-is-16.9.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});var a="function"===typeof Symbol&&Symbol["for"],b=a?Symbol["for"]("react.element"):60103,c=a?Symbol["for"]("react.portal"):60106,d=a?Symbol["for"]("react.fragment"):60107,e=a?Symbol["for"]("react.strict_mode"):60108,f=a?Symbol["for"]("react.profiler"):60114,h=a?Symbol["for"]("react.provider"):60109,i=a?Symbol["for"]("react.context"):60110,j=a?Symbol["for"]("react.async_mode"):60111,k=a?Symbol["for"]("react.concurrent_mode"):60111,l=a?Symbol["for"]("react.forward_ref"):60112,m=a?Symbol["for"]("react.suspense"):60113,n=a?Symbol["for"]("react.suspense_list"):60120,o=a?Symbol["for"]("react.memo"):60115,p=a?Symbol["for"]("react.lazy"):60116,q=a?Symbol["for"]("react.fundamental"):60117,r=a?Symbol["for"]("react.responder"):60118;function s(a){if("object"===typeof a&&null!==a){var g=a.$$typeof;switch(g){case b:switch(a=a.type,a){case j:case k:case d:case f:case e:case m:return a;default:switch(a=a&&a.$$typeof,a){case i:case l:case h:return a;default:return g}}case p:case o:case c:return g}}}function t(a){return s(a)===k}g.typeOf=s;g.AsyncMode=j;g.ConcurrentMode=k;g.ContextConsumer=i;g.ContextProvider=h;g.Element=b;g.ForwardRef=l;g.Fragment=d;g.Lazy=p;g.Memo=o;g.Portal=c;g.Profiler=f;g.StrictMode=e;g.Suspense=m;g.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===d||a===k||a===f||a===e||a===m||a===n||"object"===typeof a&&null!==a&&(a.$$typeof===p||a.$$typeof===o||a.$$typeof===h||a.$$typeof===i||a.$$typeof===l||a.$$typeof===q||a.$$typeof===r)};g.isAsyncMode=function(a){return t(a)||s(a)===j};g.isConcurrentMode=t;g.isContextConsumer=function(a){return s(a)===i};g.isContextProvider=function(a){return s(a)===h};g.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===b};g.isForwardRef=function(a){return s(a)===l};g.isFragment=function(a){return s(a)===d};g.isLazy=function(a){return s(a)===p};g.isMemo=function(a){return s(a)===o};g.isPortal=function(a){return s(a)===c};g.isProfiler=function(a){return s(a)===f};g.isStrictMode=function(a){return s(a)===e};g.isSuspense=function(a){return s(a)===m}}var j=!1,k=function(){j||(j=!0,i());return h.exports};a={};var l={exports:a};function m(){l.exports=k()}var n=!1,o=function(){n||(n=!0,m());return l.exports};b=function(a){switch(a){case void 0:return o()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/oyybAxN87_l/
 */
__d("hoist-non-react-statics-3.3.0",["react-is-16.9.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("react-is-16.9.0"));c={};var h={exports:c};function i(){var a=g(),b={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},c={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},d={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},f={};f[a.ForwardRef]=d;function i(c){return a.isMemo(c)?e:f[c.$$typeof]||b}var j=Object.defineProperty,k=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,n=Object.getPrototypeOf,o=Object.prototype;function p(a,b,d){if(typeof b!=="string"){if(o){var e=n(b);e&&e!==o&&p(a,e,d)}e=k(b);l&&(e=e.concat(l(b)));var f=i(a),g=i(b);for(var h=0;h<e.length;++h){var q=e[h];if(!c[q]&&!(d&&d[q])&&!(g&&g[q])&&!(f&&f[q])){var r=m(b,q);try{j(a,q,r)}catch(a){}}}return a}return a}h.exports=p}var j=!1,k=function(){j||(j=!0,i());return h.exports};d=function(a){switch(a){case void 0:return k()}};e.exports=d}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("invariant-2.2.4",[],(function(a,b,c,d,e,f){"use strict";a={};var g={exports:a};function h(){var a="production",b=function(b,c,d,e,f,g,h,i){if(a!=="production"&&c===void 0)throw new Error("invariant requires an error message argument");if(!b){if(c===void 0)b=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var j=[d,e,f,g,h,i],k=0;b=new Error(c.replace(/%s/g,function(){return j[k++]}));b.name="Invariant Violation"}b.framesToPop=1;throw b}};g.exports=b}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/V9vdYColc4k/
 */
__d("mapbox-sphericalmercator-1.1.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){var a=function(){var b={},c=Math.PI/180,d=180/Math.PI,e=6378137,f=20037508.342789244;function g(a){return Number(a)===a&&a%1!==0}function a(a){a=a||{};this.size=a.size||256;if(!b[this.size]){a=this.size;var c=b[this.size]={};c.Bc=[];c.Cc=[];c.zc=[];c.Ac=[];for(var d=0;d<30;d++)c.Bc.push(a/360),c.Cc.push(a/(2*Math.PI)),c.zc.push(a/2),c.Ac.push(a),a*=2}this.Bc=b[this.size].Bc;this.Cc=b[this.size].Cc;this.zc=b[this.size].zc;this.Ac=b[this.size].Ac}a.prototype.px=function(a,b){if(g(b)){var d=this.size*Math.pow(2,b),e=d/2,f=d/360,h=d/(2*Math.PI);d=d;var i=Math.min(Math.max(Math.sin(c*a[1]),-.9999),.9999);f=e+a[0]*f;h=e+.5*Math.log((1+i)/(1-i))*-h;f>d&&(f=d);h>d&&(h=d);return[f,h]}else{var e=this.zc[b],i=Math.min(Math.max(Math.sin(c*a[1]),-.9999),.9999);f=Math.round(e+a[0]*this.Bc[b]);h=Math.round(e+.5*Math.log((1+i)/(1-i))*-this.Cc[b]);f>this.Ac[b]&&(f=this.Ac[b]);h>this.Ac[b]&&(h=this.Ac[b]);return[f,h]}};a.prototype.ll=function(a,b){if(g(b)){var c=this.size*Math.pow(2,b),e=c/360,f=c/(2*Math.PI);c=c/2;f=(a[1]-c)/-f;c=(a[0]-c)/e;e=d*(2*Math.atan(Math.exp(f))-.5*Math.PI);return[c,e]}else{f=(a[1]-this.zc[b])/-this.Cc[b];c=(a[0]-this.zc[b])/this.Bc[b];e=d*(2*Math.atan(Math.exp(f))-.5*Math.PI);return[c,e]}};a.prototype.bbox=function(a,b,c,d,e){d&&(b=Math.pow(2,c)-1-b);d=[a*this.size,(+b+1)*this.size];a=[(+a+1)*this.size,b*this.size];b=this.ll(d,c).concat(this.ll(a,c));if(e==="900913")return this.convert(b,"900913");else return b};a.prototype.xyz=function(a,b,c,d){d==="900913"&&(a=this.convert(a,"WGS84"));d=[a[0],a[1]];a=[a[2],a[3]];d=this.px(d,b);a=this.px(a,b);var e=[Math.floor(d[0]/this.size),Math.floor((a[0]-1)/this.size)];a=[Math.floor(a[1]/this.size),Math.floor((d[1]-1)/this.size)];d={minX:Math.min.apply(Math,e)<0?0:Math.min.apply(Math,e),minY:Math.min.apply(Math,a)<0?0:Math.min.apply(Math,a),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,a)};if(c){e={minY:Math.pow(2,b)-1-d.maxY,maxY:Math.pow(2,b)-1-d.minY};d.minY=e.minY;d.maxY=e.maxY}return d};a.prototype.convert=function(a,b){if(b==="900913")return this.forward(a.slice(0,2)).concat(this.forward(a.slice(2,4)));else return this.inverse(a.slice(0,2)).concat(this.inverse(a.slice(2,4)))};a.prototype.forward=function(a){a=[e*a[0]*c,e*Math.log(Math.tan(Math.PI*.25+.5*a[1]*c))];a[0]>f&&(a[0]=f);a[0]<-f&&(a[0]=-f);a[1]>f&&(a[1]=f);a[1]<-f&&(a[1]=-f);return a};a.prototype.inverse=function(a){return[a[0]*d/e,(Math.PI*.5-2*Math.atan(Math.exp(-a[1]/e)))*d]};return a}();typeof h!=="undefined"&&typeof g!=="undefined"&&(h.exports=g=a)}var j=!1,k=function(){j||(j=!0,i());return h.exports};a=function(a){switch(a){case void 0:return k()}};e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/8Vcpwxe5tAL/
 */
__d("mapbox-geo-viewport-0.4.0",["mapbox-sphericalmercator-1.1.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("mapbox-sphericalmercator-1.1.0"));c={};var h={exports:c};function i(){var a=g(),b={};h.exports.viewport=e;h.exports.bounds=f;function c(c){c=c||256;b[c]||(b[c]=new a({size:c}));return b[c]}function d(a,b,c){a=Math.min(a-Math.log(b[0])/Math.log(2),a-Math.log(b[1])/Math.log(2));return c?a:Math.floor(a)}function e(a,b,e,f,g,h){e=e===void 0?0:e;f=f===void 0?20:f;g=c(g);var i=f,j=g.px([a[0],a[1]],i);g=g.px([a[2],a[3]],i);var k=g[0]-j[0];j=j[1]-g[1];g=[k/b[0],j/b[1]];k=[(a[0]+a[2])/2,(a[1]+a[3])/2];j=d(i,g,h);b=Math.max(e,Math.min(f,j));return{center:k,zoom:b}}function f(a,b,d,e){a.lon!==void 0&&(a=[a.lon,a.lat]);e=c(e);a=e.px(a,b);var f=e.ll([a[0]-d[0]/2,a[1]-d[1]/2],b);e=e.ll([a[0]+d[0]/2,a[1]+d[1]/2],b);return[f[0],e[1],e[0],f[1]]}}var j=!1,k=function(){j||(j=!0,i());return h.exports};d=function(a){switch(a){case void 0:return k()}};e.exports=d}),null);
__d("mapbox-geo-viewport",["mapbox-geo-viewport-0.4.0"],(function(a,b,c,d,e,f){e.exports=b("mapbox-geo-viewport-0.4.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/Jrvok3YXo6e/
 */
__d("mapbox-gl-1.1.1",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():typeof i==="function"&&i.amd?i(c):(b=b||self,b.mapboxgl=c())})(this,function(){var b,c,d;function a(a,e){if(!b)b=e;else if(!c)c=e;else{a="var sharedChunk = {}; ("+b+")(sharedChunk); ("+c+")(sharedChunk);";var f={};b(f);d=e(f);d.workerUrl=window.URL.createObjectURL(new Blob([a],{type:"text/javascript"}))}}a(["exports"],function(a){function b(a,b){return a(b={exports:{}},b.exports),b.exports}var c=d;function d(a,b,c,d){this.cx=3*a,this.bx=3*(c-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*b,this.by=3*(d-b)-this.cy,this.ay=1-this.cy-this.by,this.p1x=a,this.p1y=d,this.p2x=c,this.p2y=d}d.prototype.sampleCurveX=function(a){return((this.ax*a+this.bx)*a+this.cx)*a},d.prototype.sampleCurveY=function(a){return((this.ay*a+this.by)*a+this.cy)*a},d.prototype.sampleCurveDerivativeX=function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},d.prototype.solveCurveX=function(a,b){var c,d,e;for(void 0===b&&(b=1e-6),c=a,e=0;e<8;e++){if(d=this.sampleCurveX(c)-a,Math.abs(d)<b)return c;var f=this.sampleCurveDerivativeX(c);if(Math.abs(f)<1e-6)break;c-=d/f}if((c=a)<(f=0))return f;if(c>(e=1))return e;for(;f<e;){if(d=this.sampleCurveX(c),Math.abs(d-a)<b)return c;a>d?f=c:e=c,c=.5*(e-f)+f}return c},d.prototype.solve=function(a,b){return this.sampleCurveY(this.solveCurveX(a,b))};var e=f;function f(a,b){this.x=a,this.y=b}function g(a,b){if(Array.isArray(a)){if(!Array.isArray(b)||a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!g(a[c],b[c]))return!1;return!0}if("object"==typeof a&&null!==a&&null!==b){if("object"!=typeof b)return!1;if(Object.keys(a).length!==Object.keys(b).length)return!1;for(var d in a)if(!g(a[d],b[d]))return!1;return!0}return a===b}function h(a,b,d,e){var f=new c(a,b,d,e);return function(a){return f.solve(a)}}f.prototype={clone:function(){return new f(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},multByPoint:function(a){return this.clone()._multByPoint(a)},divByPoint:function(a){return this.clone()._divByPoint(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},rotateAround:function(a,b){return this.clone()._rotateAround(a,b)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var b=a.x-this.x;a=a.y-this.y;return b*b+a*a},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,b){return Math.atan2(this.x*b-this.y*a,this.x*a+this.y*b)},_matMult:function(a){var b=a[0]*this.x+a[1]*this.y;a=a[2]*this.x+a[3]*this.y;return this.x=b,this.y=a,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_multByPoint:function(a){return this.x*=a.x,this.y*=a.y,this},_divByPoint:function(a){return this.x/=a.x,this.y/=a.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var b=Math.cos(a);a=Math.sin(a);var c=b*this.x-a*this.y;a=a*this.x+b*this.y;return this.x=c,this.y=a,this},_rotateAround:function(a,b){var c=Math.cos(a);a=Math.sin(a);var d=b.x+c*(this.x-b.x)-a*(this.y-b.y);a=b.y+a*(this.x-b.x)+c*(this.y-b.y);return this.x=d,this.y=a,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},f.convert=function(a){return a instanceof f?a:Array.isArray(a)?new f(a[0],a[1]):a};d=h(.25,.1,.25,1);function i(a,b,c){return Math.min(c,Math.max(b,a))}function j(a,b,c){var d=c-b;a=((a-b)%d+d)%d+b;return a===b?c:a}function k(a){for(var b=[],c=arguments.length-1;c-->0;)b[c]=arguments[c+1];for(var d=0,e=b;d<e.length;d+=1){var f=e[d];for(var g in f)a[g]=f[g]}return a}var l=1;function m(){return l++}function n(){return function a(b){return b?(b^16*Math.random()>>b/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,a)}()}function o(a){return!!a&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(a)}function p(a,b){a.forEach(function(a){b[a]&&(b[a]=b[a].bind(b))})}function q(a,b){return-1!==a.indexOf(b,a.length-b.length)}function r(a,b,c){var d={};for(var e in a)d[e]=b.call(c||this,a[e],e,a);return d}function s(a,b,c){var d={};for(var e in a)b.call(c||this,a[e],e,a)&&(d[e]=a[e]);return d}function t(a){return Array.isArray(a)?a.map(t):"object"==typeof a&&a?r(a,t):a}var u={};function v(a){u[a]||("undefined"!=typeof console&&!1,u[a]=!0)}function w(a,b,c){return(c.y-a.y)*(b.x-a.x)>(b.y-a.y)*(c.x-a.x)}function x(a){for(var b=0,c=0,d=a.length,e=d-1,f=void 0,g=void 0;c<d;e=c++)f=a[c],b+=((g=a[e]).x-f.x)*(f.y+g.y);return b}function y(a){var b={};if(a.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(a,c,d,e){a=d||e;return b[c]=!a||a.toLowerCase(),""}),b["max-age"]){a=parseInt(b["max-age"],10);isNaN(a)?delete b["max-age"]:b["max-age"]=a}return b}function z(a){try{a=self[a];return a.setItem("_mapbox_test_",1),a.removeItem("_mapbox_test_"),!0}catch(a){return!1}}var A,B,C,D=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),E=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,F=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,G={now:D,frame:function(a){var b=E(a);return{cancel:function(){return F(b)}}},getImageData:function(a){var b=self.document.createElement("canvas"),c=b.getContext("2d");if(!c)throw new Error("failed to create canvas 2d context");return b.width=a.width,b.height=a.height,c.drawImage(a,0,0,a.width,a.height),c.getImageData(0,0,a.width,a.height)},resolveURL:function(a){return A||(A=self.document.createElement("a")),A.href=a,A.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio}},H={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},I={supported:!1,testSupport:function(a){if(J||!C)return;K?L(a):B=a}},J=!1,K=!1;function L(a){var b=a.createTexture();a.bindTexture(a.TEXTURE_2D,b);try{if(a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,C),a.isContextLost())return;I.supported=!0}catch(a){}a.deleteTexture(b),J=!0}self.document&&((C=self.document.createElement("img")).onload=function(){B&&L(B),B=null,K=!0},C.onerror=function(){J=!0,B=null},C.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var M="01";D=function(a){this._transformRequestFn=a,this._createSkuToken()};D.prototype._createSkuToken=function(){var a=function(){for(var a="",b=0;b<10;b++)a+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",M,a].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=a.token,this._skuTokenExpiresAt=a.tokenExpiresAt},D.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},D.prototype.transformRequest=function(a,b){return this._transformRequestFn&&this._transformRequestFn(a,b)||{url:a}},D.prototype.normalizeStyleURL=function(a,b){return R(a,b)},D.prototype.normalizeGlyphsURL=function(a,b){return S(a,b)},D.prototype.normalizeSourceURL=function(a,b){return T(a,b)},D.prototype.normalizeSpriteURL=function(a,b,c,d){return ba(a,b,c,d)},D.prototype.normalizeTileURL=function(a,b,c){return this._isSkuTokenExpired()&&this._createSkuToken(),da(a,b,c,this._skuToken)},D.prototype.canonicalizeTileURL=function(a){return fa(a)},D.prototype.canonicalizeTileset=function(a,b){return ga(a,b)};var N="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes";function O(a,b){var c=ia(H.API_URL);if(a.protocol=c.protocol,a.authority=c.authority,"/"!==c.path&&(a.path=""+c.path+a.path),!H.REQUIRE_ACCESS_TOKEN)return ja(a);if(!(b=b||H.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+N);if("s"===b[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+N);return a.params.push("access_token="+b),ja(a)}function P(a){return 0===a.indexOf("mapbox:")}var aa=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Q(a){return aa.test(a)}var R=function(a,b){if(!P(a))return a;a=ia(a);return a.path="/styles/v1"+a.path,O(a,b)},S=function(a,b){if(!P(a))return a;a=ia(a);return a.path="/fonts/v1"+a.path,O(a,b)},T=function(a,b){if(!P(a))return a;a=ia(a);return a.path="/v4/"+a.authority+".json",a.params.push("secure"),O(a,b)},ba=function(a,b,c,d){var e=ia(a);return P(a)?(e.path="/styles/v1"+e.path+"/sprite"+b+c,O(e,d)):(e.path+=""+b+c,ja(e))},ca=/(\.(png|jpg)\d*)(?=$)/,da=function(a,b,c,d){if(!b||!P(b))return a;b=ia(a);a=G.devicePixelRatio>=2||512===c?"@2x":"";c=I.supported?".webp":"$1";return b.path=b.path.replace(ca,""+a+c),b.path="/v4"+b.path,H.REQUIRE_ACCESS_TOKEN&&H.ACCESS_TOKEN&&d&&b.params.push("sku="+d),O(b)},ea=/\.[\w]+$/,fa=function(a){var b=ia(a);if(!b.path.match(/(^\/v4\/)/)||!b.path.match(ea))return a;a="mapbox://tiles/";a+=b.path.replace("/v4/","");b=b.params.filter(function(a){return!a.match(/^access_token=/)});return b.length&&(a+="?"+b.join("&")),a},ga=function(a,b){if(!P(b))return a.tiles||[];for(var b=[],c=0,a=a.tiles;c<a.length;c+=1){var d=a[c];d=fa(d);b.push(d)}return b},ha=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/;function ia(a){a=a.match(ha);if(!a)throw new Error("Unable to parse URL object");return{protocol:a[1],authority:a[2],path:a[3]||"/",params:a[4]?a[4].split("&"):[]}}function ja(a){var b=a.params.length?"?"+a.params.join("&"):"";return a.protocol+"://"+a.authority+a.path+b}function ka(a){if(!a)return null;a=a.split(".");if(!a||3!==a.length)return null;try{return JSON.parse((a=a[1],decodeURIComponent(self.atob(a).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch(a){return null}}var la=function(a){this.type=a,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};la.prototype.getStorageKey=function(a){var b=ka(H.ACCESS_TOKEN);return b&&b.u?(b=b.u,b=self.btoa(encodeURIComponent(b).replace(/%([0-9A-F]{2})/g,function(a,b){return String.fromCharCode(Number("0x"+b))}))):b=H.ACCESS_TOKEN||"",a?"mapbox.eventData."+a+":"+b:"mapbox.eventData:"+b},la.prototype.fetchEventData=function(){var a=z("localStorage"),b=this.getStorageKey(),c=this.getStorageKey("uuid");if(a)try{a=self.localStorage.getItem(b);a&&(this.eventData=JSON.parse(a));b=self.localStorage.getItem(c);b&&(this.anonId=b)}catch(a){v("Unable to read from LocalStorage")}},la.prototype.saveEventData=function(){var a=z("localStorage"),b=this.getStorageKey(),c=this.getStorageKey("uuid");if(a)try{self.localStorage.setItem(c,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(b,JSON.stringify(this.eventData))}catch(a){v("Unable to write to LocalStorage")}},la.prototype.processRequests=function(){},la.prototype.postEvent=function(a,b,c){var d=this;if(H.EVENTS_URL){var e=ia(H.EVENTS_URL);e.params.push("access_token="+(H.ACCESS_TOKEN||""));a={event:this.type,created:new Date(a).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.1.1",skuId:M,userId:this.anonId};b=b?k(a,b):a;a={url:ja(e),headers:{"Content-Type":"text/plain"},body:JSON.stringify([b])};this.pendingRequest=Da(a,function(a){d.pendingRequest=null,c(a),d.saveEventData(),d.processRequests()})}},la.prototype.queueRequest=function(a){this.queue.push(a),this.processRequests()};var ma,na=function(a){function b(){a.call(this,"map.load"),this.success={},this.skuToken=""}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.postMapLoadEvent=function(a,b,c){this.skuToken=c,H.EVENTS_URL&&H.ACCESS_TOKEN&&Array.isArray(a)&&a.some(function(a){return P(a)||Q(a)})&&this.queueRequest({id:b,timestamp:Date.now()})},b.prototype.processRequests=function(){var a=this;if(!this.pendingRequest&&0!==this.queue.length){var b=this.queue.shift(),c=b.id;b=b.timestamp;c&&this.success[c]||(this.anonId||this.fetchEventData(),o(this.anonId)||(this.anonId=n()),this.postEvent(b,{skuToken:this.skuToken},function(b){b||c&&(a.success[c]=!0)}))}},b}(la);la=new(function(a){function b(){a.call(this,"appUserTurnstile")}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.postTurnstileEvent=function(a){H.EVENTS_URL&&H.ACCESS_TOKEN&&Array.isArray(a)&&a.some(function(a){return P(a)||Q(a)})&&this.queueRequest(Date.now())},b.prototype.processRequests=function(){var a=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var b=ka(H.ACCESS_TOKEN),c=b?b.u:H.ACCESS_TOKEN;b=c!==this.eventData.tokenU;o(this.anonId)||(this.anonId=n(),b=!0);var d=this.queue.shift();if(this.eventData.lastSuccess){var e=new Date(this.eventData.lastSuccess),f=new Date(d),g=(d-this.eventData.lastSuccess)/864e5;b=b||g>=1||g<-1||e.getDate()!==f.getDate()}else b=!0;if(!b)return this.processRequests();this.postEvent(d,{"enabled.telemetry":!1},function(b){b||(a.eventData.lastSuccess=d,a.eventData.tokenU=c)})}},b}(la))();la=la.postTurnstileEvent.bind(la);na=new na();na=na.postMapLoadEvent.bind(na);var oa="mapbox-tiles",pa=500,qa=50,ra=42e4;function sa(a,b,c){if(self.caches){var d={status:b.status,statusText:b.statusText,headers:new self.Headers()};b.headers.forEach(function(a,b){return d.headers.set(b,a)});var e=y(b.headers.get("Cache-Control")||"");e["no-store"]||(e["max-age"]&&d.headers.set("Expires",new Date(c+1e3*e["max-age"]).toUTCString()),new Date(d.headers.get("Expires")).getTime()-c<ra||function(a,b){if(void 0===ma)try{new Response(new ReadableStream()),ma=!0}catch(a){ma=!1}ma?b(a.body):a.blob().then(b)}(b,function(b){var c=new self.Response(b,d);self.caches.open(oa).then(function(b){return b.put(ta(a.url),c)})}))}}function ta(a){var b=a.indexOf("?");return b<0?a:a.slice(0,b)}function ua(a,b){if(!self.caches)return b(null);var c=ta(a.url);self.caches.open(oa)["catch"](b).then(function(a){a.match(c)["catch"](b).then(function(d){var e=function(a){if(!a)return!1;var b=new Date(a.headers.get("Expires"));a=y(a.headers.get("Cache-Control")||"");return b>Date.now()&&!a["no-cache"]}(d);a["delete"](c),e&&a.put(c,d.clone()),b(null,d,e)})})}var va=1/0,wa={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(wa);var xa=function(a){function b(b,c,d){401===c&&Q(d)&&(b+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),a.call(this,b),this.status=c,this.url=d,this.name=this.constructor.name,this.message=b}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},b}(Error);function ya(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}var za=ya()?function(){return self.worker&&self.worker.referrer}:function(){var a=self.location.origin;if(a&&"null"!==a&&"file://"!==a)return a+self.location.pathname};function Aa(a,b){var c,d=new self.AbortController(),e=new self.Request(a.url,{method:a.method||"GET",body:a.body,credentials:a.credentials,headers:a.headers,referrer:za(),signal:d.signal}),f=!1,g=!1,h=(c=e.url).indexOf("sku=")>0&&Q(c);"json"===a.type&&e.headers.set("Accept","application/json");c=function(c,d,f){if(!g){if(c&&"SecurityError"!==c.message&&v(c),d&&f)return i(d);var j=Date.now();self.fetch(e).then(function(c){if(c.ok){var d=h?c.clone():null;return i(c,d,j)}return b(new xa(c.statusText,c.status,a.url))})["catch"](function(a){20!==a.code&&b(new Error(a.message))})}};var i=function(c,d,h){("arrayBuffer"===a.type?c.arrayBuffer():"json"===a.type?c.json():c.text()).then(function(a){g||(d&&h&&sa(e,d,h),f=!0,b(null,a,c.headers.get("Cache-Control"),c.headers.get("Expires")))})["catch"](function(a){return b(new Error(a.message))})};return h?ua(e,c):c(null,null),{cancel:function(){g=!0,f||d.abort()}}}var Ba=function(a,b){if(!/^file:/.test(a.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return Aa(a,b);if(ya()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",a,b)}return function(a,b){var c=new self.XMLHttpRequest();for(var d in c.open(a.method||"GET",a.url,!0),"arrayBuffer"===a.type&&(c.responseType="arraybuffer"),a.headers)c.setRequestHeader(d,a.headers[d]);return"json"===a.type&&c.setRequestHeader("Accept","application/json"),c.withCredentials="include"===a.credentials,c.onerror=function(){b(new Error(c.statusText))},c.onload=function(){if((c.status>=200&&c.status<300||0===c.status)&&null!==c.response){var d=c.response;if("json"===a.type)try{d=JSON.parse(c.response)}catch(a){return b(a)}b(null,d,c.getResponseHeader("Cache-Control"),c.getResponseHeader("Expires"))}else b(new xa(c.statusText,c.status,a.url))},c.send(a.body),{cancel:function(){return c.abort()}}}(a,b)},Ca=function(a,b){return Ba(k(a,{type:"arrayBuffer"}),b)},Da=function(a,b){return Ba(k(a,{method:"POST"}),b)},Ea,Fa;Ea=[],Fa=0;var Ga=function(a,b){if(Fa>=H.MAX_PARALLEL_IMAGE_REQUESTS){var c={requestParameters:a,callback:b,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ea.push(c),c}Fa++;var d=!1,e=function(){if(!d)for(d=!0,Fa--;Ea.length&&Fa<H.MAX_PARALLEL_IMAGE_REQUESTS;){var a=Ea.shift(),b=a.requestParameters,c=a.callback;a.cancelled||(a.cancel=Ga(b,c).cancel)}},f=Ca(a,function(a,c,d,f){if(e(),a)b(a);else if(c){var g=new self.Image(),h=self.URL||self.webkitURL;g.onload=function(){b(null,g),h.revokeObjectURL(g.src)},g.onerror=function(){return b(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};a=new self.Blob([new Uint8Array(c)],{type:"image/png"});g.cacheControl=d,g.expires=f,g.src=c.byteLength?h.createObjectURL(a):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}});return{cancel:function(){f.cancel(),e()}}};function Ha(a,b,c){c[a]&&-1!==c[a].indexOf(b)||(c[a]=c[a]||[],c[a].push(b))}function Ia(a,b,c){if(c&&c[a]){b=c[a].indexOf(b);-1!==b&&c[a].splice(b,1)}}var Ja=function(a,b){void 0===b&&(b={}),k(this,b),this.type=a},Ka=function(a){function b(b,c){void 0===c&&(c={}),a.call(this,"error",k({error:b},c))}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(Ja),La=function(){};La.prototype.on=function(a,b){return this._listeners=this._listeners||{},Ha(a,b,this._listeners),this},La.prototype.off=function(a,b){return Ia(a,b,this._listeners),Ia(a,b,this._oneTimeListeners),this},La.prototype.once=function(a,b){return this._oneTimeListeners=this._oneTimeListeners||{},Ha(a,b,this._oneTimeListeners),this},La.prototype.fire=function(a,b){"string"==typeof a&&(a=new Ja(a,b||{}));b=a.type;if(this.listens(b)){a.target=this;for(var c=0,d=this._listeners&&this._listeners[b]?this._listeners[b].slice():[];c<d.length;c+=1)d[c].call(this,a);for(var d=0,c=this._oneTimeListeners&&this._oneTimeListeners[b]?this._oneTimeListeners[b].slice():[];d<c.length;d+=1){var e=c[d];Ia(b,e,this._oneTimeListeners),e.call(this,a)}e=this._eventedParent;e&&(k(a,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),e.fire(a))}else a instanceof Ka&&!1;return this},La.prototype.listens=function(a){return this._listeners&&this._listeners[a]&&this._listeners[a].length>0||this._oneTimeListeners&&this._oneTimeListeners[a]&&this._oneTimeListeners[a].length>0||this._eventedParent&&this._eventedParent.listens(a)},La.prototype.setEventedParent=function(a,b){return this._eventedParent=a,this._eventedParentData=b,this};var U={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number","default":0,period:360,units:"degrees"},pitch:{type:"number","default":0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},"default":"xyz"},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129]},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},"default":"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129]},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},"default":"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number","default":18},attribution:{type:"string"},buffer:{type:"number","default":128,maximum:512,minimum:0},tolerance:{type:"number","default":.375},cluster:{type:"boolean","default":!1},clusterRadius:{type:"number","default":50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean","default":!1},generateId:{type:"boolean","default":!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},"default":"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},"default":"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number","default":2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number","default":1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},"default":"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number","default":250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean","default":!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},"default":"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean","default":!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean","default":!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean","default":!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number","default":1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},"default":"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number","default":0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number","default":2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean","default":!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted","default":"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number","default":16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number","default":10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number","default":1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number","default":0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},"default":"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems","default":0,requires:[{"!":"text-offset"}],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:[{"!":"text-anchor"},{"!":"text-offset"},{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",requires:["text-field"],values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number","default":45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number","default":0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number","default":2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean","default":!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},"default":"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,"default":[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean","default":!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean","default":!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean","default":!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},"function":{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number","default":1,minimum:0},property:{type:"string","default":"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},"default":"rgb"},"default":{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},"var":{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},"case":{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},"typeof":{group:"Types"},string:{group:"Types"},number:{group:"Types"},"boolean":{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum","default":"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array","default":[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant","default":.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean","default":!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number","default":0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number","default":0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean","default":!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number","default":1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number","default":0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number","default":0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},"default":"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},"default":"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number","default":30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number","default":1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number","default":1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color","default":"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color","default":"#000000",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number","default":0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number","default":0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number","default":0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number","default":0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},"default":"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number","default":300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number","default":335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number","default":.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color","default":"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds"},delay:{type:"number","default":0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},V=function(a,b,c,d){this.message=(a?a+": ":"")+c,d&&(this.identifier=d),null!=b&&b.__line__&&(this.line=b.__line__)};function Ma(a){var b=a.key;a=a.value;return a?[new V(b,a,"constants have been deprecated as of v8")]:[]}function Na(a){for(var b=[],c=arguments.length-1;c-->0;)b[c]=arguments[c+1];for(var d=0,e=b;d<e.length;d+=1){var f=e[d];for(var g in f)a[g]=f[g]}return a}function Oa(a){return a instanceof Number||a instanceof String||a instanceof Boolean}function Pa(a){return Oa(a)?a.valueOf():a}function Qa(a){if(Array.isArray(a))return a.map(Qa);if(a instanceof Object&&!Oa(a)){var b={};for(var c in a)b[c]=Qa(a[c]);return b}return Pa(a)}var Ra=function(a){function b(b,c){a.call(this,c),this.message=c,this.key=b}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(Error),Sa=function(a,b){void 0===b&&(b=[]),this.parent=a,this.bindings={};for(var a=0,b=b;a<b.length;a+=1){var c=b[a],d=c[0];c=c[1];this.bindings[d]=c}};Sa.prototype.concat=function(a){return new Sa(this,a)},Sa.prototype.get=function(a){if(this.bindings[a])return this.bindings[a];if(this.parent)return this.parent.get(a);throw new Error(a+" not found in scope.")},Sa.prototype.has=function(a){return!!this.bindings[a]||!!this.parent&&this.parent.has(a)};var Ta={kind:"null"},W={kind:"number"},Ua={kind:"string"},Va={kind:"boolean"},Wa={kind:"color"},Xa={kind:"object"},Ya={kind:"value"},Za={kind:"collator"},$a={kind:"formatted"};function ab(a,b){return{kind:"array",itemType:a,N:b}}function bb(a){if("array"===a.kind){var b=bb(a.itemType);return"number"==typeof a.N?"array<"+b+", "+a.N+">":"value"===a.itemType.kind?"array":"array<"+b+">"}return a.kind}var cb=[Ta,W,Ua,Va,Wa,$a,Xa,ab(Ya)];function db(a,b){if("error"===b.kind)return null;if("array"===a.kind){if("array"===b.kind&&(0===b.N&&"value"===b.itemType.kind||!db(a.itemType,b.itemType))&&("number"!=typeof a.N||a.N===b.N))return null}else{if(a.kind===b.kind)return null;if("value"===a.kind)for(var c=0,d=cb;c<d.length;c+=1)if(!db(d[c],b))return null}return"Expected "+bb(a)+" but found "+bb(b)+" instead."}var eb=b(function(a,b){var c={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function d(a){return(a=Math.round(a))<0?0:a>255?255:a}function e(a){return a<0?0:a>1?1:a}function f(a){return"%"===a[a.length-1]?d(parseFloat(a)/100*255):d(parseInt(a))}function g(a){return"%"===a[a.length-1]?e(parseFloat(a)/100):e(parseFloat(a))}function h(a,b,c){return c<0?c+=1:c>1&&(c-=1),6*c<1?a+(b-a)*c*6:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a}try{b.parseCSSColor=function(a){var b;a=a.replace(/ /g,"").toLowerCase();if(a in c)return c[a].slice();if("#"===a[0])return 4===a.length?(b=parseInt(a.substr(1),16))>=0&&b<=4095?[(3840&b)>>4|(3840&b)>>8,240&b|(240&b)>>4,15&b|(15&b)<<4,1]:null:7===a.length&&(b=parseInt(a.substr(1),16))>=0&&b<=16777215?[(16711680&b)>>16,(65280&b)>>8,255&b,1]:null;var j=a.indexOf("("),e=a.indexOf(")");if(-1!==j&&e+1===a.length){var i=a.substr(0,j);a=a.substr(j+1,e-(j+1)).split(",");e=1;switch(i){case"rgba":if(4!==a.length)return null;e=g(a.pop());case"rgb":return 3!==a.length?null:[f(a[0]),f(a[1]),f(a[2]),e];case"hsla":if(4!==a.length)return null;e=g(a.pop());case"hsl":if(3!==a.length)return null;j=(parseFloat(a[0])%360+360)%360/360;i=g(a[1]);a=g(a[2]);i=a<=.5?a*(i+1):a+i-a*i;a=2*a-i;return[d(255*h(a,i,j+1/3)),d(255*h(a,i,j)),d(255*h(a,i,j-1/3)),e];default:return null}}return null}}catch(a){}}).parseCSSColor,fb=function(a,b,c,d){void 0===d&&(d=1),this.r=a,this.g=b,this.b=c,this.a=d};fb.parse=function(a){if(a){if(a instanceof fb)return a;if("string"==typeof a){a=eb(a);if(a)return new fb(a[0]/255*a[3],a[1]/255*a[3],a[2]/255*a[3],a[3])}}},fb.prototype.toString=function(){var a=this.toArray(),b=a[0],c=a[1],d=a[2];a=a[3];return"rgba("+Math.round(b)+","+Math.round(c)+","+Math.round(d)+","+a+")"},fb.prototype.toArray=function(){var a=this.r,b=this.g,c=this.b,d=this.a;return 0===d?[0,0,0,0]:[255*a/d,255*b/d,255*c/d,d]},fb.black=new fb(0,0,0,1),fb.white=new fb(1,1,1,1),fb.transparent=new fb(0,0,0,0),fb.red=new fb(1,0,0,1);var gb=function(a,b,c){this.sensitivity=a?b?"variant":"case":b?"accent":"base",this.locale=c,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};gb.prototype.compare=function(a,b){return this.collator.compare(a,b)},gb.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var hb=function(a,b,c){this.text=a,this.scale=b,this.fontStack=c},ib=function(a){this.sections=a};function jb(a,b,c,d){return"number"==typeof a&&a>=0&&a<=255&&"number"==typeof b&&b>=0&&b<=255&&"number"==typeof c&&c>=0&&c<=255?void 0===d||"number"==typeof d&&d>=0&&d<=1?null:"Invalid rgba value ["+[a,b,c,d].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof d?[a,b,c,d]:[a,b,c]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function kb(a){if(null===a)return Ta;if("string"==typeof a)return Ua;if("boolean"==typeof a)return Va;if("number"==typeof a)return W;if(a instanceof fb)return Wa;if(a instanceof gb)return Za;if(a instanceof ib)return $a;if(Array.isArray(a)){for(var b,c=a.length,d=0,a=a;d<a.length;d+=1){var e=kb(a[d]);if(b){if(b===e)continue;b=Ya;break}b=e}return ab(b||Ya,c)}return Xa}function lb(a){var b=typeof a;return null===a?"":"string"===b||"number"===b||"boolean"===b?String(a):a instanceof fb||a instanceof ib?a.toString():JSON.stringify(a)}ib.fromString=function(a){return new ib([new hb(a,null,null)])},ib.prototype.toString=function(){return this.sections.map(function(a){return a.text}).join("")},ib.prototype.serialize=function(){for(var a=["format"],b=0,c=this.sections;b<c.length;b+=1){var d=c[b];a.push(d.text);var e={};d.fontStack&&(e["text-font"]=["literal",d.fontStack.split(",")]),d.scale&&(e["font-scale"]=d.scale),a.push(e)}return a};var mb=function(a,b){this.type=a,this.value=b};mb.parse=function(a,b){if(2!==a.length)return b.error("'literal' expression requires exactly one argument, but found "+(a.length-1)+" instead.");if(!function a(b){if(null===b)return!0;if("string"==typeof b)return!0;if("boolean"==typeof b)return!0;if("number"==typeof b)return!0;if(b instanceof fb)return!0;if(b instanceof gb)return!0;if(b instanceof ib)return!0;if(Array.isArray(b)){for(var c=0,d=b;c<d.length;c+=1)if(!a(d[c]))return!1;return!0}if("object"==typeof b){for(var e in b)if(!a(b[e]))return!1;return!0}return!1}(a[1]))return b.error("invalid value");a=a[1];var c=kb(a);b=b.expectedType;return"array"!==c.kind||0!==c.N||!b||"array"!==b.kind||"number"==typeof b.N&&0!==b.N||(c=b),new mb(c,a)},mb.prototype.evaluate=function(){return this.value},mb.prototype.eachChild=function(){},mb.prototype.possibleOutputs=function(){return[this.value]},mb.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof fb?["rgba"].concat(this.value.toArray()):this.value instanceof ib?this.value.serialize():this.value};var nb=function(a){this.name="ExpressionEvaluationError",this.message=a};nb.prototype.toJSON=function(){return this.message};var ob={string:Ua,number:W,"boolean":Va,object:Xa},pb=function(a,b){this.type=a,this.args=b};pb.parse=function(a,b){if(a.length<2)return b.error("Expected at least one argument.");var c=1,d=a[0];if("array"===d){var e;if(a.length>2){var f=a[1];if("string"!=typeof f||!(f in ob)||"object"===f)return b.error('The item type argument of "array" must be one of string, number, boolean',1);f=ob[f],c++}else f=Ya;if(a.length>3){if(null!==a[2]&&("number"!=typeof a[2]||a[2]<0||a[2]!==Math.floor(a[2])))return b.error('The length argument to "array" must be a positive integer literal',2);e=a[2],c++}f=ab(f,e)}else f=ob[d];for(var d=[];c<a.length;c++){var g=b.parse(a[c],c,Ya);if(!g)return null;d.push(g)}return new pb(f,d)},pb.prototype.evaluate=function(a){for(var b=0;b<this.args.length;b++){var c=this.args[b].evaluate(a);if(!db(this.type,kb(c)))return c;if(b===this.args.length-1)throw new nb("Expected value to be of type "+bb(this.type)+", but found "+bb(kb(c))+" instead.")}return null},pb.prototype.eachChild=function(a){this.args.forEach(a)},pb.prototype.possibleOutputs=function(){var a;return(a=[]).concat.apply(a,this.args.map(function(a){return a.possibleOutputs()}))},pb.prototype.serialize=function(){var a=this.type,b=[a.kind];if("array"===a.kind){var c=a.itemType;if("string"===c.kind||"number"===c.kind||"boolean"===c.kind){b.push(c.kind);c=a.N;("number"==typeof c||this.args.length>1)&&b.push(c)}}return b.concat(this.args.map(function(a){return a.serialize()}))};var qb=function(a){this.type=$a,this.sections=a};qb.parse=function(a,b){if(a.length<3)return b.error("Expected at least two arguments.");if((a.length-1)%2!=0)return b.error("Expected an even number of arguments.");for(var c=[],d=1;d<a.length-1;d+=2){var e=b.parse(a[d],1,Ya);if(!e)return null;var f=e.type.kind;if("string"!==f&&"value"!==f&&"null"!==f)return b.error("Formatted text type must be 'string', 'value', or 'null'.");f=a[d+1];if("object"!=typeof f||Array.isArray(f))return b.error("Format options argument must be an object.");var g=null;if(f["font-scale"]&&!(g=b.parse(f["font-scale"],1,W)))return null;var h=null;if(f["text-font"]&&!(h=b.parse(f["text-font"],1,ab(Ua))))return null;c.push({text:e,scale:g,font:h})}return new qb(c)},qb.prototype.evaluate=function(a){return new ib(this.sections.map(function(b){return new hb(lb(b.text.evaluate(a)),b.scale?b.scale.evaluate(a):null,b.font?b.font.evaluate(a).join(","):null)}))},qb.prototype.eachChild=function(a){for(var b=0,c=this.sections;b<c.length;b+=1){var d=c[b];a(d.text),d.scale&&a(d.scale),d.font&&a(d.font)}},qb.prototype.possibleOutputs=function(){return[void 0]},qb.prototype.serialize=function(){for(var a=["format"],b=0,c=this.sections;b<c.length;b+=1){var d=c[b];a.push(d.text.serialize());var e={};d.scale&&(e["font-scale"]=d.scale.serialize()),d.font&&(e["text-font"]=d.font.serialize()),a.push(e)}return a};var rb={"to-boolean":Va,"to-color":Wa,"to-number":W,"to-string":Ua},sb=function(a,b){this.type=a,this.args=b};sb.parse=function(a,b){if(a.length<2)return b.error("Expected at least one argument.");var c=a[0];if(("to-boolean"===c||"to-string"===c)&&2!==a.length)return b.error("Expected one argument.");for(var c=rb[c],d=[],e=1;e<a.length;e++){var f=b.parse(a[e],e,Ya);if(!f)return null;d.push(f)}return new sb(c,d)},sb.prototype.evaluate=function(a){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(a));if("color"===this.type.kind){for(var b,c,d=0,e=this.args;d<e.length;d+=1){if(c=null,(b=e[d].evaluate(a))instanceof fb)return b;if("string"==typeof b){var f=a.parseColor(b);if(f)return f}else if(Array.isArray(b)&&!(c=b.length<3||b.length>4?"Invalid rbga value "+JSON.stringify(b)+": expected an array containing either three or four numeric values.":jb(b[0],b[1],b[2],b[3])))return new fb(b[0]/255,b[1]/255,b[2]/255,b[3])}throw new nb(c||"Could not parse color from value '"+("string"==typeof b?b:String(JSON.stringify(b)))+"'")}if("number"===this.type.kind){for(var f=null,e=0,d=this.args;e<d.length;e+=1){if(null===(f=d[e].evaluate(a)))return 0;var g=Number(f);if(!isNaN(g))return g}throw new nb("Could not convert "+JSON.stringify(f)+" to number.")}return"formatted"===this.type.kind?ib.fromString(lb(this.args[0].evaluate(a))):lb(this.args[0].evaluate(a))},sb.prototype.eachChild=function(a){this.args.forEach(a)},sb.prototype.possibleOutputs=function(){var a;return(a=[]).concat.apply(a,this.args.map(function(a){return a.possibleOutputs()}))},sb.prototype.serialize=function(){if("formatted"===this.type.kind)return new qb([{text:this.args[0],scale:null,font:null}]).serialize();var a=["to-"+this.type.kind];return this.eachChild(function(b){a.push(b.serialize())}),a};var tb=["Unknown","Point","LineString","Polygon"],ub=function(){this.globals=null,this.feature=null,this.featureState=null,this._parseColorCache={}};ub.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ub.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?tb[this.feature.type]:this.feature.type:null},ub.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ub.prototype.parseColor=function(a){var b=this._parseColorCache[a];return b||(b=this._parseColorCache[a]=fb.parse(a)),b};var vb=function(a,b,c,d){this.name=a,this.type=b,this._evaluate=c,this.args=d};vb.prototype.evaluate=function(a){return this._evaluate(a,this.args)},vb.prototype.eachChild=function(a){this.args.forEach(a)},vb.prototype.possibleOutputs=function(){return[void 0]},vb.prototype.serialize=function(){return[this.name].concat(this.args.map(function(a){return a.serialize()}))},vb.parse=function(a,b){var c=a[0],d=vb.definitions[c];if(!d)return b.error('Unknown expression "'+c+'". If you wanted a literal array, use ["literal", [...]].',0);for(var e=Array.isArray(d)?d[0]:d.type,d=Array.isArray(d)?[[d[1],d[2]]]:d.overloads,f=d.filter(function(b){b=b[0];return!Array.isArray(b)||b.length===a.length-1}),u=null,g=0,h=f;g<h.length;g+=1){var i=h[g],j=i[0];i=i[1];u=new Bb(b.registry,b.path,null,b.scope);for(var k=[],l=!1,m=1;m<a.length;m++){var s=a[m],t=Array.isArray(j)?j[m-1]:j.type;s=u.parse(s,1+k.length,t);if(!s){l=!0;break}k.push(s)}if(!l)if(Array.isArray(j)&&j.length!==k.length)u.error("Expected "+j.length+" arguments, but found "+k.length+" instead.");else{for(var t=0;t<k.length;t++){s=Array.isArray(j)?j[t]:j.type;m=k[t];u.concat(t+1).checkSubtype(s,m.type)}if(0===u.errors.length)return new vb(c,e,i,k)}}if(1===f.length)(l=b.errors).push.apply(l,u.errors);else{for(var s=(f.length?f:d).map(function(a){a=a[0];return a=a,Array.isArray(a)?"("+a.map(bb).join(", ")+")":"("+bb(a.type)+"...)"}).join(" | "),m=[],t=1;t<a.length;t++){j=b.parse(a[t],1+m.length);if(!j)return null;m.push(bb(j.type))}b.error("Expected arguments of type "+s+", but found ("+m.join(", ")+") instead.")}return null},vb.register=function(a,b){for(var c in vb.definitions=b,b)a[c]=vb};var wb=function(a,b,c){this.type=Za,this.locale=c,this.caseSensitive=a,this.diacriticSensitive=b};function xb(a){if(a instanceof vb){if("get"===a.name&&1===a.args.length)return!1;if("feature-state"===a.name)return!1;if("has"===a.name&&1===a.args.length)return!1;if("properties"===a.name||"geometry-type"===a.name||"id"===a.name)return!1;if(/^filter-/.test(a.name))return!1}var b=!0;return a.eachChild(function(a){b&&!xb(a)&&(b=!1)}),b}function yb(a){if(a instanceof vb&&"feature-state"===a.name)return!1;var b=!0;return a.eachChild(function(a){b&&!yb(a)&&(b=!1)}),b}function zb(a,b){if(a instanceof vb&&b.indexOf(a.name)>=0)return!1;var c=!0;return a.eachChild(function(a){c&&!zb(a,b)&&(c=!1)}),c}wb.parse=function(a,b){if(2!==a.length)return b.error("Expected one argument.");a=a[1];if("object"!=typeof a||Array.isArray(a))return b.error("Collator options argument must be an object.");var c=b.parse(void 0!==a["case-sensitive"]&&a["case-sensitive"],1,Va);if(!c)return null;var d=b.parse(void 0!==a["diacritic-sensitive"]&&a["diacritic-sensitive"],1,Va);if(!d)return null;var e=null;return a.locale&&!(e=b.parse(a.locale,1,Ua))?null:new wb(c,d,e)},wb.prototype.evaluate=function(a){return new gb(this.caseSensitive.evaluate(a),this.diacriticSensitive.evaluate(a),this.locale?this.locale.evaluate(a):null)},wb.prototype.eachChild=function(a){a(this.caseSensitive),a(this.diacriticSensitive),this.locale&&a(this.locale)},wb.prototype.possibleOutputs=function(){return[void 0]},wb.prototype.serialize=function(){var a={};return a["case-sensitive"]=this.caseSensitive.serialize(),a["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(a.locale=this.locale.serialize()),["collator",a]};var Ab=function(a,b){this.type=b.type,this.name=a,this.boundExpression=b};Ab.parse=function(a,b){if(2!==a.length||"string"!=typeof a[1])return b.error("'var' expression requires exactly one string literal argument.");a=a[1];return b.scope.has(a)?new Ab(a,b.scope.get(a)):b.error('Unknown variable "'+a+'". Make sure "'+a+'" has been bound in an enclosing "let" expression before using it.',1)},Ab.prototype.evaluate=function(a){return this.boundExpression.evaluate(a)},Ab.prototype.eachChild=function(){},Ab.prototype.possibleOutputs=function(){return[void 0]},Ab.prototype.serialize=function(){return["var",this.name]};var Bb=function(a,b,c,d,e){void 0===b&&(b=[]),void 0===d&&(d=new Sa()),void 0===e&&(e=[]),this.registry=a,this.path=b,this.key=b.map(function(a){return"["+a+"]"}).join(""),this.scope=d,this.errors=e,this.expectedType=c};function Cb(a,b){for(var c,d,e=a.length-1,f=0,g=e,h=0;f<=g;)if(c=a[h=Math.floor((f+g)/2)],d=a[h+1],c<=b){if(h===e||b<d)return h;f=h+1}else{if(!(c>b))throw new nb("Input is not a number.");g=h-1}return 0}Bb.prototype.parse=function(a,b,c,d,e){return void 0===e&&(e={}),b?this.concat(b,c,d)._parse(a,e):this._parse(a,e)},Bb.prototype._parse=function(a,b){function c(a,b,c){return"assert"===c?new pb(b,[a]):"coerce"===c?new sb(b,[a]):a}if(null!==a&&"string"!=typeof a&&"boolean"!=typeof a&&"number"!=typeof a||(a=["literal",a]),Array.isArray(a)){if(0===a.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var d=a[0];if("string"!=typeof d)return this.error("Expression name must be a string, but found "+typeof d+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var e=this.registry[d];if(e){e=e.parse(a,this);if(!e)return null;if(this.expectedType){var f=this.expectedType,g=e.type;if("string"!==f.kind&&"number"!==f.kind&&"boolean"!==f.kind&&"object"!==f.kind&&"array"!==f.kind||"value"!==g.kind)if("color"!==f.kind&&"formatted"!==f.kind||"value"!==g.kind&&"string"!==g.kind){if(this.checkSubtype(f,g))return null}else e=c(e,f,b.typeAnnotation||"coerce");else e=c(e,f,b.typeAnnotation||"assert")}if(!(e instanceof mb)&&function a(b){if(b instanceof Ab)return a(b.boundExpression);if(b instanceof vb&&"error"===b.name)return!1;if(b instanceof wb)return!1;var c=b instanceof sb||b instanceof pb,d=!0;b.eachChild(function(b){d=c?d&&a(b):d&&b instanceof mb});return!d?!1:xb(b)&&zb(b,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(e)){g=new ub();try{e=new mb(e.type,e.evaluate(g))}catch(a){return this.error(a.message),null}}return e}return this.error('Unknown expression "'+d+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===a?this.error("'undefined' value invalid. Use null instead."):"object"==typeof a?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof a+" instead.")},Bb.prototype.concat=function(a,b,c){a="number"==typeof a?this.path.concat(a):this.path;c=c?this.scope.concat(c):this.scope;return new Bb(this.registry,a,b||null,c,this.errors)},Bb.prototype.error=function(a){for(var b=[],c=arguments.length-1;c-->0;)b[c]=arguments[c+1];var d=""+this.key+b.map(function(a){return"["+a+"]"}).join("");this.errors.push(new Ra(d,a))},Bb.prototype.checkSubtype=function(a,b){a=db(a,b);return a&&this.error(a),a};var Db=function(a,b,c){this.type=a,this.input=b,this.labels=[],this.outputs=[];for(var a=0,b=c;a<b.length;a+=1){c=b[a];var d=c[0];c=c[1];this.labels.push(d),this.outputs.push(c)}};function Eb(a,b,c){return a*(1-c)+b*c}Db.parse=function(a,b){if(a.length-1<4)return b.error("Expected at least 4 arguments, but found only "+(a.length-1)+".");if((a.length-1)%2!=0)return b.error("Expected an even number of arguments.");var c=b.parse(a[1],1,W);if(!c)return null;var d=[],e=null;b.expectedType&&"value"!==b.expectedType.kind&&(e=b.expectedType);for(var f=1;f<a.length;f+=2){var g=1===f?-1/0:a[f],h=a[f+1],j=f,i=f+1;if("number"!=typeof g)return b.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',j);if(d.length&&d[d.length-1][0]>=g)return b.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',j);j=b.parse(h,i,e);if(!j)return null;e=e||j.type,d.push([g,j])}return new Db(e,c,d)},Db.prototype.evaluate=function(a){var b=this.labels,c=this.outputs;if(1===b.length)return c[0].evaluate(a);var d=this.input.evaluate(a);if(d<=b[0])return c[0].evaluate(a);var e=b.length;return d>=b[e-1]?c[e-1].evaluate(a):c[Cb(b,d)].evaluate(a)},Db.prototype.eachChild=function(a){a(this.input);for(var b=0,c=this.outputs;b<c.length;b+=1)a(c[b])},Db.prototype.possibleOutputs=function(){var a;return(a=[]).concat.apply(a,this.outputs.map(function(a){return a.possibleOutputs()}))},Db.prototype.serialize=function(){for(var a=["step",this.input.serialize()],b=0;b<this.labels.length;b++)b>0&&a.push(this.labels[b]),a.push(this.outputs[b].serialize());return a};var Fb=Object.freeze({number:Eb,color:function(a,b,c){return new fb(Eb(a.r,b.r,c),Eb(a.g,b.g,c),Eb(a.b,b.b,c),Eb(a.a,b.a,c))},array:function(a,b,c){return a.map(function(a,d){return Eb(a,b[d],c)})}}),Gb=.95047,Hb=1,Ib=1.08883,Jb=4/29,Kb=6/29,Lb=3*Kb*Kb,Mb=Kb*Kb*Kb,Nb=Math.PI/180,Ob=180/Math.PI;function Pb(a){return a>Mb?Math.pow(a,1/3):a/Lb+Jb}function Qb(a){return a>Kb?a*a*a:Lb*(a-Jb)}function Rb(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function Sb(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Tb(a){var b=Sb(a.r),c=Sb(a.g),d=Sb(a.b),e=Pb((.4124564*b+.3575761*c+.1804375*d)/Gb),f=Pb((.2126729*b+.7151522*c+.072175*d)/Hb);return{l:116*f-16,a:500*(e-f),b:200*(f-Pb((.0193339*b+.119192*c+.9503041*d)/Ib)),alpha:a.a}}function Ub(a){var b=(a.l+16)/116,c=isNaN(a.a)?b:b+a.a/500,d=isNaN(a.b)?b:b-a.b/200;return b=Hb*Qb(b),c=Gb*Qb(c),d=Ib*Qb(d),new fb(Rb(3.2404542*c-1.5371385*b-.4985314*d),Rb(-.969266*c+1.8760108*b+.041556*d),Rb(.0556434*c-.2040259*b+1.0572252*d),a.alpha)}function Vb(a,b,c){b=b-a;return a+c*(b>180||b<-180?b-360*Math.round(b/360):b)}var Wb={forward:Tb,reverse:Ub,interpolate:function(a,b,c){return{l:Eb(a.l,b.l,c),a:Eb(a.a,b.a,c),b:Eb(a.b,b.b,c),alpha:Eb(a.alpha,b.alpha,c)}}},Xb={forward:function(a){var b=Tb(a),c=b.l,d=b.a;b=b.b;var e=Math.atan2(b,d)*Ob;return{h:e<0?e+360:e,c:Math.sqrt(d*d+b*b),l:c,alpha:a.a}},reverse:function(a){var b=a.h*Nb,c=a.c;return Ub({l:a.l,a:Math.cos(b)*c,b:Math.sin(b)*c,alpha:a.alpha})},interpolate:function(a,b,c){return{h:Vb(a.h,b.h,c),c:Eb(a.c,b.c,c),l:Eb(a.l,b.l,c),alpha:Eb(a.alpha,b.alpha,c)}}},Yb=Object.freeze({lab:Wb,hcl:Xb}),Zb=function(a,b,c,d,e){this.type=a,this.operator=b,this.interpolation=c,this.input=d,this.labels=[],this.outputs=[];for(var a=0,b=e;a<b.length;a+=1){c=b[a];d=c[0];e=c[1];this.labels.push(d),this.outputs.push(e)}};function $b(a,b,c,d){d=d-c;a=a-c;return 0===d?0:1===b?a/d:(Math.pow(b,a)-1)/(Math.pow(b,d)-1)}Zb.interpolationFactor=function(a,b,d,e){var f=0;if("exponential"===a.name)f=$b(b,a.base,d,e);else if("linear"===a.name)f=$b(b,1,d,e);else if("cubic-bezier"===a.name){a=a.controlPoints;f=new c(a[0],a[1],a[2],a[3]).solve($b(b,1,d,e))}return f},Zb.parse=function(a,b){var c=a[0],d=a[1],e=a[2],f=a.slice(3);if(!Array.isArray(d)||0===d.length)return b.error("Expected an interpolation type expression.",1);if("linear"===d[0])d={name:"linear"};else if("exponential"===d[0]){var g=d[1];if("number"!=typeof g)return b.error("Exponential interpolation requires a numeric base.",1,1);d={name:"exponential",base:g}}else{if("cubic-bezier"!==d[0])return b.error("Unknown interpolation type "+String(d[0]),1,0);g=d.slice(1);if(4!==g.length||g.some(function(a){return"number"!=typeof a||a<0||a>1}))return b.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);d={name:"cubic-bezier",controlPoints:g}}if(a.length-1<4)return b.error("Expected at least 4 arguments, but found only "+(a.length-1)+".");if((a.length-1)%2!=0)return b.error("Expected an even number of arguments.");if(!(e=b.parse(e,2,W)))return null;g=[];a=null;"interpolate-hcl"===c||"interpolate-lab"===c?a=Wa:b.expectedType&&"value"!==b.expectedType.kind&&(a=b.expectedType);for(var h=0;h<f.length;h+=2){var i=f[h],j=f[h+1],k=h+3,l=h+4;if("number"!=typeof i)return b.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',k);if(g.length&&g[g.length-1][0]>=i)return b.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',k);k=b.parse(j,l,a);if(!k)return null;a=a||k.type,g.push([i,k])}return"number"===a.kind||"color"===a.kind||"array"===a.kind&&"number"===a.itemType.kind&&"number"==typeof a.N?new Zb(a,c,d,e,g):b.error("Type "+bb(a)+" is not interpolatable.")},Zb.prototype.evaluate=function(a){var b=this.labels,c=this.outputs;if(1===b.length)return c[0].evaluate(a);var d=this.input.evaluate(a);if(d<=b[0])return c[0].evaluate(a);var e=b.length;if(d>=b[e-1])return c[e-1].evaluate(a);e=Cb(b,d);var f=b[e];b=b[e+1];d=Zb.interpolationFactor(this.interpolation,d,f,b);f=c[e].evaluate(a);b=c[e+1].evaluate(a);return"interpolate"===this.operator?Fb[this.type.kind.toLowerCase()](f,b,d):"interpolate-hcl"===this.operator?Xb.reverse(Xb.interpolate(Xb.forward(f),Xb.forward(b),d)):Wb.reverse(Wb.interpolate(Wb.forward(f),Wb.forward(b),d))},Zb.prototype.eachChild=function(a){a(this.input);for(var b=0,c=this.outputs;b<c.length;b+=1)a(c[b])},Zb.prototype.possibleOutputs=function(){var a;return(a=[]).concat.apply(a,this.outputs.map(function(a){return a.possibleOutputs()}))},Zb.prototype.serialize=function(){var a;a="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var a=[this.operator,a,this.input.serialize()],b=0;b<this.labels.length;b++)a.push(this.labels[b],this.outputs[b].serialize());return a};var ac=function(a,b){this.type=a,this.args=b};ac.parse=function(a,b){if(a.length<2)return b.error("Expectected at least one argument.");var c=null,d=b.expectedType;d&&"value"!==d.kind&&(c=d);for(var e=[],f=0,a=a.slice(1);f<a.length;f+=1){var g=a[f];g=b.parse(g,1+e.length,c,void 0,{typeAnnotation:"omit"});if(!g)return null;c=c||g.type,e.push(g)}g=d&&e.some(function(a){return db(d,a.type)});return new ac(g?Ya:c,e)},ac.prototype.evaluate=function(a){for(var b=null,c=0,d=this.args;c<d.length;c+=1)if(null!==(b=d[c].evaluate(a)))break;return b},ac.prototype.eachChild=function(a){this.args.forEach(a)},ac.prototype.possibleOutputs=function(){var a;return(a=[]).concat.apply(a,this.args.map(function(a){return a.possibleOutputs()}))},ac.prototype.serialize=function(){var a=["coalesce"];return this.eachChild(function(b){a.push(b.serialize())}),a};var bc=function(a,b){this.type=b.type,this.bindings=[].concat(a),this.result=b};bc.prototype.evaluate=function(a){return this.result.evaluate(a)},bc.prototype.eachChild=function(a){for(var b=0,c=this.bindings;b<c.length;b+=1)a(c[b][1]);a(this.result)},bc.parse=function(a,b){if(a.length<4)return b.error("Expected at least 3 arguments, but found "+(a.length-1)+" instead.");for(var c=[],d=1;d<a.length-1;d+=2){var e=a[d];if("string"!=typeof e)return b.error("Expected string, but found "+typeof e+" instead.",d);if(/[^a-zA-Z0-9_]/.test(e))return b.error("Variable names must contain only alphanumeric characters or '_'.",d);var f=b.parse(a[d+1],d+1);if(!f)return null;c.push([e,f])}e=b.parse(a[a.length-1],a.length-1,b.expectedType,c);return e?new bc(c,e):null},bc.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},bc.prototype.serialize=function(){for(var a=["let"],b=0,c=this.bindings;b<c.length;b+=1){var d=c[b],e=d[0];d=d[1];a.push(e,d.serialize())}return a.push(this.result.serialize()),a};var cc=function(a,b,c){this.type=a,this.index=b,this.input=c};cc.parse=function(a,b){if(3!==a.length)return b.error("Expected 2 arguments, but found "+(a.length-1)+" instead.");var c=b.parse(a[1],1,W);a=b.parse(a[2],2,ab(b.expectedType||Ya));if(!c||!a)return null;b=a.type;return new cc(b.itemType,c,a)},cc.prototype.evaluate=function(a){var b=this.index.evaluate(a);a=this.input.evaluate(a);if(b<0)throw new nb("Array index out of bounds: "+b+" < 0.");if(b>=a.length)throw new nb("Array index out of bounds: "+b+" > "+(a.length-1)+".");if(b!==Math.floor(b))throw new nb("Array index must be an integer, but found "+b+" instead.");return a[b]},cc.prototype.eachChild=function(a){a(this.index),a(this.input)},cc.prototype.possibleOutputs=function(){return[void 0]},cc.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var dc=function(a,b,c,d,e,f){this.inputType=a,this.type=b,this.input=c,this.cases=d,this.outputs=e,this.otherwise=f};dc.parse=function(a,b){if(a.length<5)return b.error("Expected at least 4 arguments, but found only "+(a.length-1)+".");if(a.length%2!=1)return b.error("Expected an even number of arguments.");var c,d;b.expectedType&&"value"!==b.expectedType.kind&&(d=b.expectedType);for(var e={},f=[],g=2;g<a.length-1;g+=2){var h=a[g],l=a[g+1];Array.isArray(h)||(h=[h]);var i=b.concat(g);if(0===h.length)return i.error("Expected at least one branch label.");for(var j=0,h=h;j<h.length;j+=1){var k=h[j];if("number"!=typeof k&&"string"!=typeof k)return i.error("Branch labels must be numbers or strings.");if("number"==typeof k&&Math.abs(k)>Number.MAX_SAFE_INTEGER)return i.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof k&&Math.floor(k)!==k)return i.error("Numeric branch labels must be integer values.");if(c){if(i.checkSubtype(c,kb(k)))return null}else c=kb(k);if(void 0!==e[String(k)])return i.error("Branch labels must be unique.");e[String(k)]=f.length}k=b.parse(l,g,d);if(!k)return null;d=d||k.type,f.push(k)}h=b.parse(a[1],1,Ya);if(!h)return null;i=b.parse(a[a.length-1],a.length-1,d);return i?"value"!==h.type.kind&&b.concat(1).checkSubtype(c,h.type)?null:new dc(c,d,h,e,f,i):null},dc.prototype.evaluate=function(a){var b=this.input.evaluate(a);return(kb(b)===this.inputType&&this.outputs[this.cases[b]]||this.otherwise).evaluate(a)},dc.prototype.eachChild=function(a){a(this.input),this.outputs.forEach(a),a(this.otherwise)},dc.prototype.possibleOutputs=function(){var a;return(a=[]).concat.apply(a,this.outputs.map(function(a){return a.possibleOutputs()})).concat(this.otherwise.possibleOutputs())},dc.prototype.serialize=function(){for(var a=this,b=["match",this.input.serialize()],c=[],d={},e=0,f=Object.keys(this.cases).sort();e<f.length;e+=1){var g=f[e];void 0===(h=d[this.cases[g]])?(d[this.cases[g]]=c.length,c.push([this.cases[g],[g]])):c[h][1].push(g)}for(var h=function(b){return"number"===a.inputType.kind?Number(b):b},g=0,f=c;g<f.length;g+=1){e=f[g];var h;e[0];d=e[1];1===d.length?b.push(h(d[0])):b.push(d.map(h)),b.push(this.outputs[outputIndex$1].serialize())}return b.push(this.otherwise.serialize()),b};var ec=function(a,b,c){this.type=a,this.branches=b,this.otherwise=c};function fc(a,b){return"=="===a||"!="===a?"boolean"===b.kind||"string"===b.kind||"number"===b.kind||"null"===b.kind||"value"===b.kind:"string"===b.kind||"number"===b.kind||"value"===b.kind}function gc(a,b,c,d){return 0===d.compare(b,c)}function hc(a,b,c){var d="=="!==a&&"!="!==a;return function(){function e(a,b,c){this.type=Va,this.lhs=a,this.rhs=b,this.collator=c,this.hasUntypedArgument="value"===a.type.kind||"value"===b.type.kind}return e.parse=function(a,b){if(3!==a.length&&4!==a.length)return b.error("Expected two or three arguments.");var c=a[0],f=b.parse(a[1],1,Ya);if(!f)return null;if(!fc(c,f.type))return b.concat(1).error('"'+c+"\" comparisons are not supported for type '"+bb(f.type)+"'.");var g=b.parse(a[2],2,Ya);if(!g)return null;if(!fc(c,g.type))return b.concat(2).error('"'+c+"\" comparisons are not supported for type '"+bb(g.type)+"'.");if(f.type.kind!==g.type.kind&&"value"!==f.type.kind&&"value"!==g.type.kind)return b.error("Cannot compare types '"+bb(f.type)+"' and '"+bb(g.type)+"'.");d&&("value"===f.type.kind&&"value"!==g.type.kind?f=new pb(g.type,[f]):"value"!==f.type.kind&&"value"===g.type.kind&&(g=new pb(f.type,[g])));c=null;if(4===a.length){if("string"!==f.type.kind&&"string"!==g.type.kind&&"value"!==f.type.kind&&"value"!==g.type.kind)return b.error("Cannot use collator to compare non-string types.");if(!(c=b.parse(a[3],3,Za)))return null}return new e(f,g,c)},e.prototype.evaluate=function(e){var f=this.lhs.evaluate(e),g=this.rhs.evaluate(e);if(d&&this.hasUntypedArgument){var h=kb(f),i=kb(g);if(h.kind!==i.kind||"string"!==h.kind&&"number"!==h.kind)throw new nb('Expected arguments for "'+a+'" to be (string, string) or (number, number), but found ('+h.kind+", "+i.kind+") instead.")}if(this.collator&&!d&&this.hasUntypedArgument){h=kb(f);i=kb(g);if("string"!==h.kind||"string"!==i.kind)return b(e,f,g)}return this.collator?c(e,f,g,this.collator.evaluate(e)):b(e,f,g)},e.prototype.eachChild=function(a){a(this.lhs),a(this.rhs),this.collator&&a(this.collator)},e.prototype.possibleOutputs=function(){return[!0,!1]},e.prototype.serialize=function(){var b=[a];return this.eachChild(function(a){b.push(a.serialize())}),b},e}()}ec.parse=function(a,b){if(a.length<4)return b.error("Expected at least 3 arguments, but found only "+(a.length-1)+".");if(a.length%2!=0)return b.error("Expected an odd number of arguments.");var c;b.expectedType&&"value"!==b.expectedType.kind&&(c=b.expectedType);for(var d=[],e=1;e<a.length-1;e+=2){var f=b.parse(a[e],e,Va);if(!f)return null;var g=b.parse(a[e+1],e+1,c);if(!g)return null;d.push([f,g]),c=c||g.type}f=b.parse(a[a.length-1],a.length-1,c);return f?new ec(c,d,f):null},ec.prototype.evaluate=function(a){for(var b=0,c=this.branches;b<c.length;b+=1){var d=c[b],e=d[0];d=d[1];if(e.evaluate(a))return d.evaluate(a)}return this.otherwise.evaluate(a)},ec.prototype.eachChild=function(a){for(var b=0,c=this.branches;b<c.length;b+=1){var d=c[b],e=d[0];d=d[1];a(e),a(d)}a(this.otherwise)},ec.prototype.possibleOutputs=function(){var a;return(a=[]).concat.apply(a,this.branches.map(function(a){a[0];return a[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs())},ec.prototype.serialize=function(){var a=["case"];return this.eachChild(function(b){a.push(b.serialize())}),a};var ic=hc("==",function(a,b,c){return b===c},gc),X=hc("!=",function(a,b,c){return b!==c},function(a,b,c,d){return!gc(0,b,c,d)}),jc=hc("<",function(a,b,c){return b<c},function(a,b,c,d){return d.compare(b,c)<0}),Y=hc(">",function(a,b,c){return b>c},function(a,b,c,d){return d.compare(b,c)>0}),kc=hc("<=",function(a,b,c){return b<=c},function(a,b,c,d){return d.compare(b,c)<=0});hc=hc(">=",function(a,b,c){return b>=c},function(a,b,c,d){return d.compare(b,c)>=0});var lc=function(a,b,c,d,e){this.type=Ua,this.number=a,this.locale=b,this.currency=c,this.minFractionDigits=d,this.maxFractionDigits=e};lc.parse=function(a,b){if(3!==a.length)return b.error("Expected two arguments.");var c=b.parse(a[1],1,W);if(!c)return null;a=a[2];if("object"!=typeof a||Array.isArray(a))return b.error("NumberFormat options argument must be an object.");var d=null;if(a.locale&&!(d=b.parse(a.locale,1,Ua)))return null;var e=null;if(a.currency&&!(e=b.parse(a.currency,1,Ua)))return null;var f=null;if(a["min-fraction-digits"]&&!(f=b.parse(a["min-fraction-digits"],1,W)))return null;var g=null;return a["max-fraction-digits"]&&!(g=b.parse(a["max-fraction-digits"],1,W))?null:new lc(c,d,e,f,g)},lc.prototype.evaluate=function(a){return new Intl.NumberFormat(this.locale?this.locale.evaluate(a):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(a):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(a):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(a):void 0}).format(this.number.evaluate(a))},lc.prototype.eachChild=function(a){a(this.number),this.locale&&a(this.locale),this.currency&&a(this.currency),this.minFractionDigits&&a(this.minFractionDigits),this.maxFractionDigits&&a(this.maxFractionDigits)},lc.prototype.possibleOutputs=function(){return[void 0]},lc.prototype.serialize=function(){var a={};return this.locale&&(a.locale=this.locale.serialize()),this.currency&&(a.currency=this.currency.serialize()),this.minFractionDigits&&(a["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(a["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),a]};var mc=function(a){this.type=W,this.input=a};mc.parse=function(a,b){if(2!==a.length)return b.error("Expected 1 argument, but found "+(a.length-1)+" instead.");a=b.parse(a[1],1);return a?"array"!==a.type.kind&&"string"!==a.type.kind&&"value"!==a.type.kind?b.error("Expected argument of type string or array, but found "+bb(a.type)+" instead."):new mc(a):null},mc.prototype.evaluate=function(a){a=this.input.evaluate(a);if("string"==typeof a)return a.length;if(Array.isArray(a))return a.length;throw new nb("Expected value to be of type string or array, but found "+bb(kb(a))+" instead.")},mc.prototype.eachChild=function(a){a(this.input)},mc.prototype.possibleOutputs=function(){return[void 0]},mc.prototype.serialize=function(){var a=["length"];return this.eachChild(function(b){a.push(b.serialize())}),a};var nc={"==":ic,"!=":X,">":Y,"<":jc,">=":hc,"<=":kc,array:pb,at:cc,"boolean":pb,"case":ec,coalesce:ac,collator:wb,format:qb,interpolate:Zb,"interpolate-hcl":Zb,"interpolate-lab":Zb,length:mc,let:bc,literal:mb,match:dc,number:pb,"number-format":lc,object:pb,step:Db,string:pb,"to-boolean":sb,"to-color":sb,"to-number":sb,"to-string":sb,"var":Ab};function oc(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];c=c.evaluate(a),d=d.evaluate(a),e=e.evaluate(a);b=b?b.evaluate(a):1;a=jb(c,d,e,b);if(a)throw new nb(a);return new fb(c/255*b,d/255*b,e/255*b,b)}function pc(a,b){return a in b}function qc(a,b){b=b[a];return void 0===b?null:b}function rc(a){return{type:a}}function sc(a){return{result:"success",value:a}}function tc(a){return{result:"error",value:a}}function uc(a){return"data-driven"===a["property-type"]||"cross-faded-data-driven"===a["property-type"]}function vc(a){return!!a.expression&&a.expression.parameters.indexOf("zoom")>-1}function wc(a){return!!a.expression&&a.expression.interpolated}function xc(a){return a instanceof Number?"number":a instanceof String?"string":a instanceof Boolean?"boolean":Array.isArray(a)?"array":null===a?"null":typeof a}function yc(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}function zc(a){return a}function Ac(a,b,c){return void 0!==a?a:void 0!==b?b:void 0!==c?c:void 0}function Bc(a,b,c,d,e){return Ac(typeof c===e?d[c]:void 0,a["default"],b["default"])}function Cc(a,b,c){if("number"!==xc(c))return Ac(a["default"],b["default"]);b=a.stops.length;if(1===b)return a.stops[0][1];if(c<=a.stops[0][0])return a.stops[0][1];if(c>=a.stops[b-1][0])return a.stops[b-1][1];b=Cb(a.stops.map(function(a){return a[0]}),c);return a.stops[b][1]}function Dc(a,b,c){var d=void 0!==a.base?a.base:1;if("number"!==xc(c))return Ac(a["default"],b["default"]);var e=a.stops.length;if(1===e)return a.stops[0][1];if(c<=a.stops[0][0])return a.stops[0][1];if(c>=a.stops[e-1][0])return a.stops[e-1][1];e=Cb(a.stops.map(function(a){return a[0]}),c);var f=function(a,b,c,d){d=d-c;a=a-c;return 0===d?0:1===b?a/d:(Math.pow(b,a)-1)/(Math.pow(b,d)-1)}(c,d,a.stops[e][0],a.stops[e+1][0]),g=a.stops[e][1],j=a.stops[e+1][1],h=Fb[b.type]||zc;if(a.colorSpace&&"rgb"!==a.colorSpace){var i=Yb[a.colorSpace];h=function(a,b){return i.reverse(i.interpolate(i.forward(a),i.forward(b),f))}}return"function"==typeof g.evaluate?{evaluate:function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];var c=g.evaluate.apply(void 0,a),d=j.evaluate.apply(void 0,a);if(void 0!==c&&void 0!==d)return h(c,d,f)}}:h(g,j,f)}function Ec(a,b,c){return"color"===b.type?c=fb.parse(c):"formatted"===b.type?c=ib.fromString(c.toString()):xc(c)===b.type||"enum"===b.type&&b.values[c]||(c=void 0),Ac(c,a["default"],b["default"])}vb.register(nc,{error:[{kind:"error"},[Ua],function(a,b){b=b[0];throw new nb(b.evaluate(a))}],"typeof":[Ua,[Ya],function(a,b){return bb(kb(b[0].evaluate(a)))}],"to-rgba":[ab(W,4),[Wa],function(a,b){return b[0].evaluate(a).toArray()}],rgb:[Wa,[W,W,W],oc],rgba:[Wa,[W,W,W,W],oc],has:{type:Va,overloads:[[[Ua],function(a,b){return pc(b[0].evaluate(a),a.properties())}],[[Ua,Xa],function(a,b){var c=b[0];b=b[1];return pc(c.evaluate(a),b.evaluate(a))}]]},get:{type:Ya,overloads:[[[Ua],function(a,b){return qc(b[0].evaluate(a),a.properties())}],[[Ua,Xa],function(a,b){var c=b[0];b=b[1];return qc(c.evaluate(a),b.evaluate(a))}]]},"feature-state":[Ya,[Ua],function(a,b){return qc(b[0].evaluate(a),a.featureState||{})}],properties:[Xa,[],function(a){return a.properties()}],"geometry-type":[Ua,[],function(a){return a.geometryType()}],id:[Ya,[],function(a){return a.id()}],zoom:[W,[],function(a){return a.globals.zoom}],"heatmap-density":[W,[],function(a){return a.globals.heatmapDensity||0}],"line-progress":[W,[],function(a){return a.globals.lineProgress||0}],accumulated:[Ya,[],function(a){return void 0===a.globals.accumulated?null:a.globals.accumulated}],"+":[W,rc(W),function(a,b){for(var c=0,d=0,b=b;d<b.length;d+=1)c+=b[d].evaluate(a);return c}],"*":[W,rc(W),function(a,b){for(var c=1,d=0,b=b;d<b.length;d+=1)c*=b[d].evaluate(a);return c}],"-":{type:W,overloads:[[[W,W],function(a,b){var c=b[0];b=b[1];return c.evaluate(a)-b.evaluate(a)}],[[W],function(a,b){return-b[0].evaluate(a)}]]},"/":[W,[W,W],function(a,b){var c=b[0];b=b[1];return c.evaluate(a)/b.evaluate(a)}],"%":[W,[W,W],function(a,b){var c=b[0];b=b[1];return c.evaluate(a)%b.evaluate(a)}],ln2:[W,[],function(){return Math.LN2}],pi:[W,[],function(){return Math.PI}],e:[W,[],function(){return Math.E}],"^":[W,[W,W],function(a,b){var c=b[0];b=b[1];return Math.pow(c.evaluate(a),b.evaluate(a))}],sqrt:[W,[W],function(a,b){b=b[0];return Math.sqrt(b.evaluate(a))}],log10:[W,[W],function(a,b){b=b[0];return Math.log(b.evaluate(a))/Math.LN10}],ln:[W,[W],function(a,b){b=b[0];return Math.log(b.evaluate(a))}],log2:[W,[W],function(a,b){b=b[0];return Math.log(b.evaluate(a))/Math.LN2}],sin:[W,[W],function(a,b){b=b[0];return Math.sin(b.evaluate(a))}],cos:[W,[W],function(a,b){b=b[0];return Math.cos(b.evaluate(a))}],tan:[W,[W],function(a,b){b=b[0];return Math.tan(b.evaluate(a))}],asin:[W,[W],function(a,b){b=b[0];return Math.asin(b.evaluate(a))}],acos:[W,[W],function(a,b){b=b[0];return Math.acos(b.evaluate(a))}],atan:[W,[W],function(a,b){b=b[0];return Math.atan(b.evaluate(a))}],min:[W,rc(W),function(a,b){return Math.min.apply(Math,b.map(function(b){return b.evaluate(a)}))}],max:[W,rc(W),function(a,b){return Math.max.apply(Math,b.map(function(b){return b.evaluate(a)}))}],abs:[W,[W],function(a,b){b=b[0];return Math.abs(b.evaluate(a))}],round:[W,[W],function(a,b){b=b[0].evaluate(a);return b<0?-Math.round(-b):Math.round(b)}],floor:[W,[W],function(a,b){b=b[0];return Math.floor(b.evaluate(a))}],ceil:[W,[W],function(a,b){b=b[0];return Math.ceil(b.evaluate(a))}],"filter-==":[Va,[Ua,Ya],function(a,b){var c=b[0];b=b[1];return a.properties()[c.value]===b.value}],"filter-id-==":[Va,[Ya],function(a,b){b=b[0];return a.id()===b.value}],"filter-type-==":[Va,[Ua],function(a,b){b=b[0];return a.geometryType()===b.value}],"filter-<":[Va,[Ua,Ya],function(a,b){var c=b[0];b=b[1];a=a.properties()[c.value];c=b.value;return typeof a==typeof c&&a<c}],"filter-id-<":[Va,[Ya],function(a,b){b=b[0];a=a.id();b=b.value;return typeof a==typeof b&&a<b}],"filter->":[Va,[Ua,Ya],function(a,b){var c=b[0];b=b[1];a=a.properties()[c.value];c=b.value;return typeof a==typeof c&&a>c}],"filter-id->":[Va,[Ya],function(a,b){b=b[0];a=a.id();b=b.value;return typeof a==typeof b&&a>b}],"filter-<=":[Va,[Ua,Ya],function(a,b){var c=b[0];b=b[1];a=a.properties()[c.value];c=b.value;return typeof a==typeof c&&a<=c}],"filter-id-<=":[Va,[Ya],function(a,b){b=b[0];a=a.id();b=b.value;return typeof a==typeof b&&a<=b}],"filter->=":[Va,[Ua,Ya],function(a,b){var c=b[0];b=b[1];a=a.properties()[c.value];c=b.value;return typeof a==typeof c&&a>=c}],"filter-id->=":[Va,[Ya],function(a,b){b=b[0];a=a.id();b=b.value;return typeof a==typeof b&&a>=b}],"filter-has":[Va,[Ya],function(a,b){return b[0].value in a.properties()}],"filter-has-id":[Va,[],function(a){return null!==a.id()}],"filter-type-in":[Va,[ab(Ua)],function(a,b){return b[0].value.indexOf(a.geometryType())>=0}],"filter-id-in":[Va,[ab(Ya)],function(a,b){return b[0].value.indexOf(a.id())>=0}],"filter-in-small":[Va,[Ua,ab(Ya)],function(a,b){var c=b[0];return b[1].value.indexOf(a.properties()[c.value])>=0}],"filter-in-large":[Va,[Ua,ab(Ya)],function(a,b){var c=b[0];b=b[1];return function(a,b,c,d){for(;c<=d;){var e=c+d>>1;if(b[e]===a)return!0;b[e]>a?d=e-1:c=e+1}return!1}(a.properties()[c.value],b.value,0,b.value.length-1)}],all:{type:Va,overloads:[[[Va,Va],function(a,b){var c=b[0];b=b[1];return c.evaluate(a)&&b.evaluate(a)}],[rc(Va),function(a,b){for(var c=0,b=b;c<b.length;c+=1)if(!b[c].evaluate(a))return!1;return!0}]]},any:{type:Va,overloads:[[[Va,Va],function(a,b){var c=b[0];b=b[1];return c.evaluate(a)||b.evaluate(a)}],[rc(Va),function(a,b){for(var c=0,b=b;c<b.length;c+=1)if(b[c].evaluate(a))return!0;return!1}]]},"!":[Va,[Va],function(a,b){return!b[0].evaluate(a)}],"is-supported-script":[Va,[Ua],function(a,b){b=b[0];var c=a.globals&&a.globals.isSupportedScript;return!c||c(b.evaluate(a))}],upcase:[Ua,[Ua],function(a,b){return b[0].evaluate(a).toUpperCase()}],downcase:[Ua,[Ua],function(a,b){return b[0].evaluate(a).toLowerCase()}],concat:[Ua,rc(Ya),function(a,b){return b.map(function(b){return lb(b.evaluate(a))}).join("")}],"resolved-locale":[Ua,[Za],function(a,b){return b[0].evaluate(a).resolvedLocale()}]});var Fc=function(a,b){this.expression=a,this._warningHistory={},this._evaluator=new ub(),this._defaultValue=b?"color"===(a=b).type&&yc(a["default"])?new fb(0,0,0,0):"color"===a.type?fb.parse(a["default"])||null:void 0===a["default"]?null:a["default"]:null,this._enumValues=b&&"enum"===b.type?b.values:null};function Gc(a){return Array.isArray(a)&&a.length>0&&"string"==typeof a[0]&&a[0]in nc}function Hc(a,b){var c=new Bb(nc,[],b?function(a){var b={color:Wa,string:Ua,number:W,"enum":Ua,"boolean":Va,formatted:$a};return"array"===a.type?ab(b[a.value]||Ya,a.length):b[a.type]}(b):void 0);a=c.parse(a,void 0,void 0,void 0,b&&"string"===b.type?{typeAnnotation:"coerce"}:void 0);return a?sc(new Fc(a,b)):tc(c.errors)}Fc.prototype.evaluateWithoutErrorHandling=function(a,b,c){return this._evaluator.globals=a,this._evaluator.feature=b,this._evaluator.featureState=c,this.expression.evaluate(this._evaluator)},Fc.prototype.evaluate=function(a,b,c){this._evaluator.globals=a,this._evaluator.feature=b||null,this._evaluator.featureState=c||null;try{a=this.expression.evaluate(this._evaluator);if(null==a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new nb("Expected value to be one of "+Object.keys(this._enumValues).map(function(a){return JSON.stringify(a)}).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(a){return this._warningHistory[a.message]||(this._warningHistory[a.message]=!0,"undefined"!=typeof console&&!1),this._defaultValue}};var Ic=function(a,b){this.kind=a,this._styleExpression=b,this.isStateDependent="constant"!==a&&!yb(b.expression)};Ic.prototype.evaluateWithoutErrorHandling=function(a,b,c){return this._styleExpression.evaluateWithoutErrorHandling(a,b,c)},Ic.prototype.evaluate=function(a,b,c){return this._styleExpression.evaluate(a,b,c)};var Jc=function(a,b,c){this.kind=a,this.zoomStops=c.labels,this._styleExpression=b,this.isStateDependent="camera"!==a&&!yb(b.expression),c instanceof Zb&&(this.interpolationType=c.interpolation)};function Kc(a,b){if("error"===(a=Hc(a,b)).result)return a;var c=a.value.expression,d=xb(c);if(!d&&!uc(b))return tc([new Ra("","data expressions not supported")]);var e=zb(c,["zoom"]);if(!e&&!vc(b))return tc([new Ra("","zoom expressions not supported")]);c=function a(b){var c=null;if(b instanceof bc)c=a(b.result);else if(b instanceof ac)for(var d=0,e=b.args;d<e.length;d+=1){var f=e[d];if(c=a(f))break}else(b instanceof Db||b instanceof Zb)&&b.input instanceof vb&&"zoom"===b.input.name&&(c=b);if(c instanceof Ra)return c;b.eachChild(function(b){b=a(b);b instanceof Ra?c=b:!c&&b?c=new Ra("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):c&&b&&c!==b&&(c=new Ra("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))});return c}(c);return c||e?c instanceof Ra?tc([c]):c instanceof Zb&&!wc(b)?tc([new Ra("",'"interpolate" expressions cannot be used with this property')]):sc(c?new Jc(d?"camera":"composite",a.value,c):new Ic(d?"constant":"source",a.value)):tc([new Ra("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Jc.prototype.evaluateWithoutErrorHandling=function(a,b,c){return this._styleExpression.evaluateWithoutErrorHandling(a,b,c)},Jc.prototype.evaluate=function(a,b,c){return this._styleExpression.evaluate(a,b,c)},Jc.prototype.interpolationFactor=function(a,b,c){return this.interpolationType?Zb.interpolationFactor(this.interpolationType,a,b,c):0};var Lc=function(a,b){this._parameters=a,this._specification=b,Na(this,function a(b,c){var d,e,f,g="color"===c.type,h=b.stops&&"object"==typeof b.stops[0][0],o=h||void 0!==b.property;o=h||!o;var i=b.type||(wc(c)?"exponential":"interval");if(g&&((b=Na({},b)).stops&&(b.stops=b.stops.map(function(a){return[a[0],fb.parse(a[1])]})),b["default"]?b["default"]=fb.parse(b["default"]):b["default"]=fb.parse(c["default"])),b.colorSpace&&"rgb"!==b.colorSpace&&!Yb[b.colorSpace])throw new Error("Unknown color space: "+b.colorSpace);if("exponential"===i)d=Dc;else if("interval"===i)d=Cc;else if("categorical"===i){d=Bc,e=Object.create(null);for(var g=0,j=b.stops;g<j.length;g+=1){var k=j[g];e[k[0]]=k[1]}f=typeof b.stops[0][0]}else{if("identity"!==i)throw new Error('Unknown function type "'+i+'"');d=Ec}if(h){for(var k={},g=[],j=0;j<b.stops.length;j++){h=b.stops[j];var l=h[0].zoom;void 0===k[l]&&(k[l]={zoom:l,type:b.type,property:b.property,"default":b["default"],stops:[]},g.push(l)),k[l].stops.push([h[0].value,h[1]])}for(var n=[],l=0,h=g;l<h.length;l+=1){j=h[l];n.push([k[j].zoom,a(k[j],c)])}g={name:"linear"};return{kind:"composite",interpolationType:g,interpolationFactor:Zb.interpolationFactor.bind(void 0,g),zoomStops:n.map(function(a){return a[0]}),evaluate:function(a,d){a=a.zoom;return Dc({stops:n,base:b.base},c,a).evaluate(a,d)}}}if(o){j="exponential"===i?{name:"exponential",base:void 0!==b.base?b.base:1}:null;return{kind:"camera",interpolationType:j,interpolationFactor:Zb.interpolationFactor.bind(void 0,j),zoomStops:b.stops.map(function(a){return a[0]}),evaluate:function(a){a=a.zoom;return d(b,c,a,e,f)}}}return{kind:"source",evaluate:function(a,g){a=g&&g.properties?g.properties[b.property]:void 0;return void 0===a?Ac(b["default"],c["default"]):d(b,c,a,e,f)}}}(this._parameters,this._specification))};function Mc(a){var b=a.key,c=a.value,d=a.valueSpec||{},e=a.objectElementValidators||{},f=a.style;a=a.styleSpec;var g=[],l=xc(c);if("object"!==l)return[new V(b,c,"object expected, "+l+" found")];for(var h in c){l=h.split(".")[0];var i=d[l]||d["*"],j;if(e[l])j=e[l];else if(d[l])j=jd;else if(e["*"])j=e["*"];else{if(!d["*"]){g.push(new V(b,c[h],'unknown property "'+h+'"'));continue}j=jd}g=g.concat(j({key:(b?b+".":b)+h,value:c[h],valueSpec:i,style:f,styleSpec:a,object:c,objectKey:h},c))}for(var k in d)e[k]||d[k].required&&void 0===d[k]["default"]&&void 0===c[k]&&g.push(new V(b,c,'missing required property "'+k+'"'));return g}function Nc(a){var b=a.value,c=a.valueSpec,d=a.style,e=a.styleSpec,f=a.key;a=a.arrayElementValidator||jd;if("array"!==xc(b))return[new V(f,b,"array expected, "+xc(b)+" found")];if(c.length&&b.length!==c.length)return[new V(f,b,"array length "+c.length+" expected, length "+b.length+" found")];if(c["min-length"]&&b.length<c["min-length"])return[new V(f,b,"array length at least "+c["min-length"]+" expected, length "+b.length+" found")];var g={type:c.value,values:c.values};e.$version<7&&(g["function"]=c["function"]),"object"===xc(c.value)&&(g=c.value);for(var c=[],h=0;h<b.length;h++)c=c.concat(a({array:b,arrayIndex:h,value:b[h],valueSpec:g,style:d,styleSpec:e,key:f+"["+h+"]"}));return c}function Oc(a){var b=a.key,c=a.value;a=a.valueSpec;var d=xc(c);return"number"!==d?[new V(b,c,"number expected, "+d+" found")]:"minimum"in a&&c<a.minimum?[new V(b,c,c+" is less than the minimum value "+a.minimum)]:"maximum"in a&&c>a.maximum?[new V(b,c,c+" is greater than the maximum value "+a.maximum)]:[]}function Pc(a){var b,c,d,e=a.valueSpec,f=Pa(a.value.type),g={},h="categorical"!==f&&void 0===a.value.property,m=!h,i="array"===xc(a.value.stops)&&"array"===xc(a.value.stops[0])&&"object"===xc(a.value.stops[0][0]),j=Mc({key:a.key,value:a.value,valueSpec:a.styleSpec["function"],style:a.style,styleSpec:a.styleSpec,objectElementValidators:{stops:function(a){if("identity"===f)return[new V(a.key,a.value,'identity function may not have a "stops" property')];var b=[],c=a.value;b=b.concat(Nc({key:a.key,value:c,valueSpec:a.valueSpec,style:a.style,styleSpec:a.styleSpec,arrayElementValidator:k})),"array"===xc(c)&&0===c.length&&b.push(new V(a.key,c,"array must have at least one stop"));return b},"default":function(a){return jd({key:a.key,value:a.value,valueSpec:e,style:a.style,styleSpec:a.styleSpec})}}});return"identity"===f&&h&&j.push(new V(a.key,a.value,'missing required property "property"')),"identity"===f||a.value.stops||j.push(new V(a.key,a.value,'missing required property "stops"')),"exponential"===f&&a.valueSpec.expression&&!wc(a.valueSpec)&&j.push(new V(a.key,a.value,"exponential functions not supported")),a.styleSpec.$version>=8&&(m&&!uc(a.valueSpec)?j.push(new V(a.key,a.value,"property functions not supported")):h&&!vc(a.valueSpec)&&j.push(new V(a.key,a.value,"zoom functions not supported"))),"categorical"!==f&&!i||void 0!==a.value.property||j.push(new V(a.key,a.value,'"property" property is required')),j;function k(a){var b=[],f=a.value,h=a.key;if("array"!==xc(f))return[new V(h,f,"array expected, "+xc(f)+" found")];if(2!==f.length)return[new V(h,f,"array length 2 expected, length "+f.length+" found")];if(i){if("object"!==xc(f[0]))return[new V(h,f,"object expected, "+xc(f[0])+" found")];if(void 0===f[0].zoom)return[new V(h,f,"object stop key must have zoom")];if(void 0===f[0].value)return[new V(h,f,"object stop key must have value")];if(d&&d>Pa(f[0].zoom))return[new V(h,f[0].zoom,"stop zoom values must appear in ascending order")];Pa(f[0].zoom)!==d&&(d=Pa(f[0].zoom),c=void 0,g={}),b=b.concat(Mc({key:h+"[0]",value:f[0],valueSpec:{zoom:{}},style:a.style,styleSpec:a.styleSpec,objectElementValidators:{zoom:Oc,value:l}}))}else b=b.concat(l({key:h+"[0]",value:f[0],valueSpec:{},style:a.style,styleSpec:a.styleSpec},f));return Gc(Qa(f[1]))?b.concat([new V(h+"[1]",f[1],"expressions are not allowed in function stops.")]):b.concat(jd({key:h+"[1]",value:f[1],valueSpec:e,style:a.style,styleSpec:a.styleSpec}))}function l(a,d){var h=xc(a.value),j=Pa(a.value);d=null!==a.value?a.value:d;if(b){if(h!==b)return[new V(a.key,d,h+" stop domain type must match previous stop domain type "+b)]}else b=h;if("number"!==h&&"string"!==h&&"boolean"!==h)return[new V(a.key,d,"stop domain value must be a number, string, or boolean")];if("number"!==h&&"categorical"!==f){var i="number expected, "+h+" found";return uc(e)&&void 0===f&&(i+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new V(a.key,d,i)]}return"categorical"!==f||"number"!==h||isFinite(j)&&Math.floor(j)===j?"categorical"!==f&&"number"===h&&void 0!==c&&j<c?[new V(a.key,d,"stop domain values must appear in ascending order")]:(c=j,"categorical"===f&&j in g?[new V(a.key,d,"stop domain values must be unique")]:(g[j]=!0,[])):[new V(a.key,d,"integer expected, found "+j)]}}function Qc(a){var b=("property"===a.expressionContext?Kc:Hc)(Qa(a.value),a.valueSpec);if("error"===b.result)return b.value.map(function(b){return new V(""+a.key+b.key,a.value,b.message)});b=b.value.expression||b.value._styleExpression.expression;if("property"===a.expressionContext&&"text-font"===a.propertyKey&&-1!==b.possibleOutputs().indexOf(void 0))return[new V(a.key,a.value,'Invalid data expression for "'+a.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===a.expressionContext&&"layout"===a.propertyType&&!yb(b))return[new V(a.key,a.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===a.expressionContext&&!yb(b))return[new V(a.key,a.value,'"feature-state" data expressions are not supported with filters.')];if(a.expressionContext&&0===a.expressionContext.indexOf("cluster")){if(!zb(b,["zoom","feature-state"]))return[new V(a.key,a.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===a.expressionContext&&!xb(b))return[new V(a.key,a.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Rc(a){var b=a.key,c=a.value;a=a.valueSpec;var d=[];return Array.isArray(a.values)?-1===a.values.indexOf(Pa(c))&&d.push(new V(b,c,"expected one of ["+a.values.join(", ")+"], "+JSON.stringify(c)+" found")):-1===Object.keys(a.values).indexOf(Pa(c))&&d.push(new V(b,c,"expected one of ["+Object.keys(a.values).join(", ")+"], "+JSON.stringify(c)+" found")),d}function Sc(a){if(!0===a||!1===a)return!0;if(!Array.isArray(a)||0===a.length)return!1;switch(a[0]){case"has":return a.length>=2&&"$id"!==a[1]&&"$type"!==a[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==a.length||Array.isArray(a[1])||Array.isArray(a[2]);case"any":case"all":for(var b=0,a=a.slice(1);b<a.length;b+=1){var c=a[b];if(!Sc(c)&&"boolean"!=typeof c)return!1}return!0;default:return!0}}Lc.deserialize=function(a){return new Lc(a._parameters,a._specification)},Lc.serialize=function(a){return{_parameters:a._parameters,_specification:a._specification}};var Tc={type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Uc(a){if(null==a)return function(){return!0};Sc(a)||(a=Wc(a));var b=Hc(a,Tc);if("error"===b.result)throw new Error(b.value.map(function(a){return a.key+": "+a.message}).join(", "));return function(a,c){return b.value.evaluate(a,c)}}function Vc(a,b){return a<b?-1:a>b?1:0}function Wc(a){if(!a)return!0;var b,c=a[0];return a.length<=1?"any"!==c:"=="===c?Xc(a[1],a[2],"=="):"!="===c?$c(Xc(a[1],a[2],"==")):"<"===c||">"===c||"<="===c||">="===c?Xc(a[1],a[2],c):"any"===c?(b=a.slice(1),["any"].concat(b.map(Wc))):"all"===c?["all"].concat(a.slice(1).map(Wc)):"none"===c?["all"].concat(a.slice(1).map(Wc).map($c)):"in"===c?Yc(a[1],a.slice(2)):"!in"===c?$c(Yc(a[1],a.slice(2))):"has"===c?Zc(a[1]):"!has"!==c||$c(Zc(a[1]))}function Xc(a,b,c){switch(a){case"$type":return["filter-type-"+c,b];case"$id":return["filter-id-"+c,b];default:return["filter-"+c,a,b]}}function Yc(a,b){if(0===b.length)return!1;switch(a){case"$type":return["filter-type-in",["literal",b]];case"$id":return["filter-id-in",["literal",b]];default:return b.length>200&&!b.some(function(a){return typeof a!=typeof b[0]})?["filter-in-large",a,["literal",b.sort(Vc)]]:["filter-in-small",a,["literal",b]]}}function Zc(a){switch(a){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",a]}}function $c(a){return["!",a]}function ad(a){return Sc(Qa(a.value))?Qc(Na({},a,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function a(b){var c=b.value,d=b.key;if("array"!==xc(c))return[new V(d,c,"array expected, "+xc(c)+" found")];var e=b.styleSpec,f,g=[];if(c.length<1)return[new V(d,c,"filter array must have at least 1 element")];g=g.concat(Rc({key:d+"[0]",value:c[0],valueSpec:e.filter_operator,style:b.style,styleSpec:b.styleSpec}));switch(Pa(c[0])){case"<":case"<=":case">":case">=":c.length>=2&&"$type"===Pa(c[1])&&g.push(new V(d,c,'"$type" cannot be use with operator "'+c[0]+'"'));case"==":case"!=":3!==c.length&&g.push(new V(d,c,'filter array for operator "'+c[0]+'" must have 3 elements'));case"in":case"!in":c.length>=2&&"string"!==(f=xc(c[1]))&&g.push(new V(d+"[1]",c[1],"string expected, "+f+" found"));for(var h=2;h<c.length;h++)f=xc(c[h]),"$type"===Pa(c[1])?g=g.concat(Rc({key:d+"["+h+"]",value:c[h],valueSpec:e.geometry_type,style:b.style,styleSpec:b.styleSpec})):"string"!==f&&"number"!==f&&"boolean"!==f&&g.push(new V(d+"["+h+"]",c[h],"string, number, or boolean expected, "+f+" found"));break;case"any":case"all":case"none":for(var e=1;e<c.length;e++)g=g.concat(a({key:d+"["+e+"]",value:c[e],style:b.style,styleSpec:b.styleSpec}));break;case"has":case"!has":f=xc(c[1]),2!==c.length?g.push(new V(d,c,'filter array for "'+c[0]+'" operator must have 2 elements')):"string"!==f&&g.push(new V(d+"[1]",c[1],"string expected, "+f+" found"))}return g}(a)}function bd(a,b){var c=a.key,d=a.style,e=a.styleSpec,f=a.value,g=a.objectKey,h=e[b+"_"+a.layerType];if(!h)return[];var j=g.match(/^(.*)-transition$/);if("paint"===b&&j&&h[j[1]]&&h[j[1]].transition)return jd({key:c,value:f,valueSpec:e.transition,style:d,styleSpec:e});var i;j=a.valueSpec||h[g];if(!j)return[new V(c,f,'unknown property "'+g+'"')];if("string"===xc(f)&&uc(j)&&!j.tokens&&(i=/^{([^}]+)}$/.exec(f)))return[new V(c,f,'"'+g+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(i[1])+" }`.")];h=[];return"symbol"===a.layerType&&("text-field"===g&&d&&!d.glyphs&&h.push(new V(c,f,'use of "text-field" requires a style "glyphs" property')),"text-font"===g&&yc(Qa(f))&&"identity"===Pa(f.type)&&h.push(new V(c,f,'"text-font" does not support identity functions'))),h.concat(jd({key:a.key,value:f,valueSpec:j,style:d,styleSpec:e,expressionContext:"property",propertyType:b,propertyKey:g}))}function cd(a){return bd(a,"paint")}function dd(a){return bd(a,"layout")}function ed(a){var b=[],c=a.value,d=a.key,e=a.style,f=a.styleSpec;c.type||c.ref||b.push(new V(d,c,'either "type" or "ref" is required'));var g,h=Pa(c.type),l=Pa(c.ref);if(c.id)for(var i=Pa(c.id),j=0;j<a.arrayIndex;j++){var k=e.layers[j];Pa(k.id)===i&&b.push(new V(d,c.id,'duplicate layer id "'+c.id+'", previously used at line '+k.id.__line__))}if("ref"in c)["type","source","source-layer","filter","layout"].forEach(function(a){a in c&&b.push(new V(d,c[a],'"'+a+'" is prohibited for ref layers'))}),e.layers.forEach(function(a){Pa(a.id)===l&&(g=a)}),g?g.ref?b.push(new V(d,c.ref,"ref cannot reference another ref layer")):h=Pa(g.type):b.push(new V(d,c.ref,'ref layer "'+l+'" not found'));else if("background"!==h)if(c.source){k=e.sources&&e.sources[c.source];i=k&&Pa(k.type);k?"vector"===i&&"raster"===h?b.push(new V(d,c.source,'layer "'+c.id+'" requires a raster source')):"raster"===i&&"raster"!==h?b.push(new V(d,c.source,'layer "'+c.id+'" requires a vector source')):"vector"!==i||c["source-layer"]?"raster-dem"===i&&"hillshade"!==h?b.push(new V(d,c.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==h||!c.paint||!c.paint["line-gradient"]||"geojson"===i&&k.lineMetrics||b.push(new V(d,c,'layer "'+c.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):b.push(new V(d,c,'layer "'+c.id+'" must specify a "source-layer"')):b.push(new V(d,c.source,'source "'+c.source+'" not found'))}else b.push(new V(d,c,'missing required property "source"'));return b=b.concat(Mc({key:d,value:c,valueSpec:f.layer,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return jd({key:d+".type",value:c.type,valueSpec:f.layer.type,style:a.style,styleSpec:a.styleSpec,object:c,objectKey:"type"})},filter:ad,layout:function(a){return Mc({layer:c,key:a.key,value:a.value,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{"*":function(a){return dd(Na({layerType:h},a))}}})},paint:function(a){return Mc({layer:c,key:a.key,value:a.value,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{"*":function(a){return cd(Na({layerType:h},a))}}})}}}))}function fd(a){var b=a.value,c=a.key,d=a.styleSpec,e=a.style;if(!b.type)return[new V(c,b,'"type" is required')];var f=Pa(b.type);switch(f){case"vector":case"raster":case"raster-dem":if(f=Mc({key:c,value:b,valueSpec:d["source_"+f.replace("-","_")],style:a.style,styleSpec:d}),"url"in b)for(var g in b)["type","url","tileSize"].indexOf(g)<0&&f.push(new V(c+"."+g,b[g],'a source with a "url" property may not include a "'+g+'" property'));return f;case"geojson":if(f=Mc({key:c,value:b,valueSpec:d.source_geojson,style:e,styleSpec:d}),b.cluster)for(var i in b.clusterProperties){a=b.clusterProperties[i];var h=a[0];a=a[1];h="string"==typeof h?[h,["accumulated"],["get",i]]:h;f.push.apply(f,Qc({key:c+"."+i+".map",value:a,expressionContext:"cluster-map"})),f.push.apply(f,Qc({key:c+"."+i+".reduce",value:h,expressionContext:"cluster-reduce"}))}return f;case"video":return Mc({key:c,value:b,valueSpec:d.source_video,style:e,styleSpec:d});case"image":return Mc({key:c,value:b,valueSpec:d.source_image,style:e,styleSpec:d});case"canvas":return[new V(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Rc({key:c+".type",value:b.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:e,styleSpec:d})}}function gd(a){var b=a.value,c=a.styleSpec,d=c.light;a=a.style;var e=[],f=xc(b);if(void 0===b)return e;if("object"!==f)return e=e.concat([new V("light",b,"object expected, "+f+" found")]);for(var g in b){f=g.match(/^(.*)-transition$/);e=f&&d[f[1]]&&d[f[1]].transition?e.concat(jd({key:g,value:b[g],valueSpec:c.transition,style:a,styleSpec:c})):d[g]?e.concat(jd({key:g,value:b[g],valueSpec:d[g],style:a,styleSpec:c})):e.concat([new V(g,b[g],'unknown property "'+g+'"')])}return e}function hd(a){var b=a.value;a=a.key;var c=xc(b);return"string"!==c?[new V(a,b,"string expected, "+c+" found")]:[]}var id={"*":function(){return[]},array:Nc,"boolean":function(a){var b=a.value;a=a.key;var c=xc(b);return"boolean"!==c?[new V(a,b,"boolean expected, "+c+" found")]:[]},number:Oc,color:function(a){var b=a.key;a=a.value;var c=xc(a);return"string"!==c?[new V(b,a,"color expected, "+c+" found")]:null===eb(a)?[new V(b,a,'color expected, "'+a+'" found')]:[]},constants:Ma,"enum":Rc,filter:ad,"function":Pc,layer:ed,object:Mc,source:fd,light:gd,string:hd,formatted:function(a){return 0===hd(a).length?[]:Qc(a)}};function jd(a){var b=a.value,c=a.valueSpec,d=a.styleSpec;return c.expression&&yc(Pa(b))?Pc(a):c.expression&&Gc(Qa(b))?Qc(a):c.type&&id[c.type]?id[c.type](a):Mc(Na({},a,{valueSpec:c.type?d[c.type]:c}))}function kd(a){var b=a.value,c=a.key;a=hd(a);return a.length?a:(-1===b.indexOf("{fontstack}")&&a.push(new V(c,b,'"glyphs" url must include a "{fontstack}" token')),-1===b.indexOf("{range}")&&a.push(new V(c,b,'"glyphs" url must include a "{range}" token')),a)}function ld(a,b){b=b||U;var c=[];return c=c.concat(jd({key:"",value:a,valueSpec:b.$root,styleSpec:b,style:a,objectElementValidators:{glyphs:kd,"*":function(){return[]}}})),a.constants&&(c=c.concat(Ma({key:"constants",value:a.constants,style:a,styleSpec:b}))),md(c)}function md(a){return[].concat(a).sort(function(a,b){return a.line-b.line})}function nd(a){return function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];return md(a.apply(this,b))}}ld.source=nd(fd),ld.light=nd(gd),ld.layer=nd(ed),ld.filter=nd(ad),ld.paintProperty=nd(cd),ld.layoutProperty=nd(dd);var od=ld;ic=od.light;var pd=od.paintProperty,qd=od.layoutProperty;function rd(a,b){var c=!1;if(b&&b.length)for(var d=0,b=b;d<b.length;d+=1){var e=b[d];a.fire(new Ka(new Error(e.message))),c=!0}return c}var sd=ud,td=3;function ud(a,b,c){var d=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;var e=new Int32Array(this.arrayBuffer);a=e[0],b=e[1],c=e[2],this.d=b+2*c;for(var f=0;f<this.d*this.d;f++){var g=e[td+f],h=e[td+f+1];d.push(g===h?null:e.subarray(g,h))}g=e[td+d.length];h=e[td+d.length+1];this.keys=e.subarray(g,h),this.bboxes=e.subarray(h),this.insert=this._insertReadonly}else{this.d=b+2*c;for(var f=0;f<this.d*this.d;f++)d.push([]);this.keys=[],this.bboxes=[]}this.n=b,this.extent=a,this.padding=c,this.scale=b/a,this.uid=0;g=c/b*a;this.min=-g,this.max=a+g}ud.prototype.insert=function(a,b,c,d,e){this._forEachCell(b,c,d,e,this._insertCell,this.uid++),this.keys.push(a),this.bboxes.push(b),this.bboxes.push(c),this.bboxes.push(d),this.bboxes.push(e)},ud.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ud.prototype._insertCell=function(a,b,c,d,e,f){this.cells[e].push(f)},ud.prototype.query=function(a,b,c,d,e){var f=this.min,g=this.max;if(a<=f&&b<=f&&g<=c&&g<=d&&!e)return Array.prototype.slice.call(this.keys);f=[];return this._forEachCell(a,b,c,d,this._queryCell,f,{},e),f},ud.prototype._queryCell=function(a,b,c,d,e,f,g,h){e=this.cells[e];if(null!==e)for(var i=this.keys,j=this.bboxes,k=0;k<e.length;k++){var l=e[k];if(void 0===g[l]){var n=4*l;(h?h(j[n+0],j[n+1],j[n+2],j[n+3]):a<=j[n+2]&&b<=j[n+3]&&c>=j[n+0]&&d>=j[n+1])?(g[l]=!0,f.push(i[l])):g[l]=!1}}},ud.prototype._forEachCell=function(a,b,c,d,e,f,g,h){for(var p=this._convertToCellCoord(a),i=this._convertToCellCoord(b),j=this._convertToCellCoord(c),k=this._convertToCellCoord(d),p=p;p<=j;p++)for(var l=i;l<=k;l++){var o=this.d*l+p;if((!h||h(this._convertFromCellCoord(p),this._convertFromCellCoord(l),this._convertFromCellCoord(p+1),this._convertFromCellCoord(l+1)))&&e.call(this,a,b,c,d,o,f,g,h))return}},ud.prototype._convertFromCellCoord=function(a){return(a-this.padding)/this.scale},ud.prototype._convertToCellCoord=function(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))},ud.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var a=this.cells,b=td+this.cells.length+1+1,c=0,d=0;d<this.cells.length;d++)c+=this.cells[d].length;d=new Int32Array(b+c+this.keys.length+this.bboxes.length);d[0]=this.extent,d[1]=this.n,d[2]=this.padding;for(var c=b,b=0;b<a.length;b++){var e=a[b];d[td+b]=c,d.set(e,c),c+=e.length}return d[td+a.length]=c,d.set(this.keys,c),c+=this.keys.length,d[td+a.length+1]=c,d.set(this.bboxes,c),c+=this.bboxes.length,d.buffer};var vd=self.ImageData,wd={};function Z(a,b,c){void 0===c&&(c={}),Object.defineProperty(b,"_classRegistryKey",{value:a,writeable:!1}),wd[a]={klass:b,omit:c.omit||[],shallow:c.shallow||[]}}for(var xd in Z("Object",Object),sd.serialize=function(a,b){a=a.toArrayBuffer();return b&&b.push(a),{buffer:a}},sd.deserialize=function(a){return new sd(a.buffer)},Z("Grid",sd),Z("Color",fb),Z("Error",Error),Z("StylePropertyFunction",Lc),Z("StyleExpression",Fc,{omit:["_evaluator"]}),Z("ZoomDependentExpression",Jc),Z("ZoomConstantExpression",Ic),Z("CompoundExpression",vb,{omit:["_evaluate"]}),nc)nc[xd]._classRegistryKey||Z("Expression_"+xd,nc[xd]);function yd(a,b){if(null==a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp)return a;if(a instanceof ArrayBuffer)return b&&b.push(a),a;if(ArrayBuffer.isView(a)){var c=a;return b&&b.push(c.buffer),c}if(a instanceof vd)return b&&b.push(a.data.buffer),a;if(Array.isArray(a)){for(var c=[],d=0,e=a;d<e.length;d+=1){var f=e[d];c.push(yd(f,b))}return c}if("object"==typeof a){f=a.constructor;e=f._classRegistryKey;if(!e)throw new Error("can't serialize object of unregistered class");d=f.serialize?f.serialize(a,b):{};if(!f.serialize){for(var g in a)if(a.hasOwnProperty(g)&&!(wd[e].omit.indexOf(g)>=0)){c=a[g];d[g]=wd[e].shallow.indexOf(g)>=0?c:yd(c,b)}a instanceof Error&&(d.message=a.message)}if(d.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==e&&(d.$name=e),d}throw new Error("can't serialize object of type "+typeof a)}function zd(a){if(null==a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp||a instanceof ArrayBuffer||ArrayBuffer.isView(a)||a instanceof vd)return a;if(Array.isArray(a))return a.map(zd);if("object"==typeof a){var b=a.$name||"Object",c=wd[b].klass;if(!c)throw new Error("can't deserialize unregistered class "+b);if(c.deserialize)return c.deserialize(a);for(var c=Object.create(c.prototype),d=0,e=Object.keys(a);d<e.length;d+=1){var f=e[d];if("$name"!==f){var g=a[f];c[f]=wd[b].shallow.indexOf(f)>=0?g:zd(g)}}return c}throw new Error("can't deserialize object of type "+typeof a)}var Ad=function(){this.first=!0};Ad.prototype.update=function(a,b){var c=Math.floor(a);return this.first?(this.first=!1,this.lastIntegerZoom=c,this.lastIntegerZoomTime=0,this.lastZoom=a,this.lastFloorZoom=c,!0):(this.lastFloorZoom>c?(this.lastIntegerZoom=c+1,this.lastIntegerZoomTime=b):this.lastFloorZoom<c&&(this.lastIntegerZoom=c,this.lastIntegerZoomTime=b),a!==this.lastZoom&&(this.lastZoom=a,this.lastFloorZoom=c,!0))};var $={"Latin-1 Supplement":function(a){return a>=128&&a<=255},Arabic:function(a){return a>=1536&&a<=1791},"Arabic Supplement":function(a){return a>=1872&&a<=1919},"Arabic Extended-A":function(a){return a>=2208&&a<=2303},"Hangul Jamo":function(a){return a>=4352&&a<=4607},"Unified Canadian Aboriginal Syllabics":function(a){return a>=5120&&a<=5759},Khmer:function(a){return a>=6016&&a<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(a){return a>=6320&&a<=6399},"General Punctuation":function(a){return a>=8192&&a<=8303},"Letterlike Symbols":function(a){return a>=8448&&a<=8527},"Number Forms":function(a){return a>=8528&&a<=8591},"Miscellaneous Technical":function(a){return a>=8960&&a<=9215},"Control Pictures":function(a){return a>=9216&&a<=9279},"Optical Character Recognition":function(a){return a>=9280&&a<=9311},"Enclosed Alphanumerics":function(a){return a>=9312&&a<=9471},"Geometric Shapes":function(a){return a>=9632&&a<=9727},"Miscellaneous Symbols":function(a){return a>=9728&&a<=9983},"Miscellaneous Symbols and Arrows":function(a){return a>=11008&&a<=11263},"CJK Radicals Supplement":function(a){return a>=11904&&a<=12031},"Kangxi Radicals":function(a){return a>=12032&&a<=12255},"Ideographic Description Characters":function(a){return a>=12272&&a<=12287},"CJK Symbols and Punctuation":function(a){return a>=12288&&a<=12351},Hiragana:function(a){return a>=12352&&a<=12447},Katakana:function(a){return a>=12448&&a<=12543},Bopomofo:function(a){return a>=12544&&a<=12591},"Hangul Compatibility Jamo":function(a){return a>=12592&&a<=12687},Kanbun:function(a){return a>=12688&&a<=12703},"Bopomofo Extended":function(a){return a>=12704&&a<=12735},"CJK Strokes":function(a){return a>=12736&&a<=12783},"Katakana Phonetic Extensions":function(a){return a>=12784&&a<=12799},"Enclosed CJK Letters and Months":function(a){return a>=12800&&a<=13055},"CJK Compatibility":function(a){return a>=13056&&a<=13311},"CJK Unified Ideographs Extension A":function(a){return a>=13312&&a<=19903},"Yijing Hexagram Symbols":function(a){return a>=19904&&a<=19967},"CJK Unified Ideographs":function(a){return a>=19968&&a<=40959},"Yi Syllables":function(a){return a>=40960&&a<=42127},"Yi Radicals":function(a){return a>=42128&&a<=42191},"Hangul Jamo Extended-A":function(a){return a>=43360&&a<=43391},"Hangul Syllables":function(a){return a>=44032&&a<=55215},"Hangul Jamo Extended-B":function(a){return a>=55216&&a<=55295},"Private Use Area":function(a){return a>=57344&&a<=63743},"CJK Compatibility Ideographs":function(a){return a>=63744&&a<=64255},"Arabic Presentation Forms-A":function(a){return a>=64336&&a<=65023},"Vertical Forms":function(a){return a>=65040&&a<=65055},"CJK Compatibility Forms":function(a){return a>=65072&&a<=65103},"Small Form Variants":function(a){return a>=65104&&a<=65135},"Arabic Presentation Forms-B":function(a){return a>=65136&&a<=65279},"Halfwidth and Fullwidth Forms":function(a){return a>=65280&&a<=65519}};function Bd(a){for(var b=0,a=a;b<a.length;b+=1)if(Ed(a[b].charCodeAt(0)))return!0;return!1}function Cd(a){for(var b=0,a=a;b<a.length;b+=1)if(!Dd(a[b].charCodeAt(0)))return!1;return!0}function Dd(a){return!$.Arabic(a)&&!$["Arabic Supplement"](a)&&!$["Arabic Extended-A"](a)&&!$["Arabic Presentation Forms-A"](a)&&!$["Arabic Presentation Forms-B"](a)}function Ed(a){return 746===a||747===a||!(a<4352)&&(!!$["Bopomofo Extended"](a)||!!$.Bopomofo(a)||!(!$["CJK Compatibility Forms"](a)||a>=65097&&a<=65103)||!!$["CJK Compatibility Ideographs"](a)||!!$["CJK Compatibility"](a)||!!$["CJK Radicals Supplement"](a)||!!$["CJK Strokes"](a)||!(!$["CJK Symbols and Punctuation"](a)||a>=12296&&a<=12305||a>=12308&&a<=12319||12336===a)||!!$["CJK Unified Ideographs Extension A"](a)||!!$["CJK Unified Ideographs"](a)||!!$["Enclosed CJK Letters and Months"](a)||!!$["Hangul Compatibility Jamo"](a)||!!$["Hangul Jamo Extended-A"](a)||!!$["Hangul Jamo Extended-B"](a)||!!$["Hangul Jamo"](a)||!!$["Hangul Syllables"](a)||!!$.Hiragana(a)||!!$["Ideographic Description Characters"](a)||!!$.Kanbun(a)||!!$["Kangxi Radicals"](a)||!!$["Katakana Phonetic Extensions"](a)||!(!$.Katakana(a)||12540===a)||!(!$["Halfwidth and Fullwidth Forms"](a)||65288===a||65289===a||65293===a||a>=65306&&a<=65310||65339===a||65341===a||65343===a||a>=65371&&a<=65503||65507===a||a>=65512&&a<=65519)||!(!$["Small Form Variants"](a)||a>=65112&&a<=65118||a>=65123&&a<=65126)||!!$["Unified Canadian Aboriginal Syllabics"](a)||!!$["Unified Canadian Aboriginal Syllabics Extended"](a)||!!$["Vertical Forms"](a)||!!$["Yijing Hexagram Symbols"](a)||!!$["Yi Syllables"](a)||!!$["Yi Radicals"](a))}function Fd(a){return!(Ed(a)||function(a){return!!($["Latin-1 Supplement"](a)&&(167===a||169===a||174===a||177===a||188===a||189===a||190===a||215===a||247===a)||$["General Punctuation"](a)&&(8214===a||8224===a||8225===a||8240===a||8241===a||8251===a||8252===a||8258===a||8263===a||8264===a||8265===a||8273===a)||$["Letterlike Symbols"](a)||$["Number Forms"](a)||$["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||9003===a||a>=9085&&a<=9114||a>=9150&&a<=9165||9167===a||a>=9169&&a<=9179||a>=9186&&a<=9215)||$["Control Pictures"](a)&&9251!==a||$["Optical Character Recognition"](a)||$["Enclosed Alphanumerics"](a)||$["Geometric Shapes"](a)||$["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||$["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||$["CJK Symbols and Punctuation"](a)||$.Katakana(a)||$["Private Use Area"](a)||$["CJK Compatibility Forms"](a)||$["Small Form Variants"](a)||$["Halfwidth and Fullwidth Forms"](a)||8734===a||8756===a||8757===a||a>=9984&&a<=10087||a>=10102&&a<=10131||65532===a||65533===a)}(a))}function Gd(a,b){return!(!b&&(a>=1424&&a<=2303||$["Arabic Presentation Forms-A"](a)||$["Arabic Presentation Forms-B"](a)))&&!(a>=2304&&a<=3583||a>=3840&&a<=4255||$.Khmer(a))}var Hd,Id=!1,Jd=null,Kd=!1,Ld=new La(),Md={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Kd||null!=Md.applyArabicShaping}},Nd=function(a,b){this.zoom=a,b?(this.now=b.now,this.fadeDuration=b.fadeDuration,this.zoomHistory=b.zoomHistory,this.transition=b.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ad(),this.transition={})};Nd.prototype.isSupportedScript=function(a){return function(a,b){for(var c=0,a=a;c<a.length;c+=1)if(!Gd(a[c].charCodeAt(0),b))return!1;return!0}(a,Md.isLoaded())},Nd.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Nd.prototype.getCrossfadeParameters=function(){var a=this.zoom,b=a-Math.floor(a),c=this.crossFadingFactor();return a>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:b+(1-b)*c}:{fromScale:.5,toScale:1,t:1-(1-c)*b}};var Od=function(a,b){this.property=a,this.value=b,this.expression=function(a,b){if(yc(a))return new Lc(a,b);if(Gc(a)){var c=Kc(a,b);if("error"===c.result)throw new Error(c.value.map(function(a){return a.key+": "+a.message}).join(", "));return c.value}var d=a;return"string"==typeof a&&"color"===b.type&&(d=fb.parse(a)),{kind:"constant",evaluate:function(){return d}}}(void 0===b?a.specification["default"]:b,a.specification)};Od.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Od.prototype.possiblyEvaluate=function(a){return this.property.possiblyEvaluate(this,a)};var Pd=function(a){this.property=a,this.value=new Od(a,void 0)};Pd.prototype.transitioned=function(a,b){return new Rd(this.property,this.value,b,k({},a.transition,this.transition),a.now)},Pd.prototype.untransitioned=function(){return new Rd(this.property,this.value,null,{},0)};var Qd=function(a){this._properties=a,this._values=Object.create(a.defaultTransitionablePropertyValues)};Qd.prototype.getValue=function(a){return t(this._values[a].value.value)},Qd.prototype.setValue=function(a,b){this._values.hasOwnProperty(a)||(this._values[a]=new Pd(this._values[a].property)),this._values[a].value=new Od(this._values[a].property,null===b?void 0:t(b))},Qd.prototype.getTransition=function(a){return t(this._values[a].transition)},Qd.prototype.setTransition=function(a,b){this._values.hasOwnProperty(a)||(this._values[a]=new Pd(this._values[a].property)),this._values[a].transition=t(b)||void 0},Qd.prototype.serialize=function(){for(var a={},b=0,c=Object.keys(this._values);b<c.length;b+=1){var d=c[b],e=this.getValue(d);void 0!==e&&(a[d]=e);e=this.getTransition(d);void 0!==e&&(a[d+"-transition"]=e)}return a},Qd.prototype.transitioned=function(a,b){for(var c=new Sd(this._properties),d=0,e=Object.keys(this._values);d<e.length;d+=1){var f=e[d];c._values[f]=this._values[f].transitioned(a,b._values[f])}return c},Qd.prototype.untransitioned=function(){for(var a=new Sd(this._properties),b=0,c=Object.keys(this._values);b<c.length;b+=1){var d=c[b];a._values[d]=this._values[d].untransitioned()}return a};var Rd=function(a,b,c,d,e){this.property=a,this.value=b,this.begin=e+d.delay||0,this.end=this.begin+d.duration||0,a.specification.transition&&(d.delay||d.duration)&&(this.prior=c)};Rd.prototype.possiblyEvaluate=function(a){var b=a.now||0,c=this.value.possiblyEvaluate(a),d=this.prior;if(d){if(b>this.end)return this.prior=null,c;if(this.value.isDataDriven())return this.prior=null,c;if(b<this.begin)return d.possiblyEvaluate(a);b=(b-this.begin)/(this.end-this.begin);return this.property.interpolate(d.possiblyEvaluate(a),c,function(a){if(a<=0)return 0;if(a>=1)return 1;var b=a*a,c=b*a;return 4*(a<.5?c:3*(a-b)+c-.75)}(b))}return c};var Sd=function(a){this._properties=a,this._values=Object.create(a.defaultTransitioningPropertyValues)};Sd.prototype.possiblyEvaluate=function(a){for(var b=new Vd(this._properties),c=0,d=Object.keys(this._values);c<d.length;c+=1){var e=d[c];b._values[e]=this._values[e].possiblyEvaluate(a)}return b},Sd.prototype.hasTransition=function(){for(var a=0,b=Object.keys(this._values);a<b.length;a+=1){var c=b[a];if(this._values[c].prior)return!0}return!1};var Td=function(a){this._properties=a,this._values=Object.create(a.defaultPropertyValues)};Td.prototype.getValue=function(a){return t(this._values[a].value)},Td.prototype.setValue=function(a,b){this._values[a]=new Od(this._values[a].property,null===b?void 0:t(b))},Td.prototype.serialize=function(){for(var a={},b=0,c=Object.keys(this._values);b<c.length;b+=1){var d=c[b],e=this.getValue(d);void 0!==e&&(a[d]=e)}return a},Td.prototype.possiblyEvaluate=function(a){for(var b=new Vd(this._properties),c=0,d=Object.keys(this._values);c<d.length;c+=1){var e=d[c];b._values[e]=this._values[e].possiblyEvaluate(a)}return b};var Ud=function(a,b,c){this.property=a,this.value=b,this.parameters=c};Ud.prototype.isConstant=function(){return"constant"===this.value.kind},Ud.prototype.constantOr=function(a){return"constant"===this.value.kind?this.value.value:a},Ud.prototype.evaluate=function(a,b){return this.property.evaluate(this.value,this.parameters,a,b)};var Vd=function(a){this._properties=a,this._values=Object.create(a.defaultPossiblyEvaluatedValues)};Vd.prototype.get=function(a){return this._values[a]};X=function(a){this.specification=a};X.prototype.possiblyEvaluate=function(a,b){return a.expression.evaluate(b)},X.prototype.interpolate=function(a,b,c){var d=Fb[this.specification.type];return d?d(a,b,c):a};Y=function(a){this.specification=a};Y.prototype.possiblyEvaluate=function(a,b){return"constant"===a.expression.kind||"camera"===a.expression.kind?new Ud(this,{kind:"constant",value:a.expression.evaluate(b)},b):new Ud(this,a.expression,b)},Y.prototype.interpolate=function(a,b,c){if("constant"!==a.value.kind||"constant"!==b.value.kind)return a;if(void 0===a.value.value||void 0===b.value.value)return new Ud(this,{kind:"constant",value:void 0},a.parameters);var d=Fb[this.specification.type];return d?new Ud(this,{kind:"constant",value:d(a.value.value,b.value.value,c)},a.parameters):a},Y.prototype.evaluate=function(a,b,c,d){return"constant"===a.kind?a.value:a.evaluate(b,c,d)};jc=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.possiblyEvaluate=function(a,b){if(void 0===a.value)return new Ud(this,{kind:"constant",value:void 0},b);if("constant"===a.expression.kind){var c=a.expression.evaluate(b);c=this._calculate(c,c,c,b);return new Ud(this,{kind:"constant",value:c},b)}if("camera"===a.expression.kind){c=this._calculate(a.expression.evaluate({zoom:b.zoom-1}),a.expression.evaluate({zoom:b.zoom}),a.expression.evaluate({zoom:b.zoom+1}),b);return new Ud(this,{kind:"constant",value:c},b)}return new Ud(this,a.expression,b)},b.prototype.evaluate=function(a,b,c,d){if("source"===a.kind){var e=a.evaluate(b,c,d);return this._calculate(e,e,e,b)}return"composite"===a.kind?this._calculate(a.evaluate({zoom:Math.floor(b.zoom)-1},c,d),a.evaluate({zoom:Math.floor(b.zoom)},c,d),a.evaluate({zoom:Math.floor(b.zoom)+1},c,d),b):a.value},b.prototype._calculate=function(a,b,c,d){return d.zoom>d.zoomHistory.lastIntegerZoom?{from:a,to:b}:{from:c,to:b}},b.prototype.interpolate=function(a){return a},b}(Y);hc=function(a){this.specification=a};hc.prototype.possiblyEvaluate=function(a,b){if(void 0!==a.value){if("constant"===a.expression.kind){var c=a.expression.evaluate(b);return this._calculate(c,c,c,b)}return this._calculate(a.expression.evaluate(new Nd(Math.floor(b.zoom-1),b)),a.expression.evaluate(new Nd(Math.floor(b.zoom),b)),a.expression.evaluate(new Nd(Math.floor(b.zoom+1),b)),b)}},hc.prototype._calculate=function(a,b,c,d){return d.zoom>d.zoomHistory.lastIntegerZoom?{from:a,to:b}:{from:c,to:b}},hc.prototype.interpolate=function(a){return a};kc=function(a){this.specification=a};kc.prototype.possiblyEvaluate=function(a,b){return!!a.expression.evaluate(b)},kc.prototype.interpolate=function(){return!1};oc=function(a){for(var b in this.properties=a,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},a){var c=a[b],d=this.defaultPropertyValues[b]=new Od(c,void 0);c=this.defaultTransitionablePropertyValues[b]=new Pd(c);this.defaultTransitioningPropertyValues[b]=c.untransitioned(),this.defaultPossiblyEvaluatedValues[b]=d.possiblyEvaluate({})}};Z("DataDrivenProperty",Y),Z("DataConstantProperty",X),Z("CrossFadedDataDrivenProperty",jc),Z("CrossFadedProperty",hc),Z("ColorRampProperty",kc);rc=function(a){function b(b,c){if(a.call(this),this.id=b.id,this.type=b.type,this._featureFilter=function(){return!0},"custom"!==b.type&&(b=b,this.metadata=b.metadata,this.minzoom=b.minzoom,this.maxzoom=b.maxzoom,"background"!==b.type&&(this.source=b.source,this.sourceLayer=b["source-layer"],this.filter=b.filter),c.layout&&(this._unevaluatedLayout=new Td(c.layout)),c.paint)){for(var d in this._transitionablePaint=new Qd(c.paint),b.paint)this.setPaintProperty(d,b.paint[d],{validate:!1});for(var e in b.layout)this.setLayoutProperty(e,b.layout[e],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},b.prototype.getLayoutProperty=function(a){return"visibility"===a?this.visibility:this._unevaluatedLayout.getValue(a)},b.prototype.setLayoutProperty=function(a,b,c){if(void 0===c&&(c={}),null!=b){var d="layers."+this.id+".layout."+a;if(this._validate(qd,d,a,b,c))return}"visibility"!==a?this._unevaluatedLayout.setValue(a,b):this.visibility=b},b.prototype.getPaintProperty=function(a){return q(a,"-transition")?this._transitionablePaint.getTransition(a.slice(0,-"-transition".length)):this._transitionablePaint.getValue(a)},b.prototype.setPaintProperty=function(a,b,c){if(void 0===c&&(c={}),null!=b){var d="layers."+this.id+".paint."+a;if(this._validate(pd,d,a,b,c))return!1}if(q(a,"-transition"))return this._transitionablePaint.setTransition(a.slice(0,-"-transition".length),b||void 0),!1;d=this._transitionablePaint._values[a];c="cross-faded-data-driven"===d.property.specification["property-type"];d=d.value.isDataDriven();return this._transitionablePaint.setValue(a,b),this._handleSpecialPaintPropertyUpdate(a),this._transitionablePaint._values[a].value.isDataDriven()||d||c},b.prototype._handleSpecialPaintPropertyUpdate=function(a){},b.prototype.isHidden=function(a){return!!(this.minzoom&&a<this.minzoom)||!!(this.maxzoom&&a>=this.maxzoom)||"none"===this.visibility},b.prototype.updateTransitions=function(a){this._transitioningPaint=this._transitionablePaint.transitioned(a,this._transitioningPaint)},b.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},b.prototype.recalculate=function(a){a.getCrossfadeParameters&&(this._crossfadeParameters=a.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(a)),this.paint=this._transitioningPaint.possiblyEvaluate(a)},b.prototype.serialize=function(){var a={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(a.layout=a.layout||{},a.layout.visibility=this.visibility),s(a,function(a,b){return!(void 0===a||"layout"===b&&!Object.keys(a).length||"paint"===b&&!Object.keys(a).length)})},b.prototype._validate=function(a,b,c,d,e){return void 0===e&&(e={}),(!e||!1!==e.validate)&&rd(this,a.call(od,{key:b,layerType:this.type,objectKey:c,value:d,styleSpec:U,style:{glyphs:!0,sprite:!0}}))},b.prototype.is3D=function(){return!1},b.prototype.isTileClipped=function(){return!1},b.prototype.hasOffscreenPass=function(){return!1},b.prototype.resize=function(){},b.prototype.isStateDependent=function(){for(var a in this.paint._values){var b=this.paint.get(a);if(b instanceof Ud&&uc(b.property.specification)&&("source"===b.value.kind||"composite"===b.value.kind)&&b.value.isStateDependent)return!0}return!1},b}(La);var Wd={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};fd=function(a,b){this._structArray=a,this._pos1=b*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8};gd=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Xd(a,b){void 0===b&&(b=1);var c=0,d=0;return{members:a.map(function(a){var e;e=(e=a.type,Wd[e].BYTES_PER_ELEMENT);var f=c=Yd(c,Math.max(b,e)),g=a.components||1;return d=Math.max(d,e),c+=e*g,{name:a.name,type:a.type,components:g,offset:f}}),size:Yd(c,Math.max(d,b)),alignment:b}}function Yd(a,b){return Math.ceil(a/b)*b}gd.serialize=function(a,b){return a._trim(),b&&(a.isTransferred=!0,b.push(a.arrayBuffer)),{length:a.length,arrayBuffer:a.arrayBuffer}},gd.deserialize=function(a){var b=Object.create(this.prototype);return b.arrayBuffer=a.arrayBuffer,b.length=a.length,b.capacity=a.arrayBuffer.byteLength/b.bytesPerElement,b._refreshViews(),b},gd.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},gd.prototype.clear=function(){this.length=0},gd.prototype.resize=function(a){this.reserve(a),this.length=a},gd.prototype.reserve=function(a){if(a>this.capacity){this.capacity=Math.max(a,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);a=this.uint8;this._refreshViews(),a&&this.uint8.set(a)}},gd.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Zd=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b){var c=this.length;return this.resize(c+1),this.emplace(c,a,b)},b.prototype.emplace=function(a,b,c){var d=2*a;return this.int16[d+0]=b,this.int16[d+1]=c,a},b}(gd);Zd.prototype.bytesPerElement=4,Z("StructArrayLayout2i4",Zd);var $d=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b,c,d){var e=this.length;return this.resize(e+1),this.emplace(e,a,b,c,d)},b.prototype.emplace=function(a,b,c,d,e){var f=4*a;return this.int16[f+0]=b,this.int16[f+1]=c,this.int16[f+2]=d,this.int16[f+3]=e,a},b}(gd);$d.prototype.bytesPerElement=8,Z("StructArrayLayout4i8",$d);var ae=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b,c,d,e,f){var g=this.length;return this.resize(g+1),this.emplace(g,a,b,c,d,e,f)},b.prototype.emplace=function(a,b,c,d,e,f,g){var h=6*a;return this.int16[h+0]=b,this.int16[h+1]=c,this.int16[h+2]=d,this.int16[h+3]=e,this.int16[h+4]=f,this.int16[h+5]=g,a},b}(gd);ae.prototype.bytesPerElement=12,Z("StructArrayLayout2i4i12",ae);var be=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b,c,d,e,f){var g=this.length;return this.resize(g+1),this.emplace(g,a,b,c,d,e,f)},b.prototype.emplace=function(a,b,c,d,e,f,g){var h=4*a,i=8*a;return this.int16[h+0]=b,this.int16[h+1]=c,this.uint8[i+4]=d,this.uint8[i+5]=e,this.uint8[i+6]=f,this.uint8[i+7]=g,a},b}(gd);be.prototype.bytesPerElement=8,Z("StructArrayLayout2i4ub8",be);var ce=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b,c,d,e,f,g,h){var i=this.length;return this.resize(i+1),this.emplace(i,a,b,c,d,e,f,g,h)},b.prototype.emplace=function(a,b,c,d,e,f,g,h,j){var i=8*a;return this.uint16[i+0]=b,this.uint16[i+1]=c,this.uint16[i+2]=d,this.uint16[i+3]=e,this.uint16[i+4]=f,this.uint16[i+5]=g,this.uint16[i+6]=h,this.uint16[i+7]=j,a},b}(gd);ce.prototype.bytesPerElement=16,Z("StructArrayLayout8ui16",ce);var de=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b,c,d,e,f,g,h){var i=this.length;return this.resize(i+1),this.emplace(i,a,b,c,d,e,f,g,h)},b.prototype.emplace=function(a,b,c,d,e,f,g,h,j){var i=8*a;return this.int16[i+0]=b,this.int16[i+1]=c,this.int16[i+2]=d,this.int16[i+3]=e,this.uint16[i+4]=f,this.uint16[i+5]=g,this.uint16[i+6]=h,this.uint16[i+7]=j,a},b}(gd);de.prototype.bytesPerElement=16,Z("StructArrayLayout4i4ui16",de);var ee=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b,c){var d=this.length;return this.resize(d+1),this.emplace(d,a,b,c)},b.prototype.emplace=function(a,b,c,d){var e=3*a;return this.float32[e+0]=b,this.float32[e+1]=c,this.float32[e+2]=d,a},b}(gd);ee.prototype.bytesPerElement=12,Z("StructArrayLayout3f12",ee);var fe=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a){var b=this.length;return this.resize(b+1),this.emplace(b,a)},b.prototype.emplace=function(a,b){var c=1*a;return this.uint32[c+0]=b,a},b}(gd);fe.prototype.bytesPerElement=4,Z("StructArrayLayout1ul4",fe);ed=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b,c,d,e,f,g,h,l,i,j){var k=this.length;return this.resize(k+1),this.emplace(k,a,b,c,d,e,f,g,h,l,i,j)},b.prototype.emplace=function(a,b,c,d,e,f,g,h,o,i,j,k){var l=12*a,n=6*a;return this.int16[l+0]=b,this.int16[l+1]=c,this.int16[l+2]=d,this.int16[l+3]=e,this.int16[l+4]=f,this.int16[l+5]=g,this.uint32[n+3]=h,this.uint16[l+8]=o,this.uint16[l+9]=i,this.int16[l+10]=j,this.int16[l+11]=k,a},b}(gd);ed.prototype.bytesPerElement=24,Z("StructArrayLayout6i1ul2ui2i24",ed);var ge=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b,c,d,e,f){var g=this.length;return this.resize(g+1),this.emplace(g,a,b,c,d,e,f)},b.prototype.emplace=function(a,b,c,d,e,f,g){var h=6*a;return this.int16[h+0]=b,this.int16[h+1]=c,this.int16[h+2]=d,this.int16[h+3]=e,this.int16[h+4]=f,this.int16[h+5]=g,a},b}(gd);ge.prototype.bytesPerElement=12,Z("StructArrayLayout2i2i2i12",ge);var he=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b,c,d){var e=this.length;return this.resize(e+1),this.emplace(e,a,b,c,d)},b.prototype.emplace=function(a,b,c,d,e){var f=12*a,g=3*a;return this.uint8[f+0]=b,this.uint8[f+1]=c,this.float32[g+1]=d,this.float32[g+2]=e,a},b}(gd);he.prototype.bytesPerElement=12,Z("StructArrayLayout2ub2f12",he);nd=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b,c,d,e,f,g,h,s,i,j,k,l,p,q){var r=this.length;return this.resize(r+1),this.emplace(r,a,b,c,d,e,f,g,h,s,i,j,k,l,p,q)},b.prototype.emplace=function(a,b,c,d,e,f,g,h,y,i,j,k,l,s,t,u){var v=22*a,w=11*a,x=44*a;return this.int16[v+0]=b,this.int16[v+1]=c,this.uint16[v+2]=d,this.uint16[v+3]=e,this.uint32[w+2]=f,this.uint32[w+3]=g,this.uint32[w+4]=h,this.uint16[v+10]=y,this.uint16[v+11]=i,this.uint16[v+12]=j,this.float32[w+7]=k,this.float32[w+8]=l,this.uint8[x+36]=s,this.uint8[x+37]=t,this.uint32[w+10]=u,a},b}(gd);nd.prototype.bytesPerElement=44,Z("StructArrayLayout2i2ui3ul3ui2f2ub1ul44",nd);ld=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b,c,d,e,f,g,h,y,i,j,k,l,s,t,u,v,w){var x=this.length;return this.resize(x+1),this.emplace(x,a,b,c,d,e,f,g,h,y,i,j,k,l,s,t,u,v,w)},b.prototype.emplace=function(a,b,c,d,e,f,g,h,C,i,j,k,l,u,v,w,x,y,z){var A=22*a,B=11*a;return this.int16[A+0]=b,this.int16[A+1]=c,this.int16[A+2]=d,this.int16[A+3]=e,this.int16[A+4]=f,this.int16[A+5]=g,this.uint16[A+6]=h,this.uint16[A+7]=C,this.uint16[A+8]=i,this.uint16[A+9]=j,this.uint16[A+10]=k,this.uint16[A+11]=l,this.uint16[A+12]=u,this.uint16[A+13]=v,this.uint16[A+14]=w,this.uint32[B+8]=x,this.float32[B+9]=y,this.float32[B+10]=z,a},b}(gd);ld.prototype.bytesPerElement=44,Z("StructArrayLayout6i9ui1ul2f44",ld);var ie=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a){var b=this.length;return this.resize(b+1),this.emplace(b,a)},b.prototype.emplace=function(a,b){var c=1*a;return this.float32[c+0]=b,a},b}(gd);ie.prototype.bytesPerElement=4,Z("StructArrayLayout1f4",ie);ud=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b,c){var d=this.length;return this.resize(d+1),this.emplace(d,a,b,c)},b.prototype.emplace=function(a,b,c,d){var e=3*a;return this.int16[e+0]=b,this.int16[e+1]=c,this.int16[e+2]=d,a},b}(gd);ud.prototype.bytesPerElement=6,Z("StructArrayLayout3i6",ud);var je=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b,c){var d=this.length;return this.resize(d+1),this.emplace(d,a,b,c)},b.prototype.emplace=function(a,b,c,d){var e=2*a,f=4*a;return this.uint32[e+0]=b,this.uint16[f+2]=c,this.uint16[f+3]=d,a},b}(gd);je.prototype.bytesPerElement=8,Z("StructArrayLayout1ul2ui8",je);var ke=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b,c){var d=this.length;return this.resize(d+1),this.emplace(d,a,b,c)},b.prototype.emplace=function(a,b,c,d){var e=3*a;return this.uint16[e+0]=b,this.uint16[e+1]=c,this.uint16[e+2]=d,a},b}(gd);ke.prototype.bytesPerElement=6,Z("StructArrayLayout3ui6",ke);var le=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b){var c=this.length;return this.resize(c+1),this.emplace(c,a,b)},b.prototype.emplace=function(a,b,c){var d=2*a;return this.uint16[d+0]=b,this.uint16[d+1]=c,a},b}(gd);le.prototype.bytesPerElement=4,Z("StructArrayLayout2ui4",le);var me=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a){var b=this.length;return this.resize(b+1),this.emplace(b,a)},b.prototype.emplace=function(a,b){var c=1*a;return this.uint16[c+0]=b,a},b}(gd);me.prototype.bytesPerElement=2,Z("StructArrayLayout1ui2",me);var ne=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b){var c=this.length;return this.resize(c+1),this.emplace(c,a,b)},b.prototype.emplace=function(a,b,c){var d=2*a;return this.float32[d+0]=b,this.float32[d+1]=c,a},b}(gd);ne.prototype.bytesPerElement=8,Z("StructArrayLayout2f8",ne);var oe=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},b.prototype.emplaceBack=function(a,b,c,d){var e=this.length;return this.resize(e+1),this.emplace(e,a,b,c,d)},b.prototype.emplace=function(a,b,c,d,e){var f=4*a;return this.float32[f+0]=b,this.float32[f+1]=c,this.float32[f+2]=d,this.float32[f+3]=e,a},b}(gd);oe.prototype.bytesPerElement=16,Z("StructArrayLayout4f16",oe);var pe=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return c.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},c.anchorPointX.set=function(a){this._structArray.int16[this._pos2+0]=a},c.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},c.anchorPointY.set=function(a){this._structArray.int16[this._pos2+1]=a},c.x1.get=function(){return this._structArray.int16[this._pos2+2]},c.x1.set=function(a){this._structArray.int16[this._pos2+2]=a},c.y1.get=function(){return this._structArray.int16[this._pos2+3]},c.y1.set=function(a){this._structArray.int16[this._pos2+3]=a},c.x2.get=function(){return this._structArray.int16[this._pos2+4]},c.x2.set=function(a){this._structArray.int16[this._pos2+4]=a},c.y2.get=function(){return this._structArray.int16[this._pos2+5]},c.y2.set=function(a){this._structArray.int16[this._pos2+5]=a},c.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},c.featureIndex.set=function(a){this._structArray.uint32[this._pos4+3]=a},c.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},c.sourceLayerIndex.set=function(a){this._structArray.uint16[this._pos2+8]=a},c.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},c.bucketIndex.set=function(a){this._structArray.uint16[this._pos2+9]=a},c.radius.get=function(){return this._structArray.int16[this._pos2+10]},c.radius.set=function(a){this._structArray.int16[this._pos2+10]=a},c.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},c.signedDistanceFromAnchor.set=function(a){this._structArray.int16[this._pos2+11]=a},c.anchorPoint.get=function(){return new e(this.anchorPointX,this.anchorPointY)},Object.defineProperties(b.prototype,c),b}(fd);pe.prototype.size=24;var qe=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.get=function(a){return new pe(this,a)},b}(ed);Z("CollisionBoxArray",qe);var re=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0}};return c.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},c.anchorX.set=function(a){this._structArray.int16[this._pos2+0]=a},c.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},c.anchorY.set=function(a){this._structArray.int16[this._pos2+1]=a},c.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},c.glyphStartIndex.set=function(a){this._structArray.uint16[this._pos2+2]=a},c.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},c.numGlyphs.set=function(a){this._structArray.uint16[this._pos2+3]=a},c.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},c.vertexStartIndex.set=function(a){this._structArray.uint32[this._pos4+2]=a},c.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},c.lineStartIndex.set=function(a){this._structArray.uint32[this._pos4+3]=a},c.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},c.lineLength.set=function(a){this._structArray.uint32[this._pos4+4]=a},c.segment.get=function(){return this._structArray.uint16[this._pos2+10]},c.segment.set=function(a){this._structArray.uint16[this._pos2+10]=a},c.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},c.lowerSize.set=function(a){this._structArray.uint16[this._pos2+11]=a},c.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},c.upperSize.set=function(a){this._structArray.uint16[this._pos2+12]=a},c.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},c.lineOffsetX.set=function(a){this._structArray.float32[this._pos4+7]=a},c.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},c.lineOffsetY.set=function(a){this._structArray.float32[this._pos4+8]=a},c.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},c.writingMode.set=function(a){this._structArray.uint8[this._pos1+36]=a},c.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},c.hidden.set=function(a){this._structArray.uint8[this._pos1+37]=a},c.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},c.crossTileID.set=function(a){this._structArray.uint32[this._pos4+10]=a},Object.defineProperties(b.prototype,c),b}(fd);re.prototype.size=44;var se=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.get=function(a){return new re(this,a)},b}(nd);Z("PlacedSymbolArray",se);var te=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},radialTextOffset:{configurable:!0}};return c.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},c.anchorX.set=function(a){this._structArray.int16[this._pos2+0]=a},c.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},c.anchorY.set=function(a){this._structArray.int16[this._pos2+1]=a},c.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},c.rightJustifiedTextSymbolIndex.set=function(a){this._structArray.int16[this._pos2+2]=a},c.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},c.centerJustifiedTextSymbolIndex.set=function(a){this._structArray.int16[this._pos2+3]=a},c.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},c.leftJustifiedTextSymbolIndex.set=function(a){this._structArray.int16[this._pos2+4]=a},c.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},c.verticalPlacedTextSymbolIndex.set=function(a){this._structArray.int16[this._pos2+5]=a},c.key.get=function(){return this._structArray.uint16[this._pos2+6]},c.key.set=function(a){this._structArray.uint16[this._pos2+6]=a},c.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+7]},c.textBoxStartIndex.set=function(a){this._structArray.uint16[this._pos2+7]=a},c.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+8]},c.textBoxEndIndex.set=function(a){this._structArray.uint16[this._pos2+8]=a},c.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},c.iconBoxStartIndex.set=function(a){this._structArray.uint16[this._pos2+9]=a},c.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},c.iconBoxEndIndex.set=function(a){this._structArray.uint16[this._pos2+10]=a},c.featureIndex.get=function(){return this._structArray.uint16[this._pos2+11]},c.featureIndex.set=function(a){this._structArray.uint16[this._pos2+11]=a},c.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+12]},c.numHorizontalGlyphVertices.set=function(a){this._structArray.uint16[this._pos2+12]=a},c.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+13]},c.numVerticalGlyphVertices.set=function(a){this._structArray.uint16[this._pos2+13]=a},c.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+14]},c.numIconVertices.set=function(a){this._structArray.uint16[this._pos2+14]=a},c.crossTileID.get=function(){return this._structArray.uint32[this._pos4+8]},c.crossTileID.set=function(a){this._structArray.uint32[this._pos4+8]=a},c.textBoxScale.get=function(){return this._structArray.float32[this._pos4+9]},c.textBoxScale.set=function(a){this._structArray.float32[this._pos4+9]=a},c.radialTextOffset.get=function(){return this._structArray.float32[this._pos4+10]},c.radialTextOffset.set=function(a){this._structArray.float32[this._pos4+10]=a},Object.defineProperties(b.prototype,c),b}(fd);te.prototype.size=44;var ue=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.get=function(a){return new te(this,a)},b}(ld);Z("SymbolInstanceArray",ue);var ve=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={offsetX:{configurable:!0}};return c.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},c.offsetX.set=function(a){this._structArray.float32[this._pos4+0]=a},Object.defineProperties(b.prototype,c),b}(fd);ve.prototype.size=4;var we=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getoffsetX=function(a){return this.float32[1*a+0]},b.prototype.get=function(a){return new ve(this,a)},b}(ie);Z("GlyphOffsetArray",we);var xe=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return c.x.get=function(){return this._structArray.int16[this._pos2+0]},c.x.set=function(a){this._structArray.int16[this._pos2+0]=a},c.y.get=function(){return this._structArray.int16[this._pos2+1]},c.y.set=function(a){this._structArray.int16[this._pos2+1]=a},c.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},c.tileUnitDistanceFromAnchor.set=function(a){this._structArray.int16[this._pos2+2]=a},Object.defineProperties(b.prototype,c),b}(fd);xe.prototype.size=6;var ye=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getx=function(a){return this.int16[3*a+0]},b.prototype.gety=function(a){return this.int16[3*a+1]},b.prototype.gettileUnitDistanceFromAnchor=function(a){return this.int16[3*a+2]},b.prototype.get=function(a){return new xe(this,a)},b}(ud);Z("SymbolLineVertexArray",ye);var ze=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return c.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},c.featureIndex.set=function(a){this._structArray.uint32[this._pos4+0]=a},c.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},c.sourceLayerIndex.set=function(a){this._structArray.uint16[this._pos2+2]=a},c.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},c.bucketIndex.set=function(a){this._structArray.uint16[this._pos2+3]=a},Object.defineProperties(b.prototype,c),b}(fd);ze.prototype.size=8;var Ae=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.get=function(a){return new ze(this,a)},b}(je);Z("FeatureIndexArray",Ae);var Be=Xd([{name:"a_pos",components:2,type:"Int16"}],4).members,Ce=function(a){void 0===a&&(a=[]),this.segments=a};function De(a,b){return 256*i(Math.floor(a),0,255)+(b=i(Math.floor(b),0,255))}Ce.prototype.prepareSegment=function(a,b,c,d){var e=this.segments[this.segments.length-1];return a>Ce.MAX_VERTEX_ARRAY_LENGTH&&v("Max vertices per segment is "+Ce.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+a),(!e||e.vertexLength+a>Ce.MAX_VERTEX_ARRAY_LENGTH||e.sortKey!==d)&&(e={vertexOffset:b.length,primitiveOffset:c.length,vertexLength:0,primitiveLength:0},void 0!==d&&(e.sortKey=d),this.segments.push(e)),e},Ce.prototype.get=function(){return this.segments},Ce.prototype.destroy=function(){for(var a=0,b=this.segments;a<b.length;a+=1){var c=b[a];for(var d in c.vaos)c.vaos[d].destroy()}},Ce.simpleSegment=function(a,b,c,d){return new Ce([{vertexOffset:a,primitiveOffset:b,vertexLength:c,primitiveLength:d,vaos:{},sortKey:0}])},Ce.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Z("SegmentVector",Ce);var Ee=function(){this.ids=[],this.positions=[],this.indexed=!1};function Fe(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}Ee.prototype.add=function(a,b,c,d){this.ids.push(a),this.positions.push(b,c,d)},Ee.prototype.getPositions=function(a){for(var b=0,c=this.ids.length-1;b<c;){var d=b+c>>1;this.ids[d]>=a?c=d:b=d+1}for(var d=[];this.ids[b]===a;){c=this.positions[3*b];var e=this.positions[3*b+1],f=this.positions[3*b+2];d.push({index:c,start:e,end:f}),b++}return d},Ee.serialize=function(a,b){var c=new Float64Array(a.ids);a=new Uint32Array(a.positions);return function a(b,c,d,e){if(d>=e)return;var f=b[d+e>>1],g=d-1,h=e+1;for(;;){do g++;while(b[g]<f);do h--;while(b[h]>f);if(g>=h)break;Fe(b,g,h),Fe(c,3*g,3*h),Fe(c,3*g+1,3*h+1),Fe(c,3*g+2,3*h+2)}a(b,c,d,h);a(b,c,h+1,e)}(c,a,0,c.length-1),b.push(c.buffer,a.buffer),{ids:c,positions:a}},Ee.deserialize=function(a){var b=new Ee();return b.ids=a.ids,b.positions=a.positions,b.indexed=!0,b},Z("FeaturePositionMap",Ee);gd=function(a,b){this.gl=a.gl,this.location=b};ed=function(a){function b(b,c){a.call(this,b,c),this.current=0}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.set=function(a){this.current!==a&&(this.current=a,this.gl.uniform1i(this.location,a))},b}(gd);var Ge=function(a){function b(b,c){a.call(this,b,c),this.current=0}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.set=function(a){this.current!==a&&(this.current=a,this.gl.uniform1f(this.location,a))},b}(gd);nd=function(a){function b(b,c){a.call(this,b,c),this.current=[0,0]}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.set=function(a){a[0]===this.current[0]&&a[1]===this.current[1]||(this.current=a,this.gl.uniform2f(this.location,a[0],a[1]))},b}(gd);ld=function(a){function b(b,c){a.call(this,b,c),this.current=[0,0,0]}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.set=function(a){a[0]===this.current[0]&&a[1]===this.current[1]&&a[2]===this.current[2]||(this.current=a,this.gl.uniform3f(this.location,a[0],a[1],a[2]))},b}(gd);var He=function(a){function b(b,c){a.call(this,b,c),this.current=[0,0,0,0]}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.set=function(a){a[0]===this.current[0]&&a[1]===this.current[1]&&a[2]===this.current[2]&&a[3]===this.current[3]||(this.current=a,this.gl.uniform4f(this.location,a[0],a[1],a[2],a[3]))},b}(gd),Ie=function(a){function b(b,c){a.call(this,b,c),this.current=fb.transparent}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.set=function(a){a.r===this.current.r&&a.g===this.current.g&&a.b===this.current.b&&a.a===this.current.a||(this.current=a,this.gl.uniform4f(this.location,a.r,a.g,a.b,a.a))},b}(gd),Je=new Float32Array(16);ud=function(a){function b(b,c){a.call(this,b,c),this.current=Je}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.set=function(a){if(a[12]!==this.current[12]||a[0]!==this.current[0])return this.current=a,void this.gl.uniformMatrix4fv(this.location,!1,a);for(var b=1;b<16;b++)if(a[b]!==this.current[b]){this.current=a,this.gl.uniformMatrix4fv(this.location,!1,a);break}},b}(gd);function Ke(a){return[De(255*a.r,255*a.g),De(255*a.b,255*a.a)]}var Le=function(a,b,c){this.value=a,this.names=b,this.uniformNames=this.names.map(function(a){return"u_"+a}),this.type=c,this.maxValue=-1/0};Le.prototype.defines=function(){return this.names.map(function(a){return"#define HAS_UNIFORM_u_"+a})},Le.prototype.setConstantPatternPositions=function(){},Le.prototype.populatePaintArray=function(){},Le.prototype.updatePaintArray=function(){},Le.prototype.upload=function(){},Le.prototype.destroy=function(){},Le.prototype.setUniforms=function(a,b,c,d){b.set(d.constantOr(this.value))},Le.prototype.getBinding=function(a,b){return"color"===this.type?new Ie(a,b):new Ge(a,b)},Le.serialize=function(a){var b=a.value,c=a.names;a=a.type;return{value:yd(b),names:c,type:a}},Le.deserialize=function(a){var b=a.value,c=a.names;a=a.type;return new Le(zd(b),c,a)};var Me=function(a,b,c){this.value=a,this.names=b,this.uniformNames=this.names.map(function(a){return"u_"+a}),this.type=c,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};Me.prototype.defines=function(){return this.names.map(function(a){return"#define HAS_UNIFORM_u_"+a})},Me.prototype.populatePaintArray=function(){},Me.prototype.updatePaintArray=function(){},Me.prototype.upload=function(){},Me.prototype.destroy=function(){},Me.prototype.setConstantPatternPositions=function(a,b){this.patternPositions.patternTo=a.tlbr,this.patternPositions.patternFrom=b.tlbr},Me.prototype.setUniforms=function(a,b,c,d,e){a=this.patternPositions;"u_pattern_to"===e&&a.patternTo&&b.set(a.patternTo),"u_pattern_from"===e&&a.patternFrom&&b.set(a.patternFrom)},Me.prototype.getBinding=function(a,b){return new He(a,b)};var Ne=function(a,b,c,d){this.expression=a,this.names=b,this.type=c,this.uniformNames=this.names.map(function(a){return"a_"+a}),this.maxValue=-1/0,this.paintVertexAttributes=b.map(function(a){return{name:"a_"+a,type:"Float32",components:"color"===c?2:1,offset:0}}),this.paintVertexArray=new d()};Ne.prototype.defines=function(){return[]},Ne.prototype.setConstantPatternPositions=function(){},Ne.prototype.populatePaintArray=function(a,b){var c=this.paintVertexArray,d=c.length;c.reserve(a);b=this.expression.evaluate(new Nd(0),b,{});if("color"===this.type)for(var e=Ke(b),f=d;f<a;f++)c.emplaceBack(e[0],e[1]);else{for(var e=d;e<a;e++)c.emplaceBack(b);this.maxValue=Math.max(this.maxValue,b)}},Ne.prototype.updatePaintArray=function(a,b,c,d){var e=this.paintVertexArray;c=this.expression.evaluate({zoom:0},c,d);if("color"===this.type)for(var d=Ke(c),f=a;f<b;f++)e.emplace(f,d[0],d[1]);else{for(var d=a;d<b;d++)e.emplace(d,c);this.maxValue=Math.max(this.maxValue,c)}},Ne.prototype.upload=function(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ne.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ne.prototype.setUniforms=function(a,b){b.set(0)},Ne.prototype.getBinding=function(a,b){return new Ge(a,b)};var Oe=function(a,b,c,d,e,f){this.expression=a,this.names=b,this.uniformNames=this.names.map(function(a){return"u_"+a+"_t"}),this.type=c,this.useIntegerZoom=d,this.zoom=e,this.maxValue=-1/0;a=f;this.paintVertexAttributes=b.map(function(a){return{name:"a_"+a,type:"Float32",components:"color"===c?4:2,offset:0}}),this.paintVertexArray=new a()};Oe.prototype.defines=function(){return[]},Oe.prototype.setConstantPatternPositions=function(){},Oe.prototype.populatePaintArray=function(a,b){var c=this.paintVertexArray,d=c.length;c.reserve(a);var e=this.expression.evaluate(new Nd(this.zoom),b,{});b=this.expression.evaluate(new Nd(this.zoom+1),b,{});if("color"===this.type)for(var f=Ke(e),g=Ke(b),h=d;h<a;h++)c.emplaceBack(f[0],f[1],g[0],g[1]);else{for(var f=d;f<a;f++)c.emplaceBack(e,b);this.maxValue=Math.max(this.maxValue,e,b)}},Oe.prototype.updatePaintArray=function(a,b,c,d){var e=this.paintVertexArray,f=this.expression.evaluate({zoom:this.zoom},c,d);c=this.expression.evaluate({zoom:this.zoom+1},c,d);if("color"===this.type)for(var d=Ke(f),h=Ke(c),g=a;g<b;g++)e.emplace(g,d[0],d[1],h[0],h[1]);else{for(var g=a;g<b;g++)e.emplace(g,f,c);this.maxValue=Math.max(this.maxValue,f,c)}},Oe.prototype.upload=function(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Oe.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Oe.prototype.interpolationFactor=function(a){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(a),this.zoom,this.zoom+1):this.expression.interpolationFactor(a,this.zoom,this.zoom+1)},Oe.prototype.setUniforms=function(a,b,c){b.set(this.interpolationFactor(c.zoom))},Oe.prototype.getBinding=function(a,b){return new Ge(a,b)};var Pe=function(a,b,c,d,e,f,g){this.expression=a,this.names=b,this.type=c,this.uniformNames=this.names.map(function(a){return"u_"+a+"_t"}),this.useIntegerZoom=d,this.zoom=e,this.maxValue=-1/0,this.layerId=g,this.paintVertexAttributes=b.map(function(a){return{name:"a_"+a,type:"Uint16",components:4,offset:0}}),this.zoomInPaintVertexArray=new f(),this.zoomOutPaintVertexArray=new f()};Pe.prototype.defines=function(){return[]},Pe.prototype.setConstantPatternPositions=function(){},Pe.prototype.populatePaintArray=function(a,b,c){var d=this.zoomInPaintVertexArray,e=this.zoomOutPaintVertexArray,f=this.layerId,g=d.length;if(d.reserve(a),e.reserve(a),c&&b.patterns&&b.patterns[f]){b=b.patterns[f];f=b.min;var h=b.mid;b=b.max;f=c[f];h=c[h];c=c[b];if(!f||!h||!c)return;for(var b=g;b<a;b++)d.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],f.tl[0],f.tl[1],f.br[0],f.br[1]),e.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],c.tl[0],c.tl[1],c.br[0],c.br[1])}},Pe.prototype.updatePaintArray=function(a,b,c,d,e){d=this.zoomInPaintVertexArray;var f=this.zoomOutPaintVertexArray,g=this.layerId;if(e&&c.patterns&&c.patterns[g]){c=c.patterns[g];g=c.min;var h=c.mid;c=c.max;g=e[g];h=e[h];e=e[c];if(!g||!h||!e)return;for(var c=a;c<b;c++)d.emplace(c,h.tl[0],h.tl[1],h.br[0],h.br[1],g.tl[0],g.tl[1],g.br[0],g.br[1]),f.emplace(c,h.tl[0],h.tl[1],h.br[0],h.br[1],e.tl[0],e.tl[1],e.br[0],e.br[1])}},Pe.prototype.upload=function(a){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=a.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=a.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Pe.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},Pe.prototype.setUniforms=function(a,b){b.set(0)},Pe.prototype.getBinding=function(a,b){return new Ge(a,b)};var Qe=function(){this.binders={},this.cacheKey="",this._buffers=[],this._featureMap=new Ee(),this._bufferOffset=0};Qe.createDynamic=function(a,b,c){var d=new Qe(),e=[];for(var f in a.paint._values)if(c(f)){var g=a.paint.get(f);if(g instanceof Ud&&uc(g.property.specification)){var h=Se(f,a.type),k=g.property.specification.type,i=g.property.useIntegerZoom;if("cross-faded"===g.property.specification["property-type"]||"cross-faded-data-driven"===g.property.specification["property-type"])if("constant"===g.value.kind)d.binders[f]=new Me(g.value.value,h,k),e.push("/u_"+f);else{var j=Te(f,k,"source");d.binders[f]=new Pe(g.value,h,k,i,b,j,a.id),e.push("/a_"+f)}else if("constant"===g.value.kind)d.binders[f]=new Le(g.value.value,h,k),e.push("/u_"+f);else if("source"===g.value.kind){j=Te(f,k,"source");d.binders[f]=new Ne(g.value,h,k,j),e.push("/a_"+f)}else{j=Te(f,k,"composite");d.binders[f]=new Oe(g.value,h,k,i,b,j),e.push("/z_"+f)}}}return d.cacheKey=e.sort().join(""),d},Qe.prototype.populatePaintArrays=function(a,b,c,d){for(var e in this.binders)this.binders[e].populatePaintArray(a,b,d);void 0!==b.id&&this._featureMap.add(+b.id,c,this._bufferOffset,a),this._bufferOffset=a},Qe.prototype.setConstantPatternPositions=function(a,b){for(var c in this.binders)this.binders[c].setConstantPatternPositions(a,b)},Qe.prototype.updatePaintArrays=function(a,b,c,d){var e=!1;for(var f in a)for(var g=0,h=this._featureMap.getPositions(+f);g<h.length;g+=1){var m=h[g],i=b.feature(m.index);for(var j in this.binders){var k=this.binders[j];if(!(k instanceof Le||k instanceof Me)&&!0===k.expression.isStateDependent){var l=c.paint.get(j);k.expression=l.value,k.updatePaintArray(m.start,m.end,i,a[f],d),e=!0}}}return e},Qe.prototype.defines=function(){var a=[];for(var b in this.binders)a.push.apply(a,this.binders[b].defines());return a},Qe.prototype.getPaintVertexBuffers=function(){return this._buffers},Qe.prototype.getUniforms=function(a,b){var c=[];for(var d in this.binders)for(var e=this.binders[d],f=0,g=e.uniformNames;f<g.length;f+=1){var h=g[f];if(b[h]){var i=e.getBinding(a,b[h]);c.push({name:h,property:d,binding:i})}}return c},Qe.prototype.setUniforms=function(a,b,c,d){for(var e=0,b=b;e<b.length;e+=1){var f=b[e],g=f.name,h=f.property;f=f.binding;this.binders[h].setUniforms(a,f,d,c.get(h),g)}},Qe.prototype.updatePatternPaintBuffers=function(a){var b=[];for(var c in this.binders){var d=this.binders[c];if(d instanceof Pe){var e=2===a.fromScale?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;e&&b.push(e)}else(d instanceof Ne||d instanceof Oe)&&d.paintVertexBuffer&&b.push(d.paintVertexBuffer)}this._buffers=b},Qe.prototype.upload=function(a){for(var b in this.binders)this.binders[b].upload(a);a=[];for(var c in this.binders){var d=this.binders[c];(d instanceof Ne||d instanceof Oe)&&d.paintVertexBuffer&&a.push(d.paintVertexBuffer)}this._buffers=a},Qe.prototype.destroy=function(){for(var a in this.binders)this.binders[a].destroy()};var Re=function(a,b,c,d){void 0===d&&(d=function(){return!0}),this.programConfigurations={};for(var e=0,b=b;e<b.length;e+=1){var f=b[e];this.programConfigurations[f.id]=Qe.createDynamic(f,c,d),this.programConfigurations[f.id].layoutAttributes=a}this.needsUpload=!1};function Se(a,b){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[a]||[a.replace(b+"-","").replace(/-/g,"_")]}function Te(a,b,c){var d={color:{source:ne,composite:oe},number:{source:ie,composite:ne}};a=function(a){return{"line-pattern":{source:ce,composite:ce},"fill-pattern":{source:ce,composite:ce},"fill-extrusion-pattern":{source:ce,composite:ce}}[a]}(a);return a&&a[c]||d[b][c]}Re.prototype.populatePaintArrays=function(a,b,c,d){for(var e in this.programConfigurations)this.programConfigurations[e].populatePaintArrays(a,b,c,d);this.needsUpload=!0},Re.prototype.updatePaintArrays=function(a,b,c,d){for(var e=0,c=c;e<c.length;e+=1){var f=c[e];this.needsUpload=this.programConfigurations[f.id].updatePaintArrays(a,b,f,d)||this.needsUpload}},Re.prototype.get=function(a){return this.programConfigurations[a]},Re.prototype.upload=function(a){if(this.needsUpload){for(var b in this.programConfigurations)this.programConfigurations[b].upload(a);this.needsUpload=!1}},Re.prototype.destroy=function(){for(var a in this.programConfigurations)this.programConfigurations[a].destroy()},Z("ConstantBinder",Le),Z("CrossFadedConstantBinder",Me),Z("SourceExpressionBinder",Ne),Z("CrossFadedCompositeBinder",Pe),Z("CompositeExpressionBinder",Oe),Z("ProgramConfiguration",Qe,{omit:["_buffers"]}),Z("ProgramConfigurationSet",Re);var Ue=8192,Ve=(fd=16,{min:-1*Math.pow(2,fd-1),max:Math.pow(2,fd-1)-1});function We(a){for(var b=Ue/a.extent,a=a.loadGeometry(),c=0;c<a.length;c++)for(var d=a[c],e=0;e<d.length;e++){var f=d[e];f.x=Math.round(f.x*b),f.y=Math.round(f.y*b),(f.x<Ve.min||f.x>Ve.max||f.y<Ve.min||f.y>Ve.max)&&v("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return a}function Xe(a,b,c,d,e){a.emplaceBack(2*b+(d+1)/2,2*c+(e+1)/2)}var Ye=function(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new Zd(),this.indexArray=new ke(),this.segments=new Ce(),this.programConfigurations=new Re(Be,a.layers,a.zoom),this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};function Ze(a,b){for(var c=0;c<a.length;c++)if(hf(b,a[c]))return!0;for(var c=0;c<b.length;c++)if(hf(a,b[c]))return!0;return!!cf(a,b)}function $e(a,b,c){return!!hf(a,b)||!!ef(b,a,c)}function af(a,b){if(1===a.length)return gf(b,a[0]);for(var c=0;c<b.length;c++)for(var d=b[c],e=0;e<d.length;e++)if(hf(a,d[e]))return!0;for(var e=0;e<a.length;e++)if(gf(b,a[e]))return!0;for(var d=0;d<b.length;d++)if(cf(a,b[d]))return!0;return!1}function bf(a,b,c){if(a.length>1){if(cf(a,b))return!0;for(var d=0;d<b.length;d++)if(ef(b[d],a,c))return!0}for(var d=0;d<a.length;d++)if(ef(a[d],b,c))return!0;return!1}function cf(a,b){if(0===a.length||0===b.length)return!1;for(var c=0;c<a.length-1;c++)for(var d=a[c],e=a[c+1],f=0;f<b.length-1;f++)if(df(d,e,b[f],b[f+1]))return!0;return!1}function df(a,b,c,d){return w(a,c,d)!==w(b,c,d)&&w(a,b,c)!==w(a,b,d)}function ef(a,b,c){c=c*c;if(1===b.length)return a.distSqr(b[0])<c;for(var d=1;d<b.length;d++)if(ff(a,b[d-1],b[d])<c)return!0;return!1}function ff(a,b,c){var d=b.distSqr(c);if(0===d)return a.distSqr(b);d=((a.x-b.x)*(c.x-b.x)+(a.y-b.y)*(c.y-b.y))/d;return d<0?a.distSqr(b):d>1?a.distSqr(c):a.distSqr(c.sub(b)._mult(d)._add(b))}function gf(a,b){for(var c,d,e,f=!1,g=0;g<a.length;g++)for(var h=0,i=(c=a[g]).length-1;h<c.length;i=h++)d=c[h],e=c[i],d.y>b.y!=e.y>b.y&&b.x<(e.x-d.x)*(b.y-d.y)/(e.y-d.y)+d.x&&(f=!f);return f}function hf(a,b){for(var c=!1,d=0,e=a.length-1;d<a.length;e=d++){var f=a[d],g=a[e];f.y>b.y!=g.y>b.y&&b.x<(g.x-f.x)*(b.y-f.y)/(g.y-f.y)+f.x&&(c=!c)}return c}function jf(a,b,c){var d=c[0],e=c[2];if(a.x<d.x&&b.x<d.x||a.x>e.x&&b.x>e.x||a.y<d.y&&b.y<d.y||a.y>e.y&&b.y>e.y)return!1;d=w(a,b,c[0]);return d!==w(a,b,c[1])||d!==w(a,b,c[2])||d!==w(a,b,c[3])}function kf(a,b,c){var d=b.paint.get(a).value;return"constant"===d.kind?d.value:c.programConfigurations.get(b.id).binders[a].maxValue}function lf(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function mf(a,b,c,d,f){if(!b[0]&&!b[1])return a;b=e.convert(b)._mult(f);"viewport"===c&&b._rotate(-d);for(var f=[],c=0;c<a.length;c++){d=a[c];f.push(d.sub(b))}return f}Ye.prototype.populate=function(a,b){for(var c=0,a=a;c<a.length;c+=1){var d=a[c],e=d.feature,f=d.index;d=d.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nd(this.zoom),e)){var g=We(e);this.addFeature(e,g,f),b.featureIndex.insert(e,g,f,d,this.index)}}},Ye.prototype.update=function(a,b,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,b,this.stateDependentLayers,c)},Ye.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ye.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ye.prototype.upload=function(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Be),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0},Ye.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ye.prototype.addFeature=function(a,b,c){for(var d=0,b=b;d<b.length;d+=1)for(var e=0,f=b[d];e<f.length;e+=1){var g=f[e],j=g.x;g=g.y;if(!(j<0||j>=Ue||g<0||g>=Ue)){var h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),i=h.vertexLength;Xe(this.layoutVertexArray,j,g,-1,-1),Xe(this.layoutVertexArray,j,g,1,-1),Xe(this.layoutVertexArray,j,g,1,1),Xe(this.layoutVertexArray,j,g,-1,1),this.indexArray.emplaceBack(i,i+1,i+2),this.indexArray.emplaceBack(i,i+3,i+2),h.vertexLength+=4,h.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,c,{})},Z("CircleBucket",Ye,{omit:["layers"]});var nf={paint:new oc({"circle-radius":new Y(U.paint_circle["circle-radius"]),"circle-color":new Y(U.paint_circle["circle-color"]),"circle-blur":new Y(U.paint_circle["circle-blur"]),"circle-opacity":new Y(U.paint_circle["circle-opacity"]),"circle-translate":new X(U.paint_circle["circle-translate"]),"circle-translate-anchor":new X(U.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new X(U.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new X(U.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Y(U.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Y(U.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Y(U.paint_circle["circle-stroke-opacity"])})},of="undefined"!=typeof Float32Array?Float32Array:Array;Math.PI;function pf(){var a=new of(9);return of!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0),a[0]=1,a[4]=1,a[8]=1,a}function qf(){var a=new of(3);return of!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a}function rf(a,b,c){var d=new of(3);return d[0]=a,d[1]=b,d[2]=c,d}qf();function sf(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*b,a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*b,a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*b,a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*b,a}!function(){var a;a=new of(4),of!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0,a[3]=0),a}();function tf(){var a=new of(4);return of!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a[3]=1,a}qf(),rf(1,0,0),rf(0,1,0),tf(),tf(),pf();!function(){var a;a=new of(2),of!=Float32Array&&(a[0]=0,a[1]=0),a}();je=function(a){function b(b){a.call(this,b,nf)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.createBucket=function(a){return new Ye(a)},b.prototype.queryRadius=function(a){a=a;return kf("circle-radius",this,a)+kf("circle-stroke-width",this,a)+lf(this.paint.get("circle-translate"))},b.prototype.queryIntersectsFeature=function(a,b,c,d,e,f,g,h){for(var e=mf(a,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),f.angle,g),a=this.paint.get("circle-radius").evaluate(b,c)+this.paint.get("circle-stroke-width").evaluate(b,c),b="map"===this.paint.get("circle-pitch-alignment"),c=b?e:function(a,b){return a.map(function(a){return uf(a,b)})}(e,h),e=b?a*g:a,g=0,a=d;g<a.length;g+=1)for(var d=0,i=a[g];d<i.length;d+=1){var j=i[d],k=b?j:uf(j,h),l=e;j=sf([],[j.x,j.y,0,1],h);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?l*=j[3]/f.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(l*=f.cameraToCenterDistance/j[3]),$e(c,k,l))return!0}return!1},b}(rc);function uf(a,b){a=sf([],[a.x,a.y,0,1],b);return new e(a[0]/a[3],a[1]/a[3])}var vf=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(Ye);function wf(a,b,c,d){var e=b.width;b=b.height;if(d){if(d instanceof Uint8ClampedArray)d=new Uint8Array(d.buffer);else if(d.length!==e*b*c)throw new RangeError("mismatched image size")}else d=new Uint8Array(e*b*c);return a.width=e,a.height=b,a.data=d,a}function xf(a,b,c){var d=b.width;b=b.height;if(d!==a.width||b!==a.height){var e=wf({},{width:d,height:b},c);yf(a,e,{x:0,y:0},{x:0,y:0},{width:Math.min(a.width,d),height:Math.min(a.height,b)},c),a.width=d,a.height=b,a.data=e.data}}function yf(a,b,c,d,e,f){if(0===e.width||0===e.height)return b;if(e.width>a.width||e.height>a.height||c.x>a.width-e.width||c.y>a.height-e.height)throw new RangeError("out of range source coordinates for image copy");if(e.width>b.width||e.height>b.height||d.x>b.width-e.width||d.y>b.height-e.height)throw new RangeError("out of range destination coordinates for image copy");for(var g=a.data,h=b.data,l=0;l<e.height;l++)for(var i=((c.y+l)*a.width+c.x)*f,j=((d.y+l)*b.width+d.x)*f,k=0;k<e.width*f;k++)h[j+k]=g[i+k];return b}Z("HeatmapBucket",vf,{omit:["layers"]});var zf=function(a,b){wf(this,a,1,b)};zf.prototype.resize=function(a){xf(this,a,1)},zf.prototype.clone=function(){return new zf({width:this.width,height:this.height},new Uint8Array(this.data))},zf.copy=function(a,b,c,d,e){yf(a,b,c,d,e,1)};var Af=function(a,b){wf(this,a,4,b)};Af.prototype.resize=function(a){xf(this,a,4)},Af.prototype.replace=function(a,b){b?this.data.set(a):a instanceof Uint8ClampedArray?this.data=new Uint8Array(a.buffer):this.data=a},Af.prototype.clone=function(){return new Af({width:this.width,height:this.height},new Uint8Array(this.data))},Af.copy=function(a,b,c,d,e){yf(a,b,c,d,e,4)},Z("AlphaImage",zf),Z("RGBAImage",Af);var Bf={paint:new oc({"heatmap-radius":new Y(U.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Y(U.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new X(U.paint_heatmap["heatmap-intensity"]),"heatmap-color":new kc(U.paint_heatmap["heatmap-color"]),"heatmap-opacity":new X(U.paint_heatmap["heatmap-opacity"])})};function Cf(a,b){for(var c=new Uint8Array(1024),d={},e=0,f=0;e<256;e++,f+=4){d[b]=e/255;var g=a.evaluate(d);c[f+0]=Math.floor(255*g.r/g.a),c[f+1]=Math.floor(255*g.g/g.a),c[f+2]=Math.floor(255*g.b/g.a),c[f+3]=Math.floor(255*g.a)}return new Af({width:256,height:1},c)}gd=function(a){function b(b){a.call(this,b,Bf),this._updateColorRamp()}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.createBucket=function(a){return new vf(a)},b.prototype._handleSpecialPaintPropertyUpdate=function(a){"heatmap-color"===a&&this._updateColorRamp()},b.prototype._updateColorRamp=function(){var a=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Cf(a,"heatmapDensity"),this.colorRampTexture=null},b.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},b.prototype.queryRadius=function(){return 0},b.prototype.queryIntersectsFeature=function(){return!1},b.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},b}(rc);var Df={paint:new oc({"hillshade-illumination-direction":new X(U.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new X(U.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new X(U.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new X(U.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new X(U.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new X(U.paint_hillshade["hillshade-accent-color"])})};fd=function(a){function b(b){a.call(this,b,Df)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},b}(rc);var Ef=Xd([{name:"a_pos",components:2,type:"Int16"}],4).members,Ff=Gf;qf=Gf;function Gf(a,b,c){c=c||2;var d,e,f,o,g,h=b&&b.length,i=h?b[0]*c:a.length,j=Hf(a,0,i,c,!0),k=[];if(!j||j.next===j.prev)return k;if(h&&(j=function(a,b,c,d){var e,f,g,h,i=[];for(e=0,f=b.length;e<f;e++)g=b[e]*d,h=e<f-1?b[e+1]*d:a.length,(g=Hf(a,g,h,d,!1))===g.next&&(g.steiner=!0),i.push(Rf(g));for(i.sort(Of),e=0;e<i.length;e++)Pf(i[e],c),c=If(c,c.next);return c}(a,b,j,c)),a.length>80*c){d=h=a[0],e=b=a[1];for(var l=c;l<i;l+=c)(f=a[l])<d&&(d=f),(o=a[l+1])<e&&(e=o),f>h&&(h=f),o>b&&(b=o);g=0!==(g=Math.max(h-d,b-e))?1/g:0}return Jf(j,k,c,d,e,g),k}function Hf(a,b,c,d,e){var f;if(e===bg(a,b,c,d)>0)for(e=b;e<c;e+=d)f=Zf(e,a[e],a[e+1],f);else for(e=c-d;e>=b;e-=d)f=Zf(e,a[e],a[e+1],f);return f&&Vf(f,f.next)&&($f(f),f=f.next),f}function If(a,b){if(!a)return a;b||(b=a);var c;a=a;do if(c=!1,a.steiner||!Vf(a,a.next)&&0!==Uf(a.prev,a,a.next))a=a.next;else{if($f(a),(a=b=a.prev)===a.next)break;c=!0}while(c||a!==b);return b}function Jf(a,b,c,d,e,f,g){if(a){!g&&f&&(function(a,b,c,d){var e=a;do null===e.z&&(e.z=Qf(e.x,e.y,b,c,d)),e.prevZ=e.prev,e.nextZ=e.next,e=e.next;while(e!==a);e.prevZ.nextZ=null,e.prevZ=null,(function(a){var b,c,d,e,f,g,h,i=1;do{for(c=a,a=null,f=null,g=0;c;){for(g++,d=c,h=0,b=0;b<i&&(h++,d=d.nextZ);b++);for(b=i;h>0||b>0&&d;)0!==h&&(0===b||!d||c.z<=d.z)?(e=c,c=c.nextZ,h--):(e=d,d=d.nextZ,b--),f?f.nextZ=e:a=e,e.prevZ=f,f=e;c=d}f.nextZ=null,i*=2}while(g>1)})(e)})(a,d,e,f);for(var h,j,i=a;a.prev!==a.next;)if(h=a.prev,j=a.next,f?Lf(a,d,e,f):Kf(a))b.push(h.i/c),b.push(a.i/c),b.push(j.i/c),$f(a),a=j.next,i=j.next;else if((a=j)===i){g?1===g?Jf(a=Mf(a,b,c),b,c,d,e,f,2):2===g&&Nf(a,b,c,d,e,f):Jf(If(a),b,c,d,e,f,1);break}}}function Kf(a){var b=a.prev,c=a,d=a.next;if(Uf(b,c,d)>=0)return!1;for(var e=a.next.next;e!==a.prev;){if(Sf(b.x,b.y,c.x,c.y,d.x,d.y,e.x,e.y)&&Uf(e.prev,e,e.next)>=0)return!1;e=e.next}return!0}function Lf(a,b,c,d){var e=a.prev,f=a,g=a.next;if(Uf(e,f,g)>=0)return!1;for(var h=e.x<f.x?e.x<g.x?e.x:g.x:f.x<g.x?f.x:g.x,k=e.y<f.y?e.y<g.y?e.y:g.y:f.y<g.y?f.y:g.y,i=e.x>f.x?e.x>g.x?e.x:g.x:f.x>g.x?f.x:g.x,j=e.y>f.y?e.y>g.y?e.y:g.y:f.y>g.y?f.y:g.y,h=Qf(h,k,b,c,d),k=Qf(i,j,b,c,d),i=a.prevZ,j=a.nextZ;i&&i.z>=h&&j&&j.z<=k;){if(i!==a.prev&&i!==a.next&&Sf(e.x,e.y,f.x,f.y,g.x,g.y,i.x,i.y)&&Uf(i.prev,i,i.next)>=0)return!1;if(i=i.prevZ,j!==a.prev&&j!==a.next&&Sf(e.x,e.y,f.x,f.y,g.x,g.y,j.x,j.y)&&Uf(j.prev,j,j.next)>=0)return!1;j=j.nextZ}for(;i&&i.z>=h;){if(i!==a.prev&&i!==a.next&&Sf(e.x,e.y,f.x,f.y,g.x,g.y,i.x,i.y)&&Uf(i.prev,i,i.next)>=0)return!1;i=i.prevZ}for(;j&&j.z<=k;){if(j!==a.prev&&j!==a.next&&Sf(e.x,e.y,f.x,f.y,g.x,g.y,j.x,j.y)&&Uf(j.prev,j,j.next)>=0)return!1;j=j.nextZ}return!0}function Mf(a,b,c){var d=a;do{var e=d.prev,f=d.next.next;!Vf(e,f)&&Wf(e,d,d.next,f)&&Xf(e,f)&&Xf(f,e)&&(b.push(e.i/c),b.push(d.i/c),b.push(f.i/c),$f(d),$f(d.next),d=a=f),d=d.next}while(d!==a);return d}function Nf(a,b,c,d,e,f){var g=a;do{for(var h=g.next.next;h!==g.prev;){if(g.i!==h.i&&Tf(g,h)){var i=Yf(g,h);return g=If(g,g.next),i=If(i,i.next),Jf(g,b,c,d,e,f),void Jf(i,b,c,d,e,f)}h=h.next}g=g.next}while(g!==a)}function Of(a,b){return a.x-b.x}function Pf(a,b){if(b=function(a,b){var c,d=b,e=a.x,f=a.y,g=-1/0;do{if(f<=d.y&&f>=d.next.y&&d.next.y!==d.y){var h=d.x+(f-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(h<=e&&h>g){if(g=h,h===e){if(f===d.y)return d;if(f===d.next.y)return d.next}c=d.x<d.next.x?d:d.next}}d=d.next}while(d!==b);if(!c)return null;if(e===g)return c.prev;var k;h=c;b=c.x;var i=c.y,j=1/0;d=c.next;for(;d!==h;)e>=d.x&&d.x>=b&&e!==d.x&&Sf(f<i?e:g,f,b,i,f<i?g:e,f,d.x,d.y)&&((k=Math.abs(f-d.y)/(e-d.x))<j||k===j&&d.x>c.x)&&Xf(d,a)&&(c=d,j=k),d=d.next;return c}(a,b)){b=Yf(b,a);If(b,b.next)}}function Qf(a,b,c,d,e){return 1431655765&((a=858993459&((a=252645135&((a=16711935&((a=32767*(a-c)*e)|a<<8))|a<<4))|a<<2))|a<<1)|(1431655765&((b=858993459&((b=252645135&((b=16711935&((b=32767*(b-d)*e)|b<<8))|b<<4))|b<<2))|b<<1))<<1}function Rf(a){var b=a,c=a;do(b.x<c.x||b.x===c.x&&b.y<c.y)&&(c=b),b=b.next;while(b!==a);return c}function Sf(a,b,c,d,e,f,g,h){return(e-g)*(b-h)-(a-g)*(f-h)>=0&&(a-g)*(d-h)-(c-g)*(b-h)>=0&&(c-g)*(f-h)-(e-g)*(d-h)>=0}function Tf(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!function(a,b){var c=a;do{if(c.i!==a.i&&c.next.i!==a.i&&c.i!==b.i&&c.next.i!==b.i&&Wf(c,c.next,a,b))return!0;c=c.next}while(c!==a);return!1}(a,b)&&Xf(a,b)&&Xf(b,a)&&function(a,b){var c=a,d=!1,e=(a.x+b.x)/2;b=(a.y+b.y)/2;do c.y>b!=c.next.y>b&&c.next.y!==c.y&&e<(c.next.x-c.x)*(b-c.y)/(c.next.y-c.y)+c.x&&(d=!d),c=c.next;while(c!==a);return d}(a,b)}function Uf(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function Vf(a,b){return a.x===b.x&&a.y===b.y}function Wf(a,b,c,d){return!!(Vf(a,b)&&Vf(c,d)||Vf(a,d)&&Vf(c,b))||Uf(a,b,c)>0!=Uf(a,b,d)>0&&Uf(c,d,a)>0!=Uf(c,d,b)>0}function Xf(a,b){return Uf(a.prev,a,a.next)<0?Uf(a,b,a.next)>=0&&Uf(a,a.prev,b)>=0:Uf(a,b,a.prev)<0||Uf(a,a.next,b)<0}function Yf(a,b){var c=new ag(a.i,a.x,a.y),d=new ag(b.i,b.x,b.y),e=a.next,f=b.prev;return a.next=b,b.prev=a,c.next=e,e.prev=c,d.next=c,c.prev=d,f.next=d,d.prev=f,d}function Zf(a,b,c,d){a=new ag(a,b,c);return d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a),a}function $f(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function ag(a,b,c){this.i=a,this.x=b,this.y=c,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function bg(a,b,c,d){for(var e=0,b=b,f=c-d;b<c;b+=d)e+=(a[f]-a[b])*(a[b+1]+a[f+1]),f=b;return e}function cg(a,b,c,d,e){!function a(b,c,d,e,f){for(;e>d;){if(e-d>600){var g=e-d+1,h=c-d+1,k=Math.log(g),i=.5*Math.exp(2*k/3);k=.5*Math.sqrt(k*i*(g-i)/g)*(h-g/2<0?-1:1);var j=Math.max(d,Math.floor(c-h*i/g+k));h=Math.min(e,Math.floor(c+(g-h)*i/g+k));a(b,c,j,h,f)}i=b[c];g=d;k=e;for(dg(b,d,c),f(b[e],i)>0&&dg(b,d,e);g<k;){for(dg(b,g,k),g++,k--;f(b[g],i)<0;)g++;for(;f(b[k],i)>0;)k--}0===f(b[d],i)?dg(b,d,k):dg(b,++k,e),k<=c&&(d=k+1),c<=k&&(e=k-1)}}(a,b,c||0,d||a.length-1,e||eg)}function dg(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function eg(a,b){return a<b?-1:a>b?1:0}function fg(a,b){var c=a.length;if(c<=1)return[a];for(var d,e,f=[],g=0;g<c;g++){var h=x(a[g]);0!==h&&(a[g].area=Math.abs(h),void 0===e&&(e=h<0),e===h<0?(d&&f.push(d),d=[a[g]]):d.push(a[g]))}if(d&&f.push(d),b>1)for(var h=0;h<f.length;h++)f[h].length<=b||(cg(f[h],b,1,f[h].length-1,gg),f[h]=f[h].slice(0,b));return f}function gg(a,b){return b.area-a.area}function hg(a,b,c){for(var c=c.patternDependencies,d=!1,e=0,b=b;e<b.length;e+=1){var f=b[e].paint.get(a+"-pattern");f.isConstant()||(d=!0);f=f.constantOr(null);f&&(d=!0,c[f.to]=!0,c[f.from]=!0)}return d}function ig(a,b,c,d,e){for(var e=e.patternDependencies,f=0,b=b;f<b.length;f+=1){var j=b[f],g=j.paint.get(a+"-pattern").value;if("constant"!==g.kind){var h=g.evaluate({zoom:d-1},c,{}),i=g.evaluate({zoom:d},c,{});g=g.evaluate({zoom:d+1},c,{});e[h]=!0,e[i]=!0,e[g]=!0,c.patterns[j.id]={min:h,mid:i,max:g}}}return c}Gf.deviation=function(a,b,c,d){var e=b&&b.length,f=e?b[0]*c:a.length;f=Math.abs(bg(a,0,f,c));if(e)for(var e=0,i=b.length;e<i;e++){var g=b[e]*c,h=e<i-1?b[e+1]*c:a.length;f-=Math.abs(bg(a,g,h,c))}g=0;for(e=0;e<d.length;e+=3){h=d[e]*c;b=d[e+1]*c;i=d[e+2]*c;g+=Math.abs((a[h]-a[i])*(a[b+1]-a[h+1])-(a[h]-a[b])*(a[i+1]-a[h+1]))}return 0===f&&0===g?0:Math.abs((g-f)/f)},Gf.flatten=function(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0,e=0;e<a.length;e++){for(var f=0;f<a[e].length;f++)for(var g=0;g<b;g++)c.vertices.push(a[e][f][g]);e>0&&(d+=a[e-1].length,c.holes.push(d))}return c},Ff["default"]=qf;var jg=function(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new Zd(),this.indexArray=new ke(),this.indexArray2=new le(),this.programConfigurations=new Re(Ef,a.layers,a.zoom),this.segments=new Ce(),this.segments2=new Ce(),this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};jg.prototype.populate=function(a,b){this.features=[],this.hasPattern=hg("fill",this.layers,b);for(var c=0,a=a;c<a.length;c+=1){var d=a[c],e=d.feature,f=d.index;d=d.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nd(this.zoom),e)){var h=We(e),g={sourceLayerIndex:d,index:f,geometry:h,properties:e.properties,type:e.type,patterns:{}};void 0!==e.id&&(g.id=e.id),this.hasPattern?this.features.push(ig("fill",this.layers,g,this.zoom,b)):this.addFeature(g,h,f,{}),b.featureIndex.insert(e,h,f,d,this.index)}}},jg.prototype.update=function(a,b,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,b,this.stateDependentLayers,c)},jg.prototype.addFeatures=function(a,b){for(var a=0,c=this.features;a<c.length;a+=1){var d=c[a],e=d.geometry;this.addFeature(d,e,d.index,b)}},jg.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},jg.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},jg.prototype.upload=function(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Ef),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.indexBuffer2=a.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(a),this.uploaded=!0},jg.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},jg.prototype.addFeature=function(a,b,c,d){for(var e=0,b=fg(b,500);e<b.length;e+=1){for(var f=b[e],g=0,x=0,h=f;x<h.length;x+=1)g+=h[x].length;for(var h=this.segments.prepareSegment(g,this.layoutVertexArray,this.indexArray),x=h.vertexLength,i=[],j=[],k=0,l=f;k<l.length;k+=1){var t=l[k];if(0!==t.length){t!==f[0]&&j.push(i.length/2);var u=this.segments2.prepareSegment(t.length,this.layoutVertexArray,this.indexArray2),v=u.vertexLength;this.layoutVertexArray.emplaceBack(t[0].x,t[0].y),this.indexArray2.emplaceBack(v+t.length-1,v),i.push(t[0].x),i.push(t[0].y);for(var w=1;w<t.length;w++)this.layoutVertexArray.emplaceBack(t[w].x,t[w].y),this.indexArray2.emplaceBack(v+w-1,v+w),i.push(t[w].x),i.push(t[w].y);u.vertexLength+=t.length,u.primitiveLength+=t.length}}for(var v=Ff(i,j),w=0;w<v.length;w+=3)this.indexArray.emplaceBack(x+v[w],x+v[w+1],x+v[w+2]);h.vertexLength+=g,h.primitiveLength+=v.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,c,d)},Z("FillBucket",jg,{omit:["layers","features"]});var kg={paint:new oc({"fill-antialias":new X(U.paint_fill["fill-antialias"]),"fill-opacity":new Y(U.paint_fill["fill-opacity"]),"fill-color":new Y(U.paint_fill["fill-color"]),"fill-outline-color":new Y(U.paint_fill["fill-outline-color"]),"fill-translate":new X(U.paint_fill["fill-translate"]),"fill-translate-anchor":new X(U.paint_fill["fill-translate-anchor"]),"fill-pattern":new jc(U.paint_fill["fill-pattern"])})};rf=function(a){function b(b){a.call(this,b,kg)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.recalculate=function(b){a.prototype.recalculate.call(this,b);b=this.paint._values["fill-outline-color"];"constant"===b.value.kind&&void 0===b.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},b.prototype.createBucket=function(a){return new jg(a)},b.prototype.queryRadius=function(){return lf(this.paint.get("fill-translate"))},b.prototype.queryIntersectsFeature=function(a,b,c,d,e,f,g){return af(mf(a,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),f.angle,g),d)},b.prototype.isTileClipped=function(){return!0},b}(rc);var lg=Xd([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,mg=ng;function ng(a,b,c,d,e){this.properties={},this.extent=c,this.type=0,this._pbf=a,this._geometry=-1,this._keys=d,this._values=e,a.readFields(og,this,b)}function og(a,b,c){1==a?b.id=c.readVarint():2==a?(function(a,b){var c=a.readVarint()+a.pos;for(;a.pos<c;){var d=b._keys[a.readVarint()],e=b._values[a.readVarint()];b.properties[d]=e}})(c,b):3==a?b.type=c.readVarint():4==a&&(b._geometry=c.pos)}function pg(a){for(var b,c,d=0,e=0,f=a.length,g=f-1;e<f;g=e++)b=a[e],d+=((c=a[g]).x-b.x)*(b.y+c.y);return d}ng.types=["Unknown","Point","LineString","Polygon"],ng.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;for(var b,c=a.readVarint()+a.pos,d=1,f=0,g=0,h=0,j=[];a.pos<c;){if(f<=0){var i=a.readVarint();d=7&i,f=i>>3}if(f--,1===d||2===d)g+=a.readSVarint(),h+=a.readSVarint(),1===d&&(b&&j.push(b),b=[]),b.push(new e(g,h));else{if(7!==d)throw new Error("unknown command "+d);b&&b.push(b[0].clone())}}return b&&j.push(b),j},ng.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;for(var b=a.readVarint()+a.pos,c=1,d=0,e=0,f=0,g=1/0,h=-1/0,k=1/0,i=-1/0;a.pos<b;){if(d<=0){var j=a.readVarint();c=7&j,d=j>>3}if(d--,1===c||2===c)(e+=a.readSVarint())<g&&(g=e),e>h&&(h=e),(f+=a.readSVarint())<k&&(k=f),f>i&&(i=f);else if(7!==c)throw new Error("unknown command "+c)}return[g,k,h,i]},ng.prototype.toGeoJSON=function(a,b,c){var d,e=this.extent*Math.pow(2,c),f=this.extent*a,g=this.extent*b;c=this.loadGeometry();a=ng.types[this.type];function h(a){for(var b=0;b<a.length;b++){var c=a[b],d=180-360*(c.y+g)/e;a[b]=[360*(c.x+f)/e-180,360/Math.PI*Math.atan(Math.exp(d*Math.PI/180))-90]}}switch(this.type){case 1:b=[];for(d=0;d<c.length;d++)b[d]=c[d][0];h(c=b);break;case 2:for(d=0;d<c.length;d++)h(c[d]);break;case 3:for(c=function(a){var b=a.length;if(b<=1)return[a];for(var c,d,e=[],f=0;f<b;f++){var g=pg(a[f]);0!==g&&(void 0===d&&(d=g<0),d===g<0?(c&&e.push(c),c=[a[f]]):c.push(a[f]))}c&&e.push(c);return e}(c),d=0;d<c.length;d++)for(b=0;b<c[d].length;b++)h(c[d][b])}1===c.length?c=c[0]:a="Multi"+a;b={type:"Feature",geometry:{type:a,coordinates:c},properties:this.properties};return"id"in this&&(b.id=this.id),b};var qg=rg;function rg(a,b){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=a,this._keys=[],this._values=[],this._features=[],a.readFields(sg,this,b),this.length=this._features.length}function sg(a,b,c){15===a?b.version=c.readVarint():1===a?b.name=c.readString():5===a?b.extent=c.readVarint():2===a?b._features.push(c.pos):3===a?b._keys.push(c.readString()):4===a&&b._values.push(function(a){var b=null,c=a.readVarint()+a.pos;for(;a.pos<c;){var d=a.readVarint()>>3;b=1===d?a.readString():2===d?a.readFloat():3===d?a.readDouble():4===d?a.readVarint64():5===d?a.readVarint():6===d?a.readSVarint():7===d?a.readBoolean():null}return b}(c))}function tg(a,b,c){if(3===a){a=new qg(c,c.readVarint()+c.pos);a.length&&(b[a.name]=a)}}rg.prototype.feature=function(a){if(a<0||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];a=this._pbf.readVarint()+this._pbf.pos;return new mg(this._pbf,a,this.extent,this._keys,this._values)};var ug={VectorTile:function(a,b){this.layers=a.readFields(tg,{},b)},VectorTileFeature:mg,VectorTileLayer:qg},vg=ug.VectorTileFeature.types,wg=Math.pow(2,13);function xg(a,b,c,d,e,f,g,h){a.emplaceBack(b,c,2*Math.floor(d*wg)+g,e*wg*2,f*wg*2,Math.round(h))}var yg=function(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new ae(),this.indexArray=new ke(),this.programConfigurations=new Re(lg,a.layers,a.zoom),this.segments=new Ce(),this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};function zg(a,b){return a.x===b.x&&(a.x<0||a.x>Ue)||a.y===b.y&&(a.y<0||a.y>Ue)}function Ag(a){return a.every(function(a){return a.x<0})||a.every(function(a){return a.x>Ue})||a.every(function(a){return a.y<0})||a.every(function(a){return a.y>Ue})}yg.prototype.populate=function(a,b){this.features=[],this.hasPattern=hg("fill-extrusion",this.layers,b);for(var c=0,a=a;c<a.length;c+=1){var d=a[c],e=d.feature,f=d.index;d=d.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nd(this.zoom),e)){var h=We(e),g={sourceLayerIndex:d,index:f,geometry:h,properties:e.properties,type:e.type,patterns:{}};void 0!==e.id&&(g.id=e.id),this.hasPattern?this.features.push(ig("fill-extrusion",this.layers,g,this.zoom,b)):this.addFeature(g,h,f,{}),b.featureIndex.insert(e,h,f,d,this.index,!0)}}},yg.prototype.addFeatures=function(a,b){for(var a=0,c=this.features;a<c.length;a+=1){var d=c[a],e=d.geometry;this.addFeature(d,e,d.index,b)}},yg.prototype.update=function(a,b,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,b,this.stateDependentLayers,c)},yg.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},yg.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},yg.prototype.upload=function(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,lg),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0},yg.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},yg.prototype.addFeature=function(a,b,c,d){for(var e=0,b=fg(b,500);e<b.length;e+=1){for(var f=b[e],g=0,x=0,h=f;x<h.length;x+=1)g+=h[x].length;for(var h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),x=0,i=f;x<i.length;x+=1){var j=i[x];if(0!==j.length&&!Ag(j))for(var k=0,l=0;l<j.length;l++){var t=j[l];if(l>=1){var u=j[l-1];if(!zg(t,u)){h.vertexLength+4>Ce.MAX_VERTEX_ARRAY_LENGTH&&(h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var v=t.sub(u)._perp()._unit(),w=u.dist(t);k+w>32768&&(k=0),xg(this.layoutVertexArray,t.x,t.y,v.x,v.y,0,0,k),xg(this.layoutVertexArray,t.x,t.y,v.x,v.y,0,1,k),k+=w,xg(this.layoutVertexArray,u.x,u.y,v.x,v.y,0,0,k),xg(this.layoutVertexArray,u.x,u.y,v.x,v.y,0,1,k);t=h.vertexLength;this.indexArray.emplaceBack(t,t+2,t+1),this.indexArray.emplaceBack(t+1,t+2,t+3),h.vertexLength+=4,h.primitiveLength+=2}}}}if(h.vertexLength+g>Ce.MAX_VERTEX_ARRAY_LENGTH&&(h=this.segments.prepareSegment(g,this.layoutVertexArray,this.indexArray)),"Polygon"===vg[a.type]){for(var w=[],u=[],v=h.vertexLength,t=0,l=f;t<l.length;t+=1){j=l[t];if(0!==j.length){j!==f[0]&&u.push(w.length/2);for(var k=0;k<j.length;k++){x=j[k];xg(this.layoutVertexArray,x.x,x.y,0,0,1,1,0),w.push(x.x),w.push(x.y)}}}for(var i=Ff(w,u),x=0;x<i.length;x+=3)this.indexArray.emplaceBack(v+i[x],v+i[x+2],v+i[x+1]);h.primitiveLength+=i.length/3,h.vertexLength+=g}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,c,d)},Z("FillExtrusionBucket",yg,{omit:["layers","features"]});var Bg={paint:new oc({"fill-extrusion-opacity":new X(U["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Y(U["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new X(U["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new X(U["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new jc(U["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Y(U["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Y(U["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new X(U["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};tf=function(a){function b(b){a.call(this,b,Bg)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.createBucket=function(a){return new yg(a)},b.prototype.queryRadius=function(){return lf(this.paint.get("fill-extrusion-translate"))},b.prototype.is3D=function(){return!0},b.prototype.queryIntersectsFeature=function(a,b,c,d,f,g,h,i){f=mf(a,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),g.angle,h);a=this.paint.get("fill-extrusion-height").evaluate(b,c);g=this.paint.get("fill-extrusion-base").evaluate(b,c);h=function(a,b,c,d){for(var c=[],f=0,a=a;f<a.length;f+=1){var g=a[f];g=[g.x,g.y,d,1];sf(g,g,b),c.push(new e(g[0]/g[3],g[1]/g[3]))}return c}(f,i,0,0);b=function(a,b,c,d){for(var f=[],g=[],h=d[8]*b,N=d[9]*b,i=d[10]*b,b=d[11]*b,j=d[8]*c,k=d[9]*c,l=d[10]*c,c=d[11]*c,n=0,a=a;n<a.length;n+=1){for(var p=a[n],u=[],x=[],B=0,p=p;B<p.length;B+=1){var C=p[B],G=C.x;C=C.y;var H=d[0]*G+d[4]*C+d[12],I=d[1]*G+d[5]*C+d[13],J=d[2]*G+d[6]*C+d[14];G=d[3]*G+d[7]*C+d[15];C=H+h;var K=I+N,L=J+i,M=G+b;H=H+j;I=I+k;J=J+l;G=G+c;C=new e(C/M,K/M);C.z=L/M,u.push(C);K=new e(H/G,I/G);K.z=J/G,x.push(K)}f.push(u),g.push(x)}return[f,g]}(d,g,a,i);return function(a,b,c){var d=1/0;af(c,b)&&(d=Dg(c,b[0]));for(var e=0;e<b.length;e++)for(var f=b[e],g=a[e],h=0;h<f.length-1;h++){var l=f[h],i=f[h+1],j=g[h],k=g[h+1];i=[l,i,k,j,l];Ze(c,i)&&(d=Math.min(d,Dg(c,i)))}return d!==1/0&&d}(b[0],b[1],h)},b}(rc);function Cg(a,b){return a.x*b.x+a.y*b.y}function Dg(a,b){if(1===a.length){var c=b[0],d=b[1],e=b[3];a=a[0];var f=d.sub(c),g=e.sub(c);a=a.sub(c);var h=Cg(f,f),i=Cg(f,g),j=Cg(g,g);f=Cg(a,f);a=Cg(a,g);g=h*j-i*i;j=(j*f-i*a)/g;h=(h*a-i*f)/g;a=1-j-h;return c.z*a+d.z*j+e.z*h}for(var i=1/0,f=0,g=b;f<g.length;f+=1){c=g[f];i=Math.min(i,c.z)}return i}var Eg=Xd([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Fg=ug.VectorTileFeature.types,Gg=63,Hg=Math.cos(Math.PI/180*37.5),Ig=.5,Jg=Math.pow(2,14)/Ig;function Kg(a,b,c,d,e,f,g){a.emplaceBack((b.x<<1)+(d?1:0),(b.y<<1)+(e?1:0),Math.round(Gg*c.x)+128,Math.round(Gg*c.y)+128,1+(0===f?0:f<0?-1:1)|(g*Ig&63)<<2,g*Ig>>6)}var Lg=function(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=a.index,this.features=[],this.hasPattern=!1,this.layoutVertexArray=new be(),this.indexArray=new ke(),this.programConfigurations=new Re(Eg,a.layers,a.zoom),this.segments=new Ce(),this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};function Mg(a,b){return(a/b.tileTotal*(b.end-b.start)+b.start)*(Jg-1)}Lg.prototype.populate=function(a,b){this.features=[],this.hasPattern=hg("line",this.layers,b);for(var c=0,a=a;c<a.length;c+=1){var d=a[c],e=d.feature,f=d.index;d=d.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nd(this.zoom),e)){var h=We(e),g={sourceLayerIndex:d,index:f,geometry:h,properties:e.properties,type:e.type,patterns:{}};void 0!==e.id&&(g.id=e.id),this.hasPattern?this.features.push(ig("line",this.layers,g,this.zoom,b)):this.addFeature(g,h,f,{}),b.featureIndex.insert(e,h,f,d,this.index)}}},Lg.prototype.update=function(a,b,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,b,this.stateDependentLayers,c)},Lg.prototype.addFeatures=function(a,b){for(var a=0,c=this.features;a<c.length;a+=1){var d=c[a],e=d.geometry;this.addFeature(d,e,d.index,b)}},Lg.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Lg.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Lg.prototype.upload=function(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Eg),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0},Lg.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Lg.prototype.addFeature=function(a,b,c,d){for(var e=this.layers[0].layout,f=e.get("line-join").evaluate(a,{}),g=e.get("line-cap"),h=e.get("line-miter-limit"),e=e.get("line-round-limit"),i=0,b=b;i<b.length;i+=1){var j=b[i];this.addLine(j,a,f,g,h,e,c,d)}},Lg.prototype.addLine=function(a,b,c,d,e,f,g,h){var T=null;b.properties&&b.properties.hasOwnProperty("mapbox_clip_start")&&b.properties.hasOwnProperty("mapbox_clip_end")&&(T={start:b.properties.mapbox_clip_start,end:b.properties.mapbox_clip_end,tileTotal:void 0});for(var i="Polygon"===Fg[b.type],j=a.length;j>=2&&a[j-1].equals(a[j-2]);)j--;for(var k=0;k<j-1&&a[k].equals(a[k+1]);)k++;if(!(j<(i?3:2))){T&&(T.tileTotal=function(a,b,c){for(var d,e,f=0,b=b;b<c-1;b++)d=a[b],e=a[b+1],f+=d.dist(e);return f}(a,k,j)),"bevel"===c&&(e=1.05);var l=Ue/(512*this.overscaling)*15,q=a[k],s=this.segments.prepareSegment(10*j,this.layoutVertexArray,this.indexArray);this.distance=0;var y,E,F=d;d=i?"butt":d;var H=!0,J=void 0,K=void 0,L=void 0,M=void 0;this.e1=this.e2=this.e3=-1,i&&(y=a[j-2],M=q.sub(y)._unit()._perp());for(var q=k;q<j;q++)if(!(K=i&&q===j-1?a[k+1]:a[q+1])||!a[q].equals(K)){M&&(L=M),y&&(J=y),y=a[q],M=K?K.sub(y)._unit()._perp():L;var N=(L=L||M).add(M);0===N.x&&0===N.y||N._unit();var O=N.x*M.x+N.y*M.y,P=0!==O?1/O:1/0,aa=O<Hg&&J&&K;if(aa&&q>k){var Q=y.dist(J);if(Q>2*l){Q=y.sub(y.sub(J)._mult(l/Q)._round());this.distance+=Q.dist(J),this.addCurrentVertex(Q,this.distance,L.mult(1),0,0,!1,s,T),J=Q}}Q=J&&K;var R=Q?c:K?F:d;if(Q&&"round"===R&&(P<f?R="miter":P<=2&&(R="fakeround")),"miter"===R&&P>e&&(R="bevel"),"bevel"===R&&(P>2&&(R="flipbevel"),P<e&&(R="miter")),J&&(this.distance+=y.dist(J)),"miter"===R)N._mult(P),this.addCurrentVertex(y,this.distance,N,0,0,!1,s,T);else if("flipbevel"===R){if(P>100)N=M.clone().mult(-1);else{Q=L.x*M.y-L.y*M.x>0?-1:1;var S=P*L.add(M).mag()/L.sub(M).mag();N._perp()._mult(S*Q)}this.addCurrentVertex(y,this.distance,N,0,0,!1,s,T),this.addCurrentVertex(y,this.distance,N.mult(-1),0,0,!1,s,T)}else if("bevel"===R||"fakeround"===R){S=L.x*M.y-L.y*M.x>0;Q=-Math.sqrt(P*P-1);if(S?(P=0,E=Q):(E=0,P=Q),H||this.addCurrentVertex(y,this.distance,L,E,P,!1,s,T),"fakeround"===R){for(var Q=Math.floor(8*(.5-(O-.5))),O=void 0,ba=0;ba<Q;ba++)O=M.mult((ba+1)/(Q+1))._add(L)._unit(),this.addPieSliceVertex(y,this.distance,O,S,s,T);this.addPieSliceVertex(y,this.distance,N,S,s,T);for(var ba=Q-1;ba>=0;ba--)O=L.mult((ba+1)/(Q+1))._add(M)._unit(),this.addPieSliceVertex(y,this.distance,O,S,s,T)}K&&this.addCurrentVertex(y,this.distance,M,-E,-P,!1,s,T)}else"butt"===R?(H||this.addCurrentVertex(y,this.distance,L,0,0,!1,s,T),K&&this.addCurrentVertex(y,this.distance,M,0,0,!1,s,T)):"square"===R?(H||(this.addCurrentVertex(y,this.distance,L,1,1,!1,s,T),this.e1=this.e2=-1),K&&this.addCurrentVertex(y,this.distance,M,-1,-1,!1,s,T)):"round"===R&&(H||(this.addCurrentVertex(y,this.distance,L,0,0,!1,s,T),this.addCurrentVertex(y,this.distance,L,1,1,!0,s,T),this.e1=this.e2=-1),K&&(this.addCurrentVertex(y,this.distance,M,-1,-1,!0,s,T),this.addCurrentVertex(y,this.distance,M,0,0,!1,s,T)));if(aa&&q<j-1){N=y.dist(K);if(N>2*l){O=y.add(K.sub(y)._mult(l/N)._round());this.distance+=O.dist(y),this.addCurrentVertex(O,this.distance,M.mult(1),0,0,!1,s,T),y=O}}H=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,b,g,h)}},Lg.prototype.addCurrentVertex=function(a,b,c,d,e,f,g,h){var k,i=this.layoutVertexArray,j=this.indexArray;h&&(b=Mg(b,h)),k=c.clone(),d&&k._sub(c.perp()._mult(d)),Kg(i,a,k,f,!1,d,b),this.e3=g.vertexLength++,this.e1>=0&&this.e2>=0&&(j.emplaceBack(this.e1,this.e2,this.e3),g.primitiveLength++),this.e1=this.e2,this.e2=this.e3,k=c.mult(-1),e&&k._sub(c.perp()._mult(e)),Kg(i,a,k,f,!0,-e,b),this.e3=g.vertexLength++,this.e1>=0&&this.e2>=0&&(j.emplaceBack(this.e1,this.e2,this.e3),g.primitiveLength++),this.e1=this.e2,this.e2=this.e3,b>Jg/2&&!h&&(this.distance=0,this.addCurrentVertex(a,this.distance,c,d,e,f,g))},Lg.prototype.addPieSliceVertex=function(a,b,c,d,e,f){c=c.mult(d?-1:1);var g=this.layoutVertexArray,h=this.indexArray;f&&(b=Mg(b,f)),Kg(g,a,c,!1,d,0,b),this.e3=e.vertexLength++,this.e1>=0&&this.e2>=0&&(h.emplaceBack(this.e1,this.e2,this.e3),e.primitiveLength++),d?this.e2=this.e3:this.e1=this.e3},Z("LineBucket",Lg,{omit:["layers","features"]});Gf=new oc({"line-cap":new X(U.layout_line["line-cap"]),"line-join":new Y(U.layout_line["line-join"]),"line-miter-limit":new X(U.layout_line["line-miter-limit"]),"line-round-limit":new X(U.layout_line["line-round-limit"])});var Ng={paint:new oc({"line-opacity":new Y(U.paint_line["line-opacity"]),"line-color":new Y(U.paint_line["line-color"]),"line-translate":new X(U.paint_line["line-translate"]),"line-translate-anchor":new X(U.paint_line["line-translate-anchor"]),"line-width":new Y(U.paint_line["line-width"]),"line-gap-width":new Y(U.paint_line["line-gap-width"]),"line-offset":new Y(U.paint_line["line-offset"]),"line-blur":new Y(U.paint_line["line-blur"]),"line-dasharray":new hc(U.paint_line["line-dasharray"]),"line-pattern":new jc(U.paint_line["line-pattern"]),"line-gradient":new kc(U.paint_line["line-gradient"])}),layout:Gf},Og=new(function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.possiblyEvaluate=function(b,c){return c=new Nd(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),a.prototype.possiblyEvaluate.call(this,b,c)},b.prototype.evaluate=function(b,c,d,e){return c=k({},c,{zoom:Math.floor(c.zoom)}),a.prototype.evaluate.call(this,b,c,d,e)},b}(Y))(Ng.paint.properties["line-width"].specification);Og.useIntegerZoom=!0;qf=function(a){function b(b){a.call(this,b,Ng)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype._handleSpecialPaintPropertyUpdate=function(a){"line-gradient"===a&&this._updateGradient()},b.prototype._updateGradient=function(){var a=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Cf(a,"lineProgress"),this.gradientTexture=null},b.prototype.recalculate=function(b){a.prototype.recalculate.call(this,b),this.paint._values["line-floorwidth"]=Og.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,b)},b.prototype.createBucket=function(a){return new Lg(a)},b.prototype.queryRadius=function(a){a=a;var b=Pg(kf("line-width",this,a),kf("line-gap-width",this,a));a=kf("line-offset",this,a);return b/2+Math.abs(a)+lf(this.paint.get("line-translate"))},b.prototype.queryIntersectsFeature=function(a,b,c,d,f,g,h){f=mf(a,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),g.angle,h);a=h/2*Pg(this.paint.get("line-width").evaluate(b,c),this.paint.get("line-gap-width").evaluate(b,c));g=this.paint.get("line-offset").evaluate(b,c);return g&&(d=function(a,b){for(var c=[],d=new e(0,0),f=0;f<a.length;f++){for(var g=a[f],h=[],l=0;l<g.length;l++){var i=g[l-1],j=g[l],k=g[l+1];i=0===l?d:j.sub(i)._unit()._perp();k=l===g.length-1?d:k.sub(j)._unit()._perp();i=i._add(k)._unit();k=i.x*k.x+i.y*k.y;i._mult(1/k),h.push(i._mult(b)._add(j))}c.push(h)}return c}(d,g*h)),function(a,b,c){for(var d=0;d<b.length;d++){var e=b[d];if(a.length>=3)for(var f=0;f<e.length;f++)if(hf(a,e[f]))return!0;if(bf(a,e,c))return!0}return!1}(f,d,a)},b.prototype.isTileClipped=function(){return!0},b}(rc);function Pg(a,b){return b>0?b+2*a:a}var Qg=Xd([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),Rg=Xd([{name:"a_projected_pos",components:3,type:"Float32"}],4),Sg=(Xd([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Xd([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Tg=(Xd([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),Xd([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Ug=Xd([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);Xd([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"}]),Xd([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"radialTextOffset"}]),Xd([{type:"Float32",name:"offsetX"}]),Xd([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function Vg(a,b,c){return a.sections.forEach(function(a){a.text=function(a,b,c){b=b.layout.get("text-transform").evaluate(c,{});return"uppercase"===b?a=a.toLocaleUpperCase():"lowercase"===b&&(a=a.toLocaleLowerCase()),Md.applyArabicShaping&&(a=Md.applyArabicShaping(a)),a}(a.text,b,c)}),a}var Wg={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Xg=function(a){function b(b,c,d,e){a.call(this,b,c),this.angle=d,void 0!==e&&(this.segment=e)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.clone=function(){return new b(this.x,this.y,this.angle,this.segment)},b}(e);Z("Anchor",Xg);var Yg=256;function Zg(a,b){b=b.expression;if("constant"===b.kind)return{kind:"constant",layoutSize:b.evaluate(new Nd(a+1))};if("source"===b.kind)return{kind:"source"};for(var c=b.zoomStops,d=b.interpolationType,e=0;e<c.length&&c[e]<=a;)e++;for(var f=e=Math.max(0,e-1);f<c.length&&c[f]<a+1;)f++;f=Math.min(c.length-1,f);a=c[e];e=c[f];return"composite"===b.kind?{kind:"composite",minZoom:a,maxZoom:e,interpolationType:d}:{kind:"camera",minZoom:a,maxZoom:e,minSize:b.evaluate(new Nd(a)),maxSize:b.evaluate(new Nd(e)),interpolationType:d}}function $g(a,b,c){var d=b.uSize;b=b.uSizeT;var e=c.lowerSize;c=c.upperSize;return"source"===a.kind?e/Yg:"composite"===a.kind?Eb(e/Yg,c/Yg,b):d}function ah(a,b){var c=0,d=0;if("constant"===a.kind)d=a.layoutSize;else if("source"!==a.kind){var e=a.interpolationType,f=a.minZoom,g=a.maxZoom;e=e?i(Zb.interpolationFactor(e,b,f,g),0,1):0;"camera"===a.kind?d=Eb(a.minSize,a.maxSize,e):c=e}return{uSizeT:c,uSize:d}}rg=Object.freeze({getSizeData:Zg,evaluateSizeForFeature:$g,evaluateSizeForZoom:ah,SIZE_PACK_FACTOR:Yg});var bh=ug.VectorTileFeature.types,ch=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function dh(a,b,c,d,e,f,g,h){a.emplaceBack(b,c,Math.round(32*d),Math.round(32*e),f,g,h?h[0]:0,h?h[1]:0)}function eh(a,b,c){a.emplaceBack(b.x,b.y,c),a.emplaceBack(b.x,b.y,c),a.emplaceBack(b.x,b.y,c),a.emplaceBack(b.x,b.y,c)}var fh=function(a){this.layoutVertexArray=new de(),this.indexArray=new ke(),this.programConfigurations=a,this.segments=new Ce(),this.dynamicLayoutVertexArray=new ee(),this.opacityVertexArray=new fe(),this.placedSymbolArray=new se()};fh.prototype.upload=function(a,b,c,d){c&&(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Qg.members),this.indexBuffer=a.createIndexBuffer(this.indexArray,b),this.dynamicLayoutVertexBuffer=a.createVertexBuffer(this.dynamicLayoutVertexArray,Rg.members,!0),this.opacityVertexBuffer=a.createVertexBuffer(this.opacityVertexArray,ch,!0),this.opacityVertexBuffer.itemSize=1),(c||d)&&this.programConfigurations.upload(a)},fh.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Z("SymbolBuffers",fh);var gh=function(a,b,c){this.layoutVertexArray=new a(),this.layoutAttributes=b,this.indexArray=new c(),this.segments=new Ce(),this.collisionVertexArray=new he()};gh.prototype.upload=function(a){this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=a.createVertexBuffer(this.collisionVertexArray,Sg.members,!0)},gh.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Z("CollisionBuffers",gh);var hh=function(a){this.collisionBoxArray=a.collisionBoxArray,this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=a.index,this.pixelRatio=a.pixelRatio,this.sourceLayerIndex=a.sourceLayerIndex,this.hasPattern=!1;var b=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Zg(this.zoom,b["text-size"]),this.iconSizeData=Zg(this.zoom,b["icon-size"]);b=this.layers[0].layout;var c=b.get("symbol-sort-key"),d=b.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==d&&void 0!==c.constantOr(1);c="viewport-y"===d||"auto"===d&&!this.sortFeaturesByKey;this.sortFeaturesByY=c&&(b.get("text-allow-overlap")||b.get("icon-allow-overlap")||b.get("text-ignore-placement")||b.get("icon-ignore-placement")),this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id}),this.sourceID=a.sourceID};hh.prototype.createArrays=function(){this.text=new fh(new Re(Qg.members,this.layers,this.zoom,function(a){return/^text/.test(a)})),this.icon=new fh(new Re(Qg.members,this.layers,this.zoom,function(a){return/^icon/.test(a)})),this.collisionBox=new gh(ge,Tg.members,le),this.collisionCircle=new gh(ge,Ug.members,ke),this.glyphOffsetArray=new we(),this.lineVertexArray=new ye(),this.symbolInstances=new ue()},hh.prototype.calculateGlyphDependencies=function(a,b,c,d){for(var e=0;e<a.length;e++)if(b[a.charCodeAt(e)]=!0,c&&d){var f=Wg[a.charAt(e)];f&&(b[f.charCodeAt(0)]=!0)}},hh.prototype.populate=function(a,b){var c=this.layers[0],d=c.layout,e=d.get("text-font"),f=d.get("text-field"),g=d.get("icon-image");f=("constant"!==f.value.kind||f.value.value.toString().length>0)&&("constant"!==e.value.kind||e.value.value.length>0);g="constant"!==g.value.kind||g.value.value&&g.value.value.length>0;var h=d.get("symbol-sort-key");if(this.features=[],f||g){for(var i=b.iconDependencies,b=b.glyphDependencies,j=new Nd(this.zoom),k=0,a=a;k<a.length;k+=1){var l=a[k],r=l.feature,u=l.index;l=l.sourceLayerIndex;if(c._featureFilter(j,r)){var w=void 0;if(f){var x=c.getValueAndResolveTokens("text-field",r);w=Vg(x instanceof ib?x:ib.fromString(x),c,r)}x=void 0;if(g&&(x=c.getValueAndResolveTokens("icon-image",r)),w||x){var y=this.sortFeaturesByKey?h.evaluate(r,{}):void 0;u={text:w,icon:x,index:u,sourceLayerIndex:l,geometry:We(r),properties:r.properties,type:bh[r.type],sortKey:y};if(void 0!==r.id&&(u.id=r.id),this.features.push(u),x&&(i[x]=!0),w)for(var l=e.evaluate(r,{}).join(","),y="map"===d.get("text-rotation-alignment")&&"point"!==d.get("symbol-placement"),u=0,x=w.sections;u<x.length;u+=1){r=x[u];var z=Bd(w.toString()),A=r.fontStack||l;A=b[A]=b[A]||{};this.calculateGlyphDependencies(r.text,A,y,z)}}}}"line"===d.get("symbol-placement")&&(this.features=function(a){var b={},c={},d=[],e=0;function f(b){d.push(a[b]),e++}function g(a,b,e){var f=c[a];return delete c[a],c[b]=f,d[f].geometry[0].pop(),d[f].geometry[0]=d[f].geometry[0].concat(e[0]),f}function h(a,c,e){var f=b[c];return delete b[c],b[a]=f,d[f].geometry[0].shift(),d[f].geometry[0]=e[0].concat(d[f].geometry[0]),f}function t(a,b,c){c=c?b[0][b[0].length-1]:b[0][0];return a+":"+c.x+":"+c.y}for(var i=0;i<a.length;i++){var j=a[i],k=j.geometry;j=j.text?j.text.toString():null;if(j){var l=t(j,k),q=t(j,k,!0);if(l in c&&q in b&&c[l]!==b[q]){var r=h(l,q,k),s=g(l,q,d[r].geometry);delete b[l],delete c[q],c[t(j,d[s].geometry,!0)]=s,d[r].geometry=null}else l in c?g(l,q,k):q in b?h(l,q,k):(f(i),b[l]=e-1,c[q]=e-1)}else f(i)}return d.filter(function(a){return a.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(a,b){return a.sortKey-b.sortKey})}},hh.prototype.update=function(a,b,c){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(a,b,this.layers,c),this.icon.programConfigurations.updatePaintArrays(a,b,this.layers,c))},hh.prototype.isEmpty=function(){return 0===this.symbolInstances.length},hh.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},hh.prototype.upload=function(a){this.uploaded||(this.collisionBox.upload(a),this.collisionCircle.upload(a)),this.text.upload(a,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(a,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},hh.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},hh.prototype.addToLineVertexArray=function(a,b){var c=this.lineVertexArray.length;if(void 0!==a.segment){for(var d=a.dist(b[a.segment+1]),e=a.dist(b[a.segment]),f={},g=a.segment+1;g<b.length;g++)f[g]={x:b[g].x,y:b[g].y,tileUnitDistanceFromAnchor:d},g<b.length-1&&(d+=b[g+1].dist(b[g]));for(var d=a.segment||0;d>=0;d--)f[d]={x:b[d].x,y:b[d].y,tileUnitDistanceFromAnchor:e},d>0&&(e+=b[d-1].dist(b[d]));for(var g=0;g<b.length;g++){a=f[g];this.lineVertexArray.emplaceBack(a.x,a.y,a.tileUnitDistanceFromAnchor)}}return{lineStartIndex:c,lineLength:this.lineVertexArray.length-c}},hh.prototype.addSymbols=function(a,b,c,d,e,f,g,h,J,i){for(var e=a.indexArray,j=a.layoutVertexArray,k=a.dynamicLayoutVertexArray,l=a.segments.prepareSegment(4*b.length,a.layoutVertexArray,a.indexArray,f.sortKey),q=this.glyphOffsetArray.length,z=l.vertexLength,A=0,b=b;A<b.length;A+=1){var B=b[A],C=B.tl,D=B.tr,E=B.bl,F=B.br,G=B.tex,H=l.vertexLength,I=B.glyphOffset[1];dh(j,h.x,h.y,C.x,I+C.y,G.x,G.y,c),dh(j,h.x,h.y,D.x,I+D.y,G.x+G.w,G.y,c),dh(j,h.x,h.y,E.x,I+E.y,G.x,G.y+G.h,c),dh(j,h.x,h.y,F.x,I+F.y,G.x+G.w,G.y+G.h,c),eh(k,h,0),e.emplaceBack(H,H+1,H+2),e.emplaceBack(H+1,H+2,H+3),l.vertexLength+=4,l.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(B.glyphOffset[0])}a.placedSymbolArray.emplaceBack(h.x,h.y,q,this.glyphOffsetArray.length-q,z,J,i,h.segment,c?c[0]:0,c?c[1]:0,d[0],d[1],g,!1,0),a.programConfigurations.populatePaintArrays(a.layoutVertexArray.length,f,f.index,{})},hh.prototype._addCollisionDebugVertex=function(a,b,c,d,e,f){return b.emplaceBack(0,0),a.emplaceBack(c.x,c.y,d,e,Math.round(f.x),Math.round(f.y))},hh.prototype.addCollisionDebugVertices=function(a,b,c,d,f,g,h,o){var i=f.segments.prepareSegment(4,f.layoutVertexArray,f.indexArray),j=i.vertexLength,k=f.layoutVertexArray,l=f.collisionVertexArray,n=h.anchorX;h=h.anchorY;if(this._addCollisionDebugVertex(k,l,g,n,h,new e(a,b)),this._addCollisionDebugVertex(k,l,g,n,h,new e(c,b)),this._addCollisionDebugVertex(k,l,g,n,h,new e(c,d)),this._addCollisionDebugVertex(k,l,g,n,h,new e(a,d)),i.vertexLength+=4,o){b=f.indexArray;b.emplaceBack(j,j+1,j+2),b.emplaceBack(j,j+2,j+3),i.primitiveLength+=2}else{c=f.indexArray;c.emplaceBack(j,j+1),c.emplaceBack(j+1,j+2),c.emplaceBack(j+2,j+3),c.emplaceBack(j+3,j),i.primitiveLength+=4}},hh.prototype.addDebugCollisionBoxes=function(a,b,c){for(var a=a;a<b;a++){var d=this.collisionBoxArray.get(a),e=d.x1,f=d.y1,g=d.x2,i=d.y2,h=d.radius>0;this.addCollisionDebugVertices(e,f,g,i,h?this.collisionCircle:this.collisionBox,d.anchorPoint,c,h)}},hh.prototype.generateCollisionDebugBuffers=function(){for(var a=0;a<this.symbolInstances.length;a++){var b=this.symbolInstances.get(a);this.addDebugCollisionBoxes(b.textBoxStartIndex,b.textBoxEndIndex,b),this.addDebugCollisionBoxes(b.iconBoxStartIndex,b.iconBoxEndIndex,b)}},hh.prototype._deserializeCollisionBoxesForSymbol=function(a,b,c,d,e){for(var f={},b=b;b<c;b++){var g=a.get(b);if(0===g.radius){f.textBox={x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2,anchorPointX:g.anchorPointX,anchorPointY:g.anchorPointY},f.textFeatureIndex=g.featureIndex;break}f.textCircles||(f.textCircles=[],f.textFeatureIndex=g.featureIndex);f.textCircles.push(g.anchorPointX,g.anchorPointY,g.radius,g.signedDistanceFromAnchor,1)}for(var g=d;g<e;g++){b=a.get(g);if(0===b.radius){f.iconBox={x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2,anchorPointX:b.anchorPointX,anchorPointY:b.anchorPointY},f.iconFeatureIndex=b.featureIndex;break}}return f},hh.prototype.deserializeCollisionBoxes=function(a){this.collisionArrays=[];for(var b=0;b<this.symbolInstances.length;b++){var c=this.symbolInstances.get(b);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(a,c.textBoxStartIndex,c.textBoxEndIndex,c.iconBoxStartIndex,c.iconBoxEndIndex))}},hh.prototype.hasTextData=function(){return this.text.segments.get().length>0},hh.prototype.hasIconData=function(){return this.icon.segments.get().length>0},hh.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},hh.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},hh.prototype.addIndicesForPlacedTextSymbol=function(a){for(var a=this.text.placedSymbolArray.get(a),b=a.vertexStartIndex+4*a.numGlyphs,a=a.vertexStartIndex;a<b;a+=4)this.text.indexArray.emplaceBack(a,a+1,a+2),this.text.indexArray.emplaceBack(a+1,a+2,a+3)},hh.prototype.getSortedSymbolIndexes=function(a){if(this.sortedAngle===a&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var b=Math.sin(a),a=Math.cos(a),c=[],d=[],e=[],f=0;f<this.symbolInstances.length;++f){e.push(f);var g=this.symbolInstances.get(f);c.push(0|Math.round(b*g.anchorX+a*g.anchorY)),d.push(g.featureIndex)}return e.sort(function(a,b){return c[a]-c[b]||d[b]-d[a]}),e},hh.prototype.sortFeatures=function(a){var b=this;if(this.sortFeaturesByY&&this.sortedAngle!==a&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(a),this.sortedAngle=a,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var a=0,c=this.symbolInstanceIndexes;a<c.length;a+=1){var d=c[a],e=this.symbolInstances.get(d);this.featureSortOrder.push(e.featureIndex),[e.rightJustifiedTextSymbolIndex,e.centerJustifiedTextSymbolIndex,e.leftJustifiedTextSymbolIndex].forEach(function(a,c,d){a>=0&&d.indexOf(a)===c&&b.addIndicesForPlacedTextSymbol(a)}),e.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(e.verticalPlacedTextSymbolIndex);e=this.icon.placedSymbolArray.get(d);if(e.numGlyphs){d=e.vertexStartIndex;this.icon.indexArray.emplaceBack(d,d+1,d+2),this.icon.indexArray.emplaceBack(d+1,d+2,d+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Z("SymbolBucket",hh,{omit:["layers","collisionBoxArray","features","compareText"]}),hh.MAX_GLYPHS=65535,hh.addDynamicAttributes=eh;jc=new oc({"symbol-placement":new X(U.layout_symbol["symbol-placement"]),"symbol-spacing":new X(U.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new X(U.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Y(U.layout_symbol["symbol-sort-key"]),"symbol-z-order":new X(U.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new X(U.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new X(U.layout_symbol["icon-ignore-placement"]),"icon-optional":new X(U.layout_symbol["icon-optional"]),"icon-rotation-alignment":new X(U.layout_symbol["icon-rotation-alignment"]),"icon-size":new Y(U.layout_symbol["icon-size"]),"icon-text-fit":new X(U.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new X(U.layout_symbol["icon-text-fit-padding"]),"icon-image":new Y(U.layout_symbol["icon-image"]),"icon-rotate":new Y(U.layout_symbol["icon-rotate"]),"icon-padding":new X(U.layout_symbol["icon-padding"]),"icon-keep-upright":new X(U.layout_symbol["icon-keep-upright"]),"icon-offset":new Y(U.layout_symbol["icon-offset"]),"icon-anchor":new Y(U.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new X(U.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new X(U.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new X(U.layout_symbol["text-rotation-alignment"]),"text-field":new Y(U.layout_symbol["text-field"]),"text-font":new Y(U.layout_symbol["text-font"]),"text-size":new Y(U.layout_symbol["text-size"]),"text-max-width":new Y(U.layout_symbol["text-max-width"]),"text-line-height":new X(U.layout_symbol["text-line-height"]),"text-letter-spacing":new Y(U.layout_symbol["text-letter-spacing"]),"text-justify":new Y(U.layout_symbol["text-justify"]),"text-radial-offset":new Y(U.layout_symbol["text-radial-offset"]),"text-variable-anchor":new X(U.layout_symbol["text-variable-anchor"]),"text-anchor":new Y(U.layout_symbol["text-anchor"]),"text-max-angle":new X(U.layout_symbol["text-max-angle"]),"text-rotate":new Y(U.layout_symbol["text-rotate"]),"text-padding":new X(U.layout_symbol["text-padding"]),"text-keep-upright":new X(U.layout_symbol["text-keep-upright"]),"text-transform":new Y(U.layout_symbol["text-transform"]),"text-offset":new Y(U.layout_symbol["text-offset"]),"text-allow-overlap":new X(U.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new X(U.layout_symbol["text-ignore-placement"]),"text-optional":new X(U.layout_symbol["text-optional"])});var ih={paint:new oc({"icon-opacity":new Y(U.paint_symbol["icon-opacity"]),"icon-color":new Y(U.paint_symbol["icon-color"]),"icon-halo-color":new Y(U.paint_symbol["icon-halo-color"]),"icon-halo-width":new Y(U.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Y(U.paint_symbol["icon-halo-blur"]),"icon-translate":new X(U.paint_symbol["icon-translate"]),"icon-translate-anchor":new X(U.paint_symbol["icon-translate-anchor"]),"text-opacity":new Y(U.paint_symbol["text-opacity"]),"text-color":new Y(U.paint_symbol["text-color"]),"text-halo-color":new Y(U.paint_symbol["text-halo-color"]),"text-halo-width":new Y(U.paint_symbol["text-halo-width"]),"text-halo-blur":new Y(U.paint_symbol["text-halo-blur"]),"text-translate":new X(U.paint_symbol["text-translate"]),"text-translate-anchor":new X(U.paint_symbol["text-translate-anchor"])}),layout:jc};kc=function(a){function b(b){a.call(this,b,ih)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.recalculate=function(b){a.prototype.recalculate.call(this,b),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},b.prototype.getValueAndResolveTokens=function(a,b){var c,d=this.layout.get(a).evaluate(b,{});a=this._unevaluatedLayout._values[a];return a.isDataDriven()||Gc(a.value)?d:(c=b.properties,d.replace(/{([^{}]+)}/g,function(a,b){return b in c?String(c[b]):""}))},b.prototype.createBucket=function(a){return new hh(a)},b.prototype.queryRadius=function(){return 0},b.prototype.queryIntersectsFeature=function(){return!1},b}(rc);var jh={paint:new oc({"background-color":new X(U.paint_background["background-color"]),"background-pattern":new hc(U.paint_background["background-pattern"]),"background-opacity":new X(U.paint_background["background-opacity"])})};Gf=function(a){function b(b){a.call(this,b,jh)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(rc);var kh={paint:new oc({"raster-opacity":new X(U.paint_raster["raster-opacity"]),"raster-hue-rotate":new X(U.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new X(U.paint_raster["raster-brightness-min"]),"raster-brightness-max":new X(U.paint_raster["raster-brightness-max"]),"raster-saturation":new X(U.paint_raster["raster-saturation"]),"raster-contrast":new X(U.paint_raster["raster-contrast"]),"raster-resampling":new X(U.paint_raster["raster-resampling"]),"raster-fade-duration":new X(U.paint_raster["raster-fade-duration"])})};Y=function(a){function b(b){a.call(this,b,kh)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b}(rc);var lh=function(a){function b(b){a.call(this,b,{}),this.implementation=b}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},b.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},b.prototype.recalculate=function(){},b.prototype.updateTransitions=function(){},b.prototype.hasTransition=function(){},b.prototype.serialize=function(){},b.prototype.onAdd=function(a){this.implementation.onAdd&&this.implementation.onAdd(a,a.painter.context.gl)},b.prototype.onRemove=function(a){this.implementation.onRemove&&this.implementation.onRemove(a,a.painter.context.gl)},b}(rc),mh={circle:je,heatmap:gd,hillshade:fd,fill:rf,"fill-extrusion":tf,line:qf,symbol:kc,background:Gf,raster:Y};function nh(a){for(var b=0,c=0,d=0,e=a;d<e.length;d+=1){var f=e[d];b+=f.w*f.h,c=Math.max(c,f.w)}a.sort(function(a,b){return b.h-a.h});for(var f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(b/.95)),c),h:1/0}],e=0,d=0,c=0,a=a;c<a.length;c+=1)for(var g=a[c],h=f.length-1;h>=0;h--){var i=f[h];if(!(g.w>i.w||g.h>i.h)){if(g.x=i.x,g.y=i.y,d=Math.max(d,g.y+g.h),e=Math.max(e,g.x+g.w),g.w===i.w&&g.h===i.h){var j=f.pop();h<f.length&&(f[h]=j)}else g.h===i.h?(i.x+=g.w,i.w-=g.w):g.w===i.w?(i.y+=g.h,i.h-=g.h):(f.push({x:i.x+g.w,y:i.y,w:i.w-g.w,h:g.h}),i.y+=g.h,i.h-=g.h);break}}return{w:e,h:d,fill:b/(e*d)||0}}var oh=function(a,b){var c=b.pixelRatio;b=b.version;this.paddedRect=a,this.pixelRatio=c,this.version=b};jc={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};jc.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},jc.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},jc.tlbr.get=function(){return this.tl.concat(this.br)},jc.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(oh.prototype,jc);hc=function(a,b){var c={},d={};this.haveRenderCallbacks=[];var e=[];this.addImages(a,c,e),this.addImages(b,d,e);e=nh(e);var f=e.w;e=e.h;f=new Af({width:f||1,height:e||1});for(var g in a){e=a[g];var h=c[g].paddedRect;Af.copy(e.data,f,{x:0,y:0},{x:h.x+1,y:h.y+1},e.data)}for(var i in b){h=b[i];e=d[i].paddedRect;a=e.x+1;e=e.y+1;var j=h.data.width,k=h.data.height;Af.copy(h.data,f,{x:0,y:0},{x:a,y:e},h.data),Af.copy(h.data,f,{x:0,y:k-1},{x:a,y:e-1},{width:j,height:1}),Af.copy(h.data,f,{x:0,y:0},{x:a,y:e+k},{width:j,height:1}),Af.copy(h.data,f,{x:j-1,y:0},{x:a-1,y:e},{width:1,height:k}),Af.copy(h.data,f,{x:0,y:0},{x:a+j,y:e},{width:1,height:k})}this.image=f,this.iconPositions=c,this.patternPositions=d};hc.prototype.addImages=function(a,b,c){for(var d in a){var e=a[d],f={x:0,y:0,w:e.data.width+2,h:e.data.height+2};c.push(f),b[d]=new oh(f,e),e.hasRenderCallback&&this.haveRenderCallbacks.push(d)}},hc.prototype.patchUpdatedImages=function(a,b){for(var c in a.dispatchRenderCallbacks(this.haveRenderCallbacks),a.updatedImages)this.patchUpdatedImage(this.iconPositions[c],a.getImage(c),b),this.patchUpdatedImage(this.patternPositions[c],a.getImage(c),b)},hc.prototype.patchUpdatedImage=function(a,b,c){if(a&&b&&a.version!==b.version){a.version=b.version;a=a.tl;var d=a[0];a=a[1];c.update(b.data,void 0,{x:d,y:a})}},Z("ImagePosition",oh),Z("ImageAtlas",hc);var ph=self.HTMLImageElement,qh=self.HTMLCanvasElement,rh=self.HTMLVideoElement,sh=self.ImageData,th=function(a,b,c,d){this.context=a,this.format=c,this.texture=a.gl.createTexture(),this.update(b,d)};th.prototype.update=function(a,b,c){var d=a.width,e=a.height,f=!(this.size&&this.size[0]===d&&this.size[1]===e||c),g=this.context,h=g.gl;if(this.useMipmap=Boolean(b&&b.useMipmap),h.bindTexture(h.TEXTURE_2D,this.texture),g.pixelStoreUnpackFlipY.set(!1),g.pixelStoreUnpack.set(1),g.pixelStoreUnpackPremultiplyAlpha.set(this.format===h.RGBA&&(!b||!1!==b.premultiply)),f)this.size=[d,e],a instanceof ph||a instanceof qh||a instanceof rh||a instanceof sh?h.texImage2D(h.TEXTURE_2D,0,this.format,this.format,h.UNSIGNED_BYTE,a):h.texImage2D(h.TEXTURE_2D,0,this.format,d,e,0,this.format,h.UNSIGNED_BYTE,a.data);else{g=c||{x:0,y:0};b=g.x;f=g.y;a instanceof ph||a instanceof qh||a instanceof rh||a instanceof sh?h.texSubImage2D(h.TEXTURE_2D,0,b,f,h.RGBA,h.UNSIGNED_BYTE,a):h.texSubImage2D(h.TEXTURE_2D,0,b,f,d,e,h.RGBA,h.UNSIGNED_BYTE,a.data)}this.useMipmap&&this.isSizePowerOfTwo()&&h.generateMipmap(h.TEXTURE_2D)},th.prototype.bind=function(a,b,c){var d=this.context.gl;d.bindTexture(d.TEXTURE_2D,this.texture),c!==d.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(c=d.LINEAR),a!==this.filter&&(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,a),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,c||a),this.filter=a),b!==this.wrap&&(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,b),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,b),this.wrap=b)},th.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},th.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var uh=function(a,b,c,d,e){var f,g=8*e-d-1,k=(1<<g)-1,h=k>>1,i=-7;e=c?e-1:0;c=c?-1:1;var j=a[b+e];for(e+=c,f=j&(1<<-i)-1,j>>=-i,i+=g;i>0;f=256*f+a[b+e],e+=c,i-=8);for(g=f&(1<<-i)-1,f>>=-i,i+=d;i>0;g=256*g+a[b+e],e+=c,i-=8);if(0===f)f=1-h;else{if(f===k)return g?NaN:1/0*(j?-1:1);g+=Math.pow(2,d),f-=h}return(j?-1:1)*g*Math.pow(2,f-d)},vh=function(a,b,c,d,e,f){var g,h,n,i=8*f-e-1,j=(1<<i)-1,k=j>>1,l=23===e?Math.pow(2,-24)-Math.pow(2,-77):0;f=d?0:f-1;d=d?1:-1;var m=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=j):(g=Math.floor(Math.log(b)/Math.LN2),b*(n=Math.pow(2,-g))<1&&(g--,n*=2),(b+=g+k>=1?l/n:l*Math.pow(2,1-k))*n>=2&&(g++,n/=2),g+k>=j?(h=0,g=j):g+k>=1?(h=(b*n-1)*Math.pow(2,e),g+=k):(h=b*Math.pow(2,k-1)*Math.pow(2,e),g=0));e>=8;a[c+f]=255&h,f+=d,h/=256,e-=8);for(g=g<<e|h,i+=e;i>0;a[c+f]=255&g,f+=d,g/=256,i-=8);a[c+f-d]|=128*m},wh=xh;function xh(a){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.pos=0,this.type=0,this.length=this.buf.length}xh.Varint=0,xh.Fixed64=1,xh.Bytes=2,xh.Fixed32=5;function yh(a){return a.type===xh.Bytes?a.readVarint()+a.pos:a.pos+1}function zh(a,b,c){return c?4294967296*b+(a>>>0):4294967296*(b>>>0)+(a>>>0)}function Ah(a,b,c){b=b<=16383?1:b<=2097151?2:b<=268435455?3:Math.floor(Math.log(b)/(7*Math.LN2));c.realloc(b);for(var d=c.pos-1;d>=a;d--)c.buf[d+b]=c.buf[d]}function Bh(a,b){for(var c=0;c<a.length;c++)b.writeVarint(a[c])}function Ch(a,b){for(var c=0;c<a.length;c++)b.writeSVarint(a[c])}function Dh(a,b){for(var c=0;c<a.length;c++)b.writeFloat(a[c])}function Eh(a,b){for(var c=0;c<a.length;c++)b.writeDouble(a[c])}function Fh(a,b){for(var c=0;c<a.length;c++)b.writeBoolean(a[c])}function Gh(a,b){for(var c=0;c<a.length;c++)b.writeFixed32(a[c])}function Hh(a,b){for(var c=0;c<a.length;c++)b.writeSFixed32(a[c])}function Ih(a,b){for(var c=0;c<a.length;c++)b.writeFixed64(a[c])}function Jh(a,b){for(var c=0;c<a.length;c++)b.writeSFixed64(a[c])}function Kh(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16)+16777216*a[b+3]}function Lh(a,b,c){a[c]=b,a[c+1]=b>>>8,a[c+2]=b>>>16,a[c+3]=b>>>24}function Mh(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16)+(a[b+3]<<24)}xh.prototype={destroy:function(){this.buf=null},readFields:function(a,b,c){for(c=c||this.length;this.pos<c;){var d=this.readVarint(),e=d>>3,f=this.pos;this.type=7&d,a(e,b,this),this.pos===f&&this.skip(d)}return b},readMessage:function(a,b){return this.readFields(a,b,this.readVarint()+this.pos)},readFixed32:function(){var a=Kh(this.buf,this.pos);return this.pos+=4,a},readSFixed32:function(){var a=Mh(this.buf,this.pos);return this.pos+=4,a},readFixed64:function(){var a=Kh(this.buf,this.pos)+4294967296*Kh(this.buf,this.pos+4);return this.pos+=8,a},readSFixed64:function(){var a=Kh(this.buf,this.pos)+4294967296*Mh(this.buf,this.pos+4);return this.pos+=8,a},readFloat:function(){var a=uh(this.buf,this.pos,!0,23,4);return this.pos+=4,a},readDouble:function(){var a=uh(this.buf,this.pos,!0,52,8);return this.pos+=8,a},readVarint:function(a){var b,c,d=this.buf;return b=127&(c=d[this.pos++]),c<128?b:(b|=(127&(c=d[this.pos++]))<<7,c<128?b:(b|=(127&(c=d[this.pos++]))<<14,c<128?b:(b|=(127&(c=d[this.pos++]))<<21,c<128?b:function(a,b,c){var d,e,f=c.buf;if(e=f[c.pos++],d=(112&e)>>4,e<128)return zh(a,d,b);if(e=f[c.pos++],d|=(127&e)<<3,e<128)return zh(a,d,b);if(e=f[c.pos++],d|=(127&e)<<10,e<128)return zh(a,d,b);if(e=f[c.pos++],d|=(127&e)<<17,e<128)return zh(a,d,b);if(e=f[c.pos++],d|=(127&e)<<24,e<128)return zh(a,d,b);if(e=f[c.pos++],d|=(1&e)<<31,e<128)return zh(a,d,b);throw new Error("Expected varint not more than 10 bytes")}(b|=(15&d[this.pos])<<28,a,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var a=this.readVarint();return a%2==1?(a+1)/-2:a/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var a=this.readVarint()+this.pos,b=function(a,b,c){var d="";b=b;for(;b<c;){var e,f,g,j=a[b],h=null,i=j>239?4:j>223?3:j>191?2:1;if(b+i>c)break;1===i?j<128&&(h=j):2===i?128==(192&(e=a[b+1]))&&(h=(31&j)<<6|63&e)<=127&&(h=null):3===i?(e=a[b+1],f=a[b+2],128==(192&e)&&128==(192&f)&&((h=(15&j)<<12|(63&e)<<6|63&f)<=2047||h>=55296&&h<=57343)&&(h=null)):4===i&&(e=a[b+1],f=a[b+2],g=a[b+3],128==(192&e)&&128==(192&f)&&128==(192&g)&&((h=(15&j)<<18|(63&e)<<12|(63&f)<<6|63&g)<=65535||h>=1114112)&&(h=null)),null===h?(h=65533,i=1):h>65535&&(h-=65536,d+=String.fromCharCode(h>>>10&1023|55296),h=56320|1023&h),d+=String.fromCharCode(h),b+=i}return d}(this.buf,this.pos,a);return this.pos=a,b},readBytes:function(){var a=this.readVarint()+this.pos,b=this.buf.subarray(this.pos,a);return this.pos=a,b},readPackedVarint:function(a,b){if(this.type!==xh.Bytes)return a.push(this.readVarint(b));var c=yh(this);for(a=a||[];this.pos<c;)a.push(this.readVarint(b));return a},readPackedSVarint:function(a){if(this.type!==xh.Bytes)return a.push(this.readSVarint());var b=yh(this);for(a=a||[];this.pos<b;)a.push(this.readSVarint());return a},readPackedBoolean:function(a){if(this.type!==xh.Bytes)return a.push(this.readBoolean());var b=yh(this);for(a=a||[];this.pos<b;)a.push(this.readBoolean());return a},readPackedFloat:function(a){if(this.type!==xh.Bytes)return a.push(this.readFloat());var b=yh(this);for(a=a||[];this.pos<b;)a.push(this.readFloat());return a},readPackedDouble:function(a){if(this.type!==xh.Bytes)return a.push(this.readDouble());var b=yh(this);for(a=a||[];this.pos<b;)a.push(this.readDouble());return a},readPackedFixed32:function(a){if(this.type!==xh.Bytes)return a.push(this.readFixed32());var b=yh(this);for(a=a||[];this.pos<b;)a.push(this.readFixed32());return a},readPackedSFixed32:function(a){if(this.type!==xh.Bytes)return a.push(this.readSFixed32());var b=yh(this);for(a=a||[];this.pos<b;)a.push(this.readSFixed32());return a},readPackedFixed64:function(a){if(this.type!==xh.Bytes)return a.push(this.readFixed64());var b=yh(this);for(a=a||[];this.pos<b;)a.push(this.readFixed64());return a},readPackedSFixed64:function(a){if(this.type!==xh.Bytes)return a.push(this.readSFixed64());var b=yh(this);for(a=a||[];this.pos<b;)a.push(this.readSFixed64());return a},skip:function(a){a=7&a;if(a===xh.Varint)for(;this.buf[this.pos++]>127;);else if(a===xh.Bytes)this.pos=this.readVarint()+this.pos;else if(a===xh.Fixed32)this.pos+=4;else{if(a!==xh.Fixed64)throw new Error("Unimplemented type: "+a);this.pos+=8}},writeTag:function(a,b){this.writeVarint(a<<3|b)},realloc:function(a){for(var b=this.length||16;b<this.pos+a;)b*=2;if(b!==this.length){a=new Uint8Array(b);a.set(this.buf),this.buf=a,this.length=b}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(a){this.realloc(4),Lh(this.buf,a,this.pos),this.pos+=4},writeSFixed32:function(a){this.realloc(4),Lh(this.buf,a,this.pos),this.pos+=4},writeFixed64:function(a){this.realloc(8),Lh(this.buf,-1&a,this.pos),Lh(this.buf,Math.floor(a*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(a){this.realloc(8),Lh(this.buf,-1&a,this.pos),Lh(this.buf,Math.floor(a*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(a){(a=+a||0)>268435455||a<0?(function(a,b){var c,d;a>=0?(c=a%4294967296|0,d=a/4294967296|0):(d=~(-a/4294967296),4294967295^(c=~(-a%4294967296))?c=c+1|0:(c=0,d=d+1|0));if(a>=18446744073709552e3||a<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");b.realloc(10),(function(a,b,c){c.buf[c.pos++]=127&a|128,a>>>=7,c.buf[c.pos++]=127&a|128,a>>>=7,c.buf[c.pos++]=127&a|128,a>>>=7,c.buf[c.pos++]=127&a|128,a>>>=7,c.buf[c.pos]=127&a})(c,0,b),(function(a,b){var c=(7&a)<<4;if(b.buf[b.pos++]|=c|((a>>>=3)?128:0),!a)return;if(b.buf[b.pos++]=127&a|((a>>>=7)?128:0),!a)return;if(b.buf[b.pos++]=127&a|((a>>>=7)?128:0),!a)return;if(b.buf[b.pos++]=127&a|((a>>>=7)?128:0),!a)return;if(b.buf[b.pos++]=127&a|((a>>>=7)?128:0),!a)return;b.buf[b.pos++]=127&a})(d,b)})(a,this):(this.realloc(4),this.buf[this.pos++]=127&a|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=a>>>7&127))))},writeSVarint:function(a){this.writeVarint(a<0?2*-a-1:2*a)},writeBoolean:function(a){this.writeVarint(Boolean(a))},writeString:function(a){a=String(a),this.realloc(4*a.length),this.pos++;var b=this.pos;this.pos=function(a,b,c){for(var d,e,f=0;f<b.length;f++){if((d=b.charCodeAt(f))>55295&&d<57344){if(!e){d>56319||f+1===b.length?(a[c++]=239,a[c++]=191,a[c++]=189):e=d;continue}if(d<56320){a[c++]=239,a[c++]=191,a[c++]=189,e=d;continue}d=e-55296<<10|d-56320|65536,e=null}else e&&(a[c++]=239,a[c++]=191,a[c++]=189,e=null);d<128?a[c++]=d:(d<2048?a[c++]=d>>6|192:(d<65536?a[c++]=d>>12|224:(a[c++]=d>>18|240,a[c++]=d>>12&63|128),a[c++]=d>>6&63|128),a[c++]=63&d|128)}return c}(this.buf,a,this.pos);a=this.pos-b;a>=128&&Ah(b,a,this),this.pos=b-1,this.writeVarint(a),this.pos+=a},writeFloat:function(a){this.realloc(4),vh(this.buf,a,this.pos,!0,23,4),this.pos+=4},writeDouble:function(a){this.realloc(8),vh(this.buf,a,this.pos,!0,52,8),this.pos+=8},writeBytes:function(a){var b=a.length;this.writeVarint(b),this.realloc(b);for(var c=0;c<b;c++)this.buf[this.pos++]=a[c]},writeRawMessage:function(a,b){this.pos++;var c=this.pos;a(b,this);a=this.pos-c;a>=128&&Ah(c,a,this),this.pos=c-1,this.writeVarint(a),this.pos+=a},writeMessage:function(a,b,c){this.writeTag(a,xh.Bytes),this.writeRawMessage(b,c)},writePackedVarint:function(a,b){b.length&&this.writeMessage(a,Bh,b)},writePackedSVarint:function(a,b){b.length&&this.writeMessage(a,Ch,b)},writePackedBoolean:function(a,b){b.length&&this.writeMessage(a,Fh,b)},writePackedFloat:function(a,b){b.length&&this.writeMessage(a,Dh,b)},writePackedDouble:function(a,b){b.length&&this.writeMessage(a,Eh,b)},writePackedFixed32:function(a,b){b.length&&this.writeMessage(a,Gh,b)},writePackedSFixed32:function(a,b){b.length&&this.writeMessage(a,Hh,b)},writePackedFixed64:function(a,b){b.length&&this.writeMessage(a,Ih,b)},writePackedSFixed64:function(a,b){b.length&&this.writeMessage(a,Jh,b)},writeBytesField:function(a,b){this.writeTag(a,xh.Bytes),this.writeBytes(b)},writeFixed32Field:function(a,b){this.writeTag(a,xh.Fixed32),this.writeFixed32(b)},writeSFixed32Field:function(a,b){this.writeTag(a,xh.Fixed32),this.writeSFixed32(b)},writeFixed64Field:function(a,b){this.writeTag(a,xh.Fixed64),this.writeFixed64(b)},writeSFixed64Field:function(a,b){this.writeTag(a,xh.Fixed64),this.writeSFixed64(b)},writeVarintField:function(a,b){this.writeTag(a,xh.Varint),this.writeVarint(b)},writeSVarintField:function(a,b){this.writeTag(a,xh.Varint),this.writeSVarint(b)},writeStringField:function(a,b){this.writeTag(a,xh.Bytes),this.writeString(b)},writeFloatField:function(a,b){this.writeTag(a,xh.Fixed32),this.writeFloat(b)},writeDoubleField:function(a,b){this.writeTag(a,xh.Fixed64),this.writeDouble(b)},writeBooleanField:function(a,b){this.writeVarintField(a,Boolean(b))}};var Nh=3;function Oh(a,b,c){1===a&&c.readMessage(Ph,b)}function Ph(a,b,c){if(3===a){a=c.readMessage(Qh,{});c=a.id;var d=a.bitmap,e=a.width,f=a.height,h=a.left,g=a.top;a=a.advance;b.push({id:c,bitmap:new zf({width:e+2*Nh,height:f+2*Nh},d),metrics:{width:e,height:f,left:h,top:g,advance:a}})}}function Qh(a,b,c){1===a?b.id=c.readVarint():2===a?b.bitmap=c.readBytes():3===a?b.width=c.readVarint():4===a?b.height=c.readVarint():5===a?b.left=c.readSVarint():6===a?b.top=c.readSVarint():7===a&&(b.advance=c.readVarint())}var Rh=Nh;rc=function(a,b,c){this.target=a,this.parent=b,this.mapId=c,this.callbacks={},this.callbackID=0,p(["receive"],this),this.target.addEventListener("message",this.receive,!1)};function Sh(a,b,c){c=2*Math.PI*6378137/256/Math.pow(2,c);return[a*c-2*Math.PI*6378137/2,b*c-2*Math.PI*6378137/2]}rc.prototype.send=function(a,b,c,d){var e=this,f=c?this.mapId+":"+this.callbackID++:null;c&&(this.callbacks[f]=c);var g=[];if(this.target.postMessage({targetMapId:d,sourceMapId:this.mapId,type:a,id:String(f),data:yd(b,g)},g),c)return{cancel:function(){e.callbacks[f]=null,e.target.postMessage({targetMapId:d,sourceMapId:e.mapId,type:"<cancel>",id:String(f)})}}},rc.prototype.receive=function(a){var b,c=this;a=a.data;var d=a.id;if(!a.targetMapId||this.mapId===a.targetMapId){var e=function(a,b){delete c.callbacks[d];var e=[];c.target.postMessage({sourceMapId:c.mapId,type:"<response>",id:String(d),error:a?yd(a):null,data:yd(b,e)},e)};if("<response>"===a.type||"<cancel>"===a.type)b=this.callbacks[a.id],delete this.callbacks[a.id],b&&a.error?b(zd(a.error)):b&&b(null,zd(a.data));else if(void 0!==a.id&&this.parent[a.type]){this.callbacks[a.id]=null;b=this.parent[a.type](a.sourceMapId,zd(a.data),e);b&&null===this.callbacks[a.id]&&(this.callbacks[a.id]=b.cancel)}else if(void 0!==a.id&&this.parent.getWorkerSource){b=a.type.split(".");var f=zd(a.data);this.parent.getWorkerSource(a.sourceMapId,b[0],f.source)[b[1]](f,e)}else this.parent[a.type](zd(a.data))}},rc.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var Th=function(a,b){a&&(b?this.setSouthWest(a).setNorthEast(b):4===a.length?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1]))};Th.prototype.setNorthEast=function(a){return this._ne=a instanceof Uh?new Uh(a.lng,a.lat):Uh.convert(a),this},Th.prototype.setSouthWest=function(a){return this._sw=a instanceof Uh?new Uh(a.lng,a.lat):Uh.convert(a),this},Th.prototype.extend=function(a){var b,c,d=this._sw,e=this._ne;if(a instanceof Uh)b=a,c=a;else{if(!(a instanceof Th))return Array.isArray(a)?a.every(Array.isArray)?this.extend(Th.convert(a)):this.extend(Uh.convert(a)):this;if(b=a._sw,c=a._ne,!b||!c)return this}return d||e?(d.lng=Math.min(b.lng,d.lng),d.lat=Math.min(b.lat,d.lat),e.lng=Math.max(c.lng,e.lng),e.lat=Math.max(c.lat,e.lat)):(this._sw=new Uh(b.lng,b.lat),this._ne=new Uh(c.lng,c.lat)),this},Th.prototype.getCenter=function(){return new Uh((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Th.prototype.getSouthWest=function(){return this._sw},Th.prototype.getNorthEast=function(){return this._ne},Th.prototype.getNorthWest=function(){return new Uh(this.getWest(),this.getNorth())},Th.prototype.getSouthEast=function(){return new Uh(this.getEast(),this.getSouth())},Th.prototype.getWest=function(){return this._sw.lng},Th.prototype.getSouth=function(){return this._sw.lat},Th.prototype.getEast=function(){return this._ne.lng},Th.prototype.getNorth=function(){return this._ne.lat},Th.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Th.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Th.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Th.convert=function(a){return!a||a instanceof Th?a:new Th(a)};var Uh=function(a,b){if(isNaN(a)||isNaN(b))throw new Error("Invalid LngLat object: ("+a+", "+b+")");if(this.lng=+a,this.lat=+b,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};function Vh(a){return 2*Math.PI*6378137*Math.cos(a*Math.PI/180)}function Wh(a){return(180+a)/360}function Xh(a){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a*Math.PI/360)))/360}function Yh(a,b){return a/Vh(b)}function Zh(a){a=180-360*a;return 360/Math.PI*Math.atan(Math.exp(a*Math.PI/180))-90}Uh.prototype.wrap=function(){return new Uh(j(this.lng,-180,180),this.lat)},Uh.prototype.toArray=function(){return[this.lng,this.lat]},Uh.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Uh.prototype.toBounds=function(a){void 0===a&&(a=0);a=360*a/40075017;var b=a/Math.cos(Math.PI/180*this.lat);return new Th(new Uh(this.lng-b,this.lat-a),new Uh(this.lng+b,this.lat+a))},Uh.convert=function(a){if(a instanceof Uh)return a;if(Array.isArray(a)&&(2===a.length||3===a.length))return new Uh(Number(a[0]),Number(a[1]));if(!Array.isArray(a)&&"object"==typeof a&&null!==a)return new Uh(Number("lng"in a?a.lng:a.lon),Number(a.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var $h=function(a,b,c){void 0===c&&(c=0),this.x=+a,this.y=+b,this.z=+c};$h.fromLngLat=function(a,b){void 0===b&&(b=0);a=Uh.convert(a);return new $h(Wh(a.lng),Xh(a.lat),Yh(b,a.lat))},$h.prototype.toLngLat=function(){return new Uh(360*this.x-180,Zh(this.y))},$h.prototype.toAltitude=function(){return a=this.z,b=this.y,a*Vh(Zh(b));var a,b};var ai=function(a,b,c){this.z=a,this.x=b,this.y=c,this.key=di(0,a,b,c)};ai.prototype.equals=function(a){return this.z===a.z&&this.x===a.x&&this.y===a.y},ai.prototype.url=function(a,b){var c,d,e,f;d=(c=this.x,d=this.y,e=this.z,f=Sh(256*c,256*(d=Math.pow(2,e)-d-1),e),c=Sh(256*(c+1),256*(d+1),e),f[0]+","+f[1]+","+c[0]+","+c[1]);e=function(a,b,c){for(var d,e="",a=a;a>0;a--)e+=(b&(d=1<<a-1)?1:0)+(c&d?2:0);return e}(this.z,this.x,this.y);return a[(this.x+this.y)%a.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===b?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",e).replace("{bbox-epsg-3857}",d)},ai.prototype.getTilePoint=function(a){var b=Math.pow(2,this.z);return new e((a.x*b-this.x)*Ue,(a.y*b-this.y)*Ue)};var bi=function(a,b){this.wrap=a,this.canonical=b,this.key=di(a,b.z,b.x,b.y)},ci=function(a,b,c,d,e){this.overscaledZ=a,this.wrap=b,this.canonical=new ai(c,+d,+e),this.key=di(b,a,d,e)};function di(a,b,c,d){(a*=2)<0&&(a=-1*a-1);var e=1<<b;return 32*(e*e*a+e*d+c)+b}ci.prototype.equals=function(a){return this.overscaledZ===a.overscaledZ&&this.wrap===a.wrap&&this.canonical.equals(a.canonical)},ci.prototype.scaledTo=function(a){var b=this.canonical.z-a;return a>this.canonical.z?new ci(a,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ci(a,this.wrap,a,this.canonical.x>>b,this.canonical.y>>b)},ci.prototype.isChildOf=function(a){if(a.wrap!==this.wrap)return!1;var b=this.canonical.z-a.canonical.z;return 0===a.overscaledZ||a.overscaledZ<this.overscaledZ&&a.canonical.x===this.canonical.x>>b&&a.canonical.y===this.canonical.y>>b},ci.prototype.children=function(a){if(this.overscaledZ>=a)return[new ci(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];a=this.canonical.z+1;var b=2*this.canonical.x,c=2*this.canonical.y;return[new ci(a,this.wrap,a,b,c),new ci(a,this.wrap,a,b+1,c),new ci(a,this.wrap,a,b,c+1),new ci(a,this.wrap,a,b+1,c+1)]},ci.prototype.isLessThan=function(a){return this.wrap<a.wrap||!(this.wrap>a.wrap)&&(this.overscaledZ<a.overscaledZ||!(this.overscaledZ>a.overscaledZ)&&(this.canonical.x<a.canonical.x||!(this.canonical.x>a.canonical.x)&&this.canonical.y<a.canonical.y))},ci.prototype.wrapped=function(){return new ci(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ci.prototype.unwrapTo=function(a){return new ci(this.overscaledZ,a,this.canonical.z,this.canonical.x,this.canonical.y)},ci.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ci.prototype.toUnwrapped=function(){return new bi(this.wrap,this.canonical)},ci.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ci.prototype.getTilePoint=function(a){return this.canonical.getTilePoint(new $h(a.x-this.wrap,a.y))},Z("CanonicalTileID",ai),Z("OverscaledTileID",ci,{omit:["posMatrix"]});je=function(a,b,c){if(this.uid=a,b.height!==b.width)throw new RangeError("DEM tiles must be square");if(c&&"mapbox"!==c&&"terrarium"!==c)return v('"'+c+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');a=this.dim=b.height;this.stride=this.dim+2,this.data=new Int32Array(this.stride*this.stride);for(var b=b.data,c="terrarium"===c?this._unpackTerrarium:this._unpackMapbox,d=0;d<a;d++)for(var e=0;e<a;e++){var f=4*(d*a+e);this.set(e,d,c(b[f],b[f+1],b[f+2]))}for(var f=0;f<a;f++)this.set(-1,f,this.get(0,f)),this.set(a,f,this.get(a-1,f)),this.set(f,-1,this.get(f,0)),this.set(f,a,this.get(f,a-1));this.set(-1,-1,this.get(0,0)),this.set(a,-1,this.get(a-1,0)),this.set(-1,a,this.get(0,a-1)),this.set(a,a,this.get(a-1,a-1))};je.prototype.set=function(a,b,c){this.data[this._idx(a,b)]=c+65536},je.prototype.get=function(a,b){return this.data[this._idx(a,b)]-65536},je.prototype._idx=function(a,b){if(a<-1||a>=this.dim+1||b<-1||b>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(b+1)*this.stride+(a+1)},je.prototype._unpackMapbox=function(a,b,c){return(256*a*256+256*b+c)/10-1e4},je.prototype._unpackTerrarium=function(a,b,c){return 256*a+b+c/256-32768},je.prototype.getPixels=function(){return new Af({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},je.prototype.backfillBorder=function(a,b,c){if(this.dim!==a.dim)throw new Error("dem dimension mismatch");var d=b*this.dim,e=b*this.dim+this.dim,f=c*this.dim,g=c*this.dim+this.dim;switch(b){case-1:d=e-1;break;case 1:e=d+1}switch(c){case-1:f=g-1;break;case 1:g=f+1}for(var b=-b*this.dim,c=-c*this.dim,f=f;f<g;f++)for(var h=d;h<e;h++)this.set(h,f,a.get(h+b,f+c))},Z("DEMData",je);var ei=Xd([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),fi=function(a){this._stringToNumber={},this._numberToString=[];for(var b=0;b<a.length;b++){var c=a[b];this._stringToNumber[c]=b,this._numberToString[b]=c}};fi.prototype.encode=function(a){return this._stringToNumber[a]},fi.prototype.decode=function(a){return this._numberToString[a]};var gi=function(a,b,c,d){this.type="Feature",this._vectorTileFeature=a,a._z=b,a._x=c,a._y=d,this.properties=a.properties,null!=a.id&&(this.id=a.id)};gd={geometry:{configurable:!0}};gd.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},gd.geometry.set=function(a){this._geometry=a},gi.prototype.toJSON=function(){var a={geometry:this.geometry};for(var b in this)"_geometry"!==b&&"_vectorTileFeature"!==b&&(a[b]=this[b]);return a},Object.defineProperties(gi.prototype,gd);fd=function(){this.state={},this.stateChanges={},this.deletedStates={}};fd.prototype.updateState=function(a,b,c){b=String(b);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][b]=this.stateChanges[a][b]||{},k(this.stateChanges[a][b],c),null===this.deletedStates[a])for(var d in this.deletedStates[a]={},this.state[a])d!==b&&(this.deletedStates[a][d]=null);else if(this.deletedStates[a]&&null===this.deletedStates[a][b])for(var e in this.deletedStates[a][b]={},this.state[a][b])c[e]||(this.deletedStates[a][b][e]=null);else for(var f in c)this.deletedStates[a]&&this.deletedStates[a][b]&&null===this.deletedStates[a][b][f]&&delete this.deletedStates[a][b][f]},fd.prototype.removeFeatureState=function(a,b,c){if(!(null===this.deletedStates[a])){var d=String(b);if(this.deletedStates[a]=this.deletedStates[a]||{},c&&void 0!==b&&b>=0)null!==this.deletedStates[a][d]&&(this.deletedStates[a][d]=this.deletedStates[a][d]||{},this.deletedStates[a][d][c]=null);else if(void 0!==b&&b>=0)if(this.stateChanges[a]&&this.stateChanges[a][d])for(c in this.deletedStates[a][d]={},this.stateChanges[a][d])this.deletedStates[a][d][c]=null;else this.deletedStates[a][d]=null;else this.deletedStates[a]=null}},fd.prototype.getState=function(a,b){var c=String(b),d=this.state[a]||{},e=this.stateChanges[a]||{};d=k({},d[c],e[c]);if(null===this.deletedStates[a])return{};if(this.deletedStates[a]){e=this.deletedStates[a][b];if(null===e)return{};for(var f in e)delete d[f]}return d},fd.prototype.initializeTileState=function(a,b){a.setFeatureState(this.state,b)},fd.prototype.coalesceChanges=function(a,b){var c={};for(var d in this.stateChanges){this.state[d]=this.state[d]||{};var e={};for(var f in this.stateChanges[d])this.state[d][f]||(this.state[d][f]={}),k(this.state[d][f],this.stateChanges[d][f]),e[f]=this.state[d][f];c[d]=e}for(var g in this.deletedStates){this.state[g]=this.state[g]||{};e={};if(null===this.deletedStates[g])for(var p in this.state[g])e[p]={},this.state[g][p]={};else for(var h in this.deletedStates[g]){if(null===this.deletedStates[g][h])this.state[g][h]={};else for(var i=0,j=Object.keys(this.deletedStates[g][h]);i<j.length;i+=1){var l=j[i];delete this.state[g][h][l]}e[h]=this.state[g][h]}c[g]=c[g]||{},k(c[g],e)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(c).length)for(var o in a)a[o].setFeatureState(c,b)};rf=function(a,b,c){this.tileID=a,this.x=a.canonical.x,this.y=a.canonical.y,this.z=a.canonical.z,this.grid=b||new sd(Ue,16,0),this.grid3D=new sd(Ue,16,0),this.featureIndexArray=c||new Ae()};function hi(a){for(var b=1/0,c=1/0,d=-1/0,e=-1/0,f=0,a=a;f<a.length;f+=1){var g=a[f];b=Math.min(b,g.x),c=Math.min(c,g.y),d=Math.max(d,g.x),e=Math.max(e,g.y)}return{minX:b,minY:c,maxX:d,maxY:e}}function ii(a,b){return b-a}rf.prototype.insert=function(a,b,c,d,e,f){a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(c,d,e);for(var c=f?this.grid3D:this.grid,d=0;d<b.length;d++){for(var e=b[d],f=[1/0,1/0,-1/0,-1/0],g=0;g<e.length;g++){var h=e[g];f[0]=Math.min(f[0],h.x),f[1]=Math.min(f[1],h.y),f[2]=Math.max(f[2],h.x),f[3]=Math.max(f[3],h.y)}f[0]<Ue&&f[1]<Ue&&f[2]>=0&&f[3]>=0&&c.insert(a,f[0],f[1],f[2],f[3])}},rf.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new ug.VectorTile(new wh(this.rawTileData)).layers,this.sourceLayerCoder=new fi(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},rf.prototype.query=function(a,b,c){var d=this;this.loadVTLayers();for(var f=a.params||{},g=Ue/a.tileSize/a.scale,h=Uc(f.filter),t=a.queryGeometry,i=a.queryPadding*g,j=hi(t),k=this.grid.query(j.minX-i,j.minY-i,j.maxX+i,j.maxY+i),j=hi(a.cameraQueryGeometry),j=this.grid3D.query(j.minX-i,j.minY-i,j.maxX+i,j.maxY+i,function(b,c,d,f){return function(a,b,c,d,f){for(var g=0,h=a;g<h.length;g+=1){var i=h[g];if(b<=i.x&&c<=i.y&&d>=i.x&&f>=i.y)return!0}i=[new e(b,c),new e(b,f),new e(d,f),new e(d,c)];if(a.length>2)for(var g=0,h=i;g<h.length;g+=1)if(hf(a,h[g]))return!0;for(var b=0;b<a.length-1;b++)if(jf(a[b],a[b+1],i))return!0;return!1}(a.cameraQueryGeometry,b-i,c-i,d+i,f+i)}),l=0,j=j;l<j.length;l+=1){var m=j[l];k.push(m)}k.sort(ii);for(var o,s={},m=function(e){e=k[e];if(e!==o){o=e;e=d.featureIndexArray.get(e);var i=null;d.loadMatchingFeature(s,e.bucketIndex,e.sourceLayerIndex,e.featureIndex,h,f.layers,b,function(b,e){i||(i=We(b));var f={};return b.id&&(f=c.getState(e.sourceLayer||"_geojsonTileLayer",b.id)),e.queryIntersectsFeature(t,b,f,i,d.z,a.transform,g,a.pixelPosMatrix)})}},j=0;j<k.length;j++)m(j);return s},rf.prototype.loadMatchingFeature=function(a,b,c,d,e,f,g,h){b=this.bucketLayerIDs[b];if(!f||function(a,b){for(var c=0;c<a.length;c++)if(b.indexOf(a[c])>=0)return!0;return!1}(f,b)){c=this.sourceLayerCoder.decode(c);c=this.vtLayers[c].feature(d);if(e(new Nd(this.tileID.overscaledZ),c))for(var e=0;e<b.length;e++){var i=b[e];if(!(f&&f.indexOf(i)<0)){var j=g[i];if(j){var k=!h||h(c,j);if(k){var l=new gi(c,this.z,this.x,this.y);l.layer=j.serialize();j=a[i];void 0===j&&(j=a[i]=[]),j.push({featureIndex:d,feature:l,intersectionZ:k})}}}}}},rf.prototype.lookupSymbolFeatures=function(a,b,c,d,e,f){var g={};this.loadVTLayers();for(var d=Uc(d),i=0,a=a;i<a.length;i+=1){var h=a[i];this.loadMatchingFeature(g,b,c,h,d,e,f)}return g},rf.prototype.hasLayer=function(a){for(var b=0,c=this.bucketLayerIDs;b<c.length;b+=1)for(var d=0,e=c[b];d<e.length;d+=1)if(a===e[d])return!0;return!1},Z("FeatureIndex",rf,{omit:["rawTileData","sourceLayerCoder"]});tf=function(a,b){this.tileID=a,this.uid=m(),this.uses=0,this.tileSize=b,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.expiredRequestCount=0,this.state="loading"};tf.prototype.registerFadeDuration=function(a){a=a+this.timeAdded;a<G.now()||this.fadeEndTime&&a<this.fadeEndTime||(this.fadeEndTime=a)},tf.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},tf.prototype.loadVectorData=function(a,b,c){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){for(var d in a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(a,b){var c={};if(!b)return c;for(var d=function(){var a=f[e],d=a.layerIds.map(function(a){return b.getLayer(a)}).filter(Boolean);if(0!==d.length){a.layers=d,a.stateDependentLayerIds&&(a.stateDependentLayers=a.stateDependentLayerIds.map(function(a){return d.filter(function(b){return b.id===a})[0]}));for(var g=0,h=d;g<h.length;g+=1){var i=h[g];c[i.id]=a}}},e=0,f=a;e<f.length;e+=1)d();return c}(a.buckets,b.style),this.hasSymbolBuckets=!1,this.buckets){var e=this.buckets[d];if(e instanceof hh){if(this.hasSymbolBuckets=!0,!c)break;e.justReloaded=!0}}for(var f in this.queryPadding=0,this.buckets){e=this.buckets[f];this.queryPadding=Math.max(this.queryPadding,b.style.getLayer(f).queryRadius(e))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new qe()},tf.prototype.unloadVectorData=function(){for(var a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},tf.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},tf.prototype.getBucket=function(a){return this.buckets[a.id]},tf.prototype.upload=function(a){for(var b in this.buckets){var c=this.buckets[b];c.uploadPending()&&c.upload(a)}c=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new th(a,this.imageAtlas.image,c.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new th(a,this.glyphAtlasImage,c.ALPHA),this.glyphAtlasImage=null)},tf.prototype.prepare=function(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)},tf.prototype.queryRenderedFeatures=function(a,b,c,d,e,f,g,h,i){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:c,cameraQueryGeometry:d,scale:e,tileSize:this.tileSize,pixelPosMatrix:i,transform:g,params:f,queryPadding:this.queryPadding*h},a,b):{}},tf.prototype.querySourceFeatures=function(a,b){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var c=this.latestFeatureIndex.loadVTLayers(),d=b?b.sourceLayer:"";c=c._geojsonTileLayer||c[d];if(c)for(var d=Uc(b&&b.filter),b=this.tileID.canonical,e=b.z,i=b.x,b=b.y,f={z:e,x:i,y:b},g=0;g<c.length;g++){var h=c.feature(g);if(d(new Nd(this.tileID.overscaledZ),h)){h=new gi(h,e,i,b);h.tile=f,a.push(h)}}}},tf.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},tf.prototype.setMask=function(a,b){if(!g(this.mask,a)&&(this.mask=a,this.clearMask(),!g(a,{0:!0}))){var c=new $d(),d=new ke();this.segments=new Ce(),this.segments.prepareSegment(0,c,d);for(var f=Object.keys(a),h=0;h<f.length;h++){var k=a[+f[h]],i=Ue>>k.z;k=new e(k.x*i,k.y*i);i=new e(k.x+i,k.y+i);var j=this.segments.prepareSegment(4,c,d);c.emplaceBack(k.x,k.y,k.x,k.y),c.emplaceBack(i.x,k.y,i.x,k.y),c.emplaceBack(k.x,i.y,k.x,i.y),c.emplaceBack(i.x,i.y,i.x,i.y);k=j.vertexLength;d.emplaceBack(k,k+1,k+2),d.emplaceBack(k+1,k+2,k+3),j.vertexLength+=4,j.primitiveLength+=2}this.maskedBoundsBuffer=b.createVertexBuffer(c,ei.members),this.maskedIndexBuffer=b.createIndexBuffer(d)}},tf.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},tf.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},tf.prototype.setExpiryData=function(a){var b=this.expirationTime;if(a.cacheControl){var c=y(a.cacheControl);c["max-age"]&&(this.expirationTime=Date.now()+1e3*c["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){c=Date.now();a=!1;if(this.expirationTime>c)a=!1;else if(b)if(this.expirationTime<b)a=!0;else{b=this.expirationTime-b;b?this.expirationTime=c+Math.max(b,3e4):a=!0}else a=!0;a?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},tf.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},tf.prototype.setFeatureState=function(a,b){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(a).length){var c=this.latestFeatureIndex.loadVTLayers();for(var d in this.buckets){var e=this.buckets[d],f=e.layers[0].sourceLayer||"_geojsonTileLayer",g=c[f];f=a[f];g&&f&&0!==Object.keys(f).length&&(e.update(f,g,this.imageAtlas&&this.imageAtlas.patternPositions||{}),b&&b.style&&(this.queryPadding=Math.max(this.queryPadding,b.style.getLayer(d).queryRadius(e))))}}},tf.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},tf.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<G.now()},tf.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},tf.prototype.setHoldDuration=function(a){this.symbolFadeHoldUntil=G.now()+a};var ji=24,ki={horizontal:1,vertical:2,horizontalOnly:3},li=function(){this.text="",this.sectionIndex=[],this.sections=[]};function mi(a,b,c,d,e,f,g,h,z,i){var j;a=li.fromFeature(a,c);i===ki.vertical&&a.verticalizePunctuation();c=Md.processBidirectionalText;var k=Md.processStyledBidirectionalText;if(c&&1===a.sections.length){j=[];for(var l=0,c=c(a.toString(),si(a,h,d,b));l<c.length;l+=1){var w=c[l],x=new li();x.text=w,x.sections=a.sections;for(var y=0;y<w.length;y++)x.sectionIndex.push(0);j.push(x)}}else if(k){j=[];for(var y=0,w=k(a.text,a.sectionIndex,si(a,h,d,b));y<w.length;y+=1){x=w[y];c=new li();c.text=x[0],c.sectionIndex=x[1],c.sections=a.sections,j.push(c)}}else j=function(a,b){for(var c=[],d=a.text,e=0,f=0,b=b;f<b.length;f+=1){var g=b[f];c.push(a.substring(e,g)),e=g}return e<d.length&&c.push(a.substring(e,d.length)),c}(a,si(a,h,d,b));l=[];k={positionedGlyphs:l,text:a.toString(),top:z[1],bottom:z[1],left:z[0],right:z[0],writingMode:i,lineCount:j.length};return function(a,b,c,d,e,f,g,h){for(var F=0,i=-17,j=0,k=a.positionedGlyphs,f="right"===f?1:"left"===f?0:.5,l=0,w=c;l<w.length;l+=1){var x=w[l];x.trim();var y=x.getMaxScale();if(x.length()){for(var z=k.length,A=0;A<x.length();A++){var B=x.getSection(A),C=x.getCharCode(A),D=24*(y-B.scale),E=b[B.fontStack];E=E&&E[C];E&&(Ed(C)&&g!==ki.horizontal?(k.push({glyph:C,x:F,y:D,vertical:!0,scale:B.scale,fontStack:B.fontStack}),F+=ji*B.scale+h):(k.push({glyph:C,x:F,y:i+D,vertical:!1,scale:B.scale,fontStack:B.fontStack}),F+=E.metrics.advance*B.scale+h))}if(k.length!==z){C=F-h;j=Math.max(C,j),ui(k,b,z,k.length-1,f)}F=0,i+=d*y}else i+=d}D=ti(e);E=D.horizontalAlign;B=D.verticalAlign;!function(a,b,c,d,e,f,g){for(var b=(b-c)*e,c=(-d*g+.5)*f,e=0;e<a.length;e++)a[e].x+=b,a[e].y+=c}(k,f,E,B,j,d,c.length);x=i- -17;a.top+=-B*x,a.bottom=a.top+x,a.left+=-E*j,a.right=a.left+j}(k,b,j,e,f,g,i,h),!!l.length&&k}li.fromFeature=function(a,b){for(var c=new li(),d=0;d<a.sections.length;d++){var e=a.sections[d];c.sections.push({scale:e.scale||1,fontStack:e.fontStack||b}),c.text+=e.text;for(var f=0;f<e.text.length;f++)c.sectionIndex.push(d)}return c},li.prototype.length=function(){return this.text.length},li.prototype.getSection=function(a){return this.sections[this.sectionIndex[a]]},li.prototype.getCharCode=function(a){return this.text.charCodeAt(a)},li.prototype.verticalizePunctuation=function(){this.text=function(a){for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c+1)||null,e=a.charCodeAt(c-1)||null;d&&Fd(d)&&!Wg[a[c+1]]||e&&Fd(e)&&!Wg[a[c-1]]||!Wg[a[c]]?b+=a[c]:b+=Wg[a[c]]}return b}(this.text)},li.prototype.trim=function(){for(var a=0,b=0;b<this.text.length&&ni[this.text.charCodeAt(b)];b++)a++;for(var b=this.text.length,c=this.text.length-1;c>=0&&c>=a&&ni[this.text.charCodeAt(c)];c--)b--;this.text=this.text.substring(a,b),this.sectionIndex=this.sectionIndex.slice(a,b)},li.prototype.substring=function(a,b){var c=new li();return c.text=this.text.substring(a,b),c.sectionIndex=this.sectionIndex.slice(a,b),c.sections=this.sections,c},li.prototype.toString=function(){return this.text},li.prototype.getMaxScale=function(){var a=this;return this.sectionIndex.reduce(function(b,c){return Math.max(b,a.sections[c].scale)},0)};var ni={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},oi={};function pi(a,b,c,d){var e=Math.pow(a-b,2);return d?a<b?e/2:2*e:e+Math.abs(c)*c}function qi(a,b,c){var d=0;return 10===a&&(d-=1e4),c&&(d+=150),40!==a&&65288!==a||(d+=50),41!==b&&65289!==b||(d+=50),d}function ri(a,b,c,d,e,f){for(var g=null,h=pi(b,c,e,f),k=0,d=d;k<d.length;k+=1){var i=d[k],j=pi(b-i.x,c,e,f)+i.badness;j<=h&&(g=i,h=j)}return{index:a,x:b,priorBreak:g,badness:h}}function si(a,b,c,d){if(!c)return[];if(!a)return[];for(var j,e=[],c=function(a,b,c,d){for(var e=0,f=0;f<a.length();f++){var g=a.getSection(f),h=d[g.fontStack];h=h&&h[a.getCharCode(f)];h&&(e+=h.metrics.advance*g.scale+b)}return e/Math.max(1,Math.ceil(e/c))}(a,b,c,d),f=a.text.indexOf("\u200b")>=0,k=0,g=0;g<a.length();g++){var h=a.getSection(g),i=a.getCharCode(g),j=d[h.fontStack];j=j&&j[i];if(j&&!ni[i]&&(k+=j.metrics.advance*h.scale+b),g<a.length()-1){h=!!(!((j=i)<11904)&&($["Bopomofo Extended"](j)||$.Bopomofo(j)||$["CJK Compatibility Forms"](j)||$["CJK Compatibility Ideographs"](j)||$["CJK Compatibility"](j)||$["CJK Radicals Supplement"](j)||$["CJK Strokes"](j)||$["CJK Symbols and Punctuation"](j)||$["CJK Unified Ideographs Extension A"](j)||$["CJK Unified Ideographs"](j)||$["Enclosed CJK Letters and Months"](j)||$["Halfwidth and Fullwidth Forms"](j)||$.Hiragana(j)||$["Ideographic Description Characters"](j)||$["Kangxi Radicals"](j)||$["Katakana Phonetic Extensions"](j)||$.Katakana(j)||$["Vertical Forms"](j)||$["Yi Radicals"](j)||$["Yi Syllables"](j)));(oi[i]||h)&&e.push(ri(g+1,k,c,e,qi(i,a.getCharCode(g+1),h&&f),!1))}}return function a(b){return b?a(b.priorBreak).concat(b.index):[]}(ri(a.length(),k,c,e,0,!0))}function ti(a){var b=.5,c=.5;switch(a){case"right":case"top-right":case"bottom-right":b=1;break;case"left":case"top-left":case"bottom-left":b=0}switch(a){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:b,verticalAlign:c}}function ui(a,b,c,d,e){if(e){var f=a[d];b=b[f.fontStack];b=b&&b[f.glyph];if(b)for(var b=b.metrics.advance*f.scale,f=(a[d].x+b)*e,b=c;b<=d;b++)a[b].x-=f}}function vi(a,b,c){c=ti(c);var d=c.horizontalAlign;c=c.verticalAlign;var e=b[0];b=b[1];e=e-a.displaySize[0]*d;d=e+a.displaySize[0];b=b-a.displaySize[1]*c;return{image:a,top:b,bottom:b+a.displaySize[1],left:e,right:d}}function wi(a,b,c,d,e){if(void 0===b.segment)return!0;for(var f=b,b=b.segment+1,g=0;g>-c/2;){if(--b<0)return!1;g-=a[b].dist(f),f=a[b]}g+=a[b].dist(a[b+1]),b++;for(var f=[],h=0;g<c/2;){var i=a[b-1],j=a[b],k=a[b+1];if(!k)return!1;i=i.angleTo(j)-j.angleTo(k);for(i=Math.abs((i+3*Math.PI)%(2*Math.PI)-Math.PI),f.push({distance:g,angleDelta:i}),h+=i;g-f[0].distance>d;)h-=f.shift().angleDelta;if(h>e)return!1;b++,g+=j.dist(k)}return!0}function xi(a){for(var b=0,c=0;c<a.length-1;c++)b+=a[c].dist(a[c+1]);return b}function yi(a,b,c){return a?.6*b*c:0}function zi(a,b){return Math.max(a?a.right-a.left:0,b?b.right-b.left:0)}function Ai(a,b,c,d,e,f){for(var e=yi(c,e,f),c=zi(c,d)*f,d=0,f=xi(a)/2,g=0;g<a.length-1;g++){var h=a[g],i=a[g+1],j=h.dist(i);if(d+j>f){var k=(f-d)/j,l=Eb(h.x,i.x,k);k=Eb(h.y,i.y,k);l=new Xg(l,k,i.angleTo(h),g);return l._round(),!e||wi(a,l,c,e,b)?l:void 0}d+=j}}function Bi(a,b,c,d,e,f,g,h,k){var i=yi(d,f,g);d=zi(d,e);e=d*g;var j=0===a[0].x||a[0].x===k||0===a[0].y||a[0].y===k;return b-e<b/4&&(b=e+b/4),function a(b,c,d,e,f,g,h,C,i){var j=g/2,k=xi(b),l=0;c=c-d;var m=[];for(var v=0;v<b.length-1;v++){for(var w=b[v],x=b[v+1],y=w.dist(x),z=x.angleTo(w);c+d<l+y;){var A=((c+=d)-l)/y,B=Eb(w.x,x.x,A);A=Eb(w.y,x.y,A);if(B>=0&&B<i&&A>=0&&A<i&&c-j>=0&&c+j<=k){B=new Xg(B,A,z,v);B._round(),e&&!wi(b,B,g,e,f)||m.push(B)}}l+=y}C||m.length||h||(m=a(b,l/2,d,e,f,g,h,!0,i));return m}(a,j?b/2*h%b:(d/2+2*f)*g*h%b,b,i,c,e,j,!1,k)}oi[10]=!0,oi[32]=!0,oi[38]=!0,oi[40]=!0,oi[41]=!0,oi[43]=!0,oi[45]=!0,oi[47]=!0,oi[173]=!0,oi[183]=!0,oi[8203]=!0,oi[8208]=!0,oi[8211]=!0,oi[8231]=!0;var Ci=function(a,b,c,d,f,g,h,s,i,j,k,l){var p=h.top*s-i,q=h.bottom*s+i,r=h.left*s-i;h=h.right*s+i;if(this.boxStartIndex=a.length,j){i=q-p;j=h-r;i>0&&(i=Math.max(10*s,i),this._addLineCollisionCircles(a,b,c,c.segment,j,i,d,f,g,k))}else{if(l){s=new e(r,p);b=new e(h,p);j=new e(r,q);i=new e(h,q);k=l*Math.PI/180;s._rotate(k),b._rotate(k),j._rotate(k),i._rotate(k),r=Math.min(s.x,b.x,j.x,i.x),h=Math.max(s.x,b.x,j.x,i.x),p=Math.min(s.y,b.y,j.y,i.y),q=Math.max(s.y,b.y,j.y,i.y)}a.emplaceBack(c.x,c.y,r,p,h,q,d,f,g,0,0)}this.boxEndIndex=a.length};Ci.prototype._addLineCollisionCircles=function(a,b,c,d,e,f,g,h,z,i){var j=f/2,k=Math.floor(e/j)||1;i=1+.4*Math.log(i)/Math.LN2;i=Math.floor(k*i/2);var l=-f/2;c=c;d=d+1;var m=l,o=-e/2,p=o-e/4;do{if(--d<0){if(m>o)return;d=0;break}m-=b[d].dist(c),c=b[d]}while(m>p);for(var c=b[d].dist(b[d+1]),p=-i;p<k+i;p++){var t=p*j,u=o+t;if(t<0&&(u+=t),t>e&&(u+=t-e),!(u<m)){for(;m+c<u;){if(m+=c,++d+1>=b.length)return;c=b[d].dist(b[d+1])}t=u-m;var x=b[d];t=b[d+1].sub(x)._unit()._mult(t)._add(x)._round();x=Math.abs(u-l)<j?0:.8*(u-l);a.emplaceBack(t.x,t.y,-f/2,-f/2,f/2,f/2,g,h,z,f/2,x)}}};var Di=function(a,b){if(void 0===a&&(a=[]),void 0===b&&(b=Ei),this.data=a,this.length=this.data.length,this.compare=b,this.length>0)for(var a=(this.length>>1)-1;a>=0;a--)this._down(a)};function Ei(a,b){return a<b?-1:a>b?1:0}function Fi(a,b,c){void 0===b&&(b=1),void 0===c&&(c=!1);for(var d=1/0,f=1/0,g=-1/0,h=-1/0,l=a[0],i=0;i<l.length;i++){var j=l[i];(!i||j.x<d)&&(d=j.x),(!i||j.y<f)&&(f=j.y),(!i||j.x>g)&&(g=j.x),(!i||j.y>h)&&(h=j.y)}j=g-d;i=h-f;l=Math.min(j,i);j=l/2;i=new Di([],Gi);if(0===l)return new e(d,f);for(var d=d;d<g;d+=l)for(var k=f;k<h;k+=l)i.push(new Hi(d+j,k+j,j,a));for(var k=function(a){for(var b=0,c=0,d=0,e=a[0],f=0,g=e.length,h=g-1;f<g;h=f++){var k=e[f],i=e[h],j=k.x*i.y-i.x*k.y;c+=(k.x+i.x)*j,d+=(k.y+i.y)*j,b+=3*j}return new Hi(c/b,d/b,0,a)}(a),f=i.length;i.length;){l=i.pop();(l.d>k.d||!k.d)&&(k=l,c&&!1),l.max-k.d<=b||(j=l.h/2,i.push(new Hi(l.p.x-j,l.p.y-j,j,a)),i.push(new Hi(l.p.x+j,l.p.y-j,j,a)),i.push(new Hi(l.p.x-j,l.p.y+j,j,a)),i.push(new Hi(l.p.x+j,l.p.y+j,j,a)),f+=4)}return c&&(!1,!1),k.p}function Gi(a,b){return b.max-a.max}function Hi(a,b,c,d){this.p=new e(a,b),this.h=c,this.d=function(a,b){for(var c=!1,d=1/0,e=0;e<b.length;e++)for(var f=b[e],g=0,h=f.length,k=h-1;g<h;k=g++){var i=f[g],j=f[k];i.y>a.y!=j.y>a.y&&a.x<(j.x-i.x)*(a.y-i.y)/(j.y-i.y)+i.x&&(c=!c),d=Math.min(d,ff(a,i,j))}return(c?1:-1)*Math.sqrt(d)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}Di.prototype.push=function(a){this.data.push(a),this.length++,this._up(this.length-1)},Di.prototype.pop=function(){if(0!==this.length){var a=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),a}},Di.prototype.peek=function(){return this.data[0]},Di.prototype._up=function(a){for(var b=this.data,c=this.compare,d=b[a];a>0;){var e=a-1>>1,f=b[e];if(c(d,f)>=0)break;b[a]=f,a=e}b[a]=d},Di.prototype._down=function(a){for(var b=this.data,c=this.compare,d=this.length>>1,e=b[a];a<d;){var f=1+(a<<1),g=b[f],h=f+1;if(h<this.length&&c(b[h],g)<0&&(f=h,g=b[h]),c(g,e)>=0)break;b[a]=g,a=f}b[a]=e};qf=b(function(a){a.exports=function(a,b){var c,d,e,f,g,i,h;for(c=3&a.length,d=a.length-c,b=b,f=3432918353,g=461845907,h=0;h<d;)i=255&a.charCodeAt(h)|(255&a.charCodeAt(++h))<<8|(255&a.charCodeAt(++h))<<16|(255&a.charCodeAt(++h))<<24,++h,b=27492+(65535&(e=5*(65535&(b=(b^=(65535&(i=(i=(65535&i)*f+(((i>>>16)*f&65535)<<16)&4294967295)<<15|i>>>17))*g+(((i>>>16)*g&65535)<<16)&4294967295)<<13|b>>>19))+((5*(b>>>16)&65535)<<16)&4294967295))+((58964+(e>>>16)&65535)<<16);switch(i=0,c){case 3:i^=(255&a.charCodeAt(h+2))<<16;case 2:i^=(255&a.charCodeAt(h+1))<<8;case 1:b^=(65535&(i=(i=(65535&(i^=255&a.charCodeAt(h)))*f+(((i>>>16)*f&65535)<<16)&4294967295)<<15|i>>>17))*g+(((i>>>16)*g&65535)<<16)&4294967295}return b^=a.length,b=2246822507*(65535&(b^=b>>>16))+((2246822507*(b>>>16)&65535)<<16)&4294967295,b=3266489909*(65535&(b^=b>>>13))+((3266489909*(b>>>16)&65535)<<16)&4294967295,(b^=b>>>16)>>>0}});kc=b(function(a){a.exports=function(a,b){for(var c,d=a.length,b=b^d,e=0;d>=4;)c=1540483477*(65535&(c=255&a.charCodeAt(e)|(255&a.charCodeAt(++e))<<8|(255&a.charCodeAt(++e))<<16|(255&a.charCodeAt(++e))<<24))+((1540483477*(c>>>16)&65535)<<16),b=1540483477*(65535&b)+((1540483477*(b>>>16)&65535)<<16)^1540483477*(65535&(c^=c>>>24))+((1540483477*(c>>>16)&65535)<<16),d-=4,++e;switch(d){case 3:b^=(255&a.charCodeAt(e+2))<<16;case 2:b^=(255&a.charCodeAt(e+1))<<8;case 1:b=1540483477*(65535&(b^=255&a.charCodeAt(e)))+((1540483477*(b>>>16)&65535)<<16)}return b=1540483477*(65535&(b^=b>>>13))+((1540483477*(b>>>16)&65535)<<16),(b^=b>>>15)>>>0}});var Ii=qf;Gf=qf;Y=kc;Ii.murmur3=Gf,Ii.murmur2=Y;var Ji=7;function Ki(a,b){var c=0,d=0,e=b/Math.sqrt(2);switch(a){case"top-right":case"top-left":d=e-Ji;break;case"bottom-right":case"bottom-left":d=-e+Ji;break;case"bottom":d=-b+Ji;break;case"top":d=b-Ji}switch(a){case"top-right":case"bottom-right":c=-e;break;case"top-left":case"bottom-left":c=e;break;case"left":c=b;break;case"right":c=-b}return[c,d]}function Li(a){switch(a){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Mi(a,b,c,d,f,g,h){var da=g.layoutTextSize.evaluate(b,{}),i=g.layoutIconSize.evaluate(b,{}),j=g.textMaxSize.evaluate(b,{});void 0===j&&(j=da);var k=a.layers[0].layout,l=k.get("icon-offset").evaluate(b,{}),I=Pi(c.horizontal);da=da/24;var J=a.tilePixelRatio*da;da=a.tilePixelRatio*j/24;var K=a.tilePixelRatio*i;j=a.tilePixelRatio*k.get("symbol-spacing");var L=k.get("text-padding")*a.tilePixelRatio,M=k.get("icon-padding")*a.tilePixelRatio;i=k.get("text-max-angle")/180*Math.PI;var N="map"===k.get("text-rotation-alignment")&&"point"!==k.get("symbol-placement"),O="map"===k.get("icon-rotation-alignment")&&"point"!==k.get("symbol-placement");k=k.get("symbol-placement");var P=j/2,aa=function(j,i){i.x<0||i.x>=Ue||i.y<0||i.y>=Ue||(function(a,b,c,d,f,g,h,ja,i,j,k,l,I,J,K,L,M,N,O,P,aa){var Q,R,S=a.addToLineVertexArray(b,c),T=0,ba=0,ca=0,da={},ea=Ii(""),fa=(g.layout.get("text-radial-offset").evaluate(O,{})||0)*ji;for(var ga in d.horizontal){var ha=d.horizontal[ga];if(!Q){ea=Ii(ha.text);var ia=g.layout.get("text-rotate").evaluate(O,{});Q=new Ci(h,c,b,ja,i,j,ha,k,l,I,a.overscaling,ia)}ia=1===ha.lineCount;if(ba+=Oi(a,b,ha,g,I,O,J,S,d.vertical?ki.horizontal:ki.horizontalOnly,ia?Object.keys(d.horizontal):[ga],da,P,aa),ia)break}d.vertical&&(ca+=Oi(a,b,d.vertical,g,I,O,J,S,ki.vertical,["vertical"],da,P,aa));ha=Q?Q.boxStartIndex:a.collisionBoxArray.length;ia=Q?Q.boxEndIndex:a.collisionBoxArray.length;if(f){l=function(a,b,c,d,f,g){a=b.image;d=c.layout;var h=b.top-1/a.pixelRatio,i=b.left-1/a.pixelRatio,j=b.bottom+1/a.pixelRatio;b=b.right+1/a.pixelRatio;if("none"!==d.get("icon-text-fit")&&f){var k=b-i,l=j-h,p=d.get("text-size").evaluate(g,{})/24,w=f.left*p,x=f.right*p,y=f.top*p;x=x-w;f=f.bottom*p-y;p=d.get("icon-text-fit-padding")[0];var E=d.get("icon-text-fit-padding")[1],F=d.get("icon-text-fit-padding")[2],G=d.get("icon-text-fit-padding")[3],H="width"===d.get("icon-text-fit")?.5*(f-l):0,I="height"===d.get("icon-text-fit")?.5*(x-k):0;x="width"===d.get("icon-text-fit")||"both"===d.get("icon-text-fit")?x:k;k="height"===d.get("icon-text-fit")||"both"===d.get("icon-text-fit")?f:l;d=new e(w+I-G,y+H-p),f=new e(w+I+E+x,y+H-p),l=new e(w+I+E+x,y+H+F+k),p=new e(w+I-G,y+H+F+k)}else d=new e(i,h),f=new e(b,h),l=new e(b,j),p=new e(i,j);E=c.layout.get("icon-rotate").evaluate(g,{})*Math.PI/180;if(E){x=Math.sin(E);w=Math.cos(E);I=[w,-x,x,w];d._matMult(I),f._matMult(I),p._matMult(I),l._matMult(I)}return[{tl:d,tr:f,bl:p,br:l,tex:a.paddedRect,writingMode:void 0,glyphOffset:[0,0]}]}(0,f,g,0,Pi(d.horizontal),O);I=g.layout.get("icon-rotate").evaluate(O,{});R=new Ci(h,c,b,ja,i,j,f,K,L,!1,a.overscaling,I),T=4*l.length;J=a.iconSizeData;P=null;"source"===J.kind?(P=[Yg*g.layout.get("icon-size").evaluate(O,{})])[0]>Ni&&v(a.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'):"composite"===J.kind&&((P=[Yg*aa.compositeIconSizes[0].evaluate(O,{}),Yg*aa.compositeIconSizes[1].evaluate(O,{})])[0]>Ni||P[1]>Ni)&&v(a.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'),a.addSymbols(a.icon,l,P,N,M,O,!1,b,S.lineStartIndex,S.lineLength)}d=R?R.boxStartIndex:a.collisionBoxArray.length;h=R?R.boxEndIndex:a.collisionBoxArray.length;a.glyphOffsetArray.length>=hh.MAX_GLYPHS&&v("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907");a.symbolInstances.emplaceBack(b.x,b.y,da.right>=0?da.right:-1,da.center>=0?da.center:-1,da.left>=0?da.left:-1,da.vertical||-1,ea,ha,ia,d,h,ja,ba,ca,T,0,k,fa)})(a,i,j,c,d,a.layers[0],a.collisionBoxArray,b.index,b.sourceLayerIndex,a.index,J,L,N,h,K,M,O,l,b,f,g)};if("line"===k)for(var Q=0,R=function(a,b,c,d,f){for(var g=[],h=0;h<a.length;h++)for(var m=a[h],i=void 0,j=0;j<m.length-1;j++){var k=m[j],l=m[j+1];k.x<b&&l.x<b||(k.x<b?k=new e(b,k.y+(l.y-k.y)*((b-k.x)/(l.x-k.x)))._round():l.x<b&&(l=new e(b,k.y+(l.y-k.y)*((b-k.x)/(l.x-k.x)))._round()),k.y<c&&l.y<c||(k.y<c?k=new e(k.x+(l.x-k.x)*((c-k.y)/(l.y-k.y)),c)._round():l.y<c&&(l=new e(k.x+(l.x-k.x)*((c-k.y)/(l.y-k.y)),c)._round()),k.x>=d&&l.x>=d||(k.x>=d?k=new e(d,k.y+(l.y-k.y)*((d-k.x)/(l.x-k.x)))._round():l.x>=d&&(l=new e(d,k.y+(l.y-k.y)*((d-k.x)/(l.x-k.x)))._round()),k.y>=f&&l.y>=f||(k.y>=f?k=new e(k.x+(l.x-k.x)*((f-k.y)/(l.y-k.y)),f)._round():l.y>=f&&(l=new e(k.x+(l.x-k.x)*((f-k.y)/(l.y-k.y)),f)._round()),i&&k.equals(i[i.length-1])||(i=[k],g.push(i)),i.push(l)))))}return g}(b.geometry,0,0,Ue,Ue);Q<R.length;Q+=1)for(var S=R[Q],T=0,ba=Bi(S,j,i,c.vertical||I,d,24,da,a.overscaling,Ue);T<ba.length;T+=1){var ca=ba[T];I&&Qi(a,I.text,P,ca)||aa(S,ca)}else if("line-center"===k)for(var ca=0,S=b.geometry;ca<S.length;ca+=1){T=S[ca];if(T.length>1){ba=Ai(T,i,c.vertical||I,d,24,da);ba&&aa(T,ba)}}else if("Polygon"===b.type)for(var Q=0,R=fg(b.geometry,0);Q<R.length;Q+=1){j=R[Q];P=Fi(j,16);aa(j[0],new Xg(P.x,P.y,0))}else if("LineString"===b.type)for(var k=0,T=b.geometry;k<T.length;k+=1){ba=T[k];aa(ba,new Xg(ba[0].x,ba[0].y,0))}else if("Point"===b.type)for(var S=0,ca=b.geometry;S<ca.length;S+=1)for(var i=0,I=ca[S];i<I.length;i+=1){da=I[i];aa([da],new Xg(da.x,da.y,0))}}var Ni=65535;function Oi(a,b,c,d,f,g,h,w,i,j,k,l,n){c=function(a,b,c,d,f,g,h){for(var a=d.layout.get("text-rotate").evaluate(g,{})*Math.PI/180,d=b.positionedGlyphs,g=[],i=0;i<d.length;i++){var j=d[i],k=h[j.fontStack];k=k&&k[j.glyph];if(k){var l=k.rect;if(l){var n=Rh+1,u=k.metrics.advance*j.scale/2,v=f?[j.x+u,j.y]:[0,0],w=f?[0,0]:[j.x+u+c[0],j.y+c[1]],y=(k.metrics.left-n)*j.scale-u+w[0];k=(-k.metrics.top-n)*j.scale+w[1];n=y+l.w*j.scale;w=k+l.h*j.scale;var z=new e(y,k);k=new e(n,k);y=new e(y,w);n=new e(n,w);if(f&&j.vertical){w=new e(-u,u);j=-Math.PI/2;u=new e(5,0);z._rotateAround(j,w)._add(u),k._rotateAround(j,w)._add(u),y._rotateAround(j,w)._add(u),n._rotateAround(j,w)._add(u)}if(a){j=Math.sin(a);w=Math.cos(a);u=[w,-j,j,w];z._matMult(u),k._matMult(u),y._matMult(u),n._matMult(u)}g.push({tl:z,tr:k,bl:y,br:n,tex:l,writingMode:b.writingMode,glyphOffset:v})}}}return g}(0,c,h,d,f,g,l);l=a.textSizeData;var u=null;"source"===l.kind?(u=[Yg*d.layout.get("text-size").evaluate(g,{})])[0]>Ni&&v(a.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'):"composite"===l.kind&&((u=[Yg*n.compositeTextSizes[0].evaluate(g,{}),Yg*n.compositeTextSizes[1].evaluate(g,{})])[0]>Ni||u[1]>Ni)&&v(a.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'),a.addSymbols(a.text,c,u,h,f,g,i,b,w.lineStartIndex,w.lineLength);for(var d=0,l=j;d<l.length;d+=1)k[l[d]]=a.text.placedSymbolArray.length-1;return 4*c.length}function Pi(a){for(var b in a)return a[b];return null}function Qi(a,b,c,d){a=a.compareText;if(b in a){for(var e=a[b],f=e.length-1;f>=0;f--)if(d.dist(e[f])<c)return!0}else a[b]=[];return a[b].push(d),!1}a.Actor=rc,a.AlphaImage=zf,a.CanonicalTileID=ai,a.CollisionBoxArray=qe,a.Color=fb,a.DEMData=je,a.DataConstantProperty=X,a.DictionaryCoder=fi,a.EXTENT=Ue,a.ErrorEvent=Ka,a.EvaluationParameters=Nd,a.Event=Ja,a.Evented=La,a.FeatureIndex=rf,a.FillBucket=jg,a.FillExtrusionBucket=yg,a.ImageAtlas=hc,a.ImagePosition=oh,a.LineBucket=Lg,a.LngLat=Uh,a.LngLatBounds=Th,a.MercatorCoordinate=$h,a.ONE_EM=ji,a.OverscaledTileID=ci,a.Point=e,a.Point$1=e,a.ProgramConfiguration=Qe,a.Properties=oc,a.Protobuf=wh,a.RGBAImage=Af,a.RequestManager=D,a.ResourceType=wa,a.SegmentVector=Ce,a.SourceFeatureState=fd,a.StructArrayLayout1ui2=me,a.StructArrayLayout2i4=Zd,a.StructArrayLayout2ui4=le,a.StructArrayLayout3ui6=ke,a.StructArrayLayout4i8=$d,a.SymbolBucket=hh,a.Texture=th,a.Tile=tf,a.Transitionable=Qd,a.Uniform1f=Ge,a.Uniform1i=ed,a.Uniform2f=nd,a.Uniform3f=ld,a.Uniform4f=He,a.UniformColor=Ie,a.UniformMatrix4f=ud,a.UnwrappedTileID=bi,a.ValidationError=V,a.WritingMode=ki,a.ZoomHistory=Ad,a.addDynamicAttributes=eh,a.asyncAll=function(a,b,c){if(!a.length)return c(null,[]);var d=a.length,e=new Array(a.length),f=null;a.forEach(function(a,g){b(a,function(a,b){a&&(f=a),e[g]=b,0==--d&&c(f,e)})})},a.bezier=h,a.bindAll=p,a.browser=G,a.cacheEntryPossiblyAdded=function(a){++va>qa&&(a.send("enforceCacheSizeLimit",pa),va=0)},a.clamp=i,a.clearTileCache=function(a){var b=self.caches["delete"](oa);a&&b["catch"](a).then(function(){return a()})},a.clone=function(a){var b=new of(16);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15],b},a.clone$1=t,a.config=H,a.create=function(){var a=new of(16);return of!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a},a.create$1=pf,a.create$2=function(){var a=new of(4);return of!=Float32Array&&(a[1]=0,a[2]=0),a[0]=1,a[3]=1,a},a.createCommonjsModule=b,a.createExpression=Hc,a.createLayout=Xd,a.createStyleLayer=function(a){return"custom"===a.type?new lh(a):new mh[a.type](a)},a.deepEqual=g,a.ease=d,a.emitValidationErrors=rd,a.endsWith=q,a.enforceCacheSizeLimit=function(a){self.caches&&self.caches.open(oa).then(function(b){b.keys().then(function(c){for(var d=0;d<c.length-a;d++)b["delete"](c[d])})})},a.evaluateRadialOffset=Ki,a.evaluateSizeForFeature=$g,a.evaluateSizeForZoom=ah,a.evented=Ld,a.extend=k,a.featureFilter=Uc,a.filterObject=s,a.fromRotation=function(a,b){var c=Math.sin(b);b=Math.cos(b);return a[0]=b,a[1]=c,a[2]=0,a[3]=-c,a[4]=b,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},a.getAnchorAlignment=ti,a.getAnchorJustification=Li,a.getArrayBuffer=Ca,a.getImage=Ga,a.getJSON=function(a,b){return Ba(k(a,{type:"json"}),b)},a.getReferrer=za,a.getVideo=function(a,b){var c,d,e=self.document.createElement("video");e.muted=!0,e.onloadstart=function(){b(null,e)};for(var f=0;f<a.length;f++){var g=self.document.createElement("source");c=a[f],void 0,(d=self.document.createElement("a")).href=c,(d.protocol!==self.document.location.protocol||d.host!==self.document.location.host)&&(e.crossOrigin="Anonymous"),g.src=a[f],e.appendChild(g)}return{cancel:function(){}}},a.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},a.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],T=b[6],i=b[7],j=b[8],k=b[9],l=b[10],q=b[11],E=b[12],F=b[13],G=b[14];b=b[15];var H=c*h-d*g,I=c*T-e*g,J=c*i-f*g,K=d*T-e*h,L=d*i-f*h,M=e*i-f*T,N=j*F-k*E,O=j*G-l*E,P=j*b-q*E,aa=k*G-l*F,Q=k*b-q*F,R=l*b-q*G,S=H*R-I*Q+J*aa+K*P-L*O+M*N;return S?(S=1/S,a[0]=(h*R-T*Q+i*aa)*S,a[1]=(e*Q-d*R-f*aa)*S,a[2]=(F*M-G*L+b*K)*S,a[3]=(l*L-k*M-q*K)*S,a[4]=(T*P-g*R-i*O)*S,a[5]=(c*R-e*P+f*O)*S,a[6]=(G*J-E*M-b*I)*S,a[7]=(j*M-l*J+q*I)*S,a[8]=(g*Q-h*P+i*N)*S,a[9]=(d*P-c*Q-f*N)*S,a[10]=(E*L-F*J+b*H)*S,a[11]=(k*J-j*L-q*H)*S,a[12]=(h*O-g*aa-T*N)*S,a[13]=(c*aa-d*O+e*N)*S,a[14]=(F*I-E*K-G*H)*S,a[15]=(j*K-k*I+l*H)*S,a):null},a.isChar=$,a.isMapboxURL=P,a.keysDifference=function(a,b){var c=[];for(var d in a)d in b||c.push(d);return c},a.makeRequest=Ba,a.mapObject=r,a.mercatorXfromLng=Wh,a.mercatorYfromLat=Xh,a.mercatorZfromAltitude=Yh,a.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],E=b[5],i=b[6],j=b[7],k=b[8],l=b[9],r=b[10],w=b[11],x=b[12],y=b[13],z=b[14];b=b[15];var A=c[0],B=c[1],C=c[2],D=c[3];return a[0]=A*d+B*h+C*k+D*x,a[1]=A*e+B*E+C*l+D*y,a[2]=A*f+B*i+C*r+D*z,a[3]=A*g+B*j+C*w+D*b,A=c[4],B=c[5],C=c[6],D=c[7],a[4]=A*d+B*h+C*k+D*x,a[5]=A*e+B*E+C*l+D*y,a[6]=A*f+B*i+C*r+D*z,a[7]=A*g+B*j+C*w+D*b,A=c[8],B=c[9],C=c[10],D=c[11],a[8]=A*d+B*h+C*k+D*x,a[9]=A*e+B*E+C*l+D*y,a[10]=A*f+B*i+C*r+D*z,a[11]=A*g+B*j+C*w+D*b,A=c[12],B=c[13],C=c[14],D=c[15],a[12]=A*d+B*h+C*k+D*x,a[13]=A*e+B*E+C*l+D*y,a[14]=A*f+B*i+C*r+D*z,a[15]=A*g+B*j+C*w+D*b,a},a.mvt=ug,a.number=Eb,a.ortho=function(a,b,c,d,e,f,g){var h=1/(b-c),j=1/(d-e),i=1/(f-g);return a[0]=-2*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*j,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*i,a[11]=0,a[12]=(b+c)*h,a[13]=(e+d)*j,a[14]=(g+f)*i,a[15]=1,a},a.parseGlyphPBF=function(a){return new wh(a).readFields(Oh,[])},a.pbf=wh,a.performSymbolLayout=function(a,b,c,d,e,f){a.createArrays();var g=512*a.overscaling;a.tilePixelRatio=Ue/g,a.compareText={},a.iconsNeedLinear=!1;g=a.layers[0].layout;var S=a.layers[0]._unevaluatedLayout._values,h={};if("composite"===a.textSizeData.kind){var i=a.textSizeData,j=i.minZoom;i=i.maxZoom;h.compositeTextSizes=[S["text-size"].possiblyEvaluate(new Nd(j)),S["text-size"].possiblyEvaluate(new Nd(i))]}if("composite"===a.iconSizeData.kind){j=a.iconSizeData;i=j.minZoom;j=j.maxZoom;h.compositeIconSizes=[S["icon-size"].possiblyEvaluate(new Nd(i)),S["icon-size"].possiblyEvaluate(new Nd(j))]}h.layoutTextSize=S["text-size"].possiblyEvaluate(new Nd(a.zoom+1)),h.layoutIconSize=S["icon-size"].possiblyEvaluate(new Nd(a.zoom+1)),h.textMaxSize=S["text-size"].possiblyEvaluate(new Nd(18));for(var i=g.get("text-line-height")*ji,j="map"===g.get("text-rotation-alignment")&&"point"!==g.get("symbol-placement"),S=g.get("text-keep-upright"),k=0,l=a.features;k<l.length;k+=1){var m=l[k],n=g.get("text-font").evaluate(m,{}).join(","),o=c,p={horizontal:{},vertical:void 0},q=m.text,r=[0,0];if(q){var D=q.toString(),H=g.get("text-letter-spacing").evaluate(m,{})*ji;H=Cd(D)?H:0;var J=g.get("text-anchor").evaluate(m,{}),N=g.get("text-variable-anchor"),O=g.get("text-radial-offset").evaluate(m,{});N||(r=O?Ki(J,O*ji):g.get("text-offset").evaluate(m,{}).map(function(a){return a*ji}));O=j?"center":g.get("text-justify").evaluate(m,{});var P="point"===g.get("symbol-placement")?g.get("text-max-width").evaluate(m,{})*ji:0;if(!j&&N)for(var N="auto"===O?N.map(function(a){return Li(a)}):[O],aa=!1,Q=0;Q<N.length;Q++){var R=N[Q];if(!p.horizontal[R])if(aa)p.horizontal[R]=p.horizontal[0];else{var T=mi(q,b,n,P,i,"center",R,H,r,ki.horizontal);T&&(p.horizontal[R]=T,aa=1===T.lineCount)}}else{"auto"===O&&(O=Li(J));R=mi(q,b,n,P,i,J,O,H,r,ki.horizontal);R&&(p.horizontal[O]=R),Bd(D)&&j&&S&&(p.vertical=mi(q,b,n,P,i,J,O,H,r,ki.vertical))}}T=void 0;if(m.icon){aa=d[m.icon];aa&&(T=vi(e[m.icon],g.get("icon-offset").evaluate(m,{}),g.get("icon-anchor").evaluate(m,{})),void 0===a.sdfIcons?a.sdfIcons=aa.sdf:a.sdfIcons!==aa.sdf&&v("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),aa.pixelRatio!==a.pixelRatio?a.iconsNeedLinear=!0:0!==g.get("icon-rotate").constantOr(1)&&(a.iconsNeedLinear=!0))}(Object.keys(p.horizontal).length||T)&&Mi(a,m,p,T,o,h,r)}f&&a.generateCollisionDebugBuffers()},a.perspective=function(a,b,c,d,e){b=1/Math.tan(b/2);return a[0]=b/c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=b,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,null!=e&&e!==1/0?(c=1/(d-e),a[10]=(e+d)*c,a[14]=2*e*d*c):(a[10]=-1,a[14]=-2*d),a},a.pick=function(a,b){for(var c={},d=0;d<b.length;d++){var e=b[d];e in a&&(c[e]=a[e])}return c},a.plugin=Md,a.polygonIntersectsPolygon=Ze,a.postMapLoadEvent=na,a.postTurnstileEvent=la,a.potpack=nh,a.rasterBoundsAttributes=ei,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=Z,a.registerForPluginAvailability=function(a){return Jd?a({pluginURL:Jd,completionCallback:Hd}):Ld.once("pluginAvailable",a),a},a.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);return a[0]=d*c+f*g,a[1]=e*c+b*g,a[2]=d*-g+f*c,a[3]=e*-g+b*c,a},a.rotateX=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[4],f=b[5],g=b[6],l=b[7],h=b[8],i=b[9],j=b[10],k=b[11];return b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[4]=e*c+h*d,a[5]=f*c+i*d,a[6]=g*c+j*d,a[7]=l*c+k*d,a[8]=h*c-e*d,a[9]=i*c-f*d,a[10]=j*c-g*d,a[11]=k*c-l*d,a},a.rotateZ=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[0],f=b[1],g=b[2],l=b[3],h=b[4],i=b[5],j=b[6],k=b[7];return b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=e*c+h*d,a[1]=f*c+i*d,a[2]=g*c+j*d,a[3]=l*c+k*d,a[4]=h*c-e*d,a[5]=i*c-f*d,a[6]=j*c-g*d,a[7]=k*c-l*d,a},a.scale=function(a,b,c){var d=c[0],e=c[1];c=c[2];return a[0]=b[0]*d,a[1]=b[1]*d,a[2]=b[2]*d,a[3]=b[3]*d,a[4]=b[4]*e,a[5]=b[5]*e,a[6]=b[6]*e,a[7]=b[7]*e,a[8]=b[8]*c,a[9]=b[9]*c,a[10]=b[10]*c,a[11]=b[11]*c,a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a},a.setCacheLimits=function(a,b){pa=a,qa=b},a.setRTLTextPlugin=function(a,b){if(Id)throw new Error("setRTLTextPlugin cannot be called multiple times.");Id=!0,Jd=G.resolveURL(a),Hd=function(a){a?(Id=!1,Jd=null,b&&b(a)):Kd=!0},Ld.fire(new Ja("pluginAvailable",{pluginURL:Jd,completionCallback:Hd}))},a.sphericalToCartesian=function(a){var b=a[0],c=a[1];a=a[2];return c+=90,c*=Math.PI/180,a*=Math.PI/180,{x:b*Math.cos(c)*Math.sin(a),y:b*Math.sin(c)*Math.sin(a),z:b*Math.cos(a)}},a.styleSpec=U,a.symbolSize=rg,a.transformMat3=function(a,b,c){var d=b[0],e=b[1];b=b[2];return a[0]=d*c[0]+e*c[3]+b*c[6],a[1]=d*c[1]+e*c[4]+b*c[7],a[2]=d*c[2]+e*c[5]+b*c[8],a},a.transformMat4=sf,a.translate=function(a,b,c){var d,e,f,g,h,u,i,j,k,l,q,r,s=c[0],t=c[1];c=c[2];return b===a?(a[12]=b[0]*s+b[4]*t+b[8]*c+b[12],a[13]=b[1]*s+b[5]*t+b[9]*c+b[13],a[14]=b[2]*s+b[6]*t+b[10]*c+b[14],a[15]=b[3]*s+b[7]*t+b[11]*c+b[15]):(d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],u=b[5],i=b[6],j=b[7],k=b[8],l=b[9],q=b[10],r=b[11],a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=u,a[6]=i,a[7]=j,a[8]=k,a[9]=l,a[10]=q,a[11]=r,a[12]=d*s+h*t+k*c+b[12],a[13]=e*s+u*t+l*c+b[13],a[14]=f*s+i*t+q*c+b[14],a[15]=g*s+j*t+r*c+b[15]),a},a.uniqueId=m,a.validateCustomStyleLayer=function(a){var b=[],c=a.id;return void 0===c&&b.push({message:"layers."+c+': missing required property "id"'}),void 0===a.render&&b.push({message:"layers."+c+': missing required method "render"'}),a.renderingMode&&"2d"!==a.renderingMode&&"3d"!==a.renderingMode&&b.push({message:"layers."+c+': property "renderingMode" must be either "2d" or "3d"'}),b},a.validateLight=ic,a.validateStyle=od,a.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},a.vectorTile=ug,a.version="1.1.1",a.warnOnce=v,a.webpSupported=I,a.window=self,a.wrap=j});a(["./shared.js"],function(a){function b(a){var c=typeof a;if("number"===c||"boolean"===c||"string"===c||null==a)return JSON.stringify(a);if(Array.isArray(a)){for(var c="[",d=0,e=a;d<e.length;d+=1)c+=b(e[d])+",";return c+"]"}for(var d=Object.keys(a).sort(),e="{",c=0;c<d.length;c++)e+=JSON.stringify(d[c])+":"+b(a[d[c]])+",";return e+"}"}function c(c){for(var d="",e=0,f=a.refProperties;e<f.length;e+=1)d+="/"+b(c[f[e]]);return d}var d=function(a){this.keyCache={},a&&this.replace(a)};d.prototype.replace=function(a){this._layerConfigs={},this._layers={},this.update(a,[])},d.prototype.update=function(b,d){for(var e=this,f=0,b=b;f<b.length;f+=1){var g=b[f];this._layerConfigs[g.id]=g;var h=this._layers[g.id]=a.createStyleLayer(g);h._featureFilter=a.featureFilter(h.filter),this.keyCache[g.id]&&delete this.keyCache[g.id]}for(var h=0,g=d;h<g.length;h+=1){b=g[h];delete this.keyCache[b],delete this._layerConfigs[b],delete this._layers[b]}this.familiesBySource={};for(var f=0,d=function(a,b){for(var d={},e=0;e<a.length;e++){var f=b&&b[a[e].id]||c(a[e]);b&&(b[a[e].id]=f);var g=d[f];g||(g=d[f]=[]),g.push(a[e])}f=[];for(var h in d)f.push(d[h]);return f}(a.values(this._layerConfigs),this.keyCache);f<d.length;f+=1){b=d[f].map(function(a){return e._layers[a.id]});g=b[0];if("none"!==g.visibility){h=g.source||"";var i=this.familiesBySource[h];i||(i=this.familiesBySource[h]={});h=g.sourceLayer||"_geojsonTileLayer";g=i[h];g||(g=i[h]=[]),g.push(b)}}};var e=function(b){var c={},d=[];for(var e in b){var f=b[e],g=c[e]={};for(var h in f){var i=f[+h];if(i&&0!==i.bitmap.width&&0!==i.bitmap.height){var j={x:0,y:0,w:i.bitmap.width+2,h:i.bitmap.height+2};d.push(j),g[h]={rect:j,metrics:i.metrics}}}}j=a.potpack(d);i=j.w;g=j.h;f=new a.AlphaImage({width:i||1,height:g||1});for(var k in b){d=b[k];for(var l in d){j=d[+l];if(j&&0!==j.bitmap.width&&0!==j.bitmap.height){i=c[k][l].rect;a.AlphaImage.copy(j.bitmap,f,{x:0,y:0},{x:i.x+1,y:i.y+1},j.bitmap)}}}this.image=f,this.positions=c};a.register("GlyphAtlas",e);var f=function(b){this.tileID=new a.OverscaledTileID(b.tileID.overscaledZ,b.tileID.wrap,b.tileID.canonical.z,b.tileID.canonical.x,b.tileID.canonical.y),this.uid=b.uid,this.zoom=b.zoom,this.pixelRatio=b.pixelRatio,this.tileSize=b.tileSize,this.source=b.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=b.showCollisionBoxes,this.collectResourceTiming=!!b.collectResourceTiming,this.returnDependencies=!!b.returnDependencies};function g(b,c){for(var c=new a.EvaluationParameters(c),d=0,b=b;d<b.length;d+=1)b[d].recalculate(c)}f.prototype.parse=function(b,c,d,f){var h=this;this.status="parsing",this.data=b,this.collisionBoxArray=new a.CollisionBoxArray();var i=new a.DictionaryCoder(Object.keys(b.layers).sort()),j=new a.FeatureIndex(this.tileID);j.bucketLayerIDs=[];var k,l,q,x,y={},A={featureIndex:j,iconDependencies:{},patternDependencies:{},glyphDependencies:{}};c=c.familiesBySource[this.source];for(var B in c){var C=b.layers[B];if(C){1===C.version&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+B+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var D=i.encode(B),E=[],F=0;F<C.length;F++){var G=C.feature(F);E.push({feature:G,index:F,sourceLayerIndex:D})}for(var G=0,F=c[B];G<F.length;G+=1){C=F[G];var H=C[0];H.minzoom&&this.zoom<Math.floor(H.minzoom)||!(H.maxzoom&&this.zoom>=H.maxzoom)&&("none"!==H.visibility&&(g(C,this.zoom),(y[H.id]=H.createBucket({index:j.bucketLayerIDs.length,layers:C,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:D,sourceID:this.source})).populate(E,A),j.bucketLayerIDs.push(C.map(function(a){return a.id}))))}}}H=a.mapObject(A.glyphDependencies,function(a){return Object.keys(a).map(Number)});Object.keys(H).length?d.send("getGlyphs",{uid:this.uid,stacks:H},function(a,b){k||(k=a,l=b,I.call(h))}):l={};C=Object.keys(A.iconDependencies);C.length?d.send("getImages",{icons:C},function(a,b){k||(k=a,q=b,I.call(h))}):q={};F=Object.keys(A.patternDependencies);function I(){if(k)return f(k);if(l&&q&&x){var b=new e(l),c=new a.ImageAtlas(q,x);for(var d in y){var h=y[d];h instanceof a.SymbolBucket?(g(h.layers,this.zoom),a.performSymbolLayout(h,l,b.positions,q,c.iconPositions,this.showCollisionBoxes)):h.hasPattern&&(h instanceof a.LineBucket||h instanceof a.FillBucket||h instanceof a.FillExtrusionBucket)&&(g(h.layers,this.zoom),h.addFeatures(A,c.patternPositions))}this.status="done",f(null,{buckets:a.values(y).filter(function(a){return!a.isEmpty()}),featureIndex:j,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:b.image,imageAtlas:c,glyphMap:this.returnDependencies?l:null,iconMap:this.returnDependencies?q:null,glyphPositions:this.returnDependencies?b.positions:null})}}F.length?d.send("getImages",{icons:F},function(a,b){k||(k=a,x=b,I.call(h))}):x={},I.call(this)};var h="undefined"!=typeof performance,i={getEntriesByName:function(a){return!!(h&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(a)},mark:function(a){return!!(h&&performance&&performance.mark)&&performance.mark(a)},measure:function(a,b,c){return!!(h&&performance&&performance.measure)&&performance.measure(a,b,c)},clearMarks:function(a){return!!(h&&performance&&performance.clearMarks)&&performance.clearMarks(a)},clearMeasures:function(a){return!!(h&&performance&&performance.clearMeasures)&&performance.clearMeasures(a)}},j=function(a){this._marks={start:[a.url,"start"].join("#"),end:[a.url,"end"].join("#"),measure:a.url.toString()},i.mark(this._marks.start)};function k(b,c){var d=a.getArrayBuffer(b.request,function(b,d,e,f){b?c(b):d&&c(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(d)),rawData:d,cacheControl:e,expires:f})});return function(){d.cancel(),c()}}j.prototype.finish=function(){i.mark(this._marks.end);var a=i.getEntriesByName(this._marks.measure);return 0===a.length&&(i.measure(this._marks.measure,this._marks.start,this._marks.end),a=i.getEntriesByName(this._marks.measure),i.clearMarks(this._marks.start),i.clearMarks(this._marks.end),i.clearMeasures(this._marks.measure)),a},i.Performance=j;var l=function(a,b,c){this.actor=a,this.layerIndex=b,this.loadVectorData=c||k,this.loading={},this.loaded={}};l.prototype.loadTile=function(b,c){var d=this,e=b.uid;this.loading||(this.loading={});var g=!!(b&&b.request&&b.request.collectResourceTiming)&&new i.Performance(b.request),h=this.loading[e]=new f(b);h.abort=this.loadVectorData(b,function(b,f){if(delete d.loading[e],b||!f)return h.status="done",d.loaded[e]=h,c(b);var i=f.rawData,j={};f.expires&&(j.expires=f.expires),f.cacheControl&&(j.cacheControl=f.cacheControl);var k={};if(g){b=g.finish();b&&(k.resourceTiming=JSON.parse(JSON.stringify(b)))}h.vectorTile=f.vectorTile,h.parse(f.vectorTile,d.layerIndex,d.actor,function(b,d){if(b||!d)return c(b);c(null,a.extend({rawTileData:i.slice(0)},d,j,k))}),d.loaded=d.loaded||{},d.loaded[e]=h})},l.prototype.reloadTile=function(a,b){var c=this.loaded,d=a.uid,e=this;if(c&&c[d]){var f=c[d];f.showCollisionBoxes=a.showCollisionBoxes;c=function(a,c){var d=f.reloadCallback;d&&(delete f.reloadCallback,f.parse(f.vectorTile,e.layerIndex,e.actor,d)),b(a,c)};"parsing"===f.status?f.reloadCallback=c:"done"===f.status&&(f.vectorTile?f.parse(f.vectorTile,this.layerIndex,this.actor,c):c())}},l.prototype.abortTile=function(a,b){var c=this.loading;a=a.uid;c&&c[a]&&c[a].abort&&(c[a].abort(),delete c[a]),b()},l.prototype.removeTile=function(a,b){var c=this.loaded;a=a.uid;c&&c[a]&&delete c[a],b()};var m=function(){this.loaded={}};m.prototype.loadTile=function(b,c){var d=b.uid,e=b.encoding;b=b.rawImageData;b=new a.DEMData(d,b,e);this.loaded=this.loaded||{},this.loaded[d]=b,c(null,b)},m.prototype.removeTile=function(a){var b=this.loaded;a=a.uid;b&&b[a]&&delete b[a]};var n={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function o(a){var b=0;if(a&&a.length>0){b+=Math.abs(p(a[0]));for(var c=1;c<a.length;c++)b-=Math.abs(p(a[c]))}return b}function p(a){var b,c,d,e,f=0,g=a.length;if(g>2){for(e=0;e<g;e++)e===g-2?(b=g-2,c=g-1,d=0):e===g-1?(b=g-1,c=0,d=1):(b=e,c=e+1,d=e+2),b=a[b],c=a[c],f+=(q(a[d][0])-q(b[0]))*Math.sin(q(c[1]));f=f*n.RADIUS*n.RADIUS/2}return f}function q(a){return a*Math.PI/180}var r={geometry:function a(b){var c,d=0;switch(b.type){case"Polygon":return o(b.coordinates);case"MultiPolygon":for(c=0;c<b.coordinates.length;c++)d+=o(b.coordinates[c]);return d;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(c=0;c<b.geometries.length;c++)d+=a(b.geometries[c]);return d}},ring:p},s=function a(b,c){switch(b&&b.type||null){case"FeatureCollection":return b.features=b.features.map(t(a,c)),b;case"GeometryCollection":return b.geometries=b.geometries.map(t(a,c)),b;case"Feature":return b.geometry=a(b.geometry,c),b;case"Polygon":case"MultiPolygon":return function(a,b){"Polygon"===a.type?a.coordinates=u(a.coordinates,b):"MultiPolygon"===a.type&&(a.coordinates=a.coordinates.map(t(u,b)));return a}(b,c);default:return b}};function t(a,b){return function(c){return a(c,b)}}function u(a,b){b=!!b,a[0]=v(a[0],b);for(var c=1;c<a.length;c++)a[c]=v(a[c],!b);return a}function v(a,b){return function(a){return r.ring(a)>=0}(a)===b?a:a.reverse()}var w=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,x=function(b){this._feature=b,this.extent=a.EXTENT,this.type=b.type,this.properties=b.tags,"id"in b&&!isNaN(b.id)&&(this.id=parseInt(b.id,10))};x.prototype.loadGeometry=function(){if(1===this._feature.type){for(var b=[],c=0,d=this._feature.geometry;c<d.length;c+=1){var e=d[c];b.push([new a.Point$1(e[0],e[1])])}return b}for(var e=[],d=0,c=this._feature.geometry;d<c.length;d+=1){for(var b=[],f=0,g=c[d];f<g.length;f+=1){var h=g[f];b.push(new a.Point$1(h[0],h[1]))}e.push(b)}return e},x.prototype.toGeoJSON=function(a,b,c){return w.call(this,a,b,c)};var y=function(b){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=b.length,this._features=b};y.prototype.feature=function(a){return new x(this._features[a])};j=a.vectorTile.VectorTileFeature;var z=A;function A(a,b){this.options=b||{},this.features=a,this.length=a.length}function B(a,b){this.id="number"==typeof a.id?a.id:void 0,this.type=a.type,this.rawGeometry=1===a.type?[a.geometry]:a.geometry,this.properties=a.tags,this.extent=b||4096}A.prototype.feature=function(a){return new B(this.features[a],this.options.extent)},B.prototype.loadGeometry=function(){var b=this.rawGeometry;this.geometry=[];for(var c=0;c<b.length;c++){for(var d=b[c],e=[],f=0;f<d.length;f++)e.push(new a.Point$1(d[f][0],d[f][1]));this.geometry.push(e)}return this.geometry},B.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var a=this.geometry,b=1/0,c=-1/0,d=1/0,e=-1/0,f=0;f<a.length;f++)for(var g=a[f],h=0;h<g.length;h++){var i=g[h];b=Math.min(b,i.x),c=Math.max(c,i.x),d=Math.min(d,i.y),e=Math.max(e,i.y)}return[b,d,c,e]},B.prototype.toGeoJSON=j.prototype.toGeoJSON;var C=E;A=E;j=function(a,b){b=b||{};var c={};for(var d in a)c[d]=new z(a[d].features,b),c[d].name=d,c[d].version=b.version,c[d].extent=b.extent;return E({layers:c})};var D=z;function E(b){var c=new a.pbf();return function(a,b){for(var c in a.layers)b.writeMessage(3,F,a.layers[c])}(b,c),c.finish()}function F(a,b){var c;b.writeVarintField(15,a.version||1),b.writeStringField(1,a.name||""),b.writeVarintField(5,a.extent||4096);var d={keys:[],values:[],keycache:{},valuecache:{}};for(c=0;c<a.length;c++)d.feature=a.feature(c),b.writeMessage(2,G,d);a=d.keys;for(c=0;c<a.length;c++)b.writeStringField(3,a[c]);a=d.values;for(c=0;c<a.length;c++)b.writeMessage(4,L,a[c])}function G(a,b){var c=a.feature;void 0!==c.id&&b.writeVarintField(1,c.id),b.writeMessage(2,H,a),b.writeVarintField(3,c.type),b.writeMessage(4,K,c)}function H(a,b){var c=a.feature,d=a.keys,e=a.values,f=a.keycache;a=a.valuecache;for(var g in c.properties){var h=f[g];void 0===h&&(d.push(g),h=d.length-1,f[g]=h),b.writeVarint(h);h=c.properties[g];var i=typeof h;"string"!==i&&"boolean"!==i&&"number"!==i&&(h=JSON.stringify(h));i=i+":"+h;var j=a[i];void 0===j&&(e.push(h),j=e.length-1,a[i]=j),b.writeVarint(j)}}function I(a,b){return(b<<3)+(7&a)}function J(a){return a<<1^a>>31}function K(a,b){for(var c=a.loadGeometry(),a=a.type,d=0,e=0,f=c.length,g=0;g<f;g++){var h=c[g],i=1;1===a&&(i=h.length),b.writeVarint(I(1,i));for(var i=3===a?h.length-1:h.length,j=0;j<i;j++){1===j&&1!==a&&b.writeVarint(I(2,i-1));var k=h[j].x-d,l=h[j].y-e;b.writeVarint(J(k)),b.writeVarint(J(l)),d+=k,e+=l}3===a&&b.writeVarint(I(7,1))}}function L(a,b){var c=typeof a;"string"===c?b.writeStringField(1,a):"boolean"===c?b.writeBooleanField(7,a):"number"===c&&(a%1!=0?b.writeDoubleField(3,a):a<0?b.writeSVarintField(6,a):b.writeVarintField(5,a))}function M(a,b,c,d,e,f){if(!(e-d<=c)){var g=d+e>>1;!function a(b,c,d,e,f,g){for(;f>e;){if(f-e>600){var h=f-e+1,i=d-e+1,j=Math.log(h),k=.5*Math.exp(2*j/3);j=.5*Math.sqrt(j*k*(h-k)/h)*(i-h/2<0?-1:1);var l=Math.max(e,Math.floor(d-i*k/h+j));i=Math.min(f,Math.floor(d+(h-i)*k/h+j));a(b,c,d,l,i,g)}k=c[2*d+g];h=e;j=f;for(N(b,c,e,d),c[2*f+g]>k&&N(b,c,e,f);h<j;){for(N(b,c,h,j),h++,j--;c[2*h+g]<k;)h++;for(;c[2*j+g]>k;)j--}c[2*e+g]===k?N(b,c,e,j):N(b,c,++j,f),j<=d&&(e=j+1),d<=j&&(f=j-1)}}(a,b,g,d,e,f%2),M(a,b,c,d,g-1,f+1),M(a,b,c,g+1,e,f+1)}}function N(a,b,c,d){O(a,c,d),O(b,2*c,2*d),O(b,2*c+1,2*d+1)}function O(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function P(a,b,c,d){a=a-c;c=b-d;return a*a+c*c}C.fromVectorTileJs=A,C.fromGeojsonVt=j,C.GeoJSONWrapper=D;var aa=function(a){return a[0]},Q=function(a){return a[1]},R=function(a,b,c,d,e){void 0===b&&(b=aa),void 0===c&&(c=Q),void 0===d&&(d=64),void 0===e&&(e=Float64Array),this.nodeSize=d,this.points=a;for(var f=a.length<65536?Uint16Array:Uint32Array,f=this.ids=new f(a.length),e=this.coords=new e(2*a.length),g=0;g<a.length;g++)f[g]=g,e[2*g]=b(a[g]),e[2*g+1]=c(a[g]);M(f,e,d,0,f.length-1,0)};R.prototype.range=function(a,b,c,d){return function(a,b,c,d,e,f,g){for(var h,i,j=[0,a.length-1,0],k=[];j.length;){var l=j.pop(),p=j.pop(),r=j.pop();if(p-r<=g)for(var s=r;s<=p;s++)h=b[2*s],i=b[2*s+1],h>=c&&h<=e&&i>=d&&i<=f&&k.push(a[s]);else{s=Math.floor((r+p)/2);h=b[2*s],i=b[2*s+1],h>=c&&h<=e&&i>=d&&i<=f&&k.push(a[s]);var t=(l+1)%2;(0===l?c<=h:d<=i)&&(j.push(r),j.push(s-1),j.push(t)),(0===l?e>=h:f>=i)&&(j.push(s+1),j.push(p),j.push(t))}}return k}(this.ids,this.coords,a,b,c,d,this.nodeSize)},R.prototype.within=function(a,b,c){return function(a,b,c,d,e,f){for(var g=[0,a.length-1,0],h=[],i=e*e;g.length;){var j=g.pop(),k=g.pop(),l=g.pop();if(k-l<=f)for(var n=l;n<=k;n++)P(b[2*n],b[2*n+1],c,d)<=i&&h.push(a[n]);else{n=Math.floor((l+k)/2);var r=b[2*n],s=b[2*n+1];P(r,s,c,d)<=i&&h.push(a[n]);var t=(j+1)%2;(0===j?c-e<=r:d-e<=s)&&(g.push(l),g.push(n-1),g.push(t)),(0===j?c+e>=r:d+e>=s)&&(g.push(n+1),g.push(k),g.push(t))}}return h}(this.ids,this.coords,a,b,c,this.nodeSize)};var S={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,map:function(a){return a}},T=function(a){this.options=ha(Object.create(S),a),this.trees=new Array(this.options.maxZoom+1)};function ba(a,b,c,d,e){return{x:a,y:b,zoom:1/0,id:c,parentId:-1,numPoints:d,properties:e}}function ca(a,b){a=a.geometry.coordinates;var c=a[0];a=a[1];return{x:fa(c),y:ga(a),zoom:1/0,index:b,parentId:-1}}function da(a){return{type:"Feature",id:a.id,properties:ea(a),geometry:{type:"Point",coordinates:[(b=a.x,360*(b-.5)),(b=a.y,a=(180-360*b)*Math.PI/180,360*Math.atan(Math.exp(a))/Math.PI-90)]}};var b}function ea(a){var b=a.numPoints,c=b>=1e4?Math.round(b/1e3)+"k":b>=1e3?Math.round(b/100)/10+"k":b;return ha(ha({},a.properties),{cluster:!0,cluster_id:a.id,point_count:b,point_count_abbreviated:c})}function fa(a){return a/360+.5}function ga(a){a=Math.sin(a*Math.PI/180);a=.5-.25*Math.log((1+a)/(1-a))/Math.PI;return a<0?0:a>1?1:a}function ha(a,b){for(var c in b)a[c]=b[c];return a}function ia(a){return a.x}function ja(a){return a.y}function ka(a,b,c,d,e,f){var g=e-c,h=f-d;if(0!==g||0!==h){var i=((a-c)*g+(b-d)*h)/(g*g+h*h);i>1?(c=e,d=f):i>0&&(c+=g*i,d+=h*i)}return(g=a-c)*g+(h=b-d)*h}function la(a,b,c,d){a={id:void 0===a?null:a,type:b,geometry:c,tags:d,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(a){var b=a.geometry,c=a.type;if("Point"===c||"MultiPoint"===c||"LineString"===c)ma(a,b);else if("Polygon"===c||"MultiLineString"===c)for(var d=0;d<b.length;d++)ma(a,b[d]);else if("MultiPolygon"===c)for(d=0;d<b.length;d++)for(var c=0;c<b[d].length;c++)ma(a,b[d][c])}(a),a}function ma(a,b){for(var c=0;c<b.length;c+=3)a.minX=Math.min(a.minX,b[c]),a.minY=Math.min(a.minY,b[c+1]),a.maxX=Math.max(a.maxX,b[c]),a.maxY=Math.max(a.maxY,b[c+1])}function na(a,b,c,d){if(b.geometry){var e=b.geometry.coordinates,f=b.geometry.type,g=Math.pow(c.tolerance/((1<<c.maxZoom)*c.extent),2),h=[],i=b.id;if(c.promoteId?i=b.properties[c.promoteId]:c.generateId&&(i=d||0),"Point"===f)oa(e,h);else if("MultiPoint"===f)for(var j=0;j<e.length;j++)oa(e[j],h);else if("LineString"===f)pa(e,h,g,!1);else if("MultiLineString"===f){if(c.lineMetrics){for(j=0;j<e.length;j++)h=[],pa(e[j],h,g,!1),a.push(la(i,"LineString",h,b.properties));return}qa(e,h,g,!1)}else if("Polygon"===f)qa(e,h,g,!0);else{if("MultiPolygon"!==f){if("GeometryCollection"===f){for(j=0;j<b.geometry.geometries.length;j++)na(a,{id:i,geometry:b.geometry.geometries[j],properties:b.properties},c,d);return}throw new Error("Input data is not a valid GeoJSON object.")}for(j=0;j<e.length;j++){d=[];qa(e[j],d,g,!0),h.push(d)}}a.push(la(i,f,h,b.properties))}}function oa(a,b){b.push(ra(a[0])),b.push(sa(a[1])),b.push(0)}function pa(a,b,c,d){for(var e,f,g=0,h=0;h<a.length;h++){var i=ra(a[h][0]),j=sa(a[h][1]);b.push(i),b.push(j),b.push(0),h>0&&(g+=d?(e*j-i*f)/2:Math.sqrt(Math.pow(i-e,2)+Math.pow(j-f,2))),e=i,f=j}i=b.length-3;b[2]=1,(function a(b,c,d,e){for(var f,g=e,h=d-c>>1,i=d-c,j=b[c],k=b[c+1],l=b[d],p=b[d+1],q=c+3;q<d;q+=3){var r=ka(b[q],b[q+1],j,k,l,p);if(r>g)f=q,g=r;else if(r===g){r=Math.abs(q-h);r<i&&(f=q,i=r)}}g>e&&(f-c>3&&a(b,c,f,e),b[f+2]=g,d-f>3&&a(b,f,d,e))})(b,0,i,c),b[i+2]=1,b.size=Math.abs(g),b.start=0,b.end=b.size}function qa(a,b,c,d){for(var e=0;e<a.length;e++){var f=[];pa(a[e],f,c,d),b.push(f)}}function ra(a){return a/360+.5}function sa(a){a=Math.sin(a*Math.PI/180);a=.5-.25*Math.log((1+a)/(1-a))/Math.PI;return a<0?0:a>1?1:a}function ta(a,b,c,d,e,f,g,h){if(d/=b,f>=(c/=b)&&g<d)return a;if(g<c||f>=d)return null;for(var b=[],g=0;g<a.length;g++){f=a[g];var i=f.geometry,j=f.type,k=0===e?f.minX:f.minY,l=0===e?f.maxX:f.maxY;if(k>=c&&l<d)b.push(f);else if(!(l<c||k>=d)){l=[];if("Point"===j||"MultiPoint"===j)ua(i,l,c,d,e);else if("LineString"===j)va(i,l,c,d,e,!1,h.lineMetrics);else if("MultiLineString"===j)xa(i,l,c,d,e,!1);else if("Polygon"===j)xa(i,l,c,d,e,!0);else if("MultiPolygon"===j)for(var k=0;k<i.length;k++){var p=[];xa(i[k],p,c,d,e,!0),p.length&&l.push(p)}if(l.length){if(h.lineMetrics&&"LineString"===j){for(k=0;k<l.length;k++)b.push(la(f.id,j,l[k],f.tags));continue}"LineString"!==j&&"MultiLineString"!==j||(1===l.length?(j="LineString",l=l[0]):j="MultiLineString"),"Point"!==j&&"MultiPoint"!==j||(j=3===l.length?"Point":"MultiPoint"),b.push(la(f.id,j,l,f.tags))}}}return b.length?b:null}function ua(a,b,c,d,e){for(var f=0;f<a.length;f+=3){var g=a[f+e];g>=c&&g<=d&&(b.push(a[f]),b.push(a[f+1]),b.push(a[f+2]))}}function va(a,b,c,d,e,f,g){for(var h,i,j=wa(a),k=0===e?za:Aa,l=a.start,v=0;v<a.length-3;v+=3){var w=a[v],x=a[v+1],y=a[v+2],z=a[v+3],A=a[v+4],B=0===e?w:x,C=0===e?z:A,D=!1;g&&(h=Math.sqrt(Math.pow(w-z,2)+Math.pow(x-A,2))),B<c?C>c&&(i=k(j,w,x,z,A,c),g&&(j.start=l+h*i)):B>d?C<d&&(i=k(j,w,x,z,A,d),g&&(j.start=l+h*i)):ya(j,w,x,y),C<c&&B>=c&&(i=k(j,w,x,z,A,c),D=!0),C>d&&B<=d&&(i=k(j,w,x,z,A,d),D=!0),!f&&D&&(g&&(j.end=l+h*i),b.push(j),j=wa(a)),g&&(l+=h)}C=a.length-3;w=a[C],x=a[C+1],y=a[C+2],(B=0===e?w:x)>=c&&B<=d&&ya(j,w,x,y),C=j.length-3,f&&C>=3&&(j[C]!==j[0]||j[C+1]!==j[1])&&ya(j,j[0],j[1],j[2]),j.length&&b.push(j)}function wa(a){var b=[];return b.size=a.size,b.start=a.start,b.end=a.end,b}function xa(a,b,c,d,e,f){for(var g=0;g<a.length;g++)va(a[g],b,c,d,e,f,!1)}function ya(a,b,c,d){a.push(b),a.push(c),a.push(d)}function za(a,b,c,d,e,f){d=(f-b)/(d-b);return a.push(f),a.push(c+(e-c)*d),a.push(1),d}function Aa(a,b,c,d,e,f){e=(f-c)/(e-c);return a.push(b+(d-b)*e),a.push(f),a.push(1),e}function Ba(a,b){for(var c=[],d=0;d<a.length;d++){var e,f=a[d],g=f.type;if("Point"===g||"MultiPoint"===g||"LineString"===g)e=Ca(f.geometry,b);else if("MultiLineString"===g||"Polygon"===g){e=[];for(var h=0;h<f.geometry.length;h++)e.push(Ca(f.geometry[h],b))}else if("MultiPolygon"===g)for(e=[],h=0;h<f.geometry.length;h++){for(var i=[],j=0;j<f.geometry[h].length;j++)i.push(Ca(f.geometry[h][j],b));e.push(i)}c.push(la(f.id,g,e,f.tags))}return c}function Ca(a,b){var c=[];c.size=a.size,void 0!==a.start&&(c.start=a.start,c.end=a.end);for(var d=0;d<a.length;d+=3)c.push(a[d]+b,a[d+1],a[d+2]);return c}function Da(a,b){if(a.transformed)return a;var c,d,e=1<<a.z,f=a.x,g=a.y;for(c=0;c<a.features.length;c++){var h=a.features[c],i=h.geometry,j=h.type;if(h.geometry=[],1===j)for(j=0;j<i.length;j+=2)h.geometry.push(Ea(i[j],i[j+1],b,e,f,g));else for(j=0;j<i.length;j++){var k=[];for(d=0;d<i[j].length;d+=2)k.push(Ea(i[j][d],i[j][d+1],b,e,f,g));h.geometry.push(k)}}return a.transformed=!0,a}function Ea(a,b,c,d,e,f){return[Math.round(c*(a*d-e)),Math.round(c*(b*d-f))]}function Fa(a,b,c,d,e){for(var f=b===e.maxZoom?0:e.tolerance/((1<<b)*e.extent),c={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:c,y:d,z:b,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},d=0;d<a.length;d++){c.numFeatures++,Ga(c,a[d],f,e);b=a[d].minX;var g=a[d].minY,h=a[d].maxX,i=a[d].maxY;b<c.minX&&(c.minX=b),g<c.minY&&(c.minY=g),h>c.maxX&&(c.maxX=h),i>c.maxY&&(c.maxY=i)}return c}function Ga(a,b,c,d){var e=b.geometry,f=b.type,g=[];if("Point"===f||"MultiPoint"===f)for(var h=0;h<e.length;h+=3)g.push(e[h]),g.push(e[h+1]),a.numPoints++,a.numSimplified++;else if("LineString"===f)Ha(g,e,a,c,!1,!1);else if("MultiLineString"===f||"Polygon"===f)for(h=0;h<e.length;h++)Ha(g,e[h],a,c,"Polygon"===f,0===h);else if("MultiPolygon"===f)for(var i=0;i<e.length;i++){var j=e[i];for(h=0;h<j.length;h++)Ha(g,j[h],a,c,!0,0===h)}if(g.length){j=b.tags||null;if("LineString"===f&&d.lineMetrics){for(var k in j={},b.tags)j[k]=b.tags[k];j.mapbox_clip_start=e.start/e.size,j.mapbox_clip_end=e.end/e.size}c={geometry:g,type:"Polygon"===f||"MultiPolygon"===f?3:"LineString"===f||"MultiLineString"===f?2:1,tags:j};null!==b.id&&(c.id=b.id),a.features.push(c)}}function Ha(a,b,c,d,e,f){var g=d*d;if(d>0&&b.size<(e?g:d))c.numPoints+=b.length/3;else{for(var h=[],i=0;i<b.length;i+=3)(0===d||b[i+2]>g)&&(c.numSimplified++,h.push(b[i]),h.push(b[i+1])),c.numPoints++;e&&(function(a,b){for(var c=0,d=0,e=a.length,f=e-2;d<e;f=d,d+=2)c+=(a[d]-a[f])*(a[d+1]+a[f+1]);if(c>0===b)for(d=0,e=a.length;d<e/2;d+=2){f=a[d];c=a[d+1];a[d]=a[e-2-d],a[d+1]=a[e-1-d],a[e-2-d]=f,a[e-1-d]=c}})(h,f),a.push(h)}}function Ia(a,b){var c=(b=this.options=function(a,b){for(var c in b)a[c]=b[c];return a}(Object.create(this.options),b)).debug;if(c&&console.time("preprocess data"),b.maxZoom<0||b.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(b.promoteId&&b.generateId)throw new Error("promoteId and generateId cannot be used together.");a=function(a,b){var c=[];if("FeatureCollection"===a.type)for(var d=0;d<a.features.length;d++)na(c,a.features[d],b,d);else"Feature"===a.type?na(c,a,b):na(c,{geometry:a},b);return c}(a,b);this.tiles={},this.tileCoords=[],c&&(console.timeEnd("preprocess data"),!1,console.time("generate tiles"),this.stats={},this.total=0),(a=function(a,b){var c=b.buffer/b.extent,d=a,e=ta(a,1,-1-c,c,0,-1,2,b),f=ta(a,1,1-c,2+c,0,-1,2,b);return(e||f)&&(d=ta(a,1,-c,1+c,0,-1,2,b)||[],e&&(d=Ba(e,1).concat(d)),f&&(d=d.concat(Ba(f,-1)))),d}(a,b)).length&&this.splitTile(a,0,0,0),c&&(a.length&&!1,console.timeEnd("generate tiles"),!1)}function Ja(a,b,c){return 32*((1<<a)*c+b)+a}function Ka(a,b){a=a.tileID.canonical;if(!this._geoJSONIndex)return b(null,null);a=this._geoJSONIndex.getTile(a.z,a.x,a.y);if(!a)return b(null,null);a=new y(a.features);var c=C(a);0===c.byteOffset&&c.byteLength===c.buffer.byteLength||(c=new Uint8Array(c)),b(null,{vectorTile:a,rawData:c.buffer})}T.prototype.load=function(a){var b=this.options,c=b.log,d=b.minZoom,e=b.maxZoom;b=b.nodeSize;c&&console.time("total time");var f="prepare "+a.length+" points";c&&console.time(f),this.points=a;for(var g=[],h=0;h<a.length;h++)a[h].geometry&&g.push(ca(a[h],h));this.trees[e+1]=new R(g,ia,ja,b,Float32Array),c&&console.timeEnd(f);for(var a=e;a>=d;a--){h=+Date.now();g=this._cluster(g,a),this.trees[a]=new R(g,ia,ja,b,Float32Array),c&&!1}return c&&console.timeEnd("total time"),this},T.prototype.getClusters=function(a,b){var c=((a[0]+180)%360+360)%360-180,d=Math.max(-90,Math.min(90,a[1])),e=180===a[2]?180:((a[2]+180)%360+360)%360-180,f=Math.max(-90,Math.min(90,a[3]));if(a[2]-a[0]>=360)c=-180,e=180;else if(c>e){a=this.getClusters([c,d,180,f],b);var g=this.getClusters([-180,d,e,f],b);return a.concat(g)}for(var a=this.trees[this._limitZoom(b)],g=[],b=0,c=a.range(fa(c),ga(f),fa(e),ga(d));b<c.length;b+=1){f=c[b];e=a.points[f];g.push(e.numPoints?da(e):this.points[e.index])}return g},T.prototype.getChildren=function(a){var b=a>>5,c=a%32,d="No cluster with the specified id.",e=this.trees[c];if(!e)throw new Error(d);b=e.points[b];if(!b)throw new Error(d);for(var c=this.options.radius/(this.options.extent*Math.pow(2,c-1)),f=[],g=0,b=e.within(b.x,b.y,c);g<b.length;g+=1){c=b[g];c=e.points[c];c.parentId===a&&f.push(c.numPoints?da(c):this.points[c.index])}if(0===f.length)throw new Error(d);return f},T.prototype.getLeaves=function(a,b,c){b=b||10,c=c||0;var d=[];return this._appendLeaves(d,a,b,c,0),d},T.prototype.getTile=function(a,b,c){var d=this.trees[this._limitZoom(a)];a=Math.pow(2,a);var e=this.options,f=e.extent;e=e.radius/f;f=(c-e)/a;var g=(c+1+e)/a,h={features:[]};return this._addTileFeatures(d.range((b-e)/a,f,(b+1+e)/a,g),d.points,b,c,a,h),0===b&&this._addTileFeatures(d.range(1-e/a,f,1,g),d.points,a,c,a,h),b===a-1&&this._addTileFeatures(d.range(0,f,e/a,g),d.points,-1,c,a,h),h.features.length?h:null},T.prototype.getClusterExpansionZoom=function(a){for(var b=a%32-1;b<=this.options.maxZoom;){var c=this.getChildren(a);if(b++,1!==c.length)break;a=c[0].properties.cluster_id}return b},T.prototype._appendLeaves=function(a,b,c,d,e){for(var f=0,b=this.getChildren(b);f<b.length;f+=1){var g=b[f],h=g.properties;if(h&&h.cluster?e+h.point_count<=d?e+=h.point_count:e=this._appendLeaves(a,h.cluster_id,c,d,e):e<d?e++:a.push(g),a.length===c)break}return e},T.prototype._addTileFeatures=function(a,b,c,d,e,f){for(var g=0,a=a;g<a.length;g+=1){var h=b[a[g]],i={type:1,geometry:[[Math.round(this.options.extent*(h.x*e-c)),Math.round(this.options.extent*(h.y*e-d))]],tags:h.numPoints?ea(h):this.points[h.index].properties};h=h.numPoints?h.id:this.points[h.index].id;void 0!==h&&(i.id=h),f.features.push(i)}},T.prototype._limitZoom=function(a){return Math.max(this.options.minZoom,Math.min(a,this.options.maxZoom+1))},T.prototype._cluster=function(a,b){for(var c=[],d=this.options,e=d.radius,f=d.extent,d=d.reduce,e=e/(f*Math.pow(2,b)),f=0;f<a.length;f++){var g=a[f];if(!(g.zoom<=b)){g.zoom=b;for(var h=this.trees[b+1],i=h.within(g.x,g.y,e),j=g.numPoints||1,k=g.x*j,l=g.y*j,s=d?this._map(g,!0):null,u=(f<<5)+(b+1),w=0,i=i;w<i.length;w+=1){var x=i[w];x=h.points[x];if(!(x.zoom<=b)){x.zoom=b;var y=x.numPoints||1;k+=x.x*y,l+=x.y*y,j+=y,x.parentId=u,d&&d(s,this._map(x))}}1===j?c.push(g):(g.parentId=u,c.push(ba(k/j,l/j,u,j,s)))}}return c},T.prototype._map=function(a,b){if(a.numPoints)return b?ha({},a.properties):a.properties;a=this.points[a.index].properties;var c=this.options.map(a);return b&&c===a?ha({},c):c},Ia.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ia.prototype.splitTile=function(a,b,c,d,e,f,g){for(var h=[a,b,c,d],i=this.options,j=i.debug;h.length;){d=h.pop(),c=h.pop(),b=h.pop(),a=h.pop();var k=1<<b,l=Ja(b,c,d),n=this.tiles[l];if(!n&&(j>1&&console.time("creation"),n=this.tiles[l]=Fa(a,b,c,d,i),this.tileCoords.push({z:b,x:c,y:d}),j)){j>1&&(!1,console.timeEnd("creation"));l="z"+b;this.stats[l]=(this.stats[l]||0)+1,this.total++}if(n.source=a,e){if(b===i.maxZoom||b===e)continue;l=1<<e-b;if(c!==Math.floor(f/l)||d!==Math.floor(g/l))continue}else if(b===i.indexMaxZoom||n.numPoints<=i.indexMaxPoints)continue;if(n.source=null,0!==a.length){j>1&&console.time("clipping");var o,v,z,A,B,C;l=.5*i.buffer/i.extent;var D=.5-l,E=.5+l,F=1+l;o=v=z=A=null,B=ta(a,k,c-l,c+E,0,n.minX,n.maxX,i),C=ta(a,k,c+D,c+F,0,n.minX,n.maxX,i),a=null,B&&(o=ta(B,k,d-l,d+E,1,n.minY,n.maxY,i),v=ta(B,k,d+D,d+F,1,n.minY,n.maxY,i),B=null),C&&(z=ta(C,k,d-l,d+E,1,n.minY,n.maxY,i),A=ta(C,k,d+D,d+F,1,n.minY,n.maxY,i),C=null),j>1&&console.timeEnd("clipping"),h.push(o||[],b+1,2*c,2*d),h.push(v||[],b+1,2*c,2*d+1),h.push(z||[],b+1,2*c+1,2*d),h.push(A||[],b+1,2*c+1,2*d+1)}}},Ia.prototype.getTile=function(a,b,c){var d=this.options,e=d.extent;d=d.debug;if(a<0||a>24)return null;var f=1<<a;f=Ja(a,b=(b%f+f)%f,c);if(this.tiles[f])return Da(this.tiles[f],e);d>1&&!1;for(var g,h=a,i=b,j=c;!g&&h>0;)h--,i=Math.floor(i/2),j=Math.floor(j/2),g=this.tiles[Ja(h,i,j)];return g&&g.source?(d>1&&!1,d>1&&console.time("drilling down"),this.splitTile(g.source,h,i,j,a,b,c),d>1&&console.timeEnd("drilling down"),this.tiles[f]?Da(this.tiles[f],e):null):null};var La=function(b){function c(a,c,d){b.call(this,a,c,Ka),d&&(this.loadGeoJSON=d)}return b&&(c.__proto__=b),c.prototype=Object.create(b&&b.prototype),c.prototype.constructor=c,c.prototype.loadData=function(a,b){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=b,this._pendingLoadDataParams=a,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},c.prototype._loadData=function(){var b=this;if(this._pendingCallback&&this._pendingLoadDataParams){var c=this._pendingCallback,d=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var e=!!(d&&d.request&&d.request.collectResourceTiming)&&new i.Performance(d.request);this.loadGeoJSON(d,function(f,g){if(f||!g)return c(f);if("object"!=typeof g)return c(new Error("Input data given to '"+d.source+"' is not a valid GeoJSON object."));s(g,!0);try{b._geoJSONIndex=d.cluster?new T(function(b){var c=b.superclusterOptions;b=b.clusterProperties;if(!b||!c)return c;for(var d={},e={},f={accumulated:null,zoom:0},g={properties:null},h=Object.keys(b),i=0,j=h;i<j.length;i+=1){var k=j[i],l=b[k],o=l[0];l=l[1];l=a.createExpression(l);o=a.createExpression("string"==typeof o?[o,["accumulated"],["get",k]]:o);d[k]=l.value,e[k]=o.value}return c.map=function(a){g.properties=a;for(var a={},b=0,c=h;b<c.length;b+=1){var e=c[b];a[e]=d[e].evaluate(f,g)}return a},c.reduce=function(a,b){g.properties=b;for(var b=0,c=h;b<c.length;b+=1){var d=c[b];f.accumulated=a[d],a[d]=e[d].evaluate(f,g)}},c}(d)).load(g.features):function(a,b){return new Ia(a,b)}(g,d.geojsonVtOptions)}catch(a){return c(a)}b.loaded={};f={};if(e){g=e.finish();g&&(f.resourceTiming={},f.resourceTiming[d.source]=JSON.parse(JSON.stringify(g)))}c(null,f)})}},c.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},c.prototype.reloadTile=function(a,c){var d=this.loaded,e=a.uid;return d&&d[e]?b.prototype.reloadTile.call(this,a,c):this.loadTile(a,c)},c.prototype.loadGeoJSON=function(b,c){if(b.request)a.getJSON(b.request,c);else{if("string"!=typeof b.data)return c(new Error("Input data given to '"+b.source+"' is not a valid GeoJSON object."));try{return c(null,JSON.parse(b.data))}catch(a){return c(new Error("Input data given to '"+b.source+"' is not a valid GeoJSON object."))}}},c.prototype.removeSource=function(a,b){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),b()},c.prototype.getClusterExpansionZoom=function(a,b){b(null,this._geoJSONIndex.getClusterExpansionZoom(a.clusterId))},c.prototype.getClusterChildren=function(a,b){b(null,this._geoJSONIndex.getChildren(a.clusterId))},c.prototype.getClusterLeaves=function(a,b){b(null,this._geoJSONIndex.getLeaves(a.clusterId,a.limit,a.offset))},c}(l);A=function(b){var c=this;this.self=b,this.actor=new a.Actor(b,this),this.layerIndexes={},this.workerSourceTypes={vector:l,geojson:La},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(a,b){if(c.workerSourceTypes[a])throw new Error('Worker source with name "'+a+'" already registered.');c.workerSourceTypes[a]=b},this.self.registerRTLTextPlugin=function(b){if(a.plugin.isLoaded())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=b.applyArabicShaping,a.plugin.processBidirectionalText=b.processBidirectionalText,a.plugin.processStyledBidirectionalText=b.processStyledBidirectionalText}};return A.prototype.setReferrer=function(a,b){this.referrer=b},A.prototype.setLayers=function(a,b,c){this.getLayerIndex(a).replace(b),c()},A.prototype.updateLayers=function(a,b,c){this.getLayerIndex(a).update(b.layers,b.removedIds),c()},A.prototype.loadTile=function(a,b,c){this.getWorkerSource(a,b.type,b.source).loadTile(b,c)},A.prototype.loadDEMTile=function(a,b,c){this.getDEMWorkerSource(a,b.source).loadTile(b,c)},A.prototype.reloadTile=function(a,b,c){this.getWorkerSource(a,b.type,b.source).reloadTile(b,c)},A.prototype.abortTile=function(a,b,c){this.getWorkerSource(a,b.type,b.source).abortTile(b,c)},A.prototype.removeTile=function(a,b,c){this.getWorkerSource(a,b.type,b.source).removeTile(b,c)},A.prototype.removeDEMTile=function(a,b){this.getDEMWorkerSource(a,b.source).removeTile(b)},A.prototype.removeSource=function(a,b,c){if(this.workerSources[a]&&this.workerSources[a][b.type]&&this.workerSources[a][b.type][b.source]){var d=this.workerSources[a][b.type][b.source];delete this.workerSources[a][b.type][b.source],void 0!==d.removeSource?d.removeSource(b,c):c()}},A.prototype.loadWorkerSource=function(a,b,c){try{this.self.importScripts(b.url),c()}catch(a){c(a.toString())}},A.prototype.loadRTLTextPlugin=function(b,c,d){try{a.plugin.isLoaded()||(this.self.importScripts(c),d(a.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+c)))}catch(a){d(a.toString())}},A.prototype.getLayerIndex=function(a){var b=this.layerIndexes[a];return b||(b=this.layerIndexes[a]=new d()),b},A.prototype.getWorkerSource=function(a,b,c){var d=this;if(this.workerSources[a]||(this.workerSources[a]={}),this.workerSources[a][b]||(this.workerSources[a][b]={}),!this.workerSources[a][b][c]){var e={send:function(b,c,e){d.actor.send(b,c,e,a)}};this.workerSources[a][b][c]=new this.workerSourceTypes[b](e,this.getLayerIndex(a))}return this.workerSources[a][b][c]},A.prototype.getDEMWorkerSource=function(a,b){return this.demWorkerSources[a]||(this.demWorkerSources[a]={}),this.demWorkerSources[a][b]||(this.demWorkerSources[a][b]=new m()),this.demWorkerSources[a][b]},A.prototype.enforceCacheSizeLimit=function(b,c){a.enforceCacheSizeLimit(c)},"undefined"!=typeof WorkerGlobalScope&&void 0!==a.window&&a.window instanceof WorkerGlobalScope&&(a.window.worker=new A(a.window)),A});a(["./shared.js"],function(a){var b=a.createCommonjsModule(function(a){function b(a){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var a,b,c=new Blob([""],{type:"text/javascript"});c=URL.createObjectURL(c);try{b=new Worker(c),a=!0}catch(b){a=!1}b&&b.terminate();return URL.revokeObjectURL(c),a}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(a){void 0===c[a]&&(c[a]=function(a){var c=document.createElement("canvas"),d=Object.create(b.webGLContextAttributes);return d.failIfMajorPerformanceCaveat=a,c.probablySupportsContext?c.probablySupportsContext("webgl",d)||c.probablySupportsContext("experimental-webgl",d):c.supportsContext?c.supportsContext("webgl",d)||c.supportsContext("experimental-webgl",d):c.getContext("webgl",d)||c.getContext("experimental-webgl",d)}(a));return c[a]}(a&&a.failIfMajorPerformanceCaveat))}a.exports?a.exports=b:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=b);var c={};b.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),c={create:function(b,c,d){b=a.window.document.createElement(b);return void 0!==c&&(b.className=c),d&&d.appendChild(b),b},createNS:function(b,c){return a.window.document.createElementNS(b,c)}},d=a.window.document.documentElement.style;function e(a){if(!d)return a[0];for(var b=0;b<a.length;b++)if(a[b]in d)return a[b];return a[0]}var f,g=e(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);c.disableDrag=function(){d&&g&&(f=d[g],d[g]="none")},c.enableDrag=function(){d&&g&&(d[g]=f)};var h=e(["transform","WebkitTransform"]);c.setTransform=function(a,b){a.style[h]=b};var i=!1;try{e=Object.defineProperty({},"passive",{get:function(){i=!0}});a.window.addEventListener("test",e,e),a.window.removeEventListener("test",e,e)}catch(a){i=!1}c.addEventListener=function(a,b,c,d){void 0===d&&(d={}),"passive"in d&&i?a.addEventListener(b,c,d):a.addEventListener(b,c,d.capture)},c.removeEventListener=function(a,b,c,d){void 0===d&&(d={}),"passive"in d&&i?a.removeEventListener(b,c,d):a.removeEventListener(b,c,d.capture)};var j=function(b){b.preventDefault(),b.stopPropagation(),a.window.removeEventListener("click",j,!0)};function k(a){var b=a.userImage;return b&&b.render&&b.render()?(a.data.replace(new Uint8Array(b.data.buffer)),!0):!1}c.suppressClick=function(){a.window.addEventListener("click",j,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",j,!0)},0)},c.mousePos=function(b,c){var d=b.getBoundingClientRect();c=a.window.TouchEvent&&c instanceof a.window.TouchEvent?c.touches[0]:c;return new a.Point(c.clientX-d.left-b.clientLeft,c.clientY-d.top-b.clientTop)},c.touchPos=function(b,c){for(var d=b.getBoundingClientRect(),e=[],c="touchend"===c.type?c.changedTouches:c.touches,f=0;f<c.length;f++)e.push(new a.Point(c[f].clientX-d.left-b.clientLeft,c[f].clientY-d.top-b.clientTop));return e},c.mouseButton=function(b){return void 0!==a.window.InstallTrigger&&2===b.button&&b.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:b.button},c.remove=function(a){a.parentNode&&a.parentNode.removeChild(a)};var l=function(b){function c(){b.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return b&&(c.__proto__=b),c.prototype=Object.create(b&&b.prototype),c.prototype.constructor=c,c.prototype.isLoaded=function(){return this.loaded},c.prototype.setLoaded=function(a){if(this.loaded!==a&&(this.loaded=a,a)){for(var a=0,b=this.requestors;a<b.length;a+=1){var c=b[a],d=c.ids;c=c.callback;this._notify(d,c)}this.requestors=[]}},c.prototype.getImage=function(a){return this.images[a]},c.prototype.addImage=function(a,b){this.images[a]=b},c.prototype.updateImage=function(a,b){var c=this.images[a];b.version=c.version+1,this.images[a]=b,this.updatedImages[a]=!0},c.prototype.removeImage=function(a){var b=this.images[a];delete this.images[a],delete this.patterns[a],b.userImage&&b.userImage.onRemove&&b.userImage.onRemove()},c.prototype.listImages=function(){return Object.keys(this.images)},c.prototype.getImages=function(a,b){var c=!0;if(!this.isLoaded())for(var d=0,e=a;d<e.length;d+=1){var f=e[d];this.images[f]||(c=!1)}this.isLoaded()||c?this._notify(a,b):this.requestors.push({ids:a,callback:b})},c.prototype._notify=function(b,c){for(var d={},e=0,b=b;e<b.length;e+=1){var f=b[e];this.images[f]||this.fire(new a.Event("styleimagemissing",{id:f}));var g=this.images[f];g?d[f]={data:g.data.clone(),pixelRatio:g.pixelRatio,sdf:g.sdf,version:g.version,hasRenderCallback:Boolean(g.userImage&&g.userImage.render)}:a.warnOnce('Image "'+f+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}c(null,d)},c.prototype.getPixelSize=function(){var a=this.atlasImage;return{width:a.width,height:a.height}},c.prototype.getPattern=function(b){var c=this.patterns[b],d=this.getImage(b);if(!d)return null;if(c&&c.position.version===d.version)return c.position;if(c)c.position.version=d.version;else{c={w:d.data.width+2,h:d.data.height+2,x:0,y:0};d=new a.ImagePosition(c,d);this.patterns[b]={bin:c,position:d}}return this._updatePatternAtlas(),this.patterns[b].position},c.prototype.bind=function(b){var c=b.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(b,this.atlasImage,c.RGBA),this.atlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE)},c.prototype._updatePatternAtlas=function(){var b=[];for(var c in this.patterns)b.push(this.patterns[c].bin);b=a.potpack(b);var d=b.w;b=b.h;var e=this.atlasImage;for(var f in e.resize({width:d||1,height:b||1}),this.patterns){d=this.patterns[f].bin;b=d.x+1;d=d.y+1;var g=this.images[f].data,h=g.width,i=g.height;a.RGBAImage.copy(g,e,{x:0,y:0},{x:b,y:d},{width:h,height:i}),a.RGBAImage.copy(g,e,{x:0,y:i-1},{x:b,y:d-1},{width:h,height:1}),a.RGBAImage.copy(g,e,{x:0,y:0},{x:b,y:d+i},{width:h,height:1}),a.RGBAImage.copy(g,e,{x:h-1,y:0},{x:b-1,y:d},{width:1,height:i}),a.RGBAImage.copy(g,e,{x:0,y:0},{x:b+h,y:d},{width:1,height:i})}this.dirty=!0},c.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},c.prototype.dispatchRenderCallbacks=function(a){for(var b=0,a=a;b<a.length;b+=1){var c=a[b];if(!this.callbackDispatchedThisFrame[c]){this.callbackDispatchedThisFrame[c]=!0;var d=this.images[c];k(d)&&this.updateImage(c,d)}}},c}(a.Evented);e=n;var m=1e20;function n(a,b,c,d,e,f){this.fontSize=a||24,this.buffer=void 0===b?3:b,this.cutoff=d||.25,this.fontFamily=e||"sans-serif",this.fontWeight=f||"normal",this.radius=c||8;a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function o(a,b,c,d,e,f,g){for(var h=0;h<b;h++){for(var i=0;i<c;i++)d[i]=a[i*b+h];for(p(d,e,f,g,c),i=0;i<c;i++)a[i*b+h]=e[i]}for(i=0;i<c;i++){for(h=0;h<b;h++)d[h]=a[i*b+h];for(p(d,e,f,g,b),h=0;h<b;h++)a[i*b+h]=Math.sqrt(e[h])}}function p(a,b,c,d,e){c[0]=0,d[0]=-m,d[1]=+m;for(var f=1,g=0;f<e;f++){for(var h=(a[f]+f*f-(a[c[g]]+c[g]*c[g]))/(2*f-2*c[g]);h<=d[g];)g--,h=(a[f]+f*f-(a[c[g]]+c[g]*c[g]))/(2*f-2*c[g]);c[++g]=f,d[g]=h,d[g+1]=+m}for(f=0,g=0;f<e;f++){for(;d[g+1]<f;)g++;b[f]=(f-c[g])*(f-c[g])+a[c[g]]}}n.prototype.draw=function(a){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(a,this.buffer,this.middle);for(var a=this.ctx.getImageData(0,0,this.size,this.size),b=new Uint8ClampedArray(this.size*this.size),c=0;c<this.size*this.size;c++){var d=a.data[4*c+3]/255;this.gridOuter[c]=1===d?0:0===d?m:Math.pow(Math.max(0,.5-d),2),this.gridInner[c]=1===d?m:0===d?0:Math.pow(Math.max(0,d-.5),2)}for(o(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),o(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),c=0;c<this.size*this.size;c++){d=this.gridOuter[c]-this.gridInner[c];b[c]=Math.max(0,Math.min(255,Math.round(255-255*(d/this.radius+this.cutoff))))}return b};var q=function(a,b){this.requestManager=a,this.localIdeographFontFamily=b,this.entries={}};q.prototype.setURL=function(a){this.url=a},q.prototype.getGlyphs=function(b,c){var d=this,e=[];for(var f in b)for(var g=0,h=b[f];g<h.length;g+=1){var i=h[g];e.push({stack:f,id:i})}a.asyncAll(e,function(a,b){var c=a.stack,e=a.id,f=d.entries[c];f||(f=d.entries[c]={glyphs:{},requests:{}});a=f.glyphs[e];if(void 0===a)if(a=d._tinySDF(f,c,e))b(null,{stack:c,id:e,glyph:a});else{var g=Math.floor(e/256);if(256*g>65535)b(new Error("glyphs > 65535 not supported"));else{var h=f.requests[g];h||(h=f.requests[g]=[],q.loadGlyphRange(c,g,d.url,d.requestManager,function(a,b){if(b)for(var c in b)f.glyphs[+c]=b[+c];for(var d=0,e=h;d<e.length;d+=1)e[d](a,b);delete f.requests[g]})),h.push(function(a,d){a?b(a):d&&b(null,{stack:c,id:e,glyph:d[e]||null})})}}else b(null,{stack:c,id:e,glyph:a})},function(a,b){if(a)c(a);else if(b){for(var a={},d=0,b=b;d<b.length;d+=1){var e=b[d],f=e.stack,g=e.id;e=e.glyph;(a[f]||(a[f]={}))[g]=e&&{id:e.id,bitmap:e.bitmap.clone(),metrics:e.metrics}}c(null,a)}})},q.prototype._tinySDF=function(b,c,d){var e=this.localIdeographFontFamily;if(e&&(a.isChar["CJK Unified Ideographs"](d)||a.isChar["Hangul Syllables"](d)||a.isChar.Hiragana(d)||a.isChar.Katakana(d))){var f=b.tinySDF;if(!f){var g="400";/bold/i.test(c)?g="900":/medium/i.test(c)?g="500":/light/i.test(c)&&(g="200"),f=b.tinySDF=new q.TinySDF(24,3,8,.25,e,g)}return{id:d,bitmap:new a.AlphaImage({width:30,height:30},f.draw(String.fromCharCode(d))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},q.loadGlyphRange=function(b,c,d,e,f){c=256*c;var g=c+255;e=e.transformRequest(e.normalizeGlyphsURL(d).replace("{fontstack}",b).replace("{range}",c+"-"+g),a.ResourceType.Glyphs);a.getArrayBuffer(e,function(b,c){if(b)f(b);else if(c){for(var b={},d=0,c=a.parseGlyphPBF(c);d<c.length;d+=1){var e=c[d];b[e.id]=e}f(null,b)}})},q.TinySDF=e;n=function(){this.specification=a.styleSpec.light.position};n.prototype.possiblyEvaluate=function(b,c){return a.sphericalToCartesian(b.expression.evaluate(c))},n.prototype.interpolate=function(b,c,d){return{x:a.number(b.x,c.x,d),y:a.number(b.y,c.y,d),z:a.number(b.z,c.z,d)}};var r=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new n(),color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),s=function(b){function c(c){b.call(this),this._transitionable=new a.Transitionable(r),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}return b&&(c.__proto__=b),c.prototype=Object.create(b&&b.prototype),c.prototype.constructor=c,c.prototype.getLight=function(){return this._transitionable.serialize()},c.prototype.setLight=function(b,c){if(void 0===c&&(c={}),!this._validate(a.validateLight,b,c))for(var d in b){c=b[d];a.endsWith(d,"-transition")?this._transitionable.setTransition(d.slice(0,-"-transition".length),c):this._transitionable.setValue(d,c)}},c.prototype.updateTransitions=function(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)},c.prototype.hasTransition=function(){return this._transitioning.hasTransition()},c.prototype.recalculate=function(a){this.properties=this._transitioning.possiblyEvaluate(a)},c.prototype._validate=function(b,c,d){return(!d||!1!==d.validate)&&a.emitValidationErrors(this,b.call(a.validateStyle,a.extend({value:c,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},c}(a.Evented),t=function(a,b){this.width=a,this.height=b,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};t.prototype.getDash=function(a,b){var c=a.join(",")+String(b);return this.positions[c]||(this.positions[c]=this.addDash(a,b)),this.positions[c]},t.prototype.addDash=function(b,c){var d=c?7:0,e=2*d+1;if(this.nextRow+e>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var f=0,g=0;g<b.length;g++)f+=b[g];for(var g=this.width/f,h=g/2,y=b.length%2==1,i=-d;i<=d;i++)for(var j=this.nextRow+d+i,j=this.width*j,z=y?-b[b.length-1]:0,k=b[0],l=1,r=0;r<this.width;r++){for(;k<r/g;)z=k,k+=b[l],y&&l===b.length-1&&(k+=b[0]),l++;var s=Math.abs(r-z*g),v=Math.abs(r-k*g);s=Math.min(s,v);v=l%2==1;if(c){var w=d?i/d*(h+1):0;if(v){var x=h-Math.abs(w);x=Math.sqrt(s*s+x*x)}else x=h-Math.sqrt(s*s+w*w)}else x=(v?1:-1)*s;this.data[3+4*(j+r)]=Math.max(0,Math.min(255,x+128))}w={y:(this.nextRow+d+.5)/this.height,height:2*d/this.height,width:f};return this.nextRow+=e,this.dirty=!0,w},t.prototype.bind=function(a){a=a.gl;this.texture?(a.bindTexture(a.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,a.texSubImage2D(a.TEXTURE_2D,0,0,0,this.width,this.height,a.RGBA,a.UNSIGNED_BYTE,this.data))):(this.texture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this.width,this.height,0,a.RGBA,a.UNSIGNED_BYTE,this.data))};var u=function b(c,d){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var c=this.workerPool.acquire(this.id),e=0;e<c.length;e++){var f=c[e];f=new b.Actor(f,d,this.id);f.name="Worker "+e,this.actors.push(f)}};function v(b,c,d){var e=function(e,f){if(e)return d(e);if(f){e=a.pick(f,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);f.vector_layers&&(e.vectorLayers=f.vector_layers,e.vectorLayerIds=e.vectorLayers.map(function(a){return a.id})),b.url&&(e.tiles=c.canonicalizeTileset(e,b.url)),d(null,e)}};return b.url?a.getJSON(c.transformRequest(c.normalizeSourceURL(b.url),a.ResourceType.Source),e):a.browser.frame(function(){return e(null,b)})}u.prototype.broadcast=function(b,c,d){d=d||function(){},a.asyncAll(this.actors,function(a,d){a.send(b,c,d)},d)},u.prototype.send=function(a,b,c,d){return("number"!=typeof d||isNaN(d))&&(d=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[d].send(a,b,c),d},u.prototype.remove=function(){this.actors.forEach(function(a){a.remove()}),this.actors=[],this.workerPool.release(this.id)},u.Actor=a.Actor;var w=function(b,c,d){this.bounds=a.LngLatBounds.convert(this.validateBounds(b)),this.minzoom=c||0,this.maxzoom=d||24};w.prototype.validateBounds=function(a){return Array.isArray(a)&&4===a.length?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]},w.prototype.contains=function(b){var c=Math.pow(2,b.z),d=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*c),e=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*c),f=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*c);c=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*c);return b.x>=d&&b.x<f&&b.y>=e&&b.y<c};e=function(b){function c(c,d,e,f){if(b.call(this),this.id=c,this.dispatcher=e,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,a.extend(this,a.pick(d,["url","scheme","tileSize"])),this._options=a.extend({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(f)}return b&&(c.__proto__=b),c.prototype=Object.create(b&&b.prototype),c.prototype.constructor=c,c.prototype.load=function(){var b=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=v(this._options,this.map._requestManager,function(c,d){b._tileJSONRequest=null,c?b.fire(new a.ErrorEvent(c)):d&&(a.extend(b,d),d.bounds&&(b.tileBounds=new w(d.bounds,b.minzoom,b.maxzoom)),a.postTurnstileEvent(d.tiles),a.postMapLoadEvent(d.tiles,b.map._getMapId(),b.map._requestManager._skuToken),b.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),b.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},c.prototype.hasTile=function(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)},c.prototype.onAdd=function(a){this.map=a,this.load()},c.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},c.prototype.serialize=function(){return a.extend({},this._options)},c.prototype.loadTile=function(b,c){var d=this.map._requestManager.normalizeTileURL(b.tileID.canonical.url(this.tiles,this.scheme),this.url,null);d={request:this.map._requestManager.transformRequest(d,a.ResourceType.Tile),uid:b.uid,tileID:b.tileID,zoom:b.tileID.overscaledZ,tileSize:this.tileSize*b.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function e(d,e){return b.aborted?c(null):d&&404!==d.status?c(d):(e&&e.resourceTiming&&(b.resourceTiming=e.resourceTiming),this.map._refreshExpiredTiles&&e&&b.setExpiryData(e),b.loadVectorData(e,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),c(null),void (b.reloadCallback&&(this.loadTile(b,b.reloadCallback),b.reloadCallback=null)))}d.request.collectResourceTiming=this._collectResourceTiming,void 0===b.workerID||"expired"===b.state?b.workerID=this.dispatcher.send("loadTile",d,e.bind(this)):"loading"===b.state?b.reloadCallback=c:this.dispatcher.send("reloadTile",d,e.bind(this),b.workerID)},c.prototype.abortTile=function(a){this.dispatcher.send("abortTile",{uid:a.uid,type:this.type,source:this.id},void 0,a.workerID)},c.prototype.unloadTile=function(a){a.unloadVectorData(),this.dispatcher.send("removeTile",{uid:a.uid,type:this.type,source:this.id},void 0,a.workerID)},c.prototype.hasTransition=function(){return!1},c}(a.Evented);n=function(b){function c(c,d,e,f){b.call(this),this.id=c,this.dispatcher=e,this.setEventedParent(f),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({},d),a.extend(this,a.pick(d,["url","scheme","tileSize"]))}return b&&(c.__proto__=b),c.prototype=Object.create(b&&b.prototype),c.prototype.constructor=c,c.prototype.load=function(){var b=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=v(this._options,this.map._requestManager,function(c,d){b._tileJSONRequest=null,c?b.fire(new a.ErrorEvent(c)):d&&(a.extend(b,d),d.bounds&&(b.tileBounds=new w(d.bounds,b.minzoom,b.maxzoom)),a.postTurnstileEvent(d.tiles),a.postMapLoadEvent(d.tiles,b.map._getMapId(),b.map._requestManager._skuToken),b.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),b.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},c.prototype.onAdd=function(a){this.map=a,this.load()},c.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},c.prototype.serialize=function(){return a.extend({},this._options)},c.prototype.hasTile=function(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)},c.prototype.loadTile=function(b,c){var d=this,e=this.map._requestManager.normalizeTileURL(b.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);b.request=a.getImage(this.map._requestManager.transformRequest(e,a.ResourceType.Tile),function(e,f){if(delete b.request,b.aborted)b.state="unloaded",c(null);else if(e)b.state="errored",c(e);else if(f){d.map._refreshExpiredTiles&&b.setExpiryData(f),delete f.cacheControl,delete f.expires;e=d.map.painter.context;var g=e.gl;b.texture=d.map.painter.getTileTexture(f.width),b.texture?b.texture.update(f,{useMipmap:!0}):(b.texture=new a.Texture(e,f,g.RGBA,{useMipmap:!0}),b.texture.bind(g.LINEAR,g.CLAMP_TO_EDGE,g.LINEAR_MIPMAP_NEAREST),e.extTextureFilterAnisotropic&&g.texParameterf(g.TEXTURE_2D,e.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.extTextureFilterAnisotropicMax)),b.state="loaded",a.cacheEntryPossiblyAdded(d.dispatcher),c(null)}})},c.prototype.abortTile=function(a,b){a.request&&(a.request.cancel(),delete a.request),b()},c.prototype.unloadTile=function(a,b){a.texture&&this.map.painter.saveTileTexture(a.texture),b()},c.prototype.hasTransition=function(){return!1},c}(a.Evented);var x=function(b){function c(c,d,e,f){b.call(this,c,d,e,f),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({},d),this.encoding=d.encoding||"mapbox"}return b&&(c.__proto__=b),c.prototype=Object.create(b&&b.prototype),c.prototype.constructor=c,c.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},c.prototype.loadTile=function(b,c){var d=this.map._requestManager.normalizeTileURL(b.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);b.request=a.getImage(this.map._requestManager.transformRequest(d,a.ResourceType.Tile),function(d,e){if(delete b.request,b.aborted)b.state="unloaded",c(null);else if(d)b.state="errored",c(d);else if(e){this.map._refreshExpiredTiles&&b.setExpiryData(e),delete e.cacheControl,delete e.expires;d=a.browser.getImageData(e);e={uid:b.uid,coord:b.tileID,source:this.id,rawImageData:d,encoding:this.encoding};b.workerID&&"expired"!==b.state||(b.workerID=this.dispatcher.send("loadDEMTile",e,function(a,d){a&&(b.state="errored",c(a)),d&&(b.dem=d,b.needsHillshadePrepare=!0,b.state="loaded",c(null))}.bind(this)))}}.bind(this)),b.neighboringTiles=this._getNeighboringTiles(b.tileID)},c.prototype._getNeighboringTiles=function(b){var c=b.canonical,d=Math.pow(2,c.z),e=(c.x-1+d)%d,f=0===c.x?b.wrap-1:b.wrap,g=(c.x+1+d)%d,h=c.x+1===d?b.wrap+1:b.wrap,i={};return i[new a.OverscaledTileID(b.overscaledZ,f,c.z,e,c.y).key]={backfilled:!1},i[new a.OverscaledTileID(b.overscaledZ,h,c.z,g,c.y).key]={backfilled:!1},c.y>0&&(i[new a.OverscaledTileID(b.overscaledZ,f,c.z,e,c.y-1).key]={backfilled:!1},i[new a.OverscaledTileID(b.overscaledZ,b.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},i[new a.OverscaledTileID(b.overscaledZ,h,c.z,g,c.y-1).key]={backfilled:!1}),c.y+1<d&&(i[new a.OverscaledTileID(b.overscaledZ,f,c.z,e,c.y+1).key]={backfilled:!1},i[new a.OverscaledTileID(b.overscaledZ,b.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},i[new a.OverscaledTileID(b.overscaledZ,h,c.z,g,c.y+1).key]={backfilled:!1}),i},c.prototype.unloadTile=function(a){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:a.uid,source:this.id},void 0,a.workerID)},c}(n),y=function(b){function c(c,d,e,f){b.call(this),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=e,this.setEventedParent(f),this._data=d.data,this._options=a.extend({},d),this._collectResourceTiming=d.collectResourceTiming,this._resourceTiming=[],void 0!==d.maxzoom&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution);c=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(void 0!==d.buffer?d.buffer:128)*c,tolerance:(void 0!==d.tolerance?d.tolerance:.375)*c,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:void 0!==d.clusterMaxZoom?Math.min(d.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:a.EXTENT,radius:(d.clusterRadius||50)*c,log:!1},clusterProperties:d.clusterProperties},d.workerOptions)}return b&&(c.__proto__=b),c.prototype=Object.create(b&&b.prototype),c.prototype.constructor=c,c.prototype.load=function(){var b=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(c){if(c)b.fire(new a.ErrorEvent(c));else{c={dataType:"source",sourceDataType:"metadata"};b._collectResourceTiming&&b._resourceTiming&&b._resourceTiming.length>0&&(c.resourceTiming=b._resourceTiming,b._resourceTiming=[]),b.fire(new a.Event("data",c))}})},c.prototype.onAdd=function(a){this.map=a,this.load()},c.prototype.setData=function(b){var c=this;return this._data=b,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(b){if(b)c.fire(new a.ErrorEvent(b));else{b={dataType:"source",sourceDataType:"content"};c._collectResourceTiming&&c._resourceTiming&&c._resourceTiming.length>0&&(b.resourceTiming=c._resourceTiming,c._resourceTiming=[]),c.fire(new a.Event("data",b))}}),this},c.prototype.getClusterExpansionZoom=function(a,b){return this.dispatcher.send("geojson.getClusterExpansionZoom",{clusterId:a,source:this.id},b,this.workerID),this},c.prototype.getClusterChildren=function(a,b){return this.dispatcher.send("geojson.getClusterChildren",{clusterId:a,source:this.id},b,this.workerID),this},c.prototype.getClusterLeaves=function(a,b,c,d){return this.dispatcher.send("geojson.getClusterLeaves",{source:this.id,clusterId:a,limit:b,offset:c},d,this.workerID),this},c.prototype._updateWorkerData=function(b){var c=this,d=a.extend({},this.workerOptions),e=this._data;"string"==typeof e?(d.request=this.map._requestManager.transformRequest(a.browser.resolveURL(e),a.ResourceType.Source),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(e),this.workerID=this.dispatcher.send(this.type+".loadData",d,function(a,e){c._removed||e&&e.abandoned||(c._loaded=!0,e&&e.resourceTiming&&e.resourceTiming[c.id]&&(c._resourceTiming=e.resourceTiming[c.id].slice(0)),c.dispatcher.send(c.type+".coalesce",{source:d.source},null,c.workerID),b(a))},this.workerID)},c.prototype.loadTile=function(b,c){var d=this,e=void 0===b.workerID?"loadTile":"reloadTile",f={type:this.type,uid:b.uid,tileID:b.tileID,zoom:b.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};b.workerID=this.dispatcher.send(e,f,function(a,f){return b.unloadVectorData(),b.aborted?c(null):a?c(a):(b.loadVectorData(f,d.map.painter,"reloadTile"===e),c(null))},this.workerID)},c.prototype.abortTile=function(a){a.aborted=!0},c.prototype.unloadTile=function(a){a.unloadVectorData(),this.dispatcher.send("removeTile",{uid:a.uid,type:this.type,source:this.id},null,a.workerID)},c.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},c.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},c.prototype.hasTransition=function(){return!1},c}(a.Evented),z=function(b){function c(a,c,d,e){b.call(this),this.id=a,this.dispatcher=d,this.coordinates=c.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(e),this.options=c}return b&&(c.__proto__=b),c.prototype=Object.create(b&&b.prototype),c.prototype.constructor=c,c.prototype.load=function(b,c){var d=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(e,f){e?d.fire(new a.ErrorEvent(e)):f&&(d.image=f,b&&(d.coordinates=b),c&&c(),d._finishLoading())})},c.prototype.updateImage=function(a){var b=this;return this.image&&a.url?(this.options.url=a.url,this.load(a.coordinates,function(){b.texture=null}),this):this},c.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},c.prototype.onAdd=function(a){this.map=a,this.load()},c.prototype.setCoordinates=function(b){var c=this;this.coordinates=b;b=b.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(b){for(var c=1/0,d=1/0,e=-1/0,f=-1/0,g=0,b=b;g<b.length;g+=1){var h=b[g];c=Math.min(c,h.x),d=Math.min(d,h.y),e=Math.max(e,h.x),f=Math.max(f,h.y)}h=e-c;g=f-d;b=Math.max(h,g);h=Math.max(0,Math.floor(-Math.log(b)/Math.LN2));g=Math.pow(2,h);return new a.CanonicalTileID(h,Math.floor((c+e)/2*g),Math.floor((d+f)/2*g))}(b),this.minzoom=this.maxzoom=this.tileID.z;b=b.map(function(a){return c.tileID.getTilePoint(a)._round()});return this._boundsArray=new a.StructArrayLayout4i8(),this._boundsArray.emplaceBack(b[0].x,b[0].y,0,0),this._boundsArray.emplaceBack(b[1].x,b[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(b[3].x,b[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(b[2].x,b[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},c.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var b=this.map.painter.context,c=b.gl;for(var d in this.boundsBuffer||(this.boundsBuffer=b.createVertexBuffer(this._boundsArray,a.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(b,this.image,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE)),this.tiles){b=this.tiles[d];"loaded"!==b.state&&(b.state="loaded",b.texture=this.texture)}}},c.prototype.loadTile=function(a,b){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={},b(null)):(a.state="errored",b(null))},c.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},c.prototype.hasTransition=function(){return!1},c}(a.Evented),A=function(b){function c(a,c,d,e){b.call(this,a,c,d,e),this.roundZoom=!0,this.type="video",this.options=c}return b&&(c.__proto__=b),c.prototype=Object.create(b&&b.prototype),c.prototype.constructor=c,c.prototype.load=function(){var b=this,c=this.options;this.urls=[];for(var d=0,c=c.urls;d<c.length;d+=1){var e=c[d];this.urls.push(this.map._requestManager.transformRequest(e,a.ResourceType.Source).url)}a.getVideo(this.urls,function(c,d){c?b.fire(new a.ErrorEvent(c)):d&&(b.video=d,b.video.loop=!0,b.video.addEventListener("playing",function(){b.map.triggerRepaint()}),b.map&&b.video.play(),b._finishLoading())})},c.prototype.getVideo=function(){return this.video},c.prototype.onAdd=function(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},c.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var b=this.map.painter.context,c=b.gl;for(var d in this.boundsBuffer||(this.boundsBuffer=b.createVertexBuffer(this._boundsArray,a.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(b,this.video,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE)),this.tiles){b=this.tiles[d];"loaded"!==b.state&&(b.state="loaded",b.texture=this.texture)}}},c.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},c.prototype.hasTransition=function(){return this.video&&!this.video.paused},c}(z),B=function(b){function c(c,d,e,f){b.call(this,c,d,e,f),d.coordinates?Array.isArray(d.coordinates)&&4===d.coordinates.length&&!d.coordinates.some(function(a){return!Array.isArray(a)||2!==a.length||a.some(function(a){return"number"!=typeof a})})||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+c,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+c,null,'missing required property "coordinates"'))),d.animate&&"boolean"!=typeof d.animate&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+c,null,'optional "animate" property must be a boolean value'))),d.canvas?"string"==typeof d.canvas||d.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+c,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+c,null,'missing required property "canvas"'))),this.options=d,this.animate=void 0===d.animate||d.animate}return b&&(c.__proto__=b),c.prototype=Object.create(b&&b.prototype),c.prototype.constructor=c,c.prototype.load=function(){this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},c.prototype.getCanvas=function(){return this.canvas},c.prototype.onAdd=function(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()},c.prototype.onRemove=function(){this.pause()},c.prototype.prepare=function(){var b=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,b=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,b=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var c=this.map.painter.context,d=c.gl;for(var e in this.boundsBuffer||(this.boundsBuffer=c.createVertexBuffer(this._boundsArray,a.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(b||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(c,this.canvas,d.RGBA,{premultiply:!0}),this.tiles){b=this.tiles[e];"loaded"!==b.state&&(b.state="loaded",b.texture=this.texture)}}},c.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},c.prototype.hasTransition=function(){return this._playing},c.prototype._hasInvalidDimensions=function(){for(var a=0,b=[this.canvas.width,this.canvas.height];a<b.length;a+=1){var c=b[a];if(isNaN(c)||c<=0)return!0}return!1},c}(z),C={vector:e,raster:n,"raster-dem":x,geojson:y,video:A,image:z,canvas:B},D=function(b,c,d,e){c=new C[c.type](b,c,d,e);if(c.id!==b)throw new Error("Expected Source id to be "+b+" instead of "+c.id);return a.bindAll(["load","abort","unload","serialize","prepare"],c),c};function E(b,c){var d=a.identity([]);return a.translate(d,d,[1,1,0]),a.scale(d,d,[.5*b.width,.5*b.height,1]),a.multiply(d,d,b.calculatePosMatrix(c.toUnwrapped()))}function F(a,b,c,d,e){var f=function(a,b,c){if(a)for(var d=0,a=a;d<a.length;d+=1){var e=b[a[d]];if(e&&e.source===c&&"fill-extrusion"===e.type)return!0}else for(var f in b){e=b[f];if(e.source===c&&"fill-extrusion"===e.type)return!0}return!1}(d&&d.layers,b,a.id),g=e.maxPitchScaleFactor();c=a.tilesIn(c,g,f);c.sort(G);for(var f=[],i=0,c=c;i<c.length;i+=1){var h=c[i];f.push({wrappedTileID:h.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(b,a._state,h.queryGeometry,h.cameraQueryGeometry,h.scale,d,e,g,E(a.transform,h.tileID))})}h=function(a){for(var b={},c={},d=0,a=a;d<a.length;d+=1){var e=a[d],f=e.queryResults;e=e.wrappedTileID;e=c[e]=c[e]||{};for(var k in f)for(var g=f[k],h=e[k]=e[k]||{},i=b[k]=b[k]||[],l=0,g=g;l<g.length;l+=1){var j=g[l];h[j.featureIndex]||(h[j.featureIndex]=!0,i.push(j))}}return b}(f);for(var j in h)h[j].forEach(function(b){b=b.feature;var c=a.getFeatureState(b.layer["source-layer"],b.id);b.source=b.layer.source,b.layer["source-layer"]&&(b.sourceLayer=b.layer["source-layer"]),b.state=c});return h}function G(a,b){a=a.tileID;b=b.tileID;return a.overscaledZ-b.overscaledZ||a.canonical.y-b.canonical.y||a.wrap-b.wrap||a.canonical.x-b.canonical.x}var H=function(a,b){this.max=a,this.onRemove=b,this.reset()};H.prototype.reset=function(){for(var a in this.data)for(var b=0,c=this.data[a];b<c.length;b+=1){var d=c[b];d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value)}return this.data={},this.order=[],this},H.prototype.add=function(a,b,c){var d=this,e=a.wrapped().key;void 0===this.data[e]&&(this.data[e]=[]);var f={value:b,timeout:void 0};if(void 0!==c&&(f.timeout=setTimeout(function(){d.remove(a,f)},c)),this.data[e].push(f),this.order.push(e),this.order.length>this.max){b=this._getAndRemoveByKey(this.order[0]);b&&this.onRemove(b)}return this},H.prototype.has=function(a){return a.wrapped().key in this.data},H.prototype.getAndRemove=function(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null},H.prototype._getAndRemoveByKey=function(a){var b=this.data[a].shift();return b.timeout&&clearTimeout(b.timeout),0===this.data[a].length&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),b.value},H.prototype.get=function(a){return this.has(a)?this.data[a.wrapped().key][0].value:null},H.prototype.remove=function(a,b){if(!this.has(a))return this;a=a.wrapped().key;b=void 0===b?0:this.data[a].indexOf(b);var c=this.data[a][b];return this.data[a].splice(b,1),c.timeout&&clearTimeout(c.timeout),0===this.data[a].length&&delete this.data[a],this.onRemove(c.value),this.order.splice(this.order.indexOf(a),1),this},H.prototype.setMaxSize=function(a){for(this.max=a;this.order.length>this.max;){a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this};var I=function(a,b,c){this.context=a;var d=a.gl;this.buffer=d.createBuffer(),this.dynamicDraw=Boolean(c),this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),d.bufferData(d.ELEMENT_ARRAY_BUFFER,b.arrayBuffer,this.dynamicDraw?d.DYNAMIC_DRAW:d.STATIC_DRAW),this.dynamicDraw||delete b.arrayBuffer};I.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},I.prototype.updateData=function(a){var b=this.context.gl;this.context.unbindVAO(),this.bind(),b.bufferSubData(b.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)},I.prototype.destroy=function(){var a=this.context.gl;this.buffer&&(a.deleteBuffer(this.buffer),delete this.buffer)};var J={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},K=function(a,b,c,d){this.length=b.length,this.attributes=c,this.itemSize=b.bytesPerElement,this.dynamicDraw=d,this.context=a;c=a.gl;this.buffer=c.createBuffer(),a.bindVertexBuffer.set(this.buffer),c.bufferData(c.ARRAY_BUFFER,b.arrayBuffer,this.dynamicDraw?c.DYNAMIC_DRAW:c.STATIC_DRAW),this.dynamicDraw||delete b.arrayBuffer};K.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},K.prototype.updateData=function(a){var b=this.context.gl;this.bind(),b.bufferSubData(b.ARRAY_BUFFER,0,a.arrayBuffer)},K.prototype.enableAttributes=function(a,b){for(var c=0;c<this.attributes.length;c++){var d=this.attributes[c];d=b.attributes[d.name];void 0!==d&&a.enableVertexAttribArray(d)}},K.prototype.setVertexAttribPointers=function(a,b,c){for(var d=0;d<this.attributes.length;d++){var e=this.attributes[d],f=b.attributes[e.name];void 0!==f&&a.vertexAttribPointer(f,e.components,a[J[e.type]],!1,this.itemSize,e.offset+this.itemSize*(c||0))}},K.prototype.destroy=function(){var a=this.context.gl;this.buffer&&(a.deleteBuffer(this.buffer),delete this.buffer)};e=function(a){this.gl=a.gl,this["default"]=this.getDefault(),this.current=this["default"],this.dirty=!1};e.prototype.get=function(){return this.current},e.prototype.set=function(a){},e.prototype.getDefault=function(){return this["default"]},e.prototype.setDefault=function(){this.set(this["default"])};var L=function(b){function c(){b.apply(this,arguments)}return b&&(c.__proto__=b),c.prototype=Object.create(b&&b.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return a.Color.transparent},c.prototype.set=function(a){var b=this.current;(a.r!==b.r||a.g!==b.g||a.b!==b.b||a.a!==b.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)},c}(e),M=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return 1},b.prototype.set=function(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)},b}(e),N=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return 0},b.prototype.set=function(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)},b}(e),O=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return[!0,!0,!0,!0]},b.prototype.set=function(a){var b=this.current;(a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]||a[3]!==b[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)},b}(e),P=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return!0},b.prototype.set=function(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)},b}(e),aa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return 255},b.prototype.set=function(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)},b}(e),Q=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},b.prototype.set=function(a){var b=this.current;(a.func!==b.func||a.ref!==b.ref||a.mask!==b.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)},b}(e),R=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){var a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]},b.prototype.set=function(a){var b=this.current;(a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)},b}(e),S=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;a?b.enable(b.STENCIL_TEST):b.disable(b.STENCIL_TEST),this.current=a,this.dirty=!1}},b}(e),T=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return[0,1]},b.prototype.set=function(a){var b=this.current;(a[0]!==b[0]||a[1]!==b[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)},b}(e),ba=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;a?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST),this.current=a,this.dirty=!1}},b}(e),ca=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return this.gl.LESS},b.prototype.set=function(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)},b}(e),da=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;a?b.enable(b.BLEND):b.disable(b.BLEND),this.current=a,this.dirty=!1}},b}(e),ea=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){var a=this.gl;return[a.ONE,a.ZERO]},b.prototype.set=function(a){var b=this.current;(a[0]!==b[0]||a[1]!==b[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)},b}(e),fa=function(b){function c(){b.apply(this,arguments)}return b&&(c.__proto__=b),c.prototype=Object.create(b&&b.prototype),c.prototype.constructor=c,c.prototype.getDefault=function(){return a.Color.transparent},c.prototype.set=function(a){var b=this.current;(a.r!==b.r||a.g!==b.g||a.b!==b.b||a.a!==b.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)},c}(e),ga=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return this.gl.FUNC_ADD},b.prototype.set=function(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)},b}(e),ha=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;a?b.enable(b.CULL_FACE):b.disable(b.CULL_FACE),this.current=a,this.dirty=!1}},b}(e),ia=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return this.gl.BACK},b.prototype.set=function(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)},b}(e),ja=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return this.gl.CCW},b.prototype.set=function(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)},b}(e),ka=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)},b}(e),la=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return this.gl.TEXTURE0},b.prototype.set=function(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)},b}(e),ma=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){var a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]},b.prototype.set=function(a){var b=this.current;(a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]||a[3]!==b[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)},b}(e),na=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,a),this.current=a,this.dirty=!1}},b}(e),oa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;b.bindRenderbuffer(b.RENDERBUFFER,a),this.current=a,this.dirty=!1}},b}(e),pa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;b.bindTexture(b.TEXTURE_2D,a),this.current=a,this.dirty=!1}},b}(e),qa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;b.bindBuffer(b.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}},b}(e),ra=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(a){var b=this.gl;b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1},b}(e),sa=function(a){function b(b){a.call(this,b),this.vao=b.extVertexArrayObject}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return null},b.prototype.set=function(a){this.vao&&(a!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(a),this.current=a,this.dirty=!1)},b}(e),ta=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return 4},b.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;b.pixelStorei(b.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}},b}(e),ua=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}},b}(e),va=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return!1},b.prototype.set=function(a){if(a!==this.current||this.dirty){var b=this.gl;b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}},b}(e);n=function(a){function b(b,c){a.call(this,b),this.context=b,this.parent=c}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.getDefault=function(){return null},b}(e);var wa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.setDirty=function(){this.dirty=!0},b.prototype.set=function(a){if(a!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var b=this.gl;b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}},b}(n),xa=function(a){function b(){a.apply(this,arguments)}return a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b,b.prototype.set=function(a){if(a!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var b=this.gl;b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,a),this.current=a,this.dirty=!1}},b}(n),ya=function(a,b,c){this.context=a,this.width=b,this.height=c;b=a.gl;c=this.framebuffer=b.createFramebuffer();this.colorAttachment=new wa(a,c),this.depthAttachment=new xa(a,c)};ya.prototype.destroy=function(){var a=this.context.gl,b=this.colorAttachment.get();b&&a.deleteTexture(b);b=this.depthAttachment.get();b&&a.deleteRenderbuffer(b),a.deleteFramebuffer(this.framebuffer)};var za=function(a,b,c){this.func=a,this.mask=b,this.range=c};za.ReadOnly=!1,za.ReadWrite=!0,za.disabled=new za(519,za.ReadOnly,[0,1]);var Aa=function(a,b,c,d,e,f){this.test=a,this.ref=b,this.mask=c,this.fail=d,this.depthFail=e,this.pass=f};Aa.disabled=new Aa({func:519,mask:0},0,0,7680,7680,7680);var Ba=function(a,b,c){this.blendFunction=a,this.blendColor=b,this.mask=c};Ba.Replace=[1,0],Ba.disabled=new Ba(Ba.Replace,a.Color.transparent,[!1,!1,!1,!1]),Ba.unblended=new Ba(Ba.Replace,a.Color.transparent,[!0,!0,!0,!0]),Ba.alphaBlended=new Ba([1,771],a.Color.transparent,[!0,!0,!0,!0]);var Ca=function(a,b,c){this.enable=a,this.mode=b,this.frontFace=c};Ca.disabled=new Ca(!1,1029,2305),Ca.backCCW=new Ca(!0,1029,2305);var Da=function(a){this.gl=a,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new L(this),this.clearDepth=new M(this),this.clearStencil=new N(this),this.colorMask=new O(this),this.depthMask=new P(this),this.stencilMask=new aa(this),this.stencilFunc=new Q(this),this.stencilOp=new R(this),this.stencilTest=new S(this),this.depthRange=new T(this),this.depthTest=new ba(this),this.depthFunc=new ca(this),this.blend=new da(this),this.blendFunc=new ea(this),this.blendColor=new fa(this),this.blendEquation=new ga(this),this.cullFace=new ha(this),this.cullFaceSide=new ia(this),this.frontFace=new ja(this),this.program=new ka(this),this.activeTexture=new la(this),this.viewport=new ma(this),this.bindFramebuffer=new na(this),this.bindRenderbuffer=new oa(this),this.bindTexture=new pa(this),this.bindVertexBuffer=new qa(this),this.bindElementBuffer=new ra(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new sa(this),this.pixelStoreUnpack=new ta(this),this.pixelStoreUnpackPremultiplyAlpha=new ua(this),this.pixelStoreUnpackFlipY=new va(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=a.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&a.getExtension("OES_texture_half_float_linear")};Da.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Da.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Da.prototype.createIndexBuffer=function(a,b){return new I(this,a,b)},Da.prototype.createVertexBuffer=function(a,b,c){return new K(this,a,b,c)},Da.prototype.createRenderbuffer=function(a,b,c){var d=this.gl,e=d.createRenderbuffer();return this.bindRenderbuffer.set(e),d.renderbufferStorage(d.RENDERBUFFER,a,b,c),this.bindRenderbuffer.set(null),e},Da.prototype.createFramebuffer=function(a,b){return new ya(this,a,b)},Da.prototype.clear=function(a){var b=a.color;a=a.depth;var c=this.gl,d=0;b&&(d|=c.COLOR_BUFFER_BIT,this.clearColor.set(b),this.colorMask.set([!0,!0,!0,!0])),void 0!==a&&(d|=c.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(a),this.depthMask.set(!0)),c.clear(d)},Da.prototype.setCullFace=function(a){!1===a.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))},Da.prototype.setDepthMode=function(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)},Da.prototype.setStencilMode=function(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)},Da.prototype.setColorMode=function(b){a.deepEqual(b.blendFunction,Ba.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(b.blendFunction),this.blendColor.set(b.blendColor)),this.colorMask.set(b.mask)},Da.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ea=function(b){function c(c,d,e){var f=this;b.call(this),this.id=c,this.dispatcher=e,this.on("data",function(a){"source"===a.dataType&&"metadata"===a.sourceDataType&&(f._sourceLoaded=!0),f._sourceLoaded&&!f._paused&&"source"===a.dataType&&"content"===a.sourceDataType&&(f.reload(),f.transform&&f.update(f.transform))}),this.on("error",function(){f._sourceErrored=!0}),this._source=D(c,d,e,this),this._tiles={},this._cache=new H(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new a.SourceFeatureState()}return b&&(c.__proto__=b),c.prototype=Object.create(b&&b.prototype),c.prototype.constructor=c,c.prototype.onAdd=function(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(a)},c.prototype.onRemove=function(a){this._source&&this._source.onRemove&&this._source.onRemove(a)},c.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var a in this._tiles){var b=this._tiles[a];if("loaded"!==b.state&&"errored"!==b.state)return!1}return!0},c.prototype.getSource=function(){return this._source},c.prototype.pause=function(){this._paused=!0},c.prototype.resume=function(){if(this._paused){var a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform)}},c.prototype._loadTile=function(a,b){return this._source.loadTile(a,b)},c.prototype._unloadTile=function(a){if(this._source.unloadTile)return this._source.unloadTile(a,function(){})},c.prototype._abortTile=function(a){if(this._source.abortTile)return this._source.abortTile(a,function(){})},c.prototype.serialize=function(){return this._source.serialize()},c.prototype.prepare=function(a){for(var b in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var c=this._tiles[b];c.upload(a),c.prepare(this.map.style.imageManager)}},c.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(Fa)},c.prototype.getRenderableIds=function(b){var c=this,d=[];for(var e in this._tiles)this._isIdRenderable(+e,b)&&d.push(+e);return b?d.sort(function(b,d){b=c._tiles[b].tileID;d=c._tiles[d].tileID;var e=new a.Point(b.canonical.x,b.canonical.y)._rotate(c.transform.angle),f=new a.Point(d.canonical.x,d.canonical.y)._rotate(c.transform.angle);return b.overscaledZ-d.overscaledZ||f.y-e.y||f.x-e.x}):d.sort(Fa)},c.prototype.hasRenderableParent=function(a){a=this.findLoadedParent(a,0);return!!a&&this._isIdRenderable(a.tileID.key)},c.prototype._isIdRenderable=function(a,b){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(b||!this._tiles[a].holdingForFade())},c.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var a in this._cache.reset(),this._tiles)"errored"!==this._tiles[a].state&&this._reloadTile(a,"reloading")},c.prototype._reloadTile=function(a,b){var c=this._tiles[a];c&&("loading"!==c.state&&(c.state=b),this._loadTile(c,this._tileLoaded.bind(this,c,a,b)))},c.prototype._tileLoaded=function(b,c,d,e){if(e)return b.state="errored",void (404!==e.status?this._source.fire(new a.ErrorEvent(e,{tile:b})):this.update(this.transform));b.timeAdded=a.browser.now(),"expired"===d&&(b.refreshedUponExpiration=!0),this._setTileReloadTimer(c,b),"raster-dem"===this.getSource().type&&b.dem&&this._backfillDEM(b),this._state.initializeTileState(b,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:b,coord:b.tileID}))},c.prototype._backfillDEM=function(a){for(var b=this.getRenderableIds(),c=0;c<b.length;c++){var d=b[c];if(a.neighboringTiles&&a.neighboringTiles[d]){d=this.getTileByID(d);e(a,d),e(d,a)}}function e(a,b){a.needsHillshadePrepare=!0;var c=b.tileID.canonical.x-a.tileID.canonical.x,d=b.tileID.canonical.y-a.tileID.canonical.y,e=Math.pow(2,a.tileID.canonical.z),f=b.tileID.key;0===c&&0===d||Math.abs(d)>1||(Math.abs(c)>1&&(1===Math.abs(c+e)?c+=e:1===Math.abs(c-e)&&(c-=e)),b.dem&&a.dem&&(a.dem.backfillBorder(b.dem,c,d),a.neighboringTiles&&a.neighboringTiles[f]&&(a.neighboringTiles[f].backfilled=!0)))}},c.prototype.getTile=function(a){return this.getTileByID(a.key)},c.prototype.getTileByID=function(a){return this._tiles[a]},c.prototype.getZoom=function(a){return a.zoom+a.scaleZoom(a.tileSize/this._source.tileSize)},c.prototype._retainLoadedChildren=function(a,b,c,d){for(var e in this._tiles){var f=this._tiles[e];if(!(d[e]||!f.hasData()||f.tileID.overscaledZ<=b||f.tileID.overscaledZ>c)){for(var g=f.tileID;f&&f.tileID.overscaledZ>b+1;){var h=f.tileID.scaledTo(f.tileID.overscaledZ-1);(f=this._tiles[h.key])&&f.hasData()&&(g=h)}for(var h=g;h.overscaledZ>b;)if(a[(h=h.scaledTo(h.overscaledZ-1)).key]){d[g.key]=g;break}}}},c.prototype.findLoadedParent=function(a,b){for(var c=a.overscaledZ-1;c>=b;c--){var d=a.scaledTo(c);if(!d)return;var e=String(d.key);e=this._tiles[e];if(e&&e.hasData())return e;if(this._cache.has(d))return this._cache.get(d)}},c.prototype.updateCacheSize=function(a){a=(Math.ceil(a.width/this._source.tileSize)+1)*(Math.ceil(a.height/this._source.tileSize)+1);a=Math.floor(5*a);a="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,a):a;this._cache.setMaxSize(a)},c.prototype.handleWrapJump=function(a){var b=(a-(void 0===this._prevLng?a:this._prevLng))/360;b=Math.round(b);if(this._prevLng=a,b){a={};for(var c in this._tiles){var d=this._tiles[c];d.tileID=d.tileID.unwrapTo(d.tileID.wrap+b),a[d.tileID.key]=d}for(var e in this._tiles=a,this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(var f in this._tiles){d=this._tiles[f];this._setTileReloadTimer(f,d)}}},c.prototype.update=function(b){var d=this;if(this.transform=b,this._sourceLoaded&&!this._paused){var e;this.updateCacheSize(b),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?e=b.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(b){return new a.OverscaledTileID(b.canonical.z,b.wrap,b.canonical.z,b.canonical.x,b.canonical.y)}):(e=b.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(e=e.filter(function(a){return d._source.hasTile(a)}))):e=[];b=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(b));var f=Math.max(b-c.maxOverzooming,this._source.minzoom),g=Math.max(b+c.maxUnderzooming,this._source.minzoom);e=this._updateRetainedTiles(e,b);if(Ga(this._source.type)){for(var s={},h={},i=0,j=Object.keys(e);i<j.length;i+=1){var t=j[i],k=e[t],l=this._tiles[t];if(l&&!(l.fadeEndTime&&l.fadeEndTime<=a.browser.now())){l=this.findLoadedParent(k,f);l&&(this._addTile(l.tileID),s[l.tileID.key]=l.tileID),h[t]=k}}for(var o in this._retainLoadedChildren(h,b,g,e),s)e[o]||(this._coveredTiles[o]=!0,e[o]=s[o])}for(var r in e)this._tiles[r].clearFadeHold();for(var l=0,t=a.keysDifference(this._tiles,e);l<t.length;l+=1){k=t[l];i=this._tiles[k];i.hasSymbolBuckets&&!i.holdingForFade()?i.setHoldDuration(this.map._fadeDuration):i.hasSymbolBuckets&&!i.symbolFadeFinished()||this._removeTile(k)}}},c.prototype.releaseSymbolFadeTiles=function(){for(var a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)},c.prototype._updateRetainedTiles=function(a,b){for(var d={},e={},f=Math.max(b-c.maxOverzooming,this._source.minzoom),g=Math.max(b+c.maxUnderzooming,this._source.minzoom),h={},i=0,l=a;i<l.length;i+=1){var j=l[i],k=this._addTile(j);d[j.key]=j,k.hasData()||b<this._source.maxzoom&&(h[j.key]=j)}this._retainLoadedChildren(h,b,g,d);for(var k=0,j=a;k<j.length;k+=1){l=j[k];i=this._tiles[l.key];if(!i.hasData()){if(b+1>this._source.maxzoom){h=l.children(this._source.maxzoom)[0];g=this.getTile(h);if(g&&g.hasData()){d[h.key]=h;continue}}else{a=l.children(this._source.maxzoom);if(d[a[0].key]&&d[a[1].key]&&d[a[2].key]&&d[a[3].key])continue}for(var g=i.wasRequested(),h=l.overscaledZ-1;h>=f;--h){a=l.scaledTo(h);if(e[a.key])break;if(e[a.key]=!0,!(i=this.getTile(a))&&g&&(i=this._addTile(a)),i&&(d[a.key]=a,g=i.wasRequested(),i.hasData()))break}}}return d},c.prototype._addTile=function(b){var c=this._tiles[b.key];if(c)return c;(c=this._cache.getAndRemove(b))&&(this._setTileReloadTimer(b.key,c),c.tileID=b,this._state.initializeTileState(c,this.map?this.map.painter:null),this._cacheTimers[b.key]&&(clearTimeout(this._cacheTimers[b.key]),delete this._cacheTimers[b.key],this._setTileReloadTimer(b.key,c)));var d=Boolean(c);return d||(c=new a.Tile(b,this._source.tileSize*b.overscaleFactor()),this._loadTile(c,this._tileLoaded.bind(this,c,b.key,c.state))),c?(c.uses++,this._tiles[b.key]=c,d||this._source.fire(new a.Event("dataloading",{tile:c,coord:c.tileID,dataType:"source"})),c):null},c.prototype._setTileReloadTimer=function(a,b){var c=this;a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);b=b.getExpiryTimeout();b&&(this._timers[a]=setTimeout(function(){c._reloadTile(a,"expired"),delete c._timers[a]},b))},c.prototype._removeTile=function(a){var b=this._tiles[a];b&&(b.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),b.uses>0||(b.hasData()?this._cache.add(b.tileID,b,b.getExpiryTimeout()):(b.aborted=!0,this._abortTile(b),this._unloadTile(b))))},c.prototype.clearTiles=function(){for(var a in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(a);this._cache.reset()},c.prototype.tilesIn=function(b,c,d){var e=this,f=[],g=this.transform;if(!g)return f;for(var d=d?g.getCameraQueryGeometry(b):b,h=b.map(function(a){return g.pointCoordinate(a)}),r=d.map(function(a){return g.pointCoordinate(a)}),i=this.getIds(),j=1/0,k=1/0,s=-1/0,l=-1/0,b=0,d=r;b<d.length;b+=1){var q=d[b];j=Math.min(j,q.x),k=Math.min(k,q.y),s=Math.max(s,q.x),l=Math.max(l,q.y)}for(var q=function(b){b=e._tiles[i[b]];if(!b.holdingForFade()){var d=b.tileID,m=Math.pow(2,g.zoom-b.tileID.overscaledZ),q=c*b.queryPadding*a.EXTENT/b.tileSize/m,t=[d.getTilePoint(new a.MercatorCoordinate(j,k)),d.getTilePoint(new a.MercatorCoordinate(s,l))];if(t[0].x-q<a.EXTENT&&t[0].y-q<a.EXTENT&&t[1].x+q>=0&&t[1].y+q>=0){t=h.map(function(a){return d.getTilePoint(a)});q=r.map(function(a){return d.getTilePoint(a)});f.push({tile:b,tileID:d,queryGeometry:t,cameraQueryGeometry:q,scale:m})}}},b=0;b<i.length;b++)q(b);return f},c.prototype.getVisibleCoordinates=function(a){for(var b=this,a=this.getRenderableIds(a).map(function(a){return b._tiles[a].tileID}),c=0,d=a;c<d.length;c+=1){var e=d[c];e.posMatrix=this.transform.calculatePosMatrix(e.toUnwrapped())}return a},c.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ga(this._source.type))for(var b in this._tiles){var c=this._tiles[b];if(void 0!==c.fadeEndTime&&c.fadeEndTime>=a.browser.now())return!0}return!1},c.prototype.setFeatureState=function(a,b,c){a=a||"_geojsonTileLayer",this._state.updateState(a,b,c)},c.prototype.removeFeatureState=function(a,b,c){a=a||"_geojsonTileLayer",this._state.removeFeatureState(a,b,c)},c.prototype.getFeatureState=function(a,b){return a=a||"_geojsonTileLayer",this._state.getState(a,b)},c}(a.Evented);function Fa(a,b){return a%32-b%32||b-a}function Ga(a){return"raster"===a||"image"===a||"video"===a}function Ha(){return new a.window.Worker($.workerUrl)}Ea.maxOverzooming=10,Ea.maxUnderzooming=3;var Ia=function(){this.active={}};Ia.prototype.acquire=function(a){if(!this.workers)for(this.workers=[];this.workers.length<Ia.workerCount;)this.workers.push(new Ha());return this.active[a]=!0,this.workers.slice()},Ia.prototype.release=function(a){delete this.active[a],0===Object.keys(this.active).length&&(this.workers.forEach(function(a){a.terminate()}),this.workers=null)};var Ja;x=Math.floor(a.browser.hardwareConcurrency/2);function Ka(b,c){var d={};for(var e in b)"ref"!==e&&(d[e]=b[e]);return a.refProperties.forEach(function(a){a in c&&(d[a]=c[a])}),d}function La(a){a=a.slice();for(var b=Object.create(null),c=0;c<a.length;c++)b[a[c].id]=a[c];for(var c=0;c<a.length;c++)"ref"in a[c]&&(a[c]=Ka(a[c],b[a[c].ref]));return a}Ia.workerCount=Math.max(Math.min(x,6),1);var U={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function V(a,b,c){c.push({command:U.addSource,args:[a,b[a]]})}function Ma(a,b,c){b.push({command:U.removeSource,args:[a]}),c[a]=!0}function Na(a,b,c,d){Ma(a,c,d),V(a,b,c)}function Oa(b,c,d){var e;for(e in b[d])if(b[d].hasOwnProperty(e)&&"data"!==e&&!a.deepEqual(b[d][e],c[d][e]))return!1;for(e in c[d])if(c[d].hasOwnProperty(e)&&"data"!==e&&!a.deepEqual(b[d][e],c[d][e]))return!1;return!0}function Pa(b,c,d,e,f,g){var h;for(h in c=c||{},b=b||{})b.hasOwnProperty(h)&&(a.deepEqual(b[h],c[h])||d.push({command:g,args:[e,h,c[h],f]}));for(h in c)c.hasOwnProperty(h)&&!b.hasOwnProperty(h)&&(a.deepEqual(b[h],c[h])||d.push({command:g,args:[e,h,c[h],f]}))}function Qa(a){return a.id}function Ra(a,b){return a[b.id]=b,a}function Sa(b,c){if(!b)return[{command:U.setStyle,args:[c]}];var d=[];try{if(!a.deepEqual(b.version,c.version))return[{command:U.setStyle,args:[c]}];a.deepEqual(b.center,c.center)||d.push({command:U.setCenter,args:[c.center]}),a.deepEqual(b.zoom,c.zoom)||d.push({command:U.setZoom,args:[c.zoom]}),a.deepEqual(b.bearing,c.bearing)||d.push({command:U.setBearing,args:[c.bearing]}),a.deepEqual(b.pitch,c.pitch)||d.push({command:U.setPitch,args:[c.pitch]}),a.deepEqual(b.sprite,c.sprite)||d.push({command:U.setSprite,args:[c.sprite]}),a.deepEqual(b.glyphs,c.glyphs)||d.push({command:U.setGlyphs,args:[c.glyphs]}),a.deepEqual(b.transition,c.transition)||d.push({command:U.setTransition,args:[c.transition]}),a.deepEqual(b.light,c.light)||d.push({command:U.setLight,args:[c.light]});var e={},f=[];!function(b,c,d,e){var f;for(f in c=c||{},b=b||{})b.hasOwnProperty(f)&&(c.hasOwnProperty(f)||Ma(f,d,e));for(f in c)c.hasOwnProperty(f)&&(b.hasOwnProperty(f)?a.deepEqual(b[f],c[f])||("geojson"===b[f].type&&"geojson"===c[f].type&&Oa(b,c,f)?d.push({command:U.setGeoJSONSourceData,args:[f,c[f].data]}):Na(f,c,d,e)):V(f,c,d))}(b.sources,c.sources,f,e);var g=[];b.layers&&b.layers.forEach(function(a){e[a.source]?d.push({command:U.removeLayer,args:[a.id]}):g.push(a)}),d=d.concat(f),(function(b,c,d){c=c||[];var e,f,g,h,i,j=(b=b||[]).map(Qa),k=c.map(Qa);b=b.reduce(Ra,{});c=c.reduce(Ra,{});var l=j.slice(),m=Object.create(null);for(e=0,f=0;e<j.length;e++)g=j[e],c.hasOwnProperty(g)?f++:(d.push({command:U.removeLayer,args:[g]}),l.splice(l.indexOf(g,f),1));for(e=0,f=0;e<k.length;e++)g=k[k.length-1-e],l[l.length-1-e]!==g&&(b.hasOwnProperty(g)?(d.push({command:U.removeLayer,args:[g]}),l.splice(l.lastIndexOf(g,l.length-f),1)):f++,j=l[l.length-e],d.push({command:U.addLayer,args:[c[g],j]}),l.splice(l.length-e,0,g),m[g]=!0);for(e=0;e<k.length;e++)if(f=b[g=k[e]],h=c[g],!m[g]&&!a.deepEqual(f,h))if(a.deepEqual(f.source,h.source)&&a.deepEqual(f["source-layer"],h["source-layer"])&&a.deepEqual(f.type,h.type)){for(i in Pa(f.layout,h.layout,d,g,null,U.setLayoutProperty),Pa(f.paint,h.paint,d,g,null,U.setPaintProperty),a.deepEqual(f.filter,h.filter)||d.push({command:U.setFilter,args:[g,h.filter]}),a.deepEqual(f.minzoom,h.minzoom)&&a.deepEqual(f.maxzoom,h.maxzoom)||d.push({command:U.setLayerZoomRange,args:[g,h.minzoom,h.maxzoom]}),f)f.hasOwnProperty(i)&&"layout"!==i&&"paint"!==i&&"filter"!==i&&"metadata"!==i&&"minzoom"!==i&&"maxzoom"!==i&&(0===i.indexOf("paint.")?Pa(f[i],h[i],d,g,i.slice(6),U.setPaintProperty):a.deepEqual(f[i],h[i])||d.push({command:U.setLayerProperty,args:[g,i,h[i]]}));for(i in h)h.hasOwnProperty(i)&&!f.hasOwnProperty(i)&&"layout"!==i&&"paint"!==i&&"filter"!==i&&"metadata"!==i&&"minzoom"!==i&&"maxzoom"!==i&&(0===i.indexOf("paint.")?Pa(f[i],h[i],d,g,i.slice(6),U.setPaintProperty):a.deepEqual(f[i],h[i])||d.push({command:U.setLayerProperty,args:[g,i,h[i]]}))}else d.push({command:U.removeLayer,args:[g]}),j=l[l.lastIndexOf(g)+1],d.push({command:U.addLayer,args:[h,j]})})(g,c.layers,d)}catch(a){!1,d=[{command:U.setStyle,args:[c]}]}return d}var Ta=function(a,b,c){var d=this.boxCells=[],e=this.circleCells=[];this.xCellCount=Math.ceil(a/c),this.yCellCount=Math.ceil(b/c);for(var c=0;c<this.xCellCount*this.yCellCount;c++)d.push([]),e.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=b,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/b,this.boxUid=0,this.circleUid=0};function W(b,c,d,e,f){var g=a.create();return c?(a.scale(g,g,[1/f,1/f,1]),d||a.rotateZ(g,g,e.angle)):a.multiply(g,e.labelPlaneMatrix,b),g}function Ua(b,c,d,e,f){if(c){c=a.clone(b);return a.scale(c,c,[f,f,1]),d||a.rotateZ(c,c,-e.angle),c}return e.glCoordMatrix}function Va(b,c){b=[b.x,b.y,0,1];eb(b,b,c);c=b[3];return{point:new a.Point(b[0]/c,b[1]/c),signedDistanceFromCamera:c}}function Wa(a,b){var c=a[0]/a[3];a=a[1]/a[3];return c>=-b[0]&&c<=b[0]&&a>=-b[1]&&a<=b[1]}function Xa(b,c,d,e,f,g,h,i){var C=e?b.textSizeData:b.iconSizeData,j=a.evaluateSizeForZoom(C,d.transform.zoom),k=[256/d.width*2+1,256/d.height*2+1],l=e?b.text.dynamicLayoutVertexArray:b.icon.dynamicLayoutVertexArray;l.clear();for(var D=b.lineVertexArray,r=e?b.text.placedSymbolArray:b.icon.placedSymbolArray,t=d.transform.width/d.transform.height,u=!1,x=0;x<r.length;x++){var y=r.get(x);if(y.hidden||y.writingMode===a.WritingMode.vertical&&!u)db(y.numGlyphs,l);else{u=!1;var E=[y.anchorX,y.anchorY,0,1];if(a.transformMat4(E,E,c),Wa(E,k)){E=.5+E[3]/d.transform.cameraToCenterDistance*.5;var z=a.evaluateSizeForFeature(C,j,y);z=h?z*E:z/E;E=new a.Point(y.anchorX,y.anchorY);var A=Va(E,f).point,B={},F=$a(y,z,!1,i,c,f,g,b.glyphOffsetArray,D,l,A,E,B,t);u=F.useVertical,(F.notEnoughRoom||u||F.needsFlipping&&$a(y,z,!0,i,c,f,g,b.glyphOffsetArray,D,l,A,E,B,t).notEnoughRoom)&&db(y.numGlyphs,l)}else db(y.numGlyphs,l)}}e?b.text.dynamicLayoutVertexBuffer.updateData(l):b.icon.dynamicLayoutVertexBuffer.updateData(l)}function Ya(a,b,c,d,e,f,g,h,i,q,j,k){var l=h.glyphStartIndex+h.numGlyphs,r=h.lineStartIndex,o=h.lineStartIndex+h.lineLength,p=b.getoffsetX(h.glyphStartIndex);b=b.getoffsetX(l-1);l=bb(a*p,c,d,e,f,g,h.segment,r,o,i,q,j,k);if(!l)return null;p=bb(a*b,c,d,e,f,g,h.segment,r,o,i,q,j,k);return p?{first:l,last:p}:null}function Za(b,c,d,e){return b===a.WritingMode.horizontal&&Math.abs(d.y-c.y)>Math.abs(d.x-c.x)*e?{useVertical:!0}:(b===a.WritingMode.vertical?c.y<d.y:c.x>d.x)?{needsFlipping:!0}:null}function $a(b,c,d,e,f,g,h,i,A,j,k,l,B,n){c=c/24;var o=b.lineOffsetX*c,v=b.lineOffsetY*c;if(b.numGlyphs>1){var C=b.glyphStartIndex+b.numGlyphs,w=b.lineStartIndex,x=b.lineStartIndex+b.lineLength,y=Ya(c,i,o,v,d,k,l,b,A,g,B,!1);if(!y)return{notEnoughRoom:!0};var z=Va(y.first.point,h).point;h=Va(y.last.point,h).point;if(e&&!d){z=Za(b.writingMode,z,h,n);if(z)return z}h=[y.first];for(var z=b.glyphStartIndex+1;z<C-1;z++)h.push(bb(c*i.getoffsetX(z),o,v,d,k,l,b.segment,w,x,A,g,B,!1));h.push(y.last)}else{if(e&&!d){z=Va(l,f).point;x=b.lineStartIndex+b.segment+1;w=new a.Point(A.getx(x),A.gety(x));C=Va(w,f);y=C.signedDistanceFromCamera>0?C.point:ab(l,w,z,1,f);e=Za(b.writingMode,z,y,n);if(e)return e}x=bb(c*i.getoffsetX(b.glyphStartIndex),o,v,d,k,l,b.segment,b.lineStartIndex,b.lineStartIndex+b.lineLength,A,g,B,!1);if(!x)return{notEnoughRoom:!0};h=[x]}for(var C=0,w=h;C<w.length;C+=1){f=w[C];a.addDynamicAttributes(j,f.point,f.angle)}return{}}function ab(a,b,c,d,e){a=Va(a.add(a.sub(b)._unit()),e).point;b=c.sub(a);return c.add(b._mult(d/b.mag()))}function bb(b,c,d,e,f,g,h,i,u,j,k,l,x){b=e?b-c:b+c;c=b>0?1:-1;var m=0;e&&(c*=-1,m=Math.PI),c<0&&(m+=Math.PI);for(var e=c>0?i+h:i+h+1,h=e,y=f,f=f,n=0,p=0,b=Math.abs(b);n+p<=b;){if((e+=c)<i||e>=u)return null;if(f=y,void 0===(y=l[e])){var q=new a.Point(j.getx(e),j.gety(e)),r=Va(q,k);if(r.signedDistanceFromCamera>0)y=l[e]=r.point;else{r=e-c;y=ab(0===n?g:new a.Point(j.getx(r),j.gety(r)),q,f,b-n+1,k)}}n+=p,p=f.dist(y)}r=(b-n)/p;q=y.sub(f);u=q.mult(r)._add(f);return u._add(q._unit()._perp()._mult(d*c)),{point:u,angle:m+Math.atan2(y.y-f.y,y.x-f.x),tileDistance:x?{prevTileDistance:e-c===h?0:j.gettileUnitDistanceFromAnchor(e-c),lastSegmentViewportDistance:b-n}:null}}Ta.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ta.prototype.insert=function(a,b,c,d,e){this._forEachCell(b,c,d,e,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(b),this.bboxes.push(c),this.bboxes.push(d),this.bboxes.push(e)},Ta.prototype.insertCircle=function(a,b,c,d){this._forEachCell(b-d,c-d,b+d,c+d,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(b),this.circles.push(c),this.circles.push(d)},Ta.prototype._insertBoxCell=function(a,b,c,d,e,f){this.boxCells[e].push(f)},Ta.prototype._insertCircleCell=function(a,b,c,d,e,f){this.circleCells[e].push(f)},Ta.prototype._query=function(a,b,c,d,e,f){if(c<0||a>this.width||d<0||b>this.height)return!e&&[];var g=[];if(a<=0&&b<=0&&this.width<=c&&this.height<=d){if(e)return!0;for(var h=0;h<this.boxKeys.length;h++)g.push({key:this.boxKeys[h],x1:this.bboxes[4*h],y1:this.bboxes[4*h+1],x2:this.bboxes[4*h+2],y2:this.bboxes[4*h+3]});for(var h=0;h<this.circleKeys.length;h++){var k=this.circles[3*h],i=this.circles[3*h+1],j=this.circles[3*h+2];g.push({key:this.circleKeys[h],x1:k-j,y1:i-j,x2:k+j,y2:i+j})}return f?g.filter(f):g}k={hitTest:e,seenUids:{box:{},circle:{}}};return this._forEachCell(a,b,c,d,this._queryCell,g,k,f),e?g.length>0:g},Ta.prototype._queryCircle=function(a,b,c,d,e){var f=a-c,g=a+c,h=b-c,i=b+c;if(g<0||f>this.width||i<0||h>this.height)return!d&&[];var j=[];a={hitTest:d,circle:{x:a,y:b,radius:c},seenUids:{box:{},circle:{}}};return this._forEachCell(f,h,g,i,this._queryCellCircle,j,a,e),d?j.length>0:j},Ta.prototype.query=function(a,b,c,d,e){return this._query(a,b,c,d,!1,e)},Ta.prototype.hitTest=function(a,b,c,d,e){return this._query(a,b,c,d,!0,e)},Ta.prototype.hitTestCircle=function(a,b,c,d){return this._queryCircle(a,b,c,!0,d)},Ta.prototype._queryCell=function(a,b,c,d,e,f,g,h){var i=g.seenUids,o=this.boxCells[e];if(null!==o)for(var j=this.bboxes,k=0,o=o;k<o.length;k+=1){var p=o[k];if(!i.box[p]){i.box[p]=!0;var l=4*p;if(a<=j[l+2]&&b<=j[l+3]&&c>=j[l+0]&&d>=j[l+1]&&(!h||h(this.boxKeys[p]))){if(g.hitTest)return f.push(!0),!0;f.push({key:this.boxKeys[p],x1:j[l],y1:j[l+1],x2:j[l+2],y2:j[l+3]})}}}p=this.circleCells[e];if(null!==p)for(var l=this.circles,k=0,o=p;k<o.length;k+=1){j=o[k];if(!i.circle[j]){i.circle[j]=!0;e=3*j;if(this._circleAndRectCollide(l[e],l[e+1],l[e+2],a,b,c,d)&&(!h||h(this.circleKeys[j]))){if(g.hitTest)return f.push(!0),!0;p=l[e];var n=l[e+1];e=l[e+2];f.push({key:this.circleKeys[j],x1:p-e,y1:n-e,x2:p+e,y2:n+e})}}}},Ta.prototype._queryCellCircle=function(a,b,c,d,e,f,g,h){a=g.circle;b=g.seenUids;c=this.boxCells[e];if(null!==c)for(var d=this.bboxes,g=0,c=c;g<c.length;g+=1){var i=c[g];if(!b.box[i]){b.box[i]=!0;var j=4*i;if(this._circleAndRectCollide(a.x,a.y,a.radius,d[j+0],d[j+1],d[j+2],d[j+3])&&(!h||h(this.boxKeys[i])))return f.push(!0),!0}}j=this.circleCells[e];if(null!==j)for(var i=this.circles,c=0,d=j;c<d.length;c+=1){g=d[c];if(!b.circle[g]){b.circle[g]=!0;e=3*g;if(this._circlesCollide(i[e],i[e+1],i[e+2],a.x,a.y,a.radius)&&(!h||h(this.circleKeys[g])))return f.push(!0),!0}}},Ta.prototype._forEachCell=function(a,b,c,d,e,f,g,h){for(var i=this._convertToXCellCoord(a),n=this._convertToYCellCoord(b),j=this._convertToXCellCoord(c),k=this._convertToYCellCoord(d),i=i;i<=j;i++)for(var o=n;o<=k;o++){var l=this.xCellCount*o+i;if(e.call(this,a,b,c,d,l,f,g,h))return}},Ta.prototype._convertToXCellCoord=function(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))},Ta.prototype._convertToYCellCoord=function(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))},Ta.prototype._circlesCollide=function(a,b,c,d,e,f){d=d-a;a=e-b;e=c+f;return e*e>d*d+a*a},Ta.prototype._circleAndRectCollide=function(a,b,c,d,e,f,g){f=(f-d)/2;a=Math.abs(a-(d+f));if(a>f+c)return!1;d=(g-e)/2;g=Math.abs(b-(e+d));if(g>d+c)return!1;if(a<=f||g<=d)return!0;b=a-f;e=g-d;return b*b+e*e<=c*c};var cb=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function db(a,b){for(var c=0;c<a;c++){var d=b.length;b.resize(d+4),b.float32.set(cb,3*d)}}function eb(a,b,c){var d=b[0];b=b[1];return a[0]=c[0]*d+c[4]*b+c[12],a[1]=c[1]*d+c[5]*b+c[13],a[3]=c[3]*d+c[7]*b+c[15],a}var fb=function(a,b,c){void 0===b&&(b=new Ta(a.width+200,a.height+200,25)),void 0===c&&(c=new Ta(a.width+200,a.height+200,25)),this.transform=a,this.grid=b,this.ignoredGrid=c,this.pitchfactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+100,this.screenBottomBoundary=a.height+100,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200};function gb(a,b,c){a[b+4]=c?1:0}function hb(b,c,d){return c*(a.EXTENT/(b.tileSize*Math.pow(2,d-b.tileID.overscaledZ)))}fb.prototype.placeCollisionBox=function(a,b,c,d,e){d=this.projectAndGetPerspectiveRatio(d,a.anchorPointX,a.anchorPointY);c=c*d.perspectiveRatio;var f=a.x1*c+d.point.x,g=a.y1*c+d.point.y,h=a.x2*c+d.point.x;a=a.y2*c+d.point.y;return!this.isInsideGrid(f,g,h,a)||!b&&this.grid.hitTest(f,g,h,a,e)?{box:[],offscreen:!1}:{box:[f,g,h,a],offscreen:this.isOffscreen(f,g,h,a)}},fb.prototype.approximateTileDistance=function(a,b,c,d,e){e=e?1:d/this.pitchfactor;d=a.lastSegmentViewportDistance*c;return a.prevTileDistance+d+(e-1)*d*Math.abs(Math.sin(b))},fb.prototype.placeCollisionCircles=function(b,c,d,e,f,g,h,i,v,j,k,l,w){var q=[],r=this.projectAnchor(v,f.anchorX,f.anchorY),s=i/24,t=f.lineOffsetX*i;i=f.lineOffsetY*i;var x=new a.Point(f.anchorX,f.anchorY);s=Ya(s,h,t,i,!1,Va(x,j).point,x,f,g,j,{},!0);h=!1;t=!1;i=!0;x=r.perspectiveRatio*e;f=1/(e*d);g=0;j=0;s&&(g=this.approximateTileDistance(s.first.tileDistance,s.first.angle,f,r.cameraDistance,l),j=this.approximateTileDistance(s.last.tileDistance,s.last.angle,f,r.cameraDistance,l));for(var e=0;e<b.length;e+=5){d=b[e];f=b[e+1];r=b[e+2];l=b[e+3];if(!s||l<-g||l>j)gb(b,e,!1);else{l=this.projectPoint(v,d,f);d=r*x;if(q.length>0){f=l.x-q[q.length-4];r=l.y-q[q.length-3];if(d*d*2>f*f+r*r&&e+8<b.length){f=b[e+8];if(f>-g&&f<j){gb(b,e,!1);continue}}}r=e/5;q.push(l.x,l.y,d,r),gb(b,e,!0);f=l.x-d;r=l.y-d;var u=l.x+d,y=l.y+d;if(i=i&&this.isOffscreen(f,r,u,y),t=t||this.isInsideGrid(f,r,u,y),!c&&this.grid.hitTestCircle(l.x,l.y,d,w)){if(!k)return{circles:[],offscreen:!1};h=!0}}}return{circles:h||!t?[]:q,offscreen:i}},fb.prototype.queryRenderedSymbols=function(b){if(0===b.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var c=[],d=1/0,e=1/0,f=-1/0,g=-1/0,h=0,b=b;h<b.length;h+=1){var i=b[h];i=new a.Point(i.x+100,i.y+100);d=Math.min(d,i.x),e=Math.min(e,i.y),f=Math.max(f,i.x),g=Math.max(g,i.y),c.push(i)}for(var i={},b={},h=0,d=this.grid.query(d,e,f,g).concat(this.ignoredGrid.query(d,e,f,g));h<d.length;h+=1){e=d[h];f=e.key;if(void 0===i[f.bucketInstanceId]&&(i[f.bucketInstanceId]={}),!i[f.bucketInstanceId][f.featureIndex]){g=[new a.Point(e.x1,e.y1),new a.Point(e.x2,e.y1),new a.Point(e.x2,e.y2),new a.Point(e.x1,e.y2)];a.polygonIntersectsPolygon(c,g)&&(i[f.bucketInstanceId][f.featureIndex]=!0,void 0===b[f.bucketInstanceId]&&(b[f.bucketInstanceId]=[]),b[f.bucketInstanceId].push(f.featureIndex))}}return b},fb.prototype.insertCollisionBox=function(a,b,c,d,e){c={bucketInstanceId:c,featureIndex:d,collisionGroupID:e};(b?this.ignoredGrid:this.grid).insert(c,a[0],a[1],a[2],a[3])},fb.prototype.insertCollisionCircles=function(a,b,c,d,e){for(var b=b?this.ignoredGrid:this.grid,c={bucketInstanceId:c,featureIndex:d,collisionGroupID:e},d=0;d<a.length;d+=4)b.insertCircle(c,a[d],a[d+1],a[d+2])},fb.prototype.projectAnchor=function(a,b,c){b=[b,c,0,1];return eb(b,b,a),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/b[3]*.5,cameraDistance:b[3]}},fb.prototype.projectPoint=function(b,c,d){c=[c,d,0,1];return eb(c,c,b),new a.Point((c[0]/c[3]+1)/2*this.transform.width+100,(-c[1]/c[3]+1)/2*this.transform.height+100)},fb.prototype.projectAndGetPerspectiveRatio=function(b,c,d){c=[c,d,0,1];return eb(c,c,b),{point:new a.Point((c[0]/c[3]+1)/2*this.transform.width+100,(-c[1]/c[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/c[3]*.5}},fb.prototype.isOffscreen=function(a,b,c,d){return c<100||a>=this.screenRightBoundary||d<100||b>this.screenBottomBoundary},fb.prototype.isInsideGrid=function(a,b,c,d){return c>=0&&a<this.gridRightBoundary&&d>=0&&b<this.gridBottomBoundary};var ib=function(a,b,c,d){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?b:-b))):d&&c?1:0,this.placed=c};ib.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var jb=function(a,b,c,d,e){this.text=new ib(a?a.text:null,b,c,e),this.icon=new ib(a?a.icon:null,b,d,e)};jb.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var kb=function(a,b,c){this.text=a,this.icon=b,this.skipFade=c},lb=function(a,b,c,d,e){this.bucketInstanceId=a,this.featureIndex=b,this.sourceLayerIndex=c,this.bucketIndex=d,this.tileID=e},mb=function(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}};function nb(b,c,d,e,f){var g=a.getAnchorAlignment(b);c=-(g.horizontalAlign-.5)*c;g=-(g.verticalAlign-.5)*d;d=a.evaluateRadialOffset(b,e);return new a.Point(c+d[0]*f,g+d[1]*f)}mb.prototype.get=function(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){var b=++this.maxGroupID;this.collisionGroups[a]={ID:b,predicate:function(a){return a.collisionGroupID===b}}}return this.collisionGroups[a]};var ob=function(a,b,c,d){this.transform=a.clone(),this.collisionIndex=new fb(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=b,this.retainedQueryData={},this.collisionGroups=new mb(c),this.prevPlacement=d,d&&(d.prevPlacement=void 0)};function pb(a,b,c,d,e){a.emplaceBack(b?1:0,c?1:0,d||0,e||0),a.emplaceBack(b?1:0,c?1:0,d||0,e||0),a.emplaceBack(b?1:0,c?1:0,d||0,e||0),a.emplaceBack(b?1:0,c?1:0,d||0,e||0)}ob.prototype.placeLayerTile=function(b,c,d,e){var f=c.getBucket(b),g=c.latestFeatureIndex;if(f&&g&&b.id===f.layerIds[0]){b=c.collisionBoxArray;var h=f.layers[0].layout,l=Math.pow(2,this.transform.zoom-c.tileID.overscaledZ),i=c.tileSize/a.EXTENT,j=this.transform.calculatePosMatrix(c.tileID.toUnwrapped()),k=W(j,"map"===h.get("text-pitch-alignment"),"map"===h.get("text-rotation-alignment"),this.transform,hb(c,1,this.transform.zoom));h=W(j,"map"===h.get("icon-pitch-alignment"),"map"===h.get("icon-rotation-alignment"),this.transform,hb(c,1,this.transform.zoom));this.retainedQueryData[f.bucketInstanceId]=new lb(f.bucketInstanceId,g,f.sourceLayerIndex,f.index,c.tileID),this.placeLayerBucket(f,j,k,h,l,i,d,c.holdingForFade(),e,b)}},ob.prototype.attemptAnchorPlacement=function(b,c,d,e,f,g,h,i,s,j,k,l,t,p){var q,r=nb(b,d,e,f,g);c=this.collisionIndex.placeCollisionBox(function(b,c,d,e,f,g){var h=b.x1,i=b.x2,l=b.y1,j=b.y2,k=b.anchorPointX;b=b.anchorPointY;c=new a.Point(c,d);return e&&c._rotate(f?g:-g),{x1:h+c.x,y1:l+c.y,x2:i+c.x,y2:j+c.y,anchorPointX:k,anchorPointY:b}}(c,r.x,r.y,h,i,this.transform.angle),l,s,j,k.predicate);if(c.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[t.crossTileID]&&this.prevPlacement.placements[t.crossTileID]&&this.prevPlacement.placements[t.crossTileID].text&&(q=this.prevPlacement.variableOffsets[t.crossTileID].anchor),this.variableOffsets[t.crossTileID]={radialOffset:f,width:d,height:e,anchor:b,textBoxScale:g,prevAnchor:q},this.markUsedJustification(p,b,t),c},ob.prototype.placeLayerBucket=function(b,c,d,e,f,g,h,i,O,j){var k=this,l=b.layers[0].layout,P=a.evaluateSizeForZoom(b.textSizeData,this.transform.zoom),G=l.get("text-optional"),I=l.get("icon-optional"),J=l.get("text-allow-overlap");e=l.get("icon-allow-overlap");var K=J&&(e||!b.hasIconData()||I),aa=e&&(J||!b.hasTextData()||G),L=this.collisionGroups.get(b.sourceID),M="map"===l.get("text-rotation-alignment"),N="map"===l.get("text-pitch-alignment");e="viewport-y"===l.get("symbol-z-order");!b.collisionArrays&&j&&b.deserializeCollisionBoxes(j);j=function(e,j){if(!O[e.crossTileID])if(i)k.placements[e.crossTileID]=new kb(!1,!1,!1);else{var m=!1,n=!1,o=!0,q=null,ea=null,fa=null,r=0,s=0;j.textFeatureIndex&&(r=j.textFeatureIndex);var t=j.textBox;if(t)if(l.get("text-variable-anchor")){var Q=t.x2-t.x1,R=t.y2-t.y1,S=e.textBoxScale,T=l.get("text-variable-anchor");if(k.prevPlacement&&k.prevPlacement.variableOffsets[e.crossTileID]){var ba=k.prevPlacement.variableOffsets[e.crossTileID];T[0]!==ba.anchor&&(T=T.filter(function(a){return a!==ba.anchor})).unshift(ba.anchor)}for(var ca=0,T=T;ca<T.length;ca+=1){var da=T[ca];if(q=k.attemptAnchorPlacement(da,t,Q,R,e.radialTextOffset,S,M,N,g,c,L,J,e,b)){m=!0;break}}if(!k.variableOffsets[e.crossTileID]&&k.prevPlacement){da=k.prevPlacement.variableOffsets[e.crossTileID];da&&(k.variableOffsets[e.crossTileID]=da,k.markUsedJustification(b,da.anchor,e))}}else m=(q=k.collisionIndex.placeCollisionBox(t,l.get("text-allow-overlap"),g,c,L.predicate)).box.length>0;o=q&&q.offscreen;ca=j.textCircles;if(ca){Q=b.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex);R=a.evaluateSizeForFeature(b.textSizeData,P,Q);ea=k.collisionIndex.placeCollisionCircles(ca,l.get("text-allow-overlap"),f,g,Q,b.lineVertexArray,b.glyphOffsetArray,R,c,d,h,N,L.predicate),m=l.get("text-allow-overlap")||ea.circles.length>0,o=o&&ea.offscreen}j.iconFeatureIndex&&(s=j.iconFeatureIndex),j.iconBox&&(n=(fa=k.collisionIndex.placeCollisionBox(j.iconBox,l.get("icon-allow-overlap"),g,c,L.predicate)).box.length>0,o=o&&fa.offscreen);T=G||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices;S=I||0===e.numIconVertices;T||S?S?T||(n=n&&m):m=n&&m:n=m=n&&m,m&&q&&k.collisionIndex.insertCollisionBox(q.box,l.get("text-ignore-placement"),b.bucketInstanceId,r,L.ID),n&&fa&&k.collisionIndex.insertCollisionBox(fa.box,l.get("icon-ignore-placement"),b.bucketInstanceId,s,L.ID),m&&ea&&k.collisionIndex.insertCollisionCircles(ea.circles,l.get("text-ignore-placement"),b.bucketInstanceId,r,L.ID),k.placements[e.crossTileID]=new kb(m||K,n||aa,o||b.justReloaded),O[e.crossTileID]=!0}};if(e)for(var e=b.getSortedSymbolIndexes(this.transform.angle),Q=e.length-1;Q>=0;--Q){var R=e[Q];j(b.symbolInstances.get(R),b.collisionArrays[R])}else for(var R=0;R<b.symbolInstances.length;++R)j(b.symbolInstances.get(R),b.collisionArrays[R]);b.justReloaded=!1},ob.prototype.markUsedJustification=function(b,c,d){var e={left:d.leftJustifiedTextSymbolIndex,center:d.centerJustifiedTextSymbolIndex,right:d.rightJustifiedTextSymbolIndex};c=e[a.getAnchorJustification(c)];for(var f in e){var g=e[f];g>=0&&(b.text.placedSymbolArray.get(g).crossTileID=c>=0&&g!==c?0:d.crossTileID)}},ob.prototype.commit=function(a){this.commitTime=a;var b=this.prevPlacement,c=!1,d=b&&0!==this.fadeDuration?(this.commitTime-b.commitTime)/this.fadeDuration:1,e=b?b.opacities:{},f=b?b.variableOffsets:{};for(var g in this.placements){var h=this.placements[g],i=e[g];i?(this.opacities[g]=new jb(i,d,h.text,h.icon),c=c||h.text!==i.text.placed||h.icon!==i.icon.placed):(this.opacities[g]=new jb(null,d,h.text,h.icon,h.skipFade),c=c||h.text||h.icon)}for(var k in e){i=e[k];if(!this.opacities[k]){h=new jb(i,d,!1,!1);h.isHidden()||(this.opacities[k]=h,c=c||i.text.placed||i.icon.placed)}}for(var j in f)this.variableOffsets[j]||!this.opacities[j]||this.opacities[j].isHidden()||(this.variableOffsets[j]=f[j]);c?this.lastPlacementChangeTime=a:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=b?b.lastPlacementChangeTime:a)},ob.prototype.updateLayerOpacities=function(a,b){for(var c={},d=0,b=b;d<b.length;d+=1){var e=b[d],f=e.getBucket(a);f&&e.latestFeatureIndex&&a.id===f.layerIds[0]&&this.updateBucketOpacities(f,c,e.collisionBoxArray)}},ob.prototype.updateBucketOpacities=function(b,c,d){b.hasTextData()&&b.text.opacityVertexArray.clear(),b.hasIconData()&&b.icon.opacityVertexArray.clear(),b.hasCollisionBoxData()&&b.collisionBox.collisionVertexArray.clear(),b.hasCollisionCircleData()&&b.collisionCircle.collisionVertexArray.clear();var e=b.layers[0].layout,f=new jb(null,0,!1,!1,!0),g=e.get("text-allow-overlap"),h=e.get("icon-allow-overlap"),i=e.get("text-variable-anchor"),w="map"===e.get("text-rotation-alignment"),j="map"===e.get("text-pitch-alignment");h=new jb(null,0,g&&(h||!b.hasIconData()||e.get("icon-optional")),h&&(g||!b.hasTextData()||e.get("text-optional")),!0);!b.collisionArrays&&d&&(b.hasCollisionBoxData()||b.hasCollisionCircleData())&&b.deserializeCollisionBoxes(d);for(var g=0;g<b.symbolInstances.length;g++){e=b.symbolInstances.get(g);d=e.numHorizontalGlyphVertices;var k=e.numVerticalGlyphVertices,l=e.crossTileID,m=c[l],s=this.opacities[l];m?s=f:s||(s=h,this.opacities[l]=s),c[l]=!0;var x=d>0||k>0,t=e.numIconVertices>0;if(x){for(var x=xb(s.text),d=(d+k)/4,k=0;k<d;k++)b.text.opacityVertexArray.emplaceBack(x);var u=s.text.isHidden()?1:0;[e.rightJustifiedTextSymbolIndex,e.centerJustifiedTextSymbolIndex,e.leftJustifiedTextSymbolIndex,e.verticalPlacedTextSymbolIndex].forEach(function(a){a>=0&&(b.text.placedSymbolArray.get(a).hidden=u)});k=this.variableOffsets[e.crossTileID];k&&this.markUsedJustification(b,k.anchor,e)}if(t){for(var x=xb(s.icon),d=0;d<e.numIconVertices/4;d++)b.icon.opacityVertexArray.emplaceBack(x);b.icon.placedSymbolArray.get(g).hidden=s.icon.isHidden()}if(b.hasCollisionBoxData()||b.hasCollisionCircleData()){k=b.collisionArrays[g];if(k){if(k.textBox){t=new a.Point(0,0);x=!0;if(i){d=this.variableOffsets[l];d?(t=nb(d.anchor,d.width,d.height,d.radialOffset,d.textBoxScale),w&&t._rotate(j?this.transform.angle:-this.transform.angle)):x=!1}pb(b.collisionBox.collisionVertexArray,s.text.placed,!x,t.x,t.y)}k.iconBox&&pb(b.collisionBox.collisionVertexArray,s.icon.placed,!1);e=k.textCircles;if(e&&b.hasCollisionCircleData())for(var l=0;l<e.length;l+=5){d=m||0===e[l+4];pb(b.collisionCircle.collisionVertexArray,s.text.placed,d)}}}}b.sortFeatures(this.transform.angle),this.retainedQueryData[b.bucketInstanceId]&&(this.retainedQueryData[b.bucketInstanceId].featureSortOrder=b.featureSortOrder),b.hasTextData()&&b.text.opacityVertexBuffer&&b.text.opacityVertexBuffer.updateData(b.text.opacityVertexArray),b.hasIconData()&&b.icon.opacityVertexBuffer&&b.icon.opacityVertexBuffer.updateData(b.icon.opacityVertexArray),b.hasCollisionBoxData()&&b.collisionBox.collisionVertexBuffer&&b.collisionBox.collisionVertexBuffer.updateData(b.collisionBox.collisionVertexArray),b.hasCollisionCircleData()&&b.collisionCircle.collisionVertexBuffer&&b.collisionCircle.collisionVertexBuffer.updateData(b.collisionCircle.collisionVertexArray)},ob.prototype.symbolFadeChange=function(a){return 0===this.fadeDuration?1:(a-this.commitTime)/this.fadeDuration},ob.prototype.hasTransitions=function(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration},ob.prototype.stillRecent=function(a){return this.commitTime+this.fadeDuration>a},ob.prototype.setStale=function(){this.stale=!0};var qb=Math.pow(2,25),rb=Math.pow(2,24),sb=Math.pow(2,17),tb=Math.pow(2,16),ub=Math.pow(2,9),vb=Math.pow(2,8),wb=Math.pow(2,1);function xb(a){if(0===a.opacity&&!a.placed)return 0;if(1===a.opacity&&a.placed)return 4294967295;var b=a.placed?1:0;a=Math.floor(127*a.opacity);return a*qb+b*rb+a*sb+b*tb+a*ub+b*vb+a*wb+b}var yb=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};yb.prototype.continuePlacement=function(a,b,c,d,e){for(;this._currentTileIndex<a.length;){var f=a[this._currentTileIndex];if(b.placeLayerTile(d,f,c,this._seenCrossTileIDs),this._currentTileIndex++,e())return!0}};var zb=function(a,b,c,d,e,f,g){this.placement=new ob(a,e,f,g),this._currentPlacementIndex=b.length-1,this._forceFullPlacement=c,this._showCollisionBoxes=d,this._done=!1};zb.prototype.isDone=function(){return this._done},zb.prototype.continuePlacement=function(b,c,d){for(var e=this,f=a.browser.now(),g=function(){var b=a.browser.now()-f;return!e._forceFullPlacement&&b>2};this._currentPlacementIndex>=0;){var h=c[b[this._currentPlacementIndex]],i=this.placement.collisionIndex.transform.zoom;if("symbol"===h.type&&(!h.minzoom||h.minzoom<=i)&&(!h.maxzoom||h.maxzoom>i)){if(this._inProgressLayer||(this._inProgressLayer=new yb()),this._inProgressLayer.continuePlacement(d[h.source],this.placement,this._showCollisionBoxes,h,g))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},zb.prototype.commit=function(a){return this.placement.commit(a),this.placement};var Ab=512/a.EXTENT/2,Bb=function(a,b,c){this.tileID=a,this.indexedSymbolInstances={},this.bucketInstanceId=c;for(var c=0;c<b.length;c++){var d=b.get(c),e=d.key;this.indexedSymbolInstances[e]||(this.indexedSymbolInstances[e]=[]),this.indexedSymbolInstances[e].push({crossTileID:d.crossTileID,coord:this.getScaledCoordinates(d,a)})}};Bb.prototype.getScaledCoordinates=function(b,c){var d=c.canonical.z-this.tileID.canonical.z;d=Ab/Math.pow(2,d);return{x:Math.floor((c.canonical.x*a.EXTENT+b.anchorX)*d),y:Math.floor((c.canonical.y*a.EXTENT+b.anchorY)*d)}},Bb.prototype.findMatches=function(a,b,c){for(var d=this.tileID.canonical.z<b.canonical.z?1:Math.pow(2,this.tileID.canonical.z-b.canonical.z),e=0;e<a.length;e++){var f=a.get(e);if(!f.crossTileID){var g=this.indexedSymbolInstances[f.key];if(g)for(var h=this.getScaledCoordinates(f,b),i=0,g=g;i<g.length;i+=1){var j=g[i];if(Math.abs(j.coord.x-h.x)<=d&&Math.abs(j.coord.y-h.y)<=d&&!c[j.crossTileID]){c[j.crossTileID]=!0,f.crossTileID=j.crossTileID;break}}}}};var Cb=function(){this.maxCrossTileID=0};Cb.prototype.generate=function(){return++this.maxCrossTileID};var Db=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Db.prototype.handleWrapJump=function(a){var b=Math.round((a-this.lng)/360);if(0!==b)for(var c in this.indexes){var d=this.indexes[c],e={};for(var f in d){var g=d[f];g.tileID=g.tileID.unwrapTo(g.tileID.wrap+b),e[g.tileID.key]=g}this.indexes[c]=e}this.lng=a},Db.prototype.addBucket=function(a,b,c){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===b.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(var d=0;d<b.symbolInstances.length;d++)b.symbolInstances.get(d).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});d=this.usedCrossTileIDs[a.overscaledZ];for(var e in this.indexes){var f=this.indexes[e];if(Number(e)>a.overscaledZ)for(var g in f){var h=f[g];h.tileID.isChildOf(a)&&h.findMatches(b.symbolInstances,a,d)}else{h=f[a.scaledTo(Number(e)).key];h&&h.findMatches(b.symbolInstances,a,d)}}for(var f=0;f<b.symbolInstances.length;f++){h=b.symbolInstances.get(f);h.crossTileID||(h.crossTileID=c.generate(),d[h.crossTileID]=!0)}return void 0===this.indexes[a.overscaledZ]&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new Bb(a,b.symbolInstances,b.bucketInstanceId),!0},Db.prototype.removeBucketCrossTileIDs=function(a,b){for(var c in b.indexedSymbolInstances)for(var d=0,e=b.indexedSymbolInstances[c];d<e.length;d+=1){var f=e[d];delete this.usedCrossTileIDs[a][f.crossTileID]}},Db.prototype.removeStaleBuckets=function(a){var b=!1;for(var c in this.indexes){var d=this.indexes[c];for(var e in d)a[d[e].bucketInstanceId]||(this.removeBucketCrossTileIDs(c,d[e]),delete d[e],b=!0)}return b};var Eb=function(){this.layerIndexes={},this.crossTileIDs=new Cb(),this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Eb.prototype.addLayer=function(a,b,c){var d=this.layerIndexes[a.id];void 0===d&&(d=this.layerIndexes[a.id]=new Db());var e=!1,f={};d.handleWrapJump(c);for(var c=0,b=b;c<b.length;c+=1){var g=b[c],h=g.getBucket(a);h&&a.id===h.layerIds[0]&&(h.bucketInstanceId||(h.bucketInstanceId=++this.maxBucketInstanceId),d.addBucket(g.tileID,h,this.crossTileIDs)&&(e=!0),f[h.bucketInstanceId]=!0)}return d.removeStaleBuckets(f)&&(e=!0),e},Eb.prototype.pruneUnusedLayers=function(a){var b={};for(var c in a.forEach(function(a){b[a]=!0}),this.layerIndexes)b[c]||delete this.layerIndexes[c]};var Fb=function(b,c){return a.emitValidationErrors(b,c&&c.filter(function(a){return"source.canvas"!==a.identifier}))},Gb=a.pick(U,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Hb=a.pick(U,["setCenter","setZoom","setBearing","setPitch"]),Ib=function(b){function c(d,e){var f=this;void 0===e&&(e={}),b.call(this),this.map=d,this.dispatcher=new u((Ja||(Ja=new Ia()),Ja),this),this.imageManager=new l(),this.imageManager.setEventedParent(this),this.glyphManager=new q(d._requestManager,e.localIdeographFontFamily),this.lineAtlas=new t(256,512),this.crossTileSymbolIndex=new Eb(),this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory(),this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var g=this;this._rtlTextPluginCallback=c.registerForPluginAvailability(function(a){for(var b in g.dispatcher.broadcast("loadRTLTextPlugin",a.pluginURL,a.completionCallback),g.sourceCaches)g.sourceCaches[b].reload()}),this.on("data",function(a){if("source"===a.dataType&&"metadata"===a.sourceDataType){a=f.sourceCaches[a.sourceId];if(a){a=a.getSource();if(a&&a.vectorLayerIds)for(var b in f._layers){var c=f._layers[b];c.source===a.id&&f._validateLayer(c)}}}})}return b&&(c.__proto__=b),c.prototype=Object.create(b&&b.prototype),c.prototype.constructor=c,c.prototype.loadURL=function(b,c){var d=this;void 0===c&&(c={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var e="boolean"==typeof c.validate?c.validate:!a.isMapboxURL(b);b=this.map._requestManager.normalizeStyleURL(b,c.accessToken);c=this.map._requestManager.transformRequest(b,a.ResourceType.Style);this._request=a.getJSON(c,function(b,c){d._request=null,b?d.fire(new a.ErrorEvent(b)):c&&d._load(c,e)})},c.prototype.loadJSON=function(b,c){var d=this;void 0===c&&(c={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){d._request=null,d._load(b,!1!==c.validate)})},c.prototype._load=function(b,c){var d=this;if(!c||!Fb(this,a.validateStyle(b))){for(var e in this._loaded=!0,this.stylesheet=b,b.sources)this.addSource(e,b.sources[e],{validate:!1});b.sprite?this._spriteRequest=function(b,c,d){var e,f,g,h=a.browser.devicePixelRatio>1?"@2x":"",i=a.getJSON(c.transformRequest(c.normalizeSpriteURL(b,h,".json"),a.ResourceType.SpriteJSON),function(a,b){i=null,g||(g=a,e=b,j())}),k=a.getImage(c.transformRequest(c.normalizeSpriteURL(b,h,".png"),a.ResourceType.SpriteImage),function(a,b){k=null,g||(g=a,f=b,j())});function j(){if(g)d(g);else if(e&&f){var b=a.browser.getImageData(f),c={};for(var h in e){var i=e[h],o=i.width,j=i.height,k=i.x,l=i.y,p=i.sdf;i=i.pixelRatio;var m=new a.RGBAImage({width:o,height:j});a.RGBAImage.copy(b,m,{x:k,y:l},{x:0,y:0},{width:o,height:j}),c[h]={data:m,pixelRatio:i,sdf:p}}d(null,c)}}return{cancel:function(){i&&(i.cancel(),i=null),k&&(k.cancel(),k=null)}}}(b.sprite,this.map._requestManager,function(b,c){if(d._spriteRequest=null,b)d.fire(new a.ErrorEvent(b));else if(c)for(var e in c)d.imageManager.addImage(e,c[e]);d.imageManager.setLoaded(!0),d.fire(new a.Event("data",{dataType:"style"}))}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(b.glyphs);c=La(this.stylesheet.layers);this._order=c.map(function(a){return a.id}),this._layers={};for(var b=0,c=c;b<c.length;b+=1){var f=c[b];(f=a.createStyleLayer(f)).setEventedParent(this,{layer:{id:f.id}}),this._layers[f.id]=f}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new s(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},c.prototype._validateLayer=function(b){var c=this.sourceCaches[b.source];if(c){var d=b.sourceLayer;if(d){c=c.getSource();("geojson"===c.type||c.vectorLayerIds&&-1===c.vectorLayerIds.indexOf(d))&&this.fire(new a.ErrorEvent(new Error('Source layer "'+d+'" does not exist on source "'+c.id+'" as specified by style layer "'+b.id+'"')))}}},c.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()},c.prototype._serializeLayers=function(a){for(var b=[],c=0,a=a;c<a.length;c+=1){var d=a[c];d=this._layers[d];"custom"!==d.type&&b.push(d.serialize())}return b},c.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var a in this.sourceCaches)if(this.sourceCaches[a].hasTransition())return!0;for(var b in this._layers)if(this._layers[b].hasTransition())return!0;return!1},c.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},c.prototype.update=function(b){if(this._loaded){var c=this._changed;if(this._changed){var d=Object.keys(this._updatedLayers),e=Object.keys(this._removedLayers);for(var f in(d.length||e.length)&&this._updateWorkerLayers(d,e),this._updatedSources){d=this._updatedSources[f];"reload"===d?this._reloadSource(f):"clear"===d&&this._clearSource(f)}for(var g in this._updatedPaintProps)this._layers[g].updateTransitions(b);this.light.updateTransitions(b),this._resetUpdates()}for(var h in this.sourceCaches)this.sourceCaches[h].used=!1;for(var e=0,d=this._order;e<d.length;e+=1){var i=d[e];i=this._layers[i];i.recalculate(b),!i.isHidden(b.zoom)&&i.source&&(this.sourceCaches[i.source].used=!0)}this.light.recalculate(b),this.z=b.zoom,c&&this.fire(new a.Event("data",{dataType:"style"}))}},c.prototype._updateWorkerLayers=function(a,b){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(a),removedIds:b})},c.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},c.prototype.setState=function(b){var c=this;if(this._checkLoaded(),Fb(this,a.validateStyle(b)))return!1;(b=a.clone$1(b)).layers=La(b.layers);var d=Sa(this.serialize(),b).filter(function(a){return!(a.command in Hb)});if(0===d.length)return!1;var e=d.filter(function(a){return!(a.command in Gb)});if(e.length>0)throw new Error("Unimplemented: "+e.map(function(a){return a.command}).join(", ")+".");return d.forEach(function(a){"setTransition"!==a.command&&c[a.command].apply(c,a.args)}),this.stylesheet=b,!0},c.prototype.addImage=function(b,c){if(this.getImage(b))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(b,c),this.fire(new a.Event("data",{dataType:"style"}))},c.prototype.updateImage=function(a,b){this.imageManager.updateImage(a,b)},c.prototype.getImage=function(a){return this.imageManager.getImage(a)},c.prototype.removeImage=function(b){if(!this.getImage(b))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(b),this.fire(new a.Event("data",{dataType:"style"}))},c.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},c.prototype.addSource=function(b,c,d){var e=this;if(void 0===d&&(d={}),this._checkLoaded(),void 0!==this.sourceCaches[b])throw new Error("There is already a source with this ID");if(!c.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(c).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(c.type)>=0)||!this._validate(a.validateStyle.source,"sources."+b,c,null,d)){this.map&&this.map._collectResourceTiming&&(c.collectResourceTiming=!0);var f=this.sourceCaches[b]=new Ea(b,c,this.dispatcher);f.style=this,f.setEventedParent(this,function(){return{isSourceLoaded:e.loaded(),source:f.serialize(),sourceId:b}}),f.onAdd(this.map),this._changed=!0}},c.prototype.removeSource=function(b){if(this._checkLoaded(),void 0===this.sourceCaches[b])throw new Error("There is no source with this ID");for(var c in this._layers)if(this._layers[c].source===b)return this.fire(new a.ErrorEvent(new Error('Source "'+b+'" cannot be removed while layer "'+c+'" is using it.')));var d=this.sourceCaches[b];delete this.sourceCaches[b],delete this._updatedSources[b],d.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:b})),d.setEventedParent(null),d.clearTiles(),d.onRemove&&d.onRemove(this.map),this._changed=!0},c.prototype.setGeoJSONSourceData=function(a,b){this._checkLoaded(),this.sourceCaches[a].getSource().setData(b),this._changed=!0},c.prototype.getSource=function(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()},c.prototype.addLayer=function(b,c,d){void 0===d&&(d={}),this._checkLoaded();var e=b.id;if(this.getLayer(e))this.fire(new a.ErrorEvent(new Error('Layer with id "'+e+'" already exists on this map')));else{var f;if("custom"===b.type){if(Fb(this,a.validateCustomStyleLayer(b)))return;f=a.createStyleLayer(b)}else{if("object"==typeof b.source&&(this.addSource(e,b.source),b=a.clone$1(b),b=a.extend(b,{source:e})),this._validate(a.validateStyle.layer,"layers."+e,b,{arrayIndex:-1},d))return;f=a.createStyleLayer(b),this._validateLayer(f),f.setEventedParent(this,{layer:{id:e}})}d=c?this._order.indexOf(c):this._order.length;if(c&&-1===d)this.fire(new a.ErrorEvent(new Error('Layer with id "'+c+'" does not exist on this map.')));else{if(this._order.splice(d,0,e),this._layerOrderChanged=!0,this._layers[e]=f,this._removedLayers[e]&&f.source&&"custom"!==f.type){b=this._removedLayers[e];delete this._removedLayers[e],b.type!==f.type?this._updatedSources[f.source]="clear":(this._updatedSources[f.source]="reload",this.sourceCaches[f.source].pause())}this._updateLayer(f),f.onAdd&&f.onAdd(this.map)}}},c.prototype.moveLayer=function(b,c){if(this._checkLoaded(),this._changed=!0,this._layers[b]){if(b!==c){var d=this._order.indexOf(b);this._order.splice(d,1);d=c?this._order.indexOf(c):this._order.length;c&&-1===d?this.fire(new a.ErrorEvent(new Error('Layer with id "'+c+'" does not exist on this map.'))):(this._order.splice(d,0,b),this._layerOrderChanged=!0)}}else this.fire(new a.ErrorEvent(new Error("The layer '"+b+"' does not exist in the map's style and cannot be moved.")))},c.prototype.removeLayer=function(b){this._checkLoaded();var c=this._layers[b];if(c){c.setEventedParent(null);var d=this._order.indexOf(b);this._order.splice(d,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[b]=c,delete this._layers[b],delete this._updatedLayers[b],delete this._updatedPaintProps[b],c.onRemove&&c.onRemove(this.map)}else this.fire(new a.ErrorEvent(new Error("The layer '"+b+"' does not exist in the map's style and cannot be removed.")))},c.prototype.getLayer=function(a){return this._layers[a]},c.prototype.setLayerZoomRange=function(b,c,d){this._checkLoaded();var e=this.getLayer(b);e?e.minzoom===c&&e.maxzoom===d||(null!=c&&(e.minzoom=c),null!=d&&(e.maxzoom=d),this._updateLayer(e)):this.fire(new a.ErrorEvent(new Error("The layer '"+b+"' does not exist in the map's style and cannot have zoom extent.")))},c.prototype.setFilter=function(b,c,d){void 0===d&&(d={}),this._checkLoaded();var e=this.getLayer(b);if(e){if(!a.deepEqual(e.filter,c))return null==c?(e.filter=void 0,void this._updateLayer(e)):void (this._validate(a.validateStyle.filter,"layers."+e.id+".filter",c,null,d)||(e.filter=a.clone$1(c),this._updateLayer(e)))}else this.fire(new a.ErrorEvent(new Error("The layer '"+b+"' does not exist in the map's style and cannot be filtered.")))},c.prototype.getFilter=function(b){return a.clone$1(this.getLayer(b).filter)},c.prototype.setLayoutProperty=function(b,c,d,e){void 0===e&&(e={}),this._checkLoaded();var f=this.getLayer(b);f?a.deepEqual(f.getLayoutProperty(c),d)||(f.setLayoutProperty(c,d,e),this._updateLayer(f)):this.fire(new a.ErrorEvent(new Error("The layer '"+b+"' does not exist in the map's style and cannot be styled.")))},c.prototype.getLayoutProperty=function(b,c){var d=this.getLayer(b);if(d)return d.getLayoutProperty(c);this.fire(new a.ErrorEvent(new Error("The layer '"+b+"' does not exist in the map's style.")))},c.prototype.setPaintProperty=function(b,c,d,e){void 0===e&&(e={}),this._checkLoaded();var f=this.getLayer(b);f?a.deepEqual(f.getPaintProperty(c),d)||(f.setPaintProperty(c,d,e)&&this._updateLayer(f),this._changed=!0,this._updatedPaintProps[b]=!0):this.fire(new a.ErrorEvent(new Error("The layer '"+b+"' does not exist in the map's style and cannot be styled.")))},c.prototype.getPaintProperty=function(a,b){return this.getLayer(a).getPaintProperty(b)},c.prototype.setFeatureState=function(b,c){this._checkLoaded();var d=b.source,e=b.sourceLayer,f=this.sourceCaches[d];b=parseInt(b.id,10);if(void 0!==f){var g=f.getSource().type;"geojson"===g&&e?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==g||e?isNaN(b)||b<0?this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):f.setFeatureState(e,b,c):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+d+"' does not exist in the map's style.")))},c.prototype.removeFeatureState=function(b,c){this._checkLoaded();var d=b.source,e=this.sourceCaches[d];if(void 0!==e){var f=e.getSource().type,g="vector"===f?b.sourceLayer:void 0,h=parseInt(b.id,10);"vector"!==f||g?void 0!==b.id&&isNaN(h)||h<0?this.fire(new a.ErrorEvent(new Error("The feature id parameter must be non-negative."))):c&&"string"!=typeof b.id&&"number"!=typeof b.id?this.fire(new a.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):e.removeFeatureState(g,h,c):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+d+"' does not exist in the map's style.")))},c.prototype.getFeatureState=function(b){this._checkLoaded();var c=b.source,d=b.sourceLayer,e=this.sourceCaches[c];b=parseInt(b.id,10);if(void 0!==e)if("vector"!==e.getSource().type||d){if(!(isNaN(b)||b<0))return e.getFeatureState(d,b);this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new a.ErrorEvent(new Error("The source '"+c+"' does not exist in the map's style.")))},c.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},c.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(a){return a.serialize()}),layers:this._serializeLayers(this._order)},function(a){return void 0!==a})},c.prototype._updateLayer=function(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._changed=!0},c.prototype._flattenAndSortRenderedFeatures=function(a){for(var b=this,c=function(a){return"fill-extrusion"===b._layers[a].type},d={},e=[],f=this._order.length-1;f>=0;f--){var g=this._order[f];if(c(g)){d[g]=f;for(var h=0,i=a;h<i.length;h+=1){var m=i[h][g];if(m)for(var j=0,m=m;j<m.length;j+=1){var k=m[j];e.push(k)}}}}e.sort(function(a,b){return b.intersectionZ-a.intersectionZ});for(var k=[],m=this._order.length-1;m>=0;m--){j=this._order[m];if(c(j))for(var i=e.length-1;i>=0;i--){g=e[i].feature;if(d[g.layer.id]<m)break;k.push(g),e.pop()}else for(var h=0,f=a;h<f.length;h+=1){g=f[h][j];if(g)for(var i=0,g=g;i<g.length;i+=1){var l=g[i];k.push(l.feature)}}}return k},c.prototype.queryRenderedFeatures=function(b,c,d){c&&c.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",c.filter,null,c);var e={};if(c&&c.layers){if(!Array.isArray(c.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var f=0,g=c.layers;f<g.length;f+=1){var h=g[f],i=this._layers[h];if(!i)return this.fire(new a.ErrorEvent(new Error("The layer '"+h+"' does not exist in the map's style and cannot be queried for features."))),[];e[i.source]=!0}}h=[];for(var j in this.sourceCaches)c.layers&&!e[j]||h.push(F(this.sourceCaches[j],this._layers,b,c,d));return this.placement&&h.push(function(a,b,c,d,e,f){for(var g={},h=e.queryRenderedSymbols(c),e=[],c=0,i=Object.keys(h).map(Number);c<i.length;c+=1){var j=i[c];e.push(f[j])}e.sort(G);for(var j=function(){var b=k[n],c=b.featureIndex.lookupSymbolFeatures(h[b.bucketInstanceId],b.bucketIndex,b.sourceLayerIndex,d.filter,d.layers,a);for(var e in c){var f=g[e]=g[e]||[],i=c[e];i.sort(function(a,c){var d=b.featureSortOrder;if(d){var e=d.indexOf(a.featureIndex);return d.indexOf(c.featureIndex)-e}return c.featureIndex-a.featureIndex});for(var l=0,i=i;l<i.length;l+=1){var j=i[l];f.push(j)}}},n=0,k=e;n<k.length;n+=1)j();f=function(c){g[c].forEach(function(d){d=d.feature;var e=a[c];e=b[e.source].getFeatureState(d.layer["source-layer"],d.id);d.source=d.layer.source,d.layer["source-layer"]&&(d.sourceLayer=d.layer["source-layer"]),d.state=e})};for(var l in g)f(l);return g}(this._layers,this.sourceCaches,b,c,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(h)},c.prototype.querySourceFeatures=function(b,c){c&&c.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",c.filter,null,c);b=this.sourceCaches[b];return b?function(a,b){for(var c=a.getRenderableIds().map(function(b){return a.getTileByID(b)}),d=[],e={},f=0;f<c.length;f++){var g=c[f],h=g.tileID.canonical.key;e[h]||(e[h]=!0,g.querySourceFeatures(d,b))}return d}(b,c):[]},c.prototype.addSourceType=function(a,b,d){return c.getSourceType(a)?d(new Error('A source type called "'+a+'" already exists.')):(c.setSourceType(a,b),b.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:a,url:b.workerSourceURL},d):d(null,null))},c.prototype.getLight=function(){return this.light.getLight()},c.prototype.setLight=function(b,c){void 0===c&&(c={}),this._checkLoaded();var d=this.light.getLight(),e=!1;for(var f in b)if(!a.deepEqual(b[f],d[f])){e=!0;break}if(e){d={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(b,c),this.light.updateTransitions(d)}},c.prototype._validate=function(b,c,d,e,f){return void 0===f&&(f={}),(!f||!1!==f.validate)&&Fb(this,b.call(a.validateStyle,a.extend({key:c,style:this.serialize(),value:d,styleSpec:a.styleSpec},e)))},c.prototype._remove=function(){for(var b in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[b].clearTiles();this.dispatcher.remove()},c.prototype._clearSource=function(a){this.sourceCaches[a].clearTiles()},c.prototype._reloadSource=function(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()},c.prototype._updateSources=function(a){for(var b in this.sourceCaches)this.sourceCaches[b].update(a)},c.prototype._generateCollisionBoxes=function(){for(var a in this.sourceCaches)this._reloadSource(a)},c.prototype._updatePlacement=function(b,c,d,e){for(var f=!1,g=!1,h={},i=0,l=this._order;i<l.length;i+=1){var j=l[i];j=this._layers[j];if("symbol"===j.type){if(!h[j.source]){var k=this.sourceCaches[j.source];h[j.source]=k.getRenderableIds(!0).map(function(a){return k.getTileByID(a)}).sort(function(a,b){return b.tileID.overscaledZ-a.tileID.overscaledZ||(a.tileID.isLessThan(b.tileID)?-1:1)})}j=this.crossTileSymbolIndex.addLayer(j,h[j.source],b.center.lng);f=f||j}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);j=this._layerOrderChanged||0===d;if((j||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now()))&&(this.pauseablePlacement=new zb(b,this._order,j,c,d,e,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,h),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),g=!0),f&&this.pauseablePlacement.placement.setStale()),g||f)for(var l=0,i=this._order;l<i.length;l+=1){b=i[l];j=this._layers[b];"symbol"===j.type&&this.placement.updateLayerOpacities(j,h[j.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())},c.prototype._releaseSymbolFadeTiles=function(){for(var a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()},c.prototype.getImages=function(a,b,c){this.imageManager.getImages(b.icons,c)},c.prototype.getGlyphs=function(a,b,c){this.glyphManager.getGlyphs(b.stacks,c)},c.prototype.getResource=function(b,c,d){return a.makeRequest(c,d)},c}(a.Evented);Ib.getSourceType=function(a){return C[a]},Ib.setSourceType=function(a,b){C[a]=b},Ib.registerForPluginAvailability=a.registerForPluginAvailability;var Jb=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),Kb=bc("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}");y=bc("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}");A=bc("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}");B=bc("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}");e=bc("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}");n=bc("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}");x=bc("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}");var Lb=bc("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Mb=bc("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),Nb=bc("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ob=bc("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Pb=bc("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Qb=bc("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Rb=bc("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Sb=bc("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Tb=bc("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),Ub=bc("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;return (data.r+data.g*256.0+data.b*256.0*256.0)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Vb=bc("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Wb=bc("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Xb=bc("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Yb=bc("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),Zb=bc("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),$b=bc("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),ac=bc("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}");bc=bc("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=vec2(tex.x,tex.y);v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}");function bc(a,b){var c=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,d={};return{fragmentSource:a.replace(c,function(a,b,c,e,f){return d[f]=!0,"define"===b?"\n#ifndef HAS_UNIFORM_u_"+f+"\nvarying "+c+" "+e+" "+f+";\n#else\nuniform "+c+" "+e+" u_"+f+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+f+"\n    "+c+" "+e+" "+f+" = u_"+f+";\n#endif\n"}),vertexSource:b=b.replace(c,function(a,b,c,e,f){a="float"===e?"vec2":"vec4";var g=f.match(/color/)?"color":a;return d[f]?"define"===b?"\n#ifndef HAS_UNIFORM_u_"+f+"\nuniform lowp float u_"+f+"_t;\nattribute "+c+" "+a+" a_"+f+";\nvarying "+c+" "+e+" "+f+";\n#else\nuniform "+c+" "+e+" u_"+f+";\n#endif\n":"vec4"===g?"\n#ifndef HAS_UNIFORM_u_"+f+"\n    "+f+" = a_"+f+";\n#else\n    "+c+" "+e+" "+f+" = u_"+f+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+f+"\n    "+f+" = unpack_mix_"+g+"(a_"+f+", u_"+f+"_t);\n#else\n    "+c+" "+e+" "+f+" = u_"+f+";\n#endif\n":"define"===b?"\n#ifndef HAS_UNIFORM_u_"+f+"\nuniform lowp float u_"+f+"_t;\nattribute "+c+" "+a+" a_"+f+";\n#else\nuniform "+c+" "+e+" u_"+f+";\n#endif\n":"vec4"===g?"\n#ifndef HAS_UNIFORM_u_"+f+"\n    "+c+" "+e+" "+f+" = a_"+f+";\n#else\n    "+c+" "+e+" "+f+" = u_"+f+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+f+"\n    "+c+" "+e+" "+f+" = unpack_mix_"+g+"(a_"+f+", u_"+f+"_t);\n#else\n    "+c+" "+e+" "+f+" = u_"+f+";\n#endif\n"})}}var cc=Object.freeze({prelude:Kb,background:y,backgroundPattern:A,circle:B,clippingMask:e,heatmap:n,heatmapTexture:x,collisionBox:Lb,collisionCircle:Mb,debug:Nb,fill:Ob,fillOutline:Pb,fillOutlinePattern:Qb,fillPattern:Rb,fillExtrusion:Sb,fillExtrusionPattern:Tb,hillshadePrepare:Ub,hillshade:Vb,line:Wb,lineGradient:Xb,linePattern:Yb,lineSDF:Zb,raster:$b,symbolIcon:ac,symbolSDF:bc}),dc=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};dc.prototype.bind=function(a,b,c,d,e,f,g,h){this.context=a;for(var i=this.boundPaintVertexBuffers.length!==d.length,j=0;!i&&j<d.length;j++)this.boundPaintVertexBuffers[j]!==d[j]&&(i=!0);j=!this.vao||this.boundProgram!==b||this.boundLayoutVertexBuffer!==c||i||this.boundIndexBuffer!==e||this.boundVertexOffset!==f||this.boundDynamicVertexBuffer!==g||this.boundDynamicVertexBuffer2!==h;!a.extVertexArrayObject||j?this.freshBind(b,c,d,e,f,g,h):(a.bindVertexArrayOES.set(this.vao),g&&g.bind(),e&&e.dynamicDraw&&e.bind(),h&&h.bind())},dc.prototype.freshBind=function(a,b,c,d,e,f,g){var h,i=a.numAttributes,l=this.context,j=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),h=0,this.boundProgram=a,this.boundLayoutVertexBuffer=b,this.boundPaintVertexBuffers=c,this.boundIndexBuffer=d,this.boundVertexOffset=e,this.boundDynamicVertexBuffer=f,this.boundDynamicVertexBuffer2=g;else{h=l.currentNumAttributes||0;for(var k=i;k<h;k++)j.disableVertexAttribArray(k)}b.enableAttributes(j,a);for(var k=0,h=c;k<h.length;k+=1)h[k].enableAttributes(j,a);f&&f.enableAttributes(j,a),g&&g.enableAttributes(j,a),b.bind(),b.setVertexAttribPointers(j,a,e);for(var h=0,k=c;h<k.length;h+=1){b=k[h];b.bind(),b.setVertexAttribPointers(j,a,e)}f&&(f.bind(),f.setVertexAttribPointers(j,a,e)),d&&d.bind(),g&&(g.bind(),g.setVertexAttribPointers(j,a,e)),l.currentNumAttributes=i},dc.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var ec=function(a,b,c,d,e){var f=a.gl;this.program=f.createProgram();var g=c.defines();e&&g.push("#define OVERDRAW_INSPECTOR;");e=g.concat(Kb.fragmentSource,b.fragmentSource).join("\n");g=g.concat(Kb.vertexSource,b.vertexSource).join("\n");b=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(b,e),f.compileShader(b),f.attachShader(this.program,b);e=f.createShader(f.VERTEX_SHADER);f.shaderSource(e,g),f.compileShader(e),f.attachShader(this.program,e);for(var b=c.layoutAttributes||[],g=0;g<b.length;g++)f.bindAttribLocation(this.program,g,b[g].name);f.linkProgram(this.program),this.numAttributes=f.getProgramParameter(this.program,f.ACTIVE_ATTRIBUTES),this.attributes={};for(var e={},b=0;b<this.numAttributes;b++){g=f.getActiveAttrib(this.program,b);g&&(this.attributes[g.name]=f.getAttribLocation(this.program,g.name))}for(var g=f.getProgramParameter(this.program,f.ACTIVE_UNIFORMS),b=0;b<g;b++){var h=f.getActiveUniform(this.program,b);h&&(e[h.name]=f.getUniformLocation(this.program,h.name))}this.fixedUniforms=d(a,e),this.binderUniforms=c.getUniforms(a,e)};function fc(b,c,d){var e=1/hb(d,1,c.transform.tileZoom),f=Math.pow(2,d.tileID.overscaledZ);c=d.tileSize*Math.pow(2,c.transform.tileZoom)/f;f=c*(d.tileID.canonical.x+d.tileID.wrap*f);c=c*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[a.browser.devicePixelRatio,e,b.fromScale,b.toScale],u_fade:b.t,u_pixel_coord_upper:[f>>16,c>>16],u_pixel_coord_lower:[65535&f,65535&c]}}ec.prototype.draw=function(a,b,c,d,e,f,g,h,i,u,j,k,l,v,o,r){var s=a.gl;for(var t in a.program.set(this.program),a.setDepthMode(c),a.setStencilMode(d),a.setColorMode(e),a.setCullFace(f),this.fixedUniforms)this.fixedUniforms[t].set(g[t]);v&&v.setUniforms(a,this.binderUniforms,k,{zoom:l});for(var d=(c={},c[s.LINES]=2,c[s.TRIANGLES]=3,c[s.LINE_STRIP]=1,c)[b],e=0,f=j.get();e<f.length;e+=1){g=f[e];k=g.vaos||(g.vaos={});(k[h]||(k[h]=new dc())).bind(a,this,i,v?v.getPaintVertexBuffers():[],u,g.vertexOffset,o,r),s.drawElements(b,g.primitiveLength*d,s.UNSIGNED_SHORT,g.primitiveOffset*d*2)}};var gc=function(b,c,d,e){var f=c.style.light,g=f.properties.get("position");g=[g.x,g.y,g.z];var h=a.create$1();"viewport"===f.properties.get("anchor")&&a.fromRotation(h,-c.transform.angle),a.transformMat3(g,g,h);c=f.properties.get("color");return{u_matrix:b,u_lightpos:g,u_lightintensity:f.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+d,u_opacity:e}},hc=function(b,c,d,e,f,g,h){return a.extend(gc(b,c,d,e),fc(g,c,h),{u_height_factor:-Math.pow(2,f.overscaledZ)/h.tileSize/8})},ic=function(a){return{u_matrix:a}},X=function(b,c,d,e){return a.extend(ic(b),fc(d,c,e))},jc=function(a,b){return{u_matrix:a,u_world:b}},Y=function(b,c,d,e,f){return a.extend(X(b,c,d,e),{u_world:f})},kc=function(b,c,d,e){var f,g=b.transform;if("map"===e.paint.get("circle-pitch-alignment")){var h=hb(d,1,g.zoom);f=!0,h=[h,h]}else f=!1,h=g.pixelsToGLUnits;return{u_camera_to_center_distance:g.cameraToCenterDistance,u_scale_with_map:+("map"===e.paint.get("circle-pitch-scale")),u_matrix:b.translatePosMatrix(c.posMatrix,d,e.paint.get("circle-translate"),e.paint.get("circle-translate-anchor")),u_pitch_with_map:+f,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:h}};y=function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_camera_to_center_distance:new a.Uniform1f(b,c.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(b,c.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(b,c.u_extrude_scale),u_overscale_factor:new a.Uniform1f(b,c.u_overscale_factor)}};var lc=function(a,b,c){var d=hb(c,1,b.zoom),e=Math.pow(2,b.zoom-c.tileID.overscaledZ);c=c.tileID.overscaleFactor();return{u_matrix:a,u_camera_to_center_distance:b.cameraToCenterDistance,u_pixels_to_tile_units:d,u_extrude_scale:[b.pixelsToGLUnits[0]/(d*e),b.pixelsToGLUnits[1]/(d*e)],u_overscale_factor:c}},mc=function(a,b){return{u_matrix:a,u_color:b}},nc=function(a){return{u_matrix:a}},oc=function(a,b,c,d){return{u_matrix:a,u_extrude_scale:hb(b,1,c),u_intensity:d}},pc=function(b,c,d,e){var f=a.create();a.ortho(f,0,b.width,b.height,0,0,1);b=b.context.gl;return{u_matrix:f,u_world:[b.drawingBufferWidth,b.drawingBufferHeight],u_image:d,u_color_ramp:e,u_opacity:c.paint.get("heatmap-opacity")}},qc=function(a,b,c){var d=c.paint.get("hillshade-shadow-color"),e=c.paint.get("hillshade-highlight-color"),f=c.paint.get("hillshade-accent-color"),g=c.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===c.paint.get("hillshade-illumination-anchor")&&(g-=a.transform.angle);var h=!a.options.moving;return{u_matrix:a.transform.calculatePosMatrix(b.tileID.toUnwrapped(),h),u_image:0,u_latrange:sc(a,b.tileID),u_light:[c.paint.get("hillshade-exaggeration"),g],u_shadow:d,u_highlight:e,u_accent:f}},rc=function(b,c){var d=b.dem.stride,e=a.create();return a.ortho(e,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(e,e,[0,-a.EXTENT,0]),{u_matrix:e,u_image:1,u_dimension:[d,d],u_zoom:b.tileID.overscaledZ,u_maxzoom:c}};function sc(b,c){b=Math.pow(2,c.canonical.z);c=c.canonical.y;return[new a.MercatorCoordinate(0,c/b).toLngLat().lat,new a.MercatorCoordinate(0,(c+1)/b).toLngLat().lat]}var tc=function(b,c,d){var e=b.transform;return{u_matrix:yc(b,c,d),u_ratio:1/hb(c,1,e.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/e.pixelsToGLUnits[0],1/e.pixelsToGLUnits[1]]}},uc=function(b,c,d){return a.extend(tc(b,c,d),{u_image:0})},vc=function(b,c,d,e){var f=b.transform,g=xc(c,f);return{u_matrix:yc(b,c,d),u_texsize:c.imageAtlasTexture.size,u_ratio:1/hb(c,1,f.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[a.browser.devicePixelRatio,g,e.fromScale,e.toScale],u_fade:e.t,u_units_to_pixels:[1/f.pixelsToGLUnits[0],1/f.pixelsToGLUnits[1]]}},wc=function(b,c,d,e,f){var g=b.transform,h=b.lineAtlas;g=xc(c,g);var j="round"===d.layout.get("line-cap"),i=h.getDash(e.from,j);e=h.getDash(e.to,j);j=i.width*f.fromScale;var k=e.width*f.toScale;return a.extend(tc(b,c,d),{u_patternscale_a:[g/j,-i.height/2],u_patternscale_b:[g/k,-e.height/2],u_sdfgamma:h.width/(256*Math.min(j,k)*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:i.y,u_tex_y_b:e.y,u_mix:f.t})};function xc(a,b){return 1/hb(a,1,b.tileZoom)}function yc(a,b,c){return a.translatePosMatrix(b.tileID.posMatrix,b,c.paint.get("line-translate"),c.paint.get("line-translate-anchor"))}var zc=function(a,b,c,d,e){return{u_matrix:a,u_tl_parent:b,u_scale_parent:c,u_buffer_scale:1,u_fade_t:d.mix,u_opacity:d.opacity*e.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:e.paint.get("raster-brightness-min"),u_brightness_high:e.paint.get("raster-brightness-max"),u_saturation_factor:(a=e.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(b=e.paint.get("raster-contrast"),b>0?1/(1-b):1+b),u_spin_weights:Ac(e.paint.get("raster-hue-rotate"))}};function Ac(a){a*=Math.PI/180;var b=Math.sin(a);a=Math.cos(a);return[(2*a+1)/3,(-Math.sqrt(3)*b-a+1)/3,(Math.sqrt(3)*b-a+1)/3]}var Bc=function(a,b,c,d,e,f,g,h,i,k){var j=e.transform;return{u_is_size_zoom_constant:+("constant"===a||"source"===a),u_is_size_feature_constant:+("constant"===a||"camera"===a),u_size_t:b?b.uSizeT:0,u_size:b?b.uSize:0,u_camera_to_center_distance:j.cameraToCenterDistance,u_pitch:j.pitch/360*2*Math.PI,u_rotate_symbol:+c,u_aspect_ratio:j.width/j.height,u_fade_change:e.options.fadeDuration?e.symbolFadeChange:1,u_matrix:f,u_label_plane_matrix:g,u_coord_matrix:h,u_is_text:+i,u_pitch_with_map:+d,u_texsize:k,u_texture:0}},Cc=function(b,c,d,e,f,g,h,i,m,j,k){var l=f.transform;return a.extend(Bc(b,c,d,e,f,g,h,i,m,j),{u_gamma_scale:e?Math.cos(l._pitch)*l.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+k})},Dc=function(a,b,c){return{u_matrix:a,u_opacity:b,u_color:c}},Ec=function(b,c,d,e,f,g){return a.extend(function(a,b,c,d){var e=c.imageManager.getPattern(a.from);a=c.imageManager.getPattern(a.to);var f=c.imageManager.getPixelSize(),g=f.width;f=f.height;var i=Math.pow(2,d.tileID.overscaledZ),h=d.tileSize*Math.pow(2,c.transform.tileZoom)/i;i=h*(d.tileID.canonical.x+d.tileID.wrap*i);h=h*d.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:e.tl,u_pattern_br_a:e.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[g,f],u_mix:b.t,u_pattern_size_a:e.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:b.fromScale,u_scale_b:b.toScale,u_tile_units_to_pixels:1/hb(d,1,c.transform.tileZoom),u_pixel_coord_upper:[i>>16,h>>16],u_pixel_coord_lower:[65535&i,65535&h]}}(e,g,d,f),{u_matrix:b,u_opacity:c})},Fc={fillExtrusion:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_lightpos:new a.Uniform3f(b,c.u_lightpos),u_lightintensity:new a.Uniform1f(b,c.u_lightintensity),u_lightcolor:new a.Uniform3f(b,c.u_lightcolor),u_vertical_gradient:new a.Uniform1f(b,c.u_vertical_gradient),u_opacity:new a.Uniform1f(b,c.u_opacity)}},fillExtrusionPattern:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_lightpos:new a.Uniform3f(b,c.u_lightpos),u_lightintensity:new a.Uniform1f(b,c.u_lightintensity),u_lightcolor:new a.Uniform3f(b,c.u_lightcolor),u_vertical_gradient:new a.Uniform1f(b,c.u_vertical_gradient),u_height_factor:new a.Uniform1f(b,c.u_height_factor),u_image:new a.Uniform1i(b,c.u_image),u_texsize:new a.Uniform2f(b,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(b,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(b,c.u_pixel_coord_lower),u_scale:new a.Uniform4f(b,c.u_scale),u_fade:new a.Uniform1f(b,c.u_fade),u_opacity:new a.Uniform1f(b,c.u_opacity)}},fill:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix)}},fillPattern:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_image:new a.Uniform1i(b,c.u_image),u_texsize:new a.Uniform2f(b,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(b,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(b,c.u_pixel_coord_lower),u_scale:new a.Uniform4f(b,c.u_scale),u_fade:new a.Uniform1f(b,c.u_fade)}},fillOutline:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_world:new a.Uniform2f(b,c.u_world)}},fillOutlinePattern:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_world:new a.Uniform2f(b,c.u_world),u_image:new a.Uniform1i(b,c.u_image),u_texsize:new a.Uniform2f(b,c.u_texsize),u_pixel_coord_upper:new a.Uniform2f(b,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(b,c.u_pixel_coord_lower),u_scale:new a.Uniform4f(b,c.u_scale),u_fade:new a.Uniform1f(b,c.u_fade)}},circle:function(b,c){return{u_camera_to_center_distance:new a.Uniform1f(b,c.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(b,c.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(b,c.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(b,c.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(b,c.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(b,c.u_matrix)}},collisionBox:y,collisionCircle:y,debug:function(b,c){return{u_color:new a.UniformColor(b,c.u_color),u_matrix:new a.UniformMatrix4f(b,c.u_matrix)}},clippingMask:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix)}},heatmap:function(b,c){return{u_extrude_scale:new a.Uniform1f(b,c.u_extrude_scale),u_intensity:new a.Uniform1f(b,c.u_intensity),u_matrix:new a.UniformMatrix4f(b,c.u_matrix)}},heatmapTexture:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_world:new a.Uniform2f(b,c.u_world),u_image:new a.Uniform1i(b,c.u_image),u_color_ramp:new a.Uniform1i(b,c.u_color_ramp),u_opacity:new a.Uniform1f(b,c.u_opacity)}},hillshade:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_image:new a.Uniform1i(b,c.u_image),u_latrange:new a.Uniform2f(b,c.u_latrange),u_light:new a.Uniform2f(b,c.u_light),u_shadow:new a.UniformColor(b,c.u_shadow),u_highlight:new a.UniformColor(b,c.u_highlight),u_accent:new a.UniformColor(b,c.u_accent)}},hillshadePrepare:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_image:new a.Uniform1i(b,c.u_image),u_dimension:new a.Uniform2f(b,c.u_dimension),u_zoom:new a.Uniform1f(b,c.u_zoom),u_maxzoom:new a.Uniform1f(b,c.u_maxzoom)}},line:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_ratio:new a.Uniform1f(b,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(b,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(b,c.u_units_to_pixels)}},lineGradient:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_ratio:new a.Uniform1f(b,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(b,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(b,c.u_units_to_pixels),u_image:new a.Uniform1i(b,c.u_image)}},linePattern:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_texsize:new a.Uniform2f(b,c.u_texsize),u_ratio:new a.Uniform1f(b,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(b,c.u_device_pixel_ratio),u_image:new a.Uniform1i(b,c.u_image),u_units_to_pixels:new a.Uniform2f(b,c.u_units_to_pixels),u_scale:new a.Uniform4f(b,c.u_scale),u_fade:new a.Uniform1f(b,c.u_fade)}},lineSDF:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_ratio:new a.Uniform1f(b,c.u_ratio),u_device_pixel_ratio:new a.Uniform1f(b,c.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(b,c.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(b,c.u_patternscale_a),u_patternscale_b:new a.Uniform2f(b,c.u_patternscale_b),u_sdfgamma:new a.Uniform1f(b,c.u_sdfgamma),u_image:new a.Uniform1i(b,c.u_image),u_tex_y_a:new a.Uniform1f(b,c.u_tex_y_a),u_tex_y_b:new a.Uniform1f(b,c.u_tex_y_b),u_mix:new a.Uniform1f(b,c.u_mix)}},raster:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_tl_parent:new a.Uniform2f(b,c.u_tl_parent),u_scale_parent:new a.Uniform1f(b,c.u_scale_parent),u_buffer_scale:new a.Uniform1f(b,c.u_buffer_scale),u_fade_t:new a.Uniform1f(b,c.u_fade_t),u_opacity:new a.Uniform1f(b,c.u_opacity),u_image0:new a.Uniform1i(b,c.u_image0),u_image1:new a.Uniform1i(b,c.u_image1),u_brightness_low:new a.Uniform1f(b,c.u_brightness_low),u_brightness_high:new a.Uniform1f(b,c.u_brightness_high),u_saturation_factor:new a.Uniform1f(b,c.u_saturation_factor),u_contrast_factor:new a.Uniform1f(b,c.u_contrast_factor),u_spin_weights:new a.Uniform3f(b,c.u_spin_weights)}},symbolIcon:function(b,c){return{u_is_size_zoom_constant:new a.Uniform1i(b,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(b,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(b,c.u_size_t),u_size:new a.Uniform1f(b,c.u_size),u_camera_to_center_distance:new a.Uniform1f(b,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(b,c.u_pitch),u_rotate_symbol:new a.Uniform1i(b,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(b,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(b,c.u_fade_change),u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(b,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(b,c.u_coord_matrix),u_is_text:new a.Uniform1f(b,c.u_is_text),u_pitch_with_map:new a.Uniform1i(b,c.u_pitch_with_map),u_texsize:new a.Uniform2f(b,c.u_texsize),u_texture:new a.Uniform1i(b,c.u_texture)}},symbolSDF:function(b,c){return{u_is_size_zoom_constant:new a.Uniform1i(b,c.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(b,c.u_is_size_feature_constant),u_size_t:new a.Uniform1f(b,c.u_size_t),u_size:new a.Uniform1f(b,c.u_size),u_camera_to_center_distance:new a.Uniform1f(b,c.u_camera_to_center_distance),u_pitch:new a.Uniform1f(b,c.u_pitch),u_rotate_symbol:new a.Uniform1i(b,c.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(b,c.u_aspect_ratio),u_fade_change:new a.Uniform1f(b,c.u_fade_change),u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(b,c.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(b,c.u_coord_matrix),u_is_text:new a.Uniform1f(b,c.u_is_text),u_pitch_with_map:new a.Uniform1i(b,c.u_pitch_with_map),u_texsize:new a.Uniform2f(b,c.u_texsize),u_texture:new a.Uniform1i(b,c.u_texture),u_gamma_scale:new a.Uniform1f(b,c.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(b,c.u_device_pixel_ratio),u_is_halo:new a.Uniform1f(b,c.u_is_halo)}},background:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_opacity:new a.Uniform1f(b,c.u_opacity),u_color:new a.UniformColor(b,c.u_color)}},backgroundPattern:function(b,c){return{u_matrix:new a.UniformMatrix4f(b,c.u_matrix),u_opacity:new a.Uniform1f(b,c.u_opacity),u_image:new a.Uniform1i(b,c.u_image),u_pattern_tl_a:new a.Uniform2f(b,c.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(b,c.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(b,c.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(b,c.u_pattern_br_b),u_texsize:new a.Uniform2f(b,c.u_texsize),u_mix:new a.Uniform1f(b,c.u_mix),u_pattern_size_a:new a.Uniform2f(b,c.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(b,c.u_pattern_size_b),u_scale_a:new a.Uniform1f(b,c.u_scale_a),u_scale_b:new a.Uniform1f(b,c.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(b,c.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(b,c.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(b,c.u_tile_units_to_pixels)}}};function Gc(b,c){for(var b=b.sort(function(a,b){return a.tileID.isLessThan(b.tileID)?-1:b.tileID.isLessThan(a.tileID)?1:0}),d=0;d<b.length;d++){var e={},f=b[d],g=b.slice(d+1);Hc(f.tileID.wrapped(),f.tileID,g,new a.OverscaledTileID(0,f.tileID.wrap+1,0,0,0),e),f.setMask(e,c)}}function Hc(b,c,d,e,f){for(var g=0;g<d.length;g++){var h=d[g];if(e.isLessThan(h.tileID))break;if(c.key===h.tileID.key)return;if(h.tileID.isChildOf(c)){for(var h=c.children(1/0),i=0;i<h.length;i++)Hc(b,h[i],d.slice(g),e,f);return}}i=c.overscaledZ-b.overscaledZ;h=new a.CanonicalTileID(i,c.canonical.x-(b.canonical.x<<i),c.canonical.y-(b.canonical.y<<i));f[h.key]=f[h.key]||h}function Ic(a,b,c,d,e){for(var f=a.context,g=f.gl,h=e?a.useProgram("collisionCircle"):a.useProgram("collisionBox"),i=0;i<d.length;i++){var l=d[i],j=b.getTile(l),k=j.getBucket(c);if(k){k=e?k.collisionCircle:k.collisionBox;k&&h.draw(f,e?g.TRIANGLES:g.LINES,za.disabled,Aa.disabled,a.colorModeForRenderPass(),Ca.disabled,lc(l.posMatrix,a.transform,j),c.id,k.layoutVertexBuffer,k.indexBuffer,k.segments,null,a.transform.zoom,null,null,k.collisionVertexBuffer)}}}var Jc=a.identity(new Float32Array(16));function Kc(b,c,d,e,f,g){var h=a.getAnchorAlignment(b);c=-(h.horizontalAlign-.5)*c;h=-(h.verticalAlign-.5)*d;d=a.evaluateRadialOffset(b,e);return new a.Point((c/f+d[0])*g,(h/f+d[1])*g)}function Lc(b,c,d,e,f,g,h,i,E,j){var k=b.text.placedSymbolArray,l=b.text.dynamicLayoutVertexArray;l.clear();for(var F=0;F<k.length;F++){var v=k.get(F),w=!v.hidden&&v.crossTileID?e[v.crossTileID]:null;if(w){var x=new a.Point(v.anchorX,v.anchorY),y=Va(x,d?i:h),z=.5+g.cameraToCenterDistance/y.signedDistanceFromCamera*.5;z=f.evaluateSizeForFeature(b.textSizeData,j,v)*z/a.ONE_EM;d&&(z*=b.tilePixelRatio/E);for(var A=w.width,B=w.height,C=w.radialOffset,D=w.textBoxScale,w=Kc(w.anchor,A,B,C,D,z),A=d?Va(x.add(w),h).point:y.point.add(c?w.rotate(-g.angle):w),B=0;B<v.numGlyphs;B++)a.addDynamicAttributes(l,A,0)}else db(v.numGlyphs,l)}b.text.dynamicLayoutVertexBuffer.updateData(l)}function Mc(b,c,d,e,f,g,h,i,ka,j,k,l,la){for(var r,x,F=b.context,K=F.gl,L=b.transform,i="map"===i,ka="map"===ka,N=i&&"point"!==d.layout.get("symbol-placement"),O=i&&!ka&&!N,P=void 0!==d.layout.get("symbol-sort-key").constantOr(1),aa=b.depthModeForSublayer(0,za.ReadOnly),Q=d.layout.get("text-variable-anchor"),ma=[],na=0,e=e;na<e.length;na+=1){var R=e[na],S=c.getTile(R),T=S.getBucket(d);if(T){var ba=f?T.text:T.icon;if(ba&&ba.segments.get().length){var ca=ba.programConfigurations.get(d.id),da=f||T.sdfIcons,ea=f?T.textSizeData:T.iconSizeData;r||(r=b.useProgram(da?"symbolSDF":"symbolIcon",ca),x=a.evaluateSizeForZoom(ea,L.zoom)),F.activeTexture.set(K.TEXTURE0);ca=void 0;var fa=void 0,ga=void 0;if(f)fa=S.glyphAtlasTexture,ga=K.LINEAR,ca=S.glyphAtlasTexture.size;else{var ha=1!==d.layout.get("icon-size").constantOr(0)||T.iconsNeedLinear,ia=ka||0!==L.pitch;fa=S.imageAtlasTexture,ga=da||b.options.rotating||b.options.zooming||ha||ia?K.LINEAR:K.NEAREST,ca=S.imageAtlasTexture.size}ha=hb(S,1,b.transform.zoom);ia=W(R.posMatrix,ka,i,b.transform,ha);ha=Ua(R.posMatrix,ka,i,b.transform,ha);if(N)Xa(T,R.posMatrix,b,f,ia,ha,ka,j);else if(f&&x&&Q){var ja=Math.pow(2,L.zoom-S.tileID.overscaledZ);Lc(T,i,ka,la,a.symbolSize,L,ia,R.posMatrix,ja,x)}T=b.translatePosMatrix(R.posMatrix,S,g,h);ja=N||f&&Q?Jc:ia;R=b.translatePosMatrix(ha,S,g,h,!0);ia=da&&0!==d.paint.get(f?"text-halo-width":"icon-halo-width").constantOr(1);ha={program:r,buffers:ba,uniformValues:da?Cc(ea.kind,x,O,ka,b,T,ja,R,f,ca,!0):Bc(ea.kind,x,O,ka,b,T,ja,R,f,ca),atlasTexture:fa,atlasInterpolation:ga,isSDF:da,hasHalo:ia};if(P)for(var S=0,ea=ba.segments.get();S<ea.length;S+=1){T=ea[S];ma.push({segments:new a.SegmentVector([T]),sortKey:T.sortKey,state:ha})}else ma.push({segments:ba.segments,sortKey:0,state:ha})}}}P&&ma.sort(function(a,b){return a.sortKey-b.sortKey});for(var ja=0,R=ma;ja<R.length;ja+=1){ca=R[ja];fa=ca.state;if(fa.atlasTexture.bind(fa.atlasInterpolation,K.CLAMP_TO_EDGE),fa.isSDF){ga=fa.uniformValues;fa.hasHalo&&(ga.u_is_halo=1,Nc(fa.buffers,ca.segments,d,b,fa.program,aa,k,l,ga)),ga.u_is_halo=0}Nc(fa.buffers,ca.segments,d,b,fa.program,aa,k,l,fa.uniformValues)}}function Nc(a,b,c,d,e,f,g,h,i){var k=d.context,j=k.gl;e.draw(k,j.TRIANGLES,f,g,h,Ca.disabled,i,c.id,a.layoutVertexBuffer,a.indexBuffer,b,c.paint,d.transform.zoom,a.programConfigurations.get(c.id),a.dynamicLayoutVertexBuffer,a.opacityVertexBuffer)}function Oc(a,b,c,d,e,f,g){var h,i,j,k=a.context.gl,D=c.paint.get("fill-pattern"),l=D&&D.constantOr(1),p=c.getCrossfadeParameters();g?(i=l&&!c.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",h=k.LINES):(i=l?"fillPattern":"fill",h=k.TRIANGLES);for(var w=0,d=d;w<d.length;w+=1){var x=d[w],E=b.getTile(x);if(!l||E.patternsLoaded()){var y=E.getBucket(c);if(y){var z=y.programConfigurations.get(c.id),A=a.useProgram(i,z);l&&(a.context.activeTexture.set(k.TEXTURE0),E.imageAtlasTexture.bind(k.LINEAR,k.CLAMP_TO_EDGE),z.updatePatternPaintBuffers(p));var B=D.constantOr(null);if(B&&E.imageAtlas){var C=E.imageAtlas.patternPositions[B.to];B=E.imageAtlas.patternPositions[B.from];C&&B&&z.setConstantPatternPositions(C,B)}C=a.translatePosMatrix(x.posMatrix,E,c.paint.get("fill-translate"),c.paint.get("fill-translate-anchor"));if(g){B=y.indexBuffer2,j=y.segments2;var F=[k.drawingBufferWidth,k.drawingBufferHeight];F="fillOutlinePattern"===i&&l?Y(C,a,p,E,F):jc(C,F)}else B=y.indexBuffer,j=y.segments,F=l?X(C,a,p,E):ic(C);A.draw(a.context,h,e,a.stencilModeForClipping(x),f,Ca.disabled,F,c.id,y.layoutVertexBuffer,B,j,c.paint,a.transform.zoom,z)}}}}function Pc(a,b,c,d,e,f,g){for(var h=a.context,i=h.gl,y=c.paint.get("fill-extrusion-pattern"),j=y.constantOr(1),k=c.getCrossfadeParameters(),l=c.paint.get("fill-extrusion-opacity"),z=0,d=d;z<d.length;z+=1){var m=d[z],t=b.getTile(m),u=t.getBucket(c);if(u){var v=u.programConfigurations.get(c.id),A=a.useProgram(j?"fillExtrusionPattern":"fillExtrusion",v);j&&(a.context.activeTexture.set(i.TEXTURE0),t.imageAtlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE),v.updatePatternPaintBuffers(k));var w=y.constantOr(null);if(w&&t.imageAtlas){var x=t.imageAtlas.patternPositions[w.to];w=t.imageAtlas.patternPositions[w.from];x&&w&&v.setConstantPatternPositions(x,w)}x=a.translatePosMatrix(m.posMatrix,t,c.paint.get("fill-extrusion-translate"),c.paint.get("fill-extrusion-translate-anchor"));w=c.paint.get("fill-extrusion-vertical-gradient");m=j?hc(x,a,w,l,m,k,t):gc(x,a,w,l);A.draw(h,h.gl.TRIANGLES,e,f,g,Ca.backCCW,m,c.id,u.layoutVertexBuffer,u.indexBuffer,u.segments,c.paint,a.transform.zoom,v)}}}function Qc(a,b,c,d,e,f){var g=a.context,h=g.gl,i=b.fbo;if(i){var j=a.useProgram("hillshade");g.activeTexture.set(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,i.colorAttachment.get());i=qc(a,b,c);b.maskedBoundsBuffer&&b.maskedIndexBuffer&&b.segments?j.draw(g,h.TRIANGLES,d,e,f,Ca.disabled,i,c.id,b.maskedBoundsBuffer,b.maskedIndexBuffer,b.segments):j.draw(g,h.TRIANGLES,d,e,f,Ca.disabled,i,c.id,a.rasterBoundsBuffer,a.quadTriangleIndexBuffer,a.rasterBoundsSegments)}}function Rc(b,c,d,e,f,g,h){var i=b.context,m=i.gl;if(c.dem&&c.dem.data){var j=c.dem.dim,k=c.dem.stride,l=c.dem.getPixels();if(i.activeTexture.set(m.TEXTURE1),i.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||b.getTileTexture(k),c.demTexture){k=c.demTexture;k.update(l,{premultiply:!1}),k.bind(m.NEAREST,m.CLAMP_TO_EDGE)}else c.demTexture=new a.Texture(i,l,m.RGBA,{premultiply:!1}),c.demTexture.bind(m.NEAREST,m.CLAMP_TO_EDGE);i.activeTexture.set(m.TEXTURE0);k=c.fbo;if(!k){l=new a.Texture(i,{width:j,height:j,data:null},m.RGBA);l.bind(m.LINEAR,m.CLAMP_TO_EDGE),(k=c.fbo=i.createFramebuffer(j,j)).colorAttachment.set(l.texture)}i.bindFramebuffer.set(k.framebuffer),i.viewport.set([0,0,j,j]),b.useProgram("hillshadePrepare").draw(i,m.TRIANGLES,f,g,h,Ca.disabled,rc(c,e),d.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments),c.needsHillshadePrepare=!1}}function Sc(b,c,d,e,f){e=e.paint.get("raster-fade-duration");if(e>0){var g=a.browser.now(),h=(g-b.timeAdded)/e;g=c?(g-c.timeAdded)/e:-1;e=d.getSource();d=f.coveringZoomLevel({tileSize:e.tileSize,roundZoom:e.roundZoom});f=!c||Math.abs(c.tileID.overscaledZ-d)>Math.abs(b.tileID.overscaledZ-d);e=f&&b.refreshedUponExpiration?1:a.clamp(f?h:1-g,0,1);return b.refreshedUponExpiration&&h>=1&&(b.refreshedUponExpiration=!1),c?{opacity:1,mix:1-e}:{opacity:e,mix:0}}return{opacity:1,mix:0}}function Tc(b,c,d){var e=b.context,f=e.gl,g=d.posMatrix,h=b.useProgram("debug"),i=za.disabled,s=Aa.disabled,j=b.colorModeForRenderPass(),k="$debug";h.draw(e,f.LINE_STRIP,i,s,j,Ca.disabled,mc(g,a.Color.red),k,b.debugBuffer,b.tileBorderIndexBuffer,b.debugSegments);for(var l=c.getTileByID(d.key).latestRawTileData,l=l&&l.byteLength||0,l=Math.floor(l/1024),l=function(a,b,c,d){d=d||1;var e,f,g,h,i,m,j,k,l=[];for(e=0,f=a.length;e<f;e++)if(i=Uc[a[e]]){for(k=null,g=0,h=i[1].length;g<h;g+=2)-1===i[1][g]&&-1===i[1][g+1]?k=null:(m=b+i[1][g]*d,j=c-i[1][g+1]*d,k&&l.push(k.x,k.y,m,j),k={x:m,y:j});b+=i[0]*d}return l}(d.toString()+" "+l+"kb",50,200,5),m=new a.StructArrayLayout2i4(),n=new a.StructArrayLayout2ui4(),r=0;r<l.length;r+=2)m.emplaceBack(l[r],l[r+1]),n.emplaceBack(r,r+1);for(var l=e.createVertexBuffer(m,Jb.members),r=e.createIndexBuffer(n),n=a.SegmentVector.simpleSegment(0,0,m.length/2,m.length/2),m=c.getTile(d).tileSize,c=a.EXTENT/(Math.pow(2,b.transform.zoom-d.overscaledZ)*m),b=[[-1,-1],[-1,1],[1,-1],[1,1]],d=0;d<b.length;d++){m=b[d];h.draw(e,f.LINES,i,s,j,Ca.disabled,mc(a.translate([],g,[c*m[0],c*m[1],0]),a.Color.white),k,l,r,n)}h.draw(e,f.LINES,i,s,j,Ca.disabled,mc(g,a.Color.black),k,l,r,n)}var Uc={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},Vc={symbol:function(a,b,c,d,e){if("translucent"===a.renderPass){var f=Aa.disabled,g=a.colorModeForRenderPass();0!==c.paint.get("icon-opacity").constantOr(1)&&Mc(a,b,c,d,!1,c.paint.get("icon-translate"),c.paint.get("icon-translate-anchor"),c.layout.get("icon-rotation-alignment"),c.layout.get("icon-pitch-alignment"),c.layout.get("icon-keep-upright"),f,g,e),0!==c.paint.get("text-opacity").constantOr(1)&&Mc(a,b,c,d,!0,c.paint.get("text-translate"),c.paint.get("text-translate-anchor"),c.layout.get("text-rotation-alignment"),c.layout.get("text-pitch-alignment"),c.layout.get("text-keep-upright"),f,g,e),b.map.showCollisionBoxes&&(function(a,b,c,d){Ic(a,b,c,d,!1),Ic(a,b,c,d,!0)})(a,b,c,d)}},circle:function(a,b,c,d){if("translucent"===a.renderPass){var e=c.paint.get("circle-opacity"),f=c.paint.get("circle-stroke-width"),g=c.paint.get("circle-stroke-opacity");if(0!==e.constantOr(1)||0!==f.constantOr(1)&&0!==g.constantOr(1))for(var e=a.context,f=e.gl,g=a.depthModeForSublayer(0,za.ReadOnly),h=Aa.disabled,i=a.colorModeForRenderPass(),j=0;j<d.length;j++){var q=d[j],k=b.getTile(q),l=k.getBucket(c);if(l){var p=l.programConfigurations.get(c.id);a.useProgram("circle",p).draw(e,f.TRIANGLES,g,h,i,Ca.disabled,kc(a,q,k,c),c.id,l.layoutVertexBuffer,l.indexBuffer,l.segments,c.paint,a.transform.zoom,p)}}}},heatmap:function(b,c,d,e){if(0!==d.paint.get("heatmap-opacity"))if("offscreen"===b.renderPass){var f=b.context,g=f.gl,h=b.depthModeForSublayer(0,za.ReadOnly),i=Aa.disabled,s=new Ba([g.ONE,g.ONE],a.Color.transparent,[!0,!0,!0,!0]);!function(a,b,c){var d=a.gl;a.activeTexture.set(d.TEXTURE1),a.viewport.set([0,0,b.width/4,b.height/4]);var e=c.heatmapFbo;if(e)d.bindTexture(d.TEXTURE_2D,e.colorAttachment.get()),a.bindFramebuffer.set(e.framebuffer);else{var f=d.createTexture();d.bindTexture(d.TEXTURE_2D,f),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),e=c.heatmapFbo=a.createFramebuffer(b.width/4,b.height/4),(function a(b,c,d,e){var f=b.gl;f.texImage2D(f.TEXTURE_2D,0,f.RGBA,c.width/4,c.height/4,0,f.RGBA,b.extTextureHalfFloat?b.extTextureHalfFloat.HALF_FLOAT_OES:f.UNSIGNED_BYTE,null),e.colorAttachment.set(d),b.extTextureHalfFloat&&f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE&&(b.extTextureHalfFloat=null,e.colorAttachment.setDirty(),a(b,c,d,e))})(a,b,f,e)}}(f,b,d),f.clear({color:a.Color.transparent});for(var j=0;j<e.length;j++){var k=e[j];if(!c.hasRenderableParent(k)){var l=c.getTile(k),t=l.getBucket(d);if(t){var p=t.programConfigurations.get(d.id),q=b.useProgram("heatmap",p),r=b.transform.zoom;q.draw(f,g.TRIANGLES,h,i,s,Ca.disabled,oc(k.posMatrix,l,r,d.paint.get("heatmap-intensity")),d.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,d.paint,b.transform.zoom,p)}}}f.viewport.set([0,0,b.width,b.height])}else"translucent"===b.renderPass&&(b.context.setColorMode(b.colorModeForRenderPass()),function(b,c){var d=b.context,e=d.gl,f=c.heatmapFbo;if(f){d.activeTexture.set(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,f.colorAttachment.get()),d.activeTexture.set(e.TEXTURE1);f=c.colorRampTexture;f||(f=c.colorRampTexture=new a.Texture(d,c.colorRamp,e.RGBA)),f.bind(e.LINEAR,e.CLAMP_TO_EDGE),b.useProgram("heatmapTexture").draw(d,e.TRIANGLES,za.disabled,Aa.disabled,b.colorModeForRenderPass(),Ca.disabled,pc(b,c,0,1),c.id,b.viewportBuffer,b.quadTriangleIndexBuffer,b.viewportSegments,c.paint,b.transform.zoom)}}(b,d))},line:function(b,c,d,e){if("translucent"===b.renderPass){var f=d.paint.get("line-opacity"),g=d.paint.get("line-width");if(0!==f.constantOr(1)&&0!==g.constantOr(1)){f=b.depthModeForSublayer(0,za.ReadOnly);g=b.colorModeForRenderPass();var I=d.paint.get("line-dasharray"),h=d.paint.get("line-pattern"),i=h.constantOr(1),j=d.paint.get("line-gradient"),J=d.getCrossfadeParameters(),k=I?"lineSDF":i?"linePattern":j?"lineGradient":"line",l=b.context,r=l.gl,z=!0;if(j){l.activeTexture.set(r.TEXTURE0);var A=d.gradientTexture;if(!d.gradient)return;A||(A=d.gradientTexture=new a.Texture(l,d.gradient,r.RGBA)),A.bind(r.LINEAR,r.CLAMP_TO_EDGE)}for(var A=0,e=e;A<e.length;A+=1){var B=e[A],C=c.getTile(B);if(!i||C.patternsLoaded()){var D=C.getBucket(d);if(D){var E=D.programConfigurations.get(d.id),F=b.context.program.get(),K=b.useProgram(k,E);F=z||K.program!==F;var G=h.constantOr(null);if(G&&C.imageAtlas){var H=C.imageAtlas.patternPositions[G.to];G=C.imageAtlas.patternPositions[G.from];H&&G&&E.setConstantPatternPositions(H,G)}H=I?wc(b,C,d,I,J):i?vc(b,C,d,J):j?uc(b,C,d):tc(b,C,d);I&&(F||b.lineAtlas.dirty)?(l.activeTexture.set(r.TEXTURE0),b.lineAtlas.bind(l)):i&&(l.activeTexture.set(r.TEXTURE0),C.imageAtlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE),E.updatePatternPaintBuffers(J)),K.draw(l,r.TRIANGLES,f,b.stencilModeForClipping(B),g,Ca.disabled,H,d.id,D.layoutVertexBuffer,D.indexBuffer,D.segments,d.paint,b.transform.zoom,E),z=!1}}}}}},fill:function(b,c,d,e){var f=d.paint.get("fill-color"),g=d.paint.get("fill-opacity");if(0!==g.constantOr(1)){var h=b.colorModeForRenderPass(),i=d.paint.get("fill-pattern");i=b.opaquePassEnabledForLayer()&&!i.constantOr(1)&&1===f.constantOr(a.Color.transparent).a&&1===g.constantOr(0)?"opaque":"translucent";if(b.renderPass===i){f=b.depthModeForSublayer(1,"opaque"===b.renderPass?za.ReadWrite:za.ReadOnly);Oc(b,c,d,e,f,h,!1)}if("translucent"===b.renderPass&&d.paint.get("fill-antialias")){g=b.depthModeForSublayer(d.getPaintProperty("fill-outline-color")?2:0,za.ReadOnly);Oc(b,c,d,e,g,h,!0)}}},"fill-extrusion":function(a,b,c,d){var e=c.paint.get("fill-extrusion-opacity");if(0!==e&&"translucent"===a.renderPass){var f=new za(a.context.gl.LEQUAL,za.ReadWrite,a.depthRangeFor3D);if(1!==e||c.paint.get("fill-extrusion-pattern").constantOr(1))Pc(a,b,c,d,f,Aa.disabled,Ba.disabled),Pc(a,b,c,d,f,a.stencilModeFor3D(),a.colorModeForRenderPass());else{e=a.colorModeForRenderPass();Pc(a,b,c,d,f,Aa.disabled,e)}}},hillshade:function(a,b,c,d){if("offscreen"===a.renderPass||"translucent"===a.renderPass){for(var e=a.context,f=b.getSource().maxzoom,g=a.depthModeForSublayer(0,za.ReadOnly),h=Aa.disabled,i=a.colorModeForRenderPass(),k=0,d=d;k<d.length;k+=1){var j=d[k];j=b.getTile(j);j.needsHillshadePrepare&&"offscreen"===a.renderPass?Rc(a,j,c,f,g,h,i):"translucent"===a.renderPass&&Qc(a,j,c,g,h,i)}e.viewport.set([0,0,a.width,a.height])}},raster:function(a,b,c,d){if("translucent"===a.renderPass&&0!==c.paint.get("raster-opacity"))for(var e=a.context,f=e.gl,g=b.getSource(),h=a.useProgram("raster"),i=Aa.disabled,B=a.colorModeForRenderPass(),j=d.length&&d[0].overscaledZ,k=!a.options.moving,l=0,d=d;l<d.length;l+=1){var q=d[l],u=a.depthModeForSublayer(q.overscaledZ-j,1===c.paint.get("raster-opacity")?za.ReadWrite:za.ReadOnly,f.LESS),v=b.getTile(q),w=a.transform.calculatePosMatrix(q.toUnwrapped(),k);v.registerFadeDuration(c.paint.get("raster-fade-duration"));q=b.findLoadedParent(q,0);var C=Sc(v,q,b,c,a.transform),x=void 0,y=void 0,A="nearest"===c.paint.get("raster-resampling")?f.NEAREST:f.LINEAR;e.activeTexture.set(f.TEXTURE0),v.texture.bind(A,f.CLAMP_TO_EDGE,f.LINEAR_MIPMAP_NEAREST),e.activeTexture.set(f.TEXTURE1),q?(q.texture.bind(A,f.CLAMP_TO_EDGE,f.LINEAR_MIPMAP_NEAREST),x=Math.pow(2,q.tileID.overscaledZ-v.tileID.overscaledZ),y=[v.tileID.canonical.x*x%1,v.tileID.canonical.y*x%1]):v.texture.bind(A,f.CLAMP_TO_EDGE,f.LINEAR_MIPMAP_NEAREST);q=zc(w,y||[0,0],x||1,C,c);g instanceof z?h.draw(e,f.TRIANGLES,u,i,B,Ca.disabled,q,c.id,g.boundsBuffer,a.quadTriangleIndexBuffer,g.boundsSegments):v.maskedBoundsBuffer&&v.maskedIndexBuffer&&v.segments?h.draw(e,f.TRIANGLES,u,i,B,Ca.disabled,q,c.id,v.maskedBoundsBuffer,v.maskedIndexBuffer,v.segments,c.paint,a.transform.zoom):h.draw(e,f.TRIANGLES,u,i,B,Ca.disabled,q,c.id,a.rasterBoundsBuffer,a.quadTriangleIndexBuffer,a.rasterBoundsSegments)}},background:function(a,b,c){b=c.paint.get("background-color");var d=c.paint.get("background-opacity");if(0!==d){var e=a.context,f=e.gl,g=a.transform,h=g.tileSize,s=c.paint.get("background-pattern");if(!a.isPatternMissing(s)){var i=s||1!==b.a||1!==d?"translucent":"opaque";if(a.renderPass===i){var j=Aa.disabled;i=a.depthModeForSublayer(0,"opaque"===i?za.ReadWrite:za.ReadOnly);var t=a.colorModeForRenderPass(),k=a.useProgram(s?"backgroundPattern":"background");g=g.coveringTiles({tileSize:h});s&&(e.activeTexture.set(f.TEXTURE0),a.imageManager.bind(a.context));for(var l=c.getCrossfadeParameters(),n=0,g=g;n<g.length;n+=1){var u=g[n],q=a.transform.calculatePosMatrix(u.toUnwrapped());u=s?Ec(q,d,a,s,{tileID:u,tileSize:h},l):Dc(q,d,b);k.draw(e,f.TRIANGLES,i,j,t,Ca.disabled,u,c.id,a.tileExtentBuffer,a.quadTriangleIndexBuffer,a.tileExtentSegments)}}}}},debug:function(a,b,c){for(var d=0;d<c.length;d++)Tc(a,b,c[d])},custom:function(a,b,c){b=a.context;c=c.implementation;if("offscreen"===a.renderPass){var d=c.prerender;d&&(a.setCustomLayerDefaults(),b.setColorMode(a.colorModeForRenderPass()),d.call(c,b.gl,a.transform.customLayerMatrix()),b.setDirty(),a.setBaseState())}else if("translucent"===a.renderPass){a.setCustomLayerDefaults(),b.setColorMode(a.colorModeForRenderPass()),b.setStencilMode(Aa.disabled);d="3d"===c.renderingMode?new za(a.context.gl.LEQUAL,za.ReadWrite,a.depthRangeFor3D):a.depthModeForSublayer(0,za.ReadOnly);b.setDepthMode(d),c.render(b.gl,a.transform.customLayerMatrix()),b.setDirty(),a.setBaseState(),b.bindFramebuffer.set(null)}}},Wc=function(b,c){this.context=new Da(b),this.transform=c,this._tileTextures={},this.setup(),this.numSublayers=Ea.maxUnderzooming+Ea.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new a.ProgramConfiguration(),this.crossTileSymbolIndex=new Eb()};function Xc(a,b){if(a.y>b.y){var c=a;a=b,b=c}return{x0:a.x,y0:a.y,x1:b.x,y1:b.y,dx:b.x-a.x,dy:b.y-a.y}}function Yc(a,b,c,d,e){c=Math.max(c,Math.floor(b.y0));d=Math.min(d,Math.ceil(b.y1));if(a.x0===b.x0&&a.y0===b.y0?a.x0+b.dy/a.dy*a.dx<b.x1:a.x1-b.dy/a.dy*a.dx<b.x0){var f=a;a=b,b=f}for(var f=a.dx/a.dy,j=b.dx/b.dy,g=a.dx>0,h=b.dx<0,c=c;c<d;c++){var k=f*Math.max(0,Math.min(a.dy,c+g-a.y0))+a.x0,i=j*Math.max(0,Math.min(b.dy,c+h-b.y0))+b.x0;e(Math.floor(i),Math.ceil(k),c)}}function Zc(a,b,c,d,e,f){var g=Xc(a,b);b=Xc(b,c);c=Xc(c,a);g.dy>b.dy&&(a=g,g=b,b=a),g.dy>c.dy&&(a=g,g=c,c=a),b.dy>c.dy&&(a=b,b=c,c=a),g.dy&&Yc(c,g,d,e,f),b.dy&&Yc(c,b,d,e,f)}Wc.prototype.resize=function(b,c){var d=this.context.gl;if(this.width=b*a.browser.devicePixelRatio,this.height=c*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var b=0,c=this.style._order;b<c.length;b+=1){var e=c[b];this.style._layers[e].resize()}this.depthRbo&&(d.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},Wc.prototype.setup=function(){var b=this.context,c=new a.StructArrayLayout2i4();c.emplaceBack(0,0),c.emplaceBack(a.EXTENT,0),c.emplaceBack(0,a.EXTENT),c.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=b.createVertexBuffer(c,Jb.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);c=new a.StructArrayLayout2i4();c.emplaceBack(0,0),c.emplaceBack(a.EXTENT,0),c.emplaceBack(0,a.EXTENT),c.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=b.createVertexBuffer(c,Jb.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);c=new a.StructArrayLayout4i8();c.emplaceBack(0,0,0,0),c.emplaceBack(a.EXTENT,0,a.EXTENT,0),c.emplaceBack(0,a.EXTENT,0,a.EXTENT),c.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=b.createVertexBuffer(c,a.rasterBoundsAttributes.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);c=new a.StructArrayLayout2i4();c.emplaceBack(0,0),c.emplaceBack(1,0),c.emplaceBack(0,1),c.emplaceBack(1,1),this.viewportBuffer=b.createVertexBuffer(c,Jb.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);c=new a.StructArrayLayout1ui2();c.emplaceBack(0),c.emplaceBack(1),c.emplaceBack(3),c.emplaceBack(2),c.emplaceBack(0),this.tileBorderIndexBuffer=b.createIndexBuffer(c);c=new a.StructArrayLayout3ui6();c.emplaceBack(0,1,2),c.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=b.createIndexBuffer(c);b=this.context.gl;this.stencilClearMode=new Aa({func:b.ALWAYS,mask:0},0,255,b.ZERO,b.ZERO,b.ZERO)},Wc.prototype.clearStencil=function(){var b=this.context,c=b.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var d=a.create();a.ortho(d,0,this.width,this.height,0,0,1),a.scale(d,d,[c.drawingBufferWidth,c.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(b,c.TRIANGLES,za.disabled,this.stencilClearMode,Ba.disabled,Ca.disabled,nc(d),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Wc.prototype._renderTileClippingMasks=function(a,b){if(this.currentStencilSource!==a.source&&a.isTileClipped()&&b&&b.length){this.currentStencilSource=a.source;a=this.context;var c=a.gl;this.nextStencilID+b.length>256&&this.clearStencil(),a.setColorMode(Ba.disabled),a.setDepthMode(za.disabled);var d=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var e=0,b=b;e<b.length;e+=1){var f=b[e],g=this._tileClippingMaskIDs[f.key]=this.nextStencilID++;d.draw(a,c.TRIANGLES,za.disabled,new Aa({func:c.ALWAYS,mask:0},g,255,c.KEEP,c.KEEP,c.REPLACE),Ba.disabled,Ca.disabled,nc(f.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Wc.prototype.stencilModeFor3D=function(){this.nextStencilID+1>256&&this.clearStencil();var a=this.nextStencilID++,b=this.context.gl;return new Aa({func:b.NOTEQUAL,mask:255},a,255,b.KEEP,b.KEEP,b.REPLACE)},Wc.prototype.stencilModeForClipping=function(a){var b=this.context.gl;return new Aa({func:b.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,b.KEEP,b.KEEP,b.REPLACE)},Wc.prototype.colorModeForRenderPass=function(){var b=this.context.gl;return this._showOverdrawInspector?new Ba([b.CONSTANT_COLOR,b.ONE],new a.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Ba.unblended:Ba.alphaBlended},Wc.prototype.depthModeForSublayer=function(a,b,c){if(!this.opaquePassEnabledForLayer())return za.disabled;a=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new za(c||this.context.gl.LEQUAL,b,[a,a])},Wc.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Wc.prototype.render=function(b,c){this.style=b,this.options=c,this.lineAtlas=b.lineAtlas,this.imageManager=b.imageManager,this.glyphManager=b.glyphManager,this.symbolFadeChange=b.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var d=this.style._order,e=this.style.sourceCaches;for(var f in e){var g=e[f];g.used&&g.prepare(this.context)}g={};var h={},u={};for(var i in e){var j=e[i];g[i]=j.getVisibleCoordinates(),h[i]=g[i].slice().reverse(),u[i]=j.getVisibleCoordinates(!0).reverse()}for(var k in e){j=e[k];var l=j.getSource();if("raster"===l.type||"raster-dem"===l.type){for(var l=[],n=0,r=g[k];n<r.length;n+=1){var s=r[n];l.push(j.getTile(s))}Gc(l,this.context)}}this.opaquePassCutoff=1/0;for(var s=0;s<d.length;s++){j=d[s];if(this.style._layers[j].is3D()){this.opaquePassCutoff=s;break}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var r=0,n=d;r<n.length;r+=1){l=n[r];j=this.style._layers[l];if(j.hasOffscreenPass()&&!j.isHidden(this.transform.zoom)){s=h[j.source];("custom"===j.type||s.length)&&this.renderLayer(this,e[j.source],j,s)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:c.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=c.showOverdrawInspector,this.depthRangeFor3D=[0,1-(b._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=d.length-1;this.currentLayer>=0;this.currentLayer--){l=this.style._layers[d[this.currentLayer]];j=e[l.source];s=g[l.source];this._renderTileClippingMasks(l,s),this.renderLayer(this,j,l,s)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<d.length;this.currentLayer++){r=this.style._layers[d[this.currentLayer]];n=e[r.source];c=("symbol"===r.type?u:h)[r.source];this._renderTileClippingMasks(r,g[r.source]),this.renderLayer(this,n,r,c)}if(this.options.showTileBoundaries)for(var t in e){Vc.debug(this,e[t],g[t]);break}this.context.setDefault()},Wc.prototype.setupOffscreenDepthRenderbuffer=function(){var a=this.context;this.depthRbo||(this.depthRbo=a.createRenderbuffer(a.gl.DEPTH_COMPONENT16,this.width,this.height))},Wc.prototype.renderLayer=function(a,b,c,d){c.isHidden(this.transform.zoom)||("background"===c.type||"custom"===c.type||d.length)&&(this.id=c.id,Vc[c.type](a,b,c,d,this.style.placement.variableOffsets))},Wc.prototype.translatePosMatrix=function(b,c,d,e,f){if(!d[0]&&!d[1])return b;e=f?"map"===e?this.transform.angle:0:"viewport"===e?-this.transform.angle:0;if(e){var g=Math.sin(e);e=Math.cos(e);d=[d[0]*e-d[1]*g,d[0]*g+d[1]*e]}g=[f?d[0]:hb(c,d[0],this.transform.zoom),f?d[1]:hb(c,d[1],this.transform.zoom),0];e=new Float32Array(16);return a.translate(e,b,g),e},Wc.prototype.saveTileTexture=function(a){var b=this._tileTextures[a.size[0]];b?b.push(a):this._tileTextures[a.size[0]]=[a]},Wc.prototype.getTileTexture=function(a){a=this._tileTextures[a];return a&&a.length>0?a.pop():null},Wc.prototype.isPatternMissing=function(a){if(!a)return!1;var b=this.imageManager.getPattern(a.from);a=this.imageManager.getPattern(a.to);return!b||!a},Wc.prototype.useProgram=function(a,b){void 0===b&&(b=this.emptyProgramConfiguration),this.cache=this.cache||{};var c=""+a+(b.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[c]||(this.cache[c]=new ec(this.context,cc[a],b,Fc[a],this._showOverdrawInspector)),this.cache[c]},Wc.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Wc.prototype.setBaseState=function(){var a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)};var $c=function(b,c,d){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===d||d,this._minZoom=b||0,this._maxZoom=c||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}};A={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};$c.prototype.clone=function(){var a=new $c(this._minZoom,this._maxZoom,this._renderWorldCopies);return a.tileSize=this.tileSize,a.latRange=this.latRange,a.width=this.width,a.height=this.height,a._center=this._center,a.zoom=this.zoom,a.angle=this.angle,a._fov=this._fov,a._pitch=this._pitch,a._unmodified=this._unmodified,a._calcMatrices(),a},A.minZoom.get=function(){return this._minZoom},A.minZoom.set=function(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))},A.maxZoom.get=function(){return this._maxZoom},A.maxZoom.set=function(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))},A.renderWorldCopies.get=function(){return this._renderWorldCopies},A.renderWorldCopies.set=function(a){void 0===a?a=!0:null===a&&(a=!1),this._renderWorldCopies=a},A.worldSize.get=function(){return this.tileSize*this.scale},A.centerPoint.get=function(){return this.size._div(2)},A.size.get=function(){return new a.Point(this.width,this.height)},A.bearing.get=function(){return-this.angle/Math.PI*180},A.bearing.set=function(b){b=-a.wrap(b,-180,180)*Math.PI/180;this.angle!==b&&(this._unmodified=!1,this.angle=b,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},A.pitch.get=function(){return this._pitch/Math.PI*180},A.pitch.set=function(b){b=a.clamp(b,0,60)/180*Math.PI;this._pitch!==b&&(this._unmodified=!1,this._pitch=b,this._calcMatrices())},A.fov.get=function(){return this._fov/Math.PI*180},A.fov.set=function(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=a/180*Math.PI,this._calcMatrices())},A.zoom.get=function(){return this._zoom},A.zoom.set=function(a){a=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==a&&(this._unmodified=!1,this._zoom=a,this.scale=this.zoomScale(a),this.tileZoom=Math.floor(a),this.zoomFraction=a-this.tileZoom,this._constrain(),this._calcMatrices())},A.center.get=function(){return this._center},A.center.set=function(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())},$c.prototype.coveringZoomLevel=function(a){return(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize))},$c.prototype.getVisibleUnwrappedCoordinates=function(b){var c=[new a.UnwrappedTileID(0,b)];if(this._renderWorldCopies)for(var d=this.pointCoordinate(new a.Point(0,0)),e=this.pointCoordinate(new a.Point(this.width,0)),f=this.pointCoordinate(new a.Point(this.width,this.height)),g=this.pointCoordinate(new a.Point(0,this.height)),h=Math.floor(Math.min(d.x,e.x,f.x,g.x)),d=Math.floor(Math.max(d.x,e.x,f.x,g.x)),e=h-1;e<=d+1;e++)0!==e&&c.push(new a.UnwrappedTileID(e,b));return c},$c.prototype.coveringTiles=function(b){var c=this.coveringZoomLevel(b),d=c;if(void 0!==b.minzoom&&c<b.minzoom)return[];void 0!==b.maxzoom&&c>b.maxzoom&&(c=b.maxzoom);var e=a.MercatorCoordinate.fromLngLat(this.center),f=Math.pow(2,c),g=new a.Point(f*e.x-.5,f*e.y-.5);return function(b,c,d,e){void 0===e&&(e=!0);var f=1<<b,g={};function h(c,h,i){var j,k;if(i>=0&&i<=f)for(c=c;c<h;c++)j=Math.floor(c/f),k=(c%f+f)%f,0!==j&&!0!==e||(j=new a.OverscaledTileID(d,j,b,k,i),g[j.key]=j)}c=c.map(function(b){return new a.Point(b.x,b.y)._mult(f)});return Zc(c[0],c[1],c[2],0,f,h),Zc(c[2],c[3],c[0],0,f,h),Object.keys(g).map(function(a){return g[a]})}(c,[this.pointCoordinate(new a.Point(0,0)),this.pointCoordinate(new a.Point(this.width,0)),this.pointCoordinate(new a.Point(this.width,this.height)),this.pointCoordinate(new a.Point(0,this.height))],b.reparseOverscaled?d:c,this._renderWorldCopies).sort(function(a,b){return g.dist(a.canonical)-g.dist(b.canonical)})},$c.prototype.resize=function(a,b){this.width=a,this.height=b,this.pixelsToGLUnits=[2/a,-2/b],this._constrain(),this._calcMatrices()},A.unmodified.get=function(){return this._unmodified},$c.prototype.zoomScale=function(a){return Math.pow(2,a)},$c.prototype.scaleZoom=function(a){return Math.log(a)/Math.LN2},$c.prototype.project=function(b){var c=a.clamp(b.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(b.lng)*this.worldSize,a.mercatorYfromLat(c)*this.worldSize)},$c.prototype.unproject=function(b){return new a.MercatorCoordinate(b.x/this.worldSize,b.y/this.worldSize).toLngLat()},A.point.get=function(){return this.project(this.center)},$c.prototype.setLocationAtPoint=function(b,c){c=this.pointCoordinate(c);var d=this.pointCoordinate(this.centerPoint);b=this.locationCoordinate(b);b=new a.MercatorCoordinate(b.x-(c.x-d.x),b.y-(c.y-d.y));this.center=this.coordinateLocation(b),this._renderWorldCopies&&(this.center=this.center.wrap())},$c.prototype.locationPoint=function(a){return this.coordinatePoint(this.locationCoordinate(a))},$c.prototype.pointLocation=function(a){return this.coordinateLocation(this.pointCoordinate(a))},$c.prototype.locationCoordinate=function(b){return a.MercatorCoordinate.fromLngLat(b)},$c.prototype.coordinateLocation=function(a){return a.toLngLat()},$c.prototype.pointCoordinate=function(b){var c=[b.x,b.y,0,1];b=[b.x,b.y,1,1];a.transformMat4(c,c,this.pixelMatrixInverse),a.transformMat4(b,b,this.pixelMatrixInverse);var d=c[3],e=b[3],f=c[0]/d,g=b[0]/e,h=c[1]/d,i=b[1]/e;c=c[2]/d;d=b[2]/e;b=c===d?0:(0-c)/(d-c);return new a.MercatorCoordinate(a.number(f,g,b)/this.worldSize,a.number(h,i,b)/this.worldSize)},$c.prototype.coordinatePoint=function(b){b=[b.x*this.worldSize,b.y*this.worldSize,0,1];return a.transformMat4(b,b,this.pixelMatrix),new a.Point(b[0]/b[3],b[1]/b[3])},$c.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},$c.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},$c.prototype.setMaxBounds=function(a){a?(this.lngRange=[a.getWest(),a.getEast()],this.latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},$c.prototype.calculatePosMatrix=function(b,c){void 0===c&&(c=!1);var d=b.key,e=c?this._alignedPosMatrixCache:this._posMatrixCache;if(e[d])return e[d];var f=b.canonical,g=this.worldSize/this.zoomScale(f.z);b=f.x+Math.pow(2,f.z)*b.wrap;var h=a.identity(new Float64Array(16));return a.translate(h,h,[b*g,f.y*g,0]),a.scale(h,h,[g/a.EXTENT,g/a.EXTENT,1]),a.multiply(h,c?this.alignedProjMatrix:this.projMatrix,h),e[d]=new Float32Array(h),e[d]},$c.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},$c.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var b,c,d,e,f=-90,g=90,h=-180,i=180,p=this.size,j=this._unmodified;if(this.latRange){var k=this.latRange;f=a.mercatorYfromLat(k[1])*this.worldSize,b=(g=a.mercatorYfromLat(k[0])*this.worldSize)-f<p.y?p.y/(g-f):0}if(this.lngRange){k=this.lngRange;h=a.mercatorXfromLng(k[0])*this.worldSize,c=(i=a.mercatorXfromLng(k[1])*this.worldSize)-h<p.x?p.x/(i-h):0}k=this.point;var l=Math.max(c||0,b||0);if(l)return this.center=this.unproject(new a.Point(c?(i+h)/2:k.x,b?(g+f)/2:k.y)),this.zoom+=this.scaleZoom(l),this._unmodified=j,void (this._constraining=!1);if(this.latRange){l=k.y;var n=p.y/2;l-n<f&&(e=f+n),l+n>g&&(e=g-n)}if(this.lngRange){f=k.x;l=p.x/2;f-l<h&&(d=h+l),f+l>i&&(d=i-l)}void 0===d&&void 0===e||(this.center=this.unproject(new a.Point(void 0!==d?d:k.x,void 0!==e?e:k.y))),this._unmodified=j,this._constraining=!1}},$c.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var b=this._fov/2,c=Math.PI/2+this._pitch;c=Math.sin(b)*this.cameraToCenterDistance/Math.sin(Math.PI-c-b);b=this.point;var d=b.x;b=b.y;c=1.01*(Math.cos(Math.PI/2-this._pitch)*c+this.cameraToCenterDistance);var e=new Float64Array(16);a.perspective(e,this._fov,this.width/this.height,1,c),a.scale(e,e,[1,-1,1]),a.translate(e,e,[0,0,-this.cameraToCenterDistance]),a.rotateX(e,e,this._pitch),a.rotateZ(e,e,this.angle),a.translate(e,e,[-d,-b,0]),this.mercatorMatrix=a.scale([],e,[this.worldSize,this.worldSize,this.worldSize]),a.scale(e,e,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=e;c=this.width%2/2;var f=this.height%2/2,g=Math.cos(this.angle),h=Math.sin(this.angle);d=d-Math.round(d)+g*c+h*f;b=b-Math.round(b)+g*f+h*c;g=new Float64Array(e);if(a.translate(g,g,[d>.5?d-1:d,b>.5?b-1:b,0]),this.alignedProjMatrix=g,e=a.create(),a.scale(e,e,[this.width/2,-this.height/2,1]),a.translate(e,e,[1,-1,0]),this.labelPlaneMatrix=e,e=a.create(),a.scale(e,e,[1,-1,1]),a.translate(e,e,[-1,-1,0]),a.scale(e,e,[2/this.width,2/this.height,1]),this.glCoordMatrix=e,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(e=a.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=e,this._posMatrixCache={},this._alignedPosMatrixCache={}}},$c.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var b=this.pointCoordinate(new a.Point(0,0));b=[b.x*this.worldSize,b.y*this.worldSize,0,1];return a.transformMat4(b,b,this.pixelMatrix)[3]/this.cameraToCenterDistance},$c.prototype.getCameraPoint=function(){var b=this._pitch;b=Math.tan(b)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,b))},$c.prototype.getCameraQueryGeometry=function(b){var c=this.getCameraPoint();if(1===b.length)return[b[0],c];for(var d=c.x,e=c.y,f=c.x,c=c.y,g=0,b=b;g<b.length;g+=1){var h=b[g];d=Math.min(d,h.x),e=Math.min(e,h.y),f=Math.max(f,h.x),c=Math.max(c,h.y)}return[new a.Point(d,e),new a.Point(f,e),new a.Point(f,c),new a.Point(d,c),new a.Point(d,e)]},Object.defineProperties($c.prototype,A);var ad=function(){var b,c,d,e,f;a.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(b=this._updateHashUnthrottled.bind(this),c=300,d=!1,e=null,f=function(){e=null,d&&(b(),e=setTimeout(f,c),d=!1)},function(){return d=!0,e||f(),e})};ad.prototype.addTo=function(b){return this._map=b,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},ad.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},ad.prototype.getHashString=function(a){var b=this._map.getCenter(),c=Math.round(100*this._map.getZoom())/100,d=Math.ceil((c*Math.LN2+Math.log(512/360/.5))/Math.LN10);d=Math.pow(10,d);var e=Math.round(b.lng*d)/d;b=Math.round(b.lat*d)/d;d=this._map.getBearing();var f=this._map.getPitch(),g="";return g+=a?"#/"+e+"/"+b+"/"+c:"#"+c+"/"+b+"/"+e,(d||f)&&(g+="/"+Math.round(10*d)/10),f&&(g+="/"+Math.round(f)),g},ad.prototype._onHashChange=function(){var b=a.window.location.hash.replace("#","").split("/");return b.length>=3&&(this._map.jumpTo({center:[+b[2],+b[1]],zoom:+b[0],bearing:+(b[3]||0),pitch:+(b[4]||0)}),!0)},ad.prototype._updateHashUnthrottled=function(){var b=this.getHashString();try{a.window.history.replaceState(a.window.history.state,"",b)}catch(a){}};var bd=function(b){function d(d,e,f,g){void 0===g&&(g={});var h=c.mousePos(e.getCanvasContainer(),f),i=e.unproject(h);b.call(this,d,a.extend({point:h,lngLat:i,originalEvent:f},g)),this._defaultPrevented=!1,this.target=e}b&&(d.__proto__=b),d.prototype=Object.create(b&&b.prototype),d.prototype.constructor=d;var e={defaultPrevented:{configurable:!0}};return d.prototype.preventDefault=function(){this._defaultPrevented=!0},e.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(d.prototype,e),d}(a.Event),cd=function(b){function d(d,e,f){var g=c.touchPos(e.getCanvasContainer(),f),h=g.map(function(a){return e.unproject(a)}),i=g.reduce(function(a,b,c,d){return a.add(b.div(d.length))},new a.Point(0,0)),j=e.unproject(i);b.call(this,d,{points:g,point:i,lngLats:h,lngLat:j,originalEvent:f}),this._defaultPrevented=!1}b&&(d.__proto__=b),d.prototype=Object.create(b&&b.prototype),d.prototype.constructor=d;var e={defaultPrevented:{configurable:!0}};return d.prototype.preventDefault=function(){this._defaultPrevented=!0},e.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(d.prototype,e),d}(a.Event),dd=function(a){function b(b,c,d){a.call(this,b,{originalEvent:d}),this._defaultPrevented=!1}a&&(b.__proto__=a),b.prototype=Object.create(a&&a.prototype),b.prototype.constructor=b;var c={defaultPrevented:{configurable:!0}};return b.prototype.preventDefault=function(){this._defaultPrevented=!0},c.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(b.prototype,c),b}(a.Event);B=function(b){this._map=b,this._el=b.getCanvasContainer(),this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,a.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};B.prototype.setZoomRate=function(a){this._defaultZoomRate=a},B.prototype.setWheelZoomRate=function(a){this._wheelZoomRate=a},B.prototype.isEnabled=function(){return!!this._enabled},B.prototype.isActive=function(){return!!this._active},B.prototype.isZooming=function(){return!!this._zooming},B.prototype.enable=function(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=a&&"center"===a.around)},B.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},B.prototype.onWheel=function(b){if(this.isEnabled()){var c=b.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*b.deltaY:b.deltaY,d=a.browser.now(),e=d-(this._lastWheelEventTime||0);this._lastWheelEventTime=d,0!==c&&c%4.000244140625==0?this._type="wheel":0!==c&&Math.abs(c)<4?this._type="trackpad":e>400?(this._type=null,this._lastValue=c,this._timeout=setTimeout(this._onTimeout,40,b)):this._type||(this._type=Math.abs(e*c)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,c+=this._lastValue)),b.shiftKey&&c&&(c/=4),this._type&&(this._lastWheelEvent=b,this._delta-=c,this.isActive()||this._start(b)),b.preventDefault()}},B.prototype._onTimeout=function(a){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(a)},B.prototype._start=function(b){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0,this._map.fire(new a.Event("movestart",{originalEvent:b})),this._map.fire(new a.Event("zoomstart",{originalEvent:b}))),this._finishTimeout&&clearTimeout(this._finishTimeout);b=c.mousePos(this._el,b);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(b)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},B.prototype._onScrollFrame=function(){var b=this;if(this._frameId=null,this.isActive()){var c=this._map.transform;if(0!==this._delta){var d="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate;d=2/(1+Math.exp(-Math.abs(this._delta*d)));this._delta<0&&0!==d&&(d=1/d);var e="number"==typeof this._targetZoom?c.zoomScale(this._targetZoom):c.scale;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(e*d))),"wheel"===this._type&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}e="number"==typeof this._targetZoom?this._targetZoom:c.zoom;d=this._startZoom;var f=this._easing,h=!1;if("wheel"===this._type&&d&&f){var g=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1);f=f(g);c.zoom=a.number(d,e,f),g<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):h=!0}else c.zoom=e,h=!0;c.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new a.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new a.Event("zoom",{originalEvent:this._lastWheelEvent})),h&&(this._active=!1,this._finishTimeout=setTimeout(function(){b._zooming=!1,b._map.fire(new a.Event("zoomend",{originalEvent:b._lastWheelEvent})),b._map.fire(new a.Event("moveend",{originalEvent:b._lastWheelEvent})),delete b._targetZoom},200))}},B.prototype._smoothOutEasing=function(b){var c=a.ease;if(this._prevEase){var d=this._prevEase,e=(a.browser.now()-d.start)/d.duration;d=d.easing(e+.01)-d.easing(e);e=.27/Math.sqrt(d*d+1e-4)*.01;d=Math.sqrt(.0729-e*e);c=a.bezier(e,d,.25,1)}return this._prevEase={start:a.browser.now(),duration:b,easing:c},c};e=function(b,c){this._map=b,this._el=b.getCanvasContainer(),this._container=b.getContainer(),this._clickTolerance=c.clickTolerance||1,a.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};e.prototype.isEnabled=function(){return!!this._enabled},e.prototype.isActive=function(){return!!this._active},e.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},e.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},e.prototype.onMouseDown=function(b){this.isEnabled()&&b.shiftKey&&0===b.button&&(a.window.document.addEventListener("mousemove",this._onMouseMove,!1),a.window.document.addEventListener("keydown",this._onKeyDown,!1),a.window.document.addEventListener("mouseup",this._onMouseUp,!1),c.disableDrag(),this._startPos=this._lastPos=c.mousePos(this._el,b),this._active=!0)},e.prototype._onMouseMove=function(a){var b=c.mousePos(this._el,a);if(!(this._lastPos.equals(b)||!this._box&&b.dist(this._startPos)<this._clickTolerance)){var d=this._startPos;this._lastPos=b,this._box||(this._box=c.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",a));a=Math.min(d.x,b.x);var e=Math.max(d.x,b.x),f=Math.min(d.y,b.y);d=Math.max(d.y,b.y);c.setTransform(this._box,"translate("+a+"px,"+f+"px)"),this._box.style.width=e-a+"px",this._box.style.height=d-f+"px"}},e.prototype._onMouseUp=function(b){if(0===b.button){var d=this._startPos,e=c.mousePos(this._el,b);this._finish(),c.suppressClick(),d.x===e.x&&d.y===e.y?this._fireEvent("boxzoomcancel",b):this._map.fitScreenCoordinates(d,e,this._map.getBearing(),{linear:!0}).fire(new a.Event("boxzoomend",{originalEvent:b}))}},e.prototype._onKeyDown=function(a){27===a.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",a))},e.prototype._finish=function(){this._active=!1,a.window.document.removeEventListener("mousemove",this._onMouseMove,!1),a.window.document.removeEventListener("keydown",this._onKeyDown,!1),a.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(c.remove(this._box),this._box=null),c.enableDrag(),delete this._startPos,delete this._lastPos},e.prototype._fireEvent=function(b,c){return this._map.fire(new a.Event(b,{originalEvent:c}))};var ed=a.bezier(0,0,.25,1),fd=function(b,c){this._map=b,this._el=c.element||b.getCanvasContainer(),this._state="disabled",this._button=c.button||"right",this._bearingSnap=c.bearingSnap||0,this._pitchWithRotate=!1!==c.pitchWithRotate,a.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};fd.prototype.isEnabled=function(){return"disabled"!==this._state},fd.prototype.isActive=function(){return"active"===this._state},fd.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},fd.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},fd.prototype.onMouseDown=function(b){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=c.mouseButton(b),this._eventButton!==(b.ctrlKey?0:2))return}else{if(b.ctrlKey||0!==c.mouseButton(b))return;this._eventButton=0}c.disableDrag(),a.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),a.window.document.addEventListener("mouseup",this._onMouseUp),a.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[a.browser.now(),this._map.getBearing()]],this._startPos=this._lastPos=c.mousePos(this._el,b),this._center=this._map.transform.centerPoint,b.preventDefault()}},fd.prototype._onMouseMove=function(a){var b=c.mousePos(this._el,a);this._lastPos.equals(b)||(this._lastMoveEvent=a,this._lastPos=b,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",a),this._fireEvent("movestart",a),this._pitchWithRotate&&this._fireEvent("pitchstart",a)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},fd.prototype._onDragFrame=function(){this._frameId=null;var b=this._lastMoveEvent;if(b){var c=this._map.transform,d=this._startPos,e=this._lastPos,f=.8*(d.x-e.x);d=-.5*(d.y-e.y);e=c.bearing-f;f=c.pitch-d;d=this._inertia;var g=d[d.length-1];this._drainInertiaBuffer(),d.push([a.browser.now(),this._map._normalizeBearing(e,g[1])]),c.bearing=e,this._pitchWithRotate&&(this._fireEvent("pitch",b),c.pitch=f),this._fireEvent("rotate",b),this._fireEvent("move",b),delete this._lastMoveEvent,this._startPos=this._lastPos}},fd.prototype._onMouseUp=function(a){if(c.mouseButton(a)===this._eventButton)switch(this._state){case"active":this._state="enabled",c.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(a);break;case"pending":this._state="enabled",this._unbind()}},fd.prototype._onBlur=function(a){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",a),this._pitchWithRotate&&this._fireEvent("pitchend",a),this._fireEvent("moveend",a);break;case"pending":this._state="enabled",this._unbind()}},fd.prototype._unbind=function(){a.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),a.window.document.removeEventListener("mouseup",this._onMouseUp),a.window.removeEventListener("blur",this._onBlur),c.enableDrag()},fd.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._lastPos},fd.prototype._inertialRotate=function(a){var b=this;this._fireEvent("rotateend",a),this._drainInertiaBuffer();var c=this._map,d=c.getBearing(),e=this._inertia,f=function(){Math.abs(d)<b._bearingSnap?c.resetNorth({noMoveStart:!0},{originalEvent:a}):b._fireEvent("moveend",a),b._pitchWithRotate&&b._fireEvent("pitchend",a)};if(e.length<2)f();else{var g=e[0],h=e[e.length-1];e=e[e.length-2];e=c._normalizeBearing(d,e[1]);var i=h[1]-g[1],j=i<0?-1:1;h=(h[0]-g[0])/1e3;if(0!==i&&0!==h){g=Math.abs(i*(.25/h));g>180&&(g=180);i=g/180;e+=j*g*(i/2),Math.abs(c._normalizeBearing(e,0))<this._bearingSnap&&(e=c._normalizeBearing(0,e)),c.rotateTo(e,{duration:1e3*i,easing:ed,noMoveStart:!0},{originalEvent:a})}else f()}},fd.prototype._fireEvent=function(b,c){return this._map.fire(new a.Event(b,c?{originalEvent:c}:{}))},fd.prototype._drainInertiaBuffer=function(){for(var b=this._inertia,c=a.browser.now();b.length>0&&c-b[0][0]>160;)b.shift()};var gd=a.bezier(0,0,.3,1);n=function(b,c){this._map=b,this._el=b.getCanvasContainer(),this._state="disabled",this._clickTolerance=c.clickTolerance||1,a.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};n.prototype.isEnabled=function(){return"disabled"!==this._state},n.prototype.isActive=function(){return"active"===this._state},n.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},n.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},n.prototype.onMouseDown=function(b){"enabled"===this._state&&(b.ctrlKey||0!==c.mouseButton(b)||(c.addEventListener(a.window.document,"mousemove",this._onMove,{capture:!0}),c.addEventListener(a.window.document,"mouseup",this._onMouseUp),this._start(b)))},n.prototype.onTouchStart=function(b){"enabled"===this._state&&(b.touches.length>1||(c.addEventListener(a.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),c.addEventListener(a.window.document,"touchend",this._onTouchEnd),this._start(b)))},n.prototype._start=function(b){a.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._lastPos=c.mousePos(this._el,b),this._inertia=[[a.browser.now(),this._startPos]]},n.prototype._onMove=function(b){b.preventDefault();var d=c.mousePos(this._el,b);this._lastPos.equals(d)||"pending"===this._state&&d.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=b,this._lastPos=d,this._drainInertiaBuffer(),this._inertia.push([a.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",b),this._fireEvent("movestart",b)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},n.prototype._onDragFrame=function(){this._frameId=null;var a=this._lastMoveEvent;if(a){var b=this._map.transform;b.setLocationAtPoint(b.pointLocation(this._startPos),this._lastPos),this._fireEvent("drag",a),this._fireEvent("move",a),this._startPos=this._lastPos,delete this._lastMoveEvent}},n.prototype._onMouseUp=function(a){if(0===c.mouseButton(a))switch(this._state){case"active":this._state="enabled",c.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(a);break;case"pending":this._state="enabled",this._unbind()}},n.prototype._onTouchEnd=function(a){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(a);break;case"pending":this._state="enabled",this._unbind()}},n.prototype._onBlur=function(a){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",a),this._fireEvent("moveend",a);break;case"pending":this._state="enabled",this._unbind()}},n.prototype._unbind=function(){c.removeEventListener(a.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),c.removeEventListener(a.window.document,"touchend",this._onTouchEnd),c.removeEventListener(a.window.document,"mousemove",this._onMove,{capture:!0}),c.removeEventListener(a.window.document,"mouseup",this._onMouseUp),c.removeEventListener(a.window,"blur",this._onBlur)},n.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._mouseDownPos,delete this._lastPos},n.prototype._inertialPan=function(a){this._fireEvent("dragend",a),this._drainInertiaBuffer();var b=this._inertia;if(b.length<2)this._fireEvent("moveend",a);else{var c=b[b.length-1];b=b[0];var d=c[1].sub(b[1]),e=(c[0]-b[0])/1e3;if(0===e||c[1].equals(b[1]))this._fireEvent("moveend",a);else{c=d.mult(.3/e);b=c.mag();b>1400&&(b=1400,c._unit()._mult(b));d=b/750;e=c.mult(-d/2);this._map.panBy(e,{duration:1e3*d,easing:gd,noMoveStart:!0},{originalEvent:a})}}},n.prototype._fireEvent=function(b,c){return this._map.fire(new a.Event(b,c?{originalEvent:c}:{}))},n.prototype._drainInertiaBuffer=function(){for(var b=this._inertia,c=a.browser.now();b.length>0&&c-b[0][0]>160;)b.shift()};x=function(b){this._map=b,this._el=b.getCanvasContainer(),a.bindAll(["_onKeyDown"],this)};function hd(a){return a*(2-a)}x.prototype.isEnabled=function(){return!!this._enabled},x.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},x.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},x.prototype._onKeyDown=function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var b=0,c=0,d=0,e=0,f=0;switch(a.keyCode){case 61:case 107:case 171:case 187:b=1;break;case 189:case 109:case 173:b=-1;break;case 37:a.shiftKey?c=-1:(a.preventDefault(),e=-1);break;case 39:a.shiftKey?c=1:(a.preventDefault(),e=1);break;case 38:a.shiftKey?d=1:(a.preventDefault(),f=-1);break;case 40:a.shiftKey?d=-1:(f=1,a.preventDefault());break;default:return}var g=this._map,h=g.getZoom();b={duration:300,delayEndEvents:500,easing:hd,zoom:b?Math.round(h)+b*(a.shiftKey?2:1):h,bearing:g.getBearing()+15*c,pitch:g.getPitch()+10*d,offset:[100*-e,100*-f],center:g.getCenter()};g.easeTo(b,{originalEvent:a})}};Lb=function(b){this._map=b,a.bindAll(["_onDblClick","_onZoomEnd"],this)};Lb.prototype.isEnabled=function(){return!!this._enabled},Lb.prototype.isActive=function(){return!!this._active},Lb.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Lb.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Lb.prototype.onTouchStart=function(a){var b=this;if(this.isEnabled()&&!(a.points.length>1))if(this._tapped){var c=a.points[0],d=this._tappedPoint;if(d&&d.dist(c)<=30){a.originalEvent.preventDefault();var e=function(){b._tapped&&b._zoom(a),b._map.off("touchcancel",f),b._resetTapped()},f=function(){b._map.off("touchend",e),b._resetTapped()};this._map.once("touchend",e),this._map.once("touchcancel",f)}else this._resetTapped()}else this._tappedPoint=a.points[0],this._tapped=setTimeout(function(){b._tapped=null,b._tappedPoint=null},300)},Lb.prototype._resetTapped=function(){clearTimeout(this._tapped),this._tapped=null,this._tappedPoint=null},Lb.prototype.onDblClick=function(a){this.isEnabled()&&(a.originalEvent.preventDefault(),this._zoom(a))},Lb.prototype._zoom=function(a){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(a.originalEvent.shiftKey?-1:1),{around:a.lngLat},a)},Lb.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var id=a.bezier(0,0,.15,1);Mb=function(b){this._map=b,this._el=b.getCanvasContainer(),a.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};Mb.prototype.isEnabled=function(){return!!this._enabled},Mb.prototype.enable=function(a){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!a&&"center"===a.around)},Mb.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},Mb.prototype.disableRotation=function(){this._rotationDisabled=!0},Mb.prototype.enableRotation=function(){this._rotationDisabled=!1},Mb.prototype.onStart=function(b){if(this.isEnabled()&&2===b.touches.length){var d=c.mousePos(this._el,b.touches[0]);b=c.mousePos(this._el,b.touches[1]);var e=d.add(b).div(2);this._startVec=d.sub(b),this._startAround=this._map.transform.pointLocation(e),this._gestureIntent=void 0,this._inertia=[],c.addEventListener(a.window.document,"touchmove",this._onMove,{passive:!1}),c.addEventListener(a.window.document,"touchend",this._onEnd)}},Mb.prototype._getTouchEventData=function(a){var b=c.mousePos(this._el,a.touches[0]);a=c.mousePos(this._el,a.touches[1]);var d=b.sub(a);return{vec:d,center:b.add(a).div(2),scale:d.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*d.angleWith(this._startVec)/Math.PI}},Mb.prototype._onMove=function(b){if(2===b.touches.length){var c=this._getTouchEventData(b),d=c.vec,e=c.scale;c=c.bearing;if(!this._gestureIntent){e=this._rotationDisabled&&1!==e||Math.abs(1-e)>.15;Math.abs(c)>10?this._gestureIntent="rotate":e&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new a.Event(this._gestureIntent+"start",{originalEvent:b})),this._map.fire(new a.Event("movestart",{originalEvent:b})),this._startVec=d)}this._lastTouchEvent=b,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),b.preventDefault()}},Mb.prototype._onTouchFrame=function(){this._frameId=null;var b=this._gestureIntent;if(b){var c=this._map.transform;this._startScale||(this._startScale=c.scale,this._startBearing=c.bearing);var d=this._getTouchEventData(this._lastTouchEvent),e=d.center,f=d.bearing;d=d.scale;var g=c.pointLocation(e);g=c.locationPoint(g);"rotate"===b&&(c.bearing=this._startBearing+f),c.zoom=c.scaleZoom(this._startScale*d),c.setLocationAtPoint(this._startAround,g),this._map.fire(new a.Event(b,{originalEvent:this._lastTouchEvent})),this._map.fire(new a.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([a.browser.now(),d,e])}},Mb.prototype._onEnd=function(b){c.removeEventListener(a.window.document,"touchmove",this._onMove,{passive:!1}),c.removeEventListener(a.window.document,"touchend",this._onEnd);var d=this._gestureIntent,e=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,d){this._map.fire(new a.Event(d+"end",{originalEvent:b})),this._drainInertiaBuffer();d=this._inertia;var f=this._map;if(d.length<2)f.snapToNorth({},{originalEvent:b});else{var g=d[d.length-1];d=d[0];var i=f.transform.scaleZoom(e*g[1]);e=f.transform.scaleZoom(e*d[1]);var h=i-e;d=(g[0]-d[0])/1e3;g=g[2];if(0!==d&&i!==e){e=.15*h/d;Math.abs(e)>2.5&&(e=e>0?2.5:-2.5);h=1e3*Math.abs(e/(12*.15));d=i+e*h/2e3;d<0&&(d=0),f.easeTo({zoom:d,duration:h,easing:id,around:this._aroundCenter?f.getCenter():f.unproject(g),noMoveStart:!0},{originalEvent:b})}else f.snapToNorth({},{originalEvent:b})}}},Mb.prototype._drainInertiaBuffer=function(){for(var b=this._inertia,c=a.browser.now();b.length>2&&c-b[0][0]>160;)b.shift()};var jd={scrollZoom:B,boxZoom:e,dragRotate:fd,dragPan:n,keyboard:x,doubleClickZoom:Lb,touchZoomRotate:Mb};Nb=function(b){function c(c,d){b.call(this),this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=d.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return b&&(c.__proto__=b),c.prototype=Object.create(b&&b.prototype),c.prototype.constructor=c,c.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},c.prototype.setCenter=function(a,b){return this.jumpTo({center:a},b)},c.prototype.panBy=function(b,c,d){return b=a.Point.convert(b).mult(-1),this.panTo(this.transform.center,a.extend({offset:b},c),d)},c.prototype.panTo=function(b,c,d){return this.easeTo(a.extend({center:b},c),d)},c.prototype.getZoom=function(){return this.transform.zoom},c.prototype.setZoom=function(a,b){return this.jumpTo({zoom:a},b),this},c.prototype.zoomTo=function(b,c,d){return this.easeTo(a.extend({zoom:b},c),d)},c.prototype.zoomIn=function(a,b){return this.zoomTo(this.getZoom()+1,a,b),this},c.prototype.zoomOut=function(a,b){return this.zoomTo(this.getZoom()-1,a,b),this},c.prototype.getBearing=function(){return this.transform.bearing},c.prototype.setBearing=function(a,b){return this.jumpTo({bearing:a},b),this},c.prototype.rotateTo=function(b,c,d){return this.easeTo(a.extend({bearing:b},c),d)},c.prototype.resetNorth=function(b,c){return this.rotateTo(0,a.extend({duration:1e3},b),c),this},c.prototype.snapToNorth=function(a,b){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,b):this},c.prototype.getPitch=function(){return this.transform.pitch},c.prototype.setPitch=function(a,b){return this.jumpTo({pitch:a},b),this},c.prototype.cameraForBounds=function(b,c){return b=a.LngLatBounds.convert(b),this._cameraForBoxAndBearing(b.getNorthWest(),b.getSouthEast(),0,c)},c.prototype._cameraForBoxAndBearing=function(b,c,d,e){if("number"==typeof (e=a.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},e)).padding){var f=e.padding;e.padding={top:f,bottom:f,right:f,left:f}}if(a.deepEqual(Object.keys(e.padding).sort(function(a,b){return a<b?-1:a>b?1:0}),["bottom","left","right","top"])){f=this.transform;b=f.project(a.LngLat.convert(b));c=f.project(a.LngLat.convert(c));var i=b.rotate(-d*Math.PI/180),g=c.rotate(-d*Math.PI/180),h=new a.Point(Math.max(i.x,g.x),Math.max(i.y,g.y));i=new a.Point(Math.min(i.x,g.x),Math.min(i.y,g.y));g=h.sub(i);h=(f.width-e.padding.left-e.padding.right)/g.x;i=(f.height-e.padding.top-e.padding.bottom)/g.y;if(!(i<0||h<0)){g=Math.min(f.scaleZoom(f.scale*Math.min(h,i)),e.maxZoom);h=a.Point.convert(e.offset);i=(e.padding.left-e.padding.right)/2;e=(e.padding.top-e.padding.bottom)/2;i=new a.Point(h.x+i,h.y+e).mult(f.scale/f.zoomScale(g));return{center:f.unproject(b.add(c).div(2).sub(i)),zoom:g,bearing:d}}a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else a.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},c.prototype.fitBounds=function(a,b,c){return this._fitInternal(this.cameraForBounds(a,b),b,c)},c.prototype.fitScreenCoordinates=function(b,c,d,e,f){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(b)),this.transform.pointLocation(a.Point.convert(c)),d,e),e,f)},c.prototype._fitInternal=function(b,c,d){return b?(c=a.extend(b,c)).linear?this.easeTo(c,d):this.flyTo(c,d):this},c.prototype.jumpTo=function(b,c){this.stop();var d=this.transform,e=!1,f=!1,g=!1;return"zoom"in b&&d.zoom!==+b.zoom&&(e=!0,d.zoom=+b.zoom),void 0!==b.center&&(d.center=a.LngLat.convert(b.center)),"bearing"in b&&d.bearing!==+b.bearing&&(f=!0,d.bearing=+b.bearing),"pitch"in b&&d.pitch!==+b.pitch&&(g=!0,d.pitch=+b.pitch),this.fire(new a.Event("movestart",c)).fire(new a.Event("move",c)),e&&this.fire(new a.Event("zoomstart",c)).fire(new a.Event("zoom",c)).fire(new a.Event("zoomend",c)),f&&this.fire(new a.Event("rotatestart",c)).fire(new a.Event("rotate",c)).fire(new a.Event("rotateend",c)),g&&this.fire(new a.Event("pitchstart",c)).fire(new a.Event("pitch",c)).fire(new a.Event("pitchend",c)),this.fire(new a.Event("moveend",c))},c.prototype.easeTo=function(b,c){var d=this;this.stop(),!1===(b=a.extend({offset:[0,0],duration:500,easing:a.ease},b)).animate&&(b.duration=0);var e=this.transform,f=this.getZoom(),g=this.getBearing(),h=this.getPitch(),i="zoom"in b?+b.zoom:f,w="bearing"in b?this._normalizeBearing(b.bearing,g):g,j="pitch"in b?+b.pitch:h,k=e.centerPoint.add(a.Point.convert(b.offset)),l=e.pointLocation(k),x=a.LngLat.convert(b.center||l);this._normalizeCenter(x);var r,s,t=e.project(l),u=e.project(x).sub(t),v=e.zoomScale(i-f);return b.around&&(r=a.LngLat.convert(b.around),s=e.locationPoint(r)),this._zooming=i!==f,this._rotating=g!==w,this._pitching=j!==h,this._prepareEase(c,b.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(b){if(d._zooming&&(e.zoom=a.number(f,i,b)),d._rotating&&(e.bearing=a.number(g,w,b)),d._pitching&&(e.pitch=a.number(h,j,b)),r)e.setLocationAtPoint(r,s);else{var l=e.zoomScale(e.zoom-f),m=i>f?Math.min(2,v):Math.max(.5,v);m=Math.pow(m,1-b);b=e.unproject(t.add(u.mult(b*m)).mult(l));e.setLocationAtPoint(e.renderWorldCopies?b.wrap():b,k)}d._fireMoveEvents(c)},function(){b.delayEndEvents?d._easeEndTimeoutID=setTimeout(function(){return d._afterEase(c)},b.delayEndEvents):d._afterEase(c)},b),this},c.prototype._prepareEase=function(b,c){this._moving=!0,c||this.fire(new a.Event("movestart",b)),this._zooming&&this.fire(new a.Event("zoomstart",b)),this._rotating&&this.fire(new a.Event("rotatestart",b)),this._pitching&&this.fire(new a.Event("pitchstart",b))},c.prototype._fireMoveEvents=function(b){this.fire(new a.Event("move",b)),this._zooming&&this.fire(new a.Event("zoom",b)),this._rotating&&this.fire(new a.Event("rotate",b)),this._pitching&&this.fire(new a.Event("pitch",b))},c.prototype._afterEase=function(b){var c=this._zooming,d=this._rotating,e=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,c&&this.fire(new a.Event("zoomend",b)),d&&this.fire(new a.Event("rotateend",b)),e&&this.fire(new a.Event("pitchend",b)),this.fire(new a.Event("moveend",b))},c.prototype.flyTo=function(b,c){var d=this;this.stop(),b=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},b);var e=this.transform,f=this.getZoom(),g=this.getBearing(),h=this.getPitch(),i="zoom"in b?a.clamp(+b.zoom,e.minZoom,e.maxZoom):f,M="bearing"in b?this._normalizeBearing(b.bearing,g):g,j="pitch"in b?+b.pitch:h,k=e.zoomScale(i-f),l=e.centerPoint.add(a.Point.convert(b.offset)),N=e.pointLocation(l),s=a.LngLat.convert(b.center||N);this._normalizeCenter(s);var t=e.project(N),B=e.project(s).sub(t),C=b.curve,D=Math.max(e.width,e.height),O=D/k,E=B.mag();if("minZoom"in b){N=a.clamp(Math.min(b.minZoom,f,i),e.minZoom,e.maxZoom);k=D/e.zoomScale(N-f);C=Math.sqrt(k/E*2)}var F=C*C;function G(a){a=(O*O-D*D+(a?-1:1)*F*F*E*E)/(2*(a?O:D)*F*E);return Math.log(Math.sqrt(a*a+1)-a)}function H(a){return(Math.exp(a)-Math.exp(-a))/2}function P(a){return(Math.exp(a)+Math.exp(-a))/2}var aa=G(0),I=function(a){return P(aa)/P(aa+C*a)},J=function(a){return D*((P(aa)*(H(a=aa+C*a)/P(a))-H(aa))/F)/E},K=(G(1)-aa)/C;if(Math.abs(E)<1e-6||!isFinite(K)){if(Math.abs(D-O)<1e-6)return this.easeTo(b,c);var L=O<D?-1:1;K=Math.abs(Math.log(O/D))/C,J=function(){return 0},I=function(a){return Math.exp(L*C*a)}}if("duration"in b)b.duration=+b.duration;else{N="screenSpeed"in b?+b.screenSpeed/C:+b.speed;b.duration=1e3*K/N}return b.maxDuration&&b.duration>b.maxDuration&&(b.duration=0),this._zooming=!0,this._rotating=g!==M,this._pitching=j!==h,this._prepareEase(c,!1),this._ease(function(b){var k=b*K,m=1/I(k);e.zoom=1===b?i:f+e.scaleZoom(m),d._rotating&&(e.bearing=a.number(g,M,b)),d._pitching&&(e.pitch=a.number(h,j,b));b=1===b?s:e.unproject(t.add(B.mult(J(k))).mult(m));e.setLocationAtPoint(e.renderWorldCopies?b.wrap():b,l),d._fireMoveEvents(c)},function(){return d._afterEase(c)},b),this},c.prototype.isEasing=function(){return!!this._easeFrameId},c.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var a=this._onEaseEnd;delete this._onEaseEnd,a.call(this)}return this},c.prototype._ease=function(b,c,d){!1===d.animate||0===d.duration?(b(1),c()):(this._easeStart=a.browser.now(),this._easeOptions=d,this._onEaseFrame=b,this._onEaseEnd=c,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},c.prototype._renderFrameCallback=function(){var b=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(b)),b<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},c.prototype._normalizeBearing=function(b,c){b=a.wrap(b,-180,180);var d=Math.abs(b-c);return Math.abs(b-360-c)<d&&(b-=360),Math.abs(b+360-c)<d&&(b+=360),b},c.prototype._normalizeCenter=function(a){var b=this.transform;if(b.renderWorldCopies&&!b.lngRange){b=a.lng-b.center.lng;a.lng+=b>180?-360:b<-180?360:0}},c}(a.Evented);var kd=function(b){void 0===b&&(b={}),this.options=b,a.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};kd.prototype.getDefaultPosition=function(){return"bottom-right"},kd.prototype.onAdd=function(a){var b=this.options&&this.options.compact;return this._map=a,this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=c.create("div","mapboxgl-ctrl-attrib-inner",this._container),b&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===b&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},kd.prototype.onRemove=function(){c.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},kd.prototype._updateEditLink=function(){var b=this._editLink;b||(b=this._editLink=this._container.querySelector(".mapbox-improve-map"));var c=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:a.config.ACCESS_TOKEN}];if(b){var d=c.reduce(function(a,b,d){return b.value&&(a+=b.key+"="+b.value+(d<c.length-1?"&":"")),a},"?");b.href=a.config.FEEDBACK_URL+"/"+d+(this._map._hash?this._map._hash.getHashString(!0):""),b.rel="noopener nofollow"}},kd.prototype._updateData=function(a){!a||"metadata"!==a.sourceDataType&&"style"!==a.dataType||(this._updateAttributions(),this._updateEditLink())},kd.prototype._updateAttributions=function(){if(this._map.style){var a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(function(a){return"string"!=typeof a?"":a})):"string"==typeof this.options.customAttribution&&a.push(this.options.customAttribution)),this._map.style.stylesheet){var b=this._map.style.stylesheet;this.styleOwner=b.owner,this.styleId=b.id}b=this._map.style.sourceCaches;for(var c in b){var d=b[c];if(d.used){d=d.getSource();d.attribution&&a.indexOf(d.attribution)<0&&a.push(d.attribution)}}a.sort(function(a,b){return a.length-b.length});d=(a=a.filter(function(b,c){for(var c=c+1;c<a.length;c++)if(a[c].indexOf(b)>=0)return!1;return!0})).join(" | ");d!==this._attribHTML&&(this._attribHTML=d,a.length?(this._innerContainer.innerHTML=d,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},kd.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var ld=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};ld.prototype.onAdd=function(a){this._map=a,this._container=c.create("div","mapboxgl-ctrl");a=c.create("a","mapboxgl-ctrl-logo");return a.target="_blank",a.rel="noopener nofollow",a.href="https://www.mapbox.com/",a.setAttribute("aria-label","Mapbox logo"),a.setAttribute("rel","noopener nofollow"),this._container.appendChild(a),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},ld.prototype.onRemove=function(){c.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},ld.prototype.getDefaultPosition=function(){return"bottom-left"},ld.prototype._updateLogo=function(a){a&&"metadata"!==a.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},ld.prototype._logoRequired=function(){if(this._map.style){var a=this._map.style.sourceCaches;for(var b in a)if(a[b].getSource().mapbox_logo)return!0;return!1}},ld.prototype._updateCompact=function(){var a=this._container.children;if(a.length){a=a[0];this._map.getCanvasContainer().offsetWidth<250?a.classList.add("mapboxgl-compact"):a.classList.remove("mapboxgl-compact")}};var md=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};md.prototype.add=function(a){var b=++this._id;return this._queue.push({callback:a,id:b,cancelled:!1}),b},md.prototype.remove=function(a){for(var b=this._currentlyRunning,c=0,b=b?this._queue.concat(b):this._queue;c<b.length;c+=1){var d=b[c];if(d.id===a)return void (d.cancelled=!0)}},md.prototype.run=function(){var a=this._currentlyRunning=this._queue;this._queue=[];for(var b=0,a=a;b<a.length;b+=1){var c=a[b];if(!c.cancelled&&(c.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},md.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var nd=a.window.HTMLImageElement,od=a.window.HTMLElement,pd={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0};Ob=function(d){function e(b){var e=this;if(null!=(b=a.extend({},pd,b)).minZoom&&null!=b.maxZoom&&b.minZoom>b.maxZoom)throw new Error("maxZoom must be greater than minZoom");var f=new $c(b.minZoom,b.maxZoom,b.renderWorldCopies);if(d.call(this,f,b),this._interactive=b.interactive,this._maxTileCacheSize=b.maxTileCacheSize,this._failIfMajorPerformanceCaveat=b.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=b.preserveDrawingBuffer,this._antialias=b.antialias,this._trackResize=b.trackResize,this._bearingSnap=b.bearingSnap,this._refreshExpiredTiles=b.refreshExpiredTiles,this._fadeDuration=b.fadeDuration,this._crossSourceCollisions=b.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=b.collectResourceTiming,this._renderTaskQueue=new md(),this._controls=[],this._mapId=a.uniqueId(),this._requestManager=new a.RequestManager(b.transformRequest),"string"==typeof b.container){if(this._container=a.window.document.getElementById(b.container),!this._container)throw new Error("Container '"+b.container+"' not found.")}else{if(!(b.container instanceof od))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=b.container}if(b.maxBounds&&this.setMaxBounds(b.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return e._update(!1)}),this.on("moveend",function(){return e._update(!1)}),this.on("zoom",function(){return e._update(!0)}),void 0!==a.window&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1)),(function(a,b){var d=a.getCanvasContainer(),e=null,f=!1,g=null;for(var h in jd)a[h]=new jd[h](a,b),b.interactive&&b[h]&&a[h].enable(b[h]);c.addEventListener(d,"mouseout",function(b){a.fire(new bd("mouseout",a,b))}),c.addEventListener(d,"mousedown",function(e){f=!0,g=c.mousePos(d,e);var h=new bd("mousedown",a,e);a.fire(h),h.defaultPrevented||(b.interactive&&!a.doubleClickZoom.isActive()&&a.stop(),a.boxZoom.onMouseDown(e),a.boxZoom.isActive()||a.dragPan.isActive()||a.dragRotate.onMouseDown(e),a.boxZoom.isActive()||a.dragRotate.isActive()||a.dragPan.onMouseDown(e))}),c.addEventListener(d,"mouseup",function(b){var c=a.dragRotate.isActive();e&&!c&&a.fire(new bd("contextmenu",a,e)),e=null,f=!1,a.fire(new bd("mouseup",a,b))}),c.addEventListener(d,"mousemove",function(b){if(!a.dragPan.isActive()&&!a.dragRotate.isActive()){for(var c=b.target;c&&c!==d;)c=c.parentNode;c===d&&a.fire(new bd("mousemove",a,b))}}),c.addEventListener(d,"mouseover",function(b){for(var c=b.target;c&&c!==d;)c=c.parentNode;c===d&&a.fire(new bd("mouseover",a,b))}),c.addEventListener(d,"touchstart",function(c){var d=new cd("touchstart",a,c);a.fire(d),d.defaultPrevented||(b.interactive&&a.stop(),a.boxZoom.isActive()||a.dragRotate.isActive()||a.dragPan.onTouchStart(c),a.touchZoomRotate.onStart(c),a.doubleClickZoom.onTouchStart(d))},{passive:!1}),c.addEventListener(d,"touchmove",function(b){a.fire(new cd("touchmove",a,b))},{passive:!1}),c.addEventListener(d,"touchend",function(b){a.fire(new cd("touchend",a,b))}),c.addEventListener(d,"touchcancel",function(b){a.fire(new cd("touchcancel",a,b))}),c.addEventListener(d,"click",function(e){var f=c.mousePos(d,e);(f.equals(g)||f.dist(g)<b.clickTolerance)&&a.fire(new bd("click",a,e))}),c.addEventListener(d,"dblclick",function(b){b=new bd("dblclick",a,b);a.fire(b),b.defaultPrevented||a.doubleClickZoom.onDblClick(b)}),c.addEventListener(d,"contextmenu",function(b){var c=a.dragRotate.isActive();f||c?f&&(e=b):a.fire(new bd("contextmenu",a,b)),(a.dragRotate.isEnabled()||a.listens("contextmenu"))&&b.preventDefault()}),c.addEventListener(d,"wheel",function(c){b.interactive&&a.stop();var d=new dd("wheel",a,c);a.fire(d),d.defaultPrevented||a.scrollZoom.onWheel(c)},{passive:!1})})(this,b),this._hash=b.hash&&new ad().addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:b.center,zoom:b.zoom,bearing:b.bearing,pitch:b.pitch}),b.bounds&&(this.resize(),this.fitBounds(b.bounds,a.extend({},b.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=b.localIdeographFontFamily,b.style&&this.setStyle(b.style,{localIdeographFontFamily:b.localIdeographFontFamily}),b.attributionControl&&this.addControl(new kd({customAttribution:b.customAttribution})),this.addControl(new ld(),b.logoPosition),this.on("style.load",function(){e.transform.unmodified&&e.jumpTo(e.style.stylesheet)}),this.on("data",function(b){e._update("style"===b.dataType),e.fire(new a.Event(b.dataType+"data",b))}),this.on("dataloading",function(b){e.fire(new a.Event(b.dataType+"dataloading",b))})}d&&(e.__proto__=d),e.prototype=Object.create(d&&d.prototype),e.prototype.constructor=e;var f={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return e.prototype._getMapId=function(){return this._mapId},e.prototype.addControl=function(b,c){if(void 0===c&&b.getDefaultPosition&&(c=b.getDefaultPosition()),void 0===c&&(c="top-right"),!b||!b.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var d=b.onAdd(this);this._controls.push(b);b=this._controlPositions[c];return-1!==c.indexOf("bottom")?b.insertBefore(d,b.firstChild):b.appendChild(d),this},e.prototype.removeControl=function(b){if(!b||!b.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var c=this._controls.indexOf(b);return c>-1&&this._controls.splice(c,1),b.onRemove(this),this},e.prototype.resize=function(b){var c=this._containerDimensions(),d=c[0];c=c[1];return this._resizeCanvas(d,c),this.transform.resize(d,c),this.painter.resize(d,c),this.fire(new a.Event("movestart",b)).fire(new a.Event("move",b)).fire(new a.Event("resize",b)).fire(new a.Event("moveend",b)),this},e.prototype.getBounds=function(){return this.transform.getBounds()},e.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},e.prototype.setMaxBounds=function(b){return this.transform.setMaxBounds(a.LngLatBounds.convert(b)),this._update()},e.prototype.setMinZoom=function(a){if((a=null==a?0:a)>=0&&a<=this.transform.maxZoom)return this.transform.minZoom=a,this._update(),this.getZoom()<a&&this.setZoom(a),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},e.prototype.getMinZoom=function(){return this.transform.minZoom},e.prototype.setMaxZoom=function(a){if((a=null==a?22:a)>=this.transform.minZoom)return this.transform.maxZoom=a,this._update(),this.getZoom()>a&&this.setZoom(a),this;throw new Error("maxZoom must be greater than the current minZoom")},e.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},e.prototype.setRenderWorldCopies=function(a){return this.transform.renderWorldCopies=a,this._update()},e.prototype.getMaxZoom=function(){return this.transform.maxZoom},e.prototype.project=function(b){return this.transform.locationPoint(a.LngLat.convert(b))},e.prototype.unproject=function(b){return this.transform.pointLocation(a.Point.convert(b))},e.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},e.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},e.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},e.prototype.on=function(a,b,c){var e=this;if(void 0===c)return d.prototype.on.call(this,a,b);var f=function(){var d;if("mouseenter"===a||"mouseover"===a){var f=!1;return{layer:b,listener:c,delegates:{mousemove:function(d){var g=e.getLayer(b)?e.queryRenderedFeatures(d.point,{layers:[b]}):[];g.length?f||(f=!0,c.call(e,new bd(a,e,d.originalEvent,{features:g}))):f=!1},mouseout:function(){f=!1}}}}if("mouseleave"===a||"mouseout"===a){var g=!1;return{layer:b,listener:c,delegates:{mousemove:function(d){(e.getLayer(b)?e.queryRenderedFeatures(d.point,{layers:[b]}):[]).length?g=!0:g&&(g=!1,c.call(e,new bd(a,e,d.originalEvent)))},mouseout:function(b){g&&(g=!1,c.call(e,new bd(a,e,b.originalEvent)))}}}}return{layer:b,listener:c,delegates:(d={},d[a]=function(a){var d=e.getLayer(b)?e.queryRenderedFeatures(a.point,{layers:[b]}):[];d.length&&(a.features=d,c.call(e,a),delete a.features)},d)}}();for(var g in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[a]=this._delegatedListeners[a]||[],this._delegatedListeners[a].push(f),f.delegates)this.on(g,f.delegates[g]);return this},e.prototype.off=function(a,b,c){if(void 0===c)return d.prototype.off.call(this,a,b);if(this._delegatedListeners&&this._delegatedListeners[a])for(var a=this._delegatedListeners[a],e=0;e<a.length;e++){var f=a[e];if(f.layer===b&&f.listener===c){for(var g in f.delegates)this.off(g,f.delegates[g]);return a.splice(e,1),this}}return this},e.prototype.queryRenderedFeatures=function(b,c){if(!this.style)return[];var d;if(void 0!==c||void 0===b||b instanceof a.Point||Array.isArray(b)||(c=b,b=void 0),c=c||{},(b=b||[[0,0],[this.transform.width,this.transform.height]])instanceof a.Point||"number"==typeof b[0])d=[a.Point.convert(b)];else{var e=a.Point.convert(b[0]);b=a.Point.convert(b[1]);d=[e,new a.Point(b.x,e.y),b,new a.Point(e.x,b.y),e]}return this.style.queryRenderedFeatures(d,c,this.transform)},e.prototype.querySourceFeatures=function(a,b){return this.style.querySourceFeatures(a,b)},e.prototype.setStyle=function(b,c){return!1!==(c=a.extend({},{localIdeographFontFamily:pd.localIdeographFontFamily},c)).diff&&c.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&b?(this._diffStyle(b,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._updateStyle(b,c))},e.prototype._updateStyle=function(a,b){return this.style&&(this.style.setEventedParent(null),this.style._remove()),a?(this.style=new Ib(this,b||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof a?this.style.loadURL(a):this.style.loadJSON(a),this):(delete this.style,this)},e.prototype._diffStyle=function(b,c){var d=this;if("string"==typeof b){var e=this._requestManager.normalizeStyleURL(b);e=this._requestManager.transformRequest(e,a.ResourceType.Style);a.getJSON(e,function(b,e){b?d.fire(new a.ErrorEvent(b)):e&&d._updateDiff(e,c)})}else"object"==typeof b&&this._updateDiff(b,c)},e.prototype._updateDiff=function(b,c){try{this.style.setState(b)&&this._update(!0)}catch(d){a.warnOnce("Unable to perform style diff: "+(d.message||d.error||d)+".  Rebuilding the style from scratch."),this._updateStyle(b,c)}},e.prototype.getStyle=function(){if(this.style)return this.style.serialize()},e.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},e.prototype.addSource=function(a,b){return this.style.addSource(a,b),this._update(!0)},e.prototype.isSourceLoaded=function(b){var c=this.style&&this.style.sourceCaches[b];if(void 0!==c)return c.loaded();this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+b+"'")))},e.prototype.areTilesLoaded=function(){var a=this.style&&this.style.sourceCaches;for(var b in a){var c=a[b]._tiles;for(var d in c){var e=c[d];if("loaded"!==e.state&&"errored"!==e.state)return!1}}return!0},e.prototype.addSourceType=function(a,b,c){return this.style.addSourceType(a,b,c)},e.prototype.removeSource=function(a){return this.style.removeSource(a),this._update(!0)},e.prototype.getSource=function(a){return this.style.getSource(a)},e.prototype.addImage=function(b,c,d){void 0===d&&(d={});var e=d.pixelRatio;void 0===e&&(e=1);d=d.sdf;void 0===d&&(d=!1);if(c instanceof nd){var f=a.browser.getImageData(c),g=f.width,h=f.height;f=f.data;this.style.addImage(b,{data:new a.RGBAImage({width:g,height:h},f),pixelRatio:e,sdf:d,version:0})}else{if(void 0===c.width||void 0===c.height)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));g=c.width;h=c.height;f=c.data;c=c;this.style.addImage(b,{data:new a.RGBAImage({width:g,height:h},new Uint8Array(f)),pixelRatio:e,sdf:d,version:0,userImage:c}),c.onAdd&&c.onAdd(this,b)}},e.prototype.updateImage=function(b,c){var d=this.style.getImage(b);if(!d)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var e=c instanceof nd?a.browser.getImageData(c):c,f=e.width,g=e.height;e=e.data;if(void 0===f||void 0===g)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(f!==d.data.width||g!==d.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));f=!(c instanceof nd);d.data.replace(e,f),this.style.updateImage(b,d)},e.prototype.hasImage=function(b){return b?!!this.style.getImage(b):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},e.prototype.removeImage=function(a){this.style.removeImage(a)},e.prototype.loadImage=function(b,c){a.getImage(this._requestManager.transformRequest(b,a.ResourceType.Image),c)},e.prototype.listImages=function(){return this.style.listImages()},e.prototype.addLayer=function(a,b){return this.style.addLayer(a,b),this._update(!0)},e.prototype.moveLayer=function(a,b){return this.style.moveLayer(a,b),this._update(!0)},e.prototype.removeLayer=function(a){return this.style.removeLayer(a),this._update(!0)},e.prototype.getLayer=function(a){return this.style.getLayer(a)},e.prototype.setFilter=function(a,b,c){return void 0===c&&(c={}),this.style.setFilter(a,b,c),this._update(!0)},e.prototype.setLayerZoomRange=function(a,b,c){return this.style.setLayerZoomRange(a,b,c),this._update(!0)},e.prototype.getFilter=function(a){return this.style.getFilter(a)},e.prototype.setPaintProperty=function(a,b,c,d){return void 0===d&&(d={}),this.style.setPaintProperty(a,b,c,d),this._update(!0)},e.prototype.getPaintProperty=function(a,b){return this.style.getPaintProperty(a,b)},e.prototype.setLayoutProperty=function(a,b,c,d){return void 0===d&&(d={}),this.style.setLayoutProperty(a,b,c,d),this._update(!0)},e.prototype.getLayoutProperty=function(a,b){return this.style.getLayoutProperty(a,b)},e.prototype.setLight=function(a,b){return void 0===b&&(b={}),this.style.setLight(a,b),this._update(!0)},e.prototype.getLight=function(){return this.style.getLight()},e.prototype.setFeatureState=function(a,b){return this.style.setFeatureState(a,b),this._update()},e.prototype.removeFeatureState=function(a,b){return this.style.removeFeatureState(a,b),this._update()},e.prototype.getFeatureState=function(a){return this.style.getFeatureState(a)},e.prototype.getContainer=function(){return this._container},e.prototype.getCanvasContainer=function(){return this._canvasContainer},e.prototype.getCanvas=function(){return this._canvas},e.prototype._containerDimensions=function(){var a=0,b=0;return this._container&&(a=this._container.clientWidth||400,b=this._container.clientHeight||300),[a,b]},e.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},e.prototype._setupContainer=function(){var a=this._container;a.classList.add("mapboxgl-map"),(this._missingCSSCanary=c.create("div","mapboxgl-canary",a)).style.visibility="hidden",this._detectMissingCSS();var b=this._canvasContainer=c.create("div","mapboxgl-canvas-container",a);this._interactive&&b.classList.add("mapboxgl-interactive"),this._canvas=c.create("canvas","mapboxgl-canvas",b),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");b=this._containerDimensions();this._resizeCanvas(b[0],b[1]);var d=this._controlContainer=c.create("div","mapboxgl-control-container",a),e=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(a){e[a]=c.create("div","mapboxgl-ctrl-"+a,d)})},e.prototype._resizeCanvas=function(b,c){var d=a.window.devicePixelRatio||1;this._canvas.width=d*b,this._canvas.height=d*c,this._canvas.style.width=b+"px",this._canvas.style.height=c+"px"},e.prototype._setupPainter=function(){var c=a.extend({},b.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1});c=this._canvas.getContext("webgl",c)||this._canvas.getContext("experimental-webgl",c);c?(this.painter=new Wc(c,this.transform),a.webpSupported.testSupport(c)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))},e.prototype._contextLost=function(b){b.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:b}))},e.prototype._contextRestored=function(b){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:b}))},e.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},e.prototype._update=function(a){return this.style?(this._styleDirty=this._styleDirty||a,this._sourcesDirty=!0,this.triggerRepaint(),this):this},e.prototype._requestRenderFrame=function(a){return this._update(),this._renderTaskQueue.add(a)},e.prototype._cancelRenderFrame=function(a){this._renderTaskQueue.remove(a)},e.prototype._render=function(){this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var b=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var c=this.transform.zoom,d=a.browser.now();this.style.zoomHistory.update(c,d);c=new a.EvaluationParameters(c,{now:d,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()});d=c.crossFadingFactor();1===d&&d===this._crossFadingFactor||(b=!0,this._crossFadingFactor=d),this.style.update(c)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||b)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),this},e.prototype.remove=function(){this._hash&&this._hash.remove();for(var b=0,c=this._controls;b<c.length;b+=1)c[b].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==a.window&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));b=this.painter.context.gl.getExtension("WEBGL_lose_context");b&&b.loseContext(),qd(this._canvasContainer),qd(this._controlContainer),qd(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new a.Event("remove"))},e.prototype.triggerRepaint=function(){var b=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(){b._frame=null,b._render()}))},e.prototype._onWindowOnline=function(){this._update()},e.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update()},f.showTileBoundaries.get=function(){return!!this._showTileBoundaries},f.showTileBoundaries.set=function(a){this._showTileBoundaries!==a&&(this._showTileBoundaries=a,this._update())},f.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},f.showCollisionBoxes.set=function(a){this._showCollisionBoxes!==a&&(this._showCollisionBoxes=a,a?this.style._generateCollisionBoxes():this._update())},f.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},f.showOverdrawInspector.set=function(a){this._showOverdrawInspector!==a&&(this._showOverdrawInspector=a,this._update())},f.repaint.get=function(){return!!this._repaint},f.repaint.set=function(a){this._repaint!==a&&(this._repaint=a,this.triggerRepaint())},f.vertices.get=function(){return!!this._vertices},f.vertices.set=function(a){this._vertices=a,this._update()},e.prototype._setCacheLimits=function(b,c){a.setCacheLimits(b,c)},Object.defineProperties(e.prototype,f),e}(Nb);function qd(a){a.parentNode&&a.parentNode.removeChild(a)}var rd={showCompass:!0,showZoom:!0};Pb=function(b){var d=this;this.options=a.extend({},rd,b),this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(a){return a.preventDefault()}),this.options.showZoom&&(a.bindAll(["_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom in",function(){return d._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom out",function(){return d._map.zoomOut()})),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset bearing to north",function(){return d._map.resetNorth()}),this._compassArrow=c.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function sd(b,c,d){if(b=new a.LngLat(b.lng,b.lat),c){var e=new a.LngLat(b.lng-360,b.lat),f=new a.LngLat(b.lng+360,b.lat),g=d.locationPoint(b).distSqr(c);d.locationPoint(e).distSqr(c)<g?b=e:d.locationPoint(f).distSqr(c)<g&&(b=f)}for(;Math.abs(b.lng-d.center.lng)>180;){e=d.locationPoint(b);if(e.x>=0&&e.y>=0&&e.x<=d.width&&e.y<=d.height)break;b.lng>d.center.lng?b.lng-=360:b.lng+=360}return b}Pb.prototype._updateZoomButtons=function(){var a=this._map.getZoom();this._zoomInButton.classList.toggle("mapboxgl-ctrl-icon-disabled",a===this._map.getMaxZoom()),this._zoomOutButton.classList.toggle("mapboxgl-ctrl-icon-disabled",a===this._map.getMinZoom())},Pb.prototype._rotateCompassArrow=function(){var a="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=a},Pb.prototype.onAdd=function(a){return this._map=a,this.options.showZoom&&(this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new fd(a,{button:"left",element:this._compass}),c.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.enable()),this._container},Pb.prototype.onRemove=function(){c.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),c.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.disable(),delete this._handler),delete this._map},Pb.prototype._createButton=function(a,b,d){a=c.create("button",a,this._container);return a.type="button",a.title=b,a.setAttribute("aria-label",b),a.addEventListener("click",d),a};var td={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ud(a,b,c){a=a.classList;for(var d in td)a.remove("mapboxgl-"+c+"-anchor-"+d);a.add("mapboxgl-"+c+"-anchor-"+b)}var vd,wd=function(b){function d(d,e){if(b.call(this),(d instanceof a.window.HTMLElement||e)&&(d=a.extend({element:d},e)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=d&&d.anchor||"center",this._color=d&&d.color||"#3FB1CE",this._draggable=d&&d.draggable||!1,this._state="inactive",d&&d.element)this._element=d.element,this._offset=a.Point.convert(d&&d.offset||[0,0]);else{this._defaultMarker=!0,this._element=c.create("div");e=c.createNS("http://www.w3.org/2000/svg","svg");e.setAttributeNS(null,"display","block"),e.setAttributeNS(null,"height","41px"),e.setAttributeNS(null,"width","27px"),e.setAttributeNS(null,"viewBox","0 0 27 41");var f=c.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"stroke","none"),f.setAttributeNS(null,"stroke-width","1"),f.setAttributeNS(null,"fill","none"),f.setAttributeNS(null,"fill-rule","evenodd");f=c.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill-rule","nonzero");var g=c.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(3.0, 29.0)"),g.setAttributeNS(null,"fill","#000000");for(var l=0,h=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<h.length;l+=1){var i=h[l],j=c.createNS("http://www.w3.org/2000/svg","ellipse");j.setAttributeNS(null,"opacity","0.04"),j.setAttributeNS(null,"cx","10.5"),j.setAttributeNS(null,"cy","5.80029008"),j.setAttributeNS(null,"rx",i.rx),j.setAttributeNS(null,"ry",i.ry),g.appendChild(j)}i=c.createNS("http://www.w3.org/2000/svg","g");i.setAttributeNS(null,"fill",this._color);j=c.createNS("http://www.w3.org/2000/svg","path");j.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),i.appendChild(j);l=c.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"opacity","0.25"),l.setAttributeNS(null,"fill","#000000");h=c.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),l.appendChild(h);j=c.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"transform","translate(6.0, 7.0)"),j.setAttributeNS(null,"fill","#FFFFFF");h=c.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"transform","translate(8.0, 8.0)");var m=c.createNS("http://www.w3.org/2000/svg","circle");m.setAttributeNS(null,"fill","#000000"),m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"cx","5.5"),m.setAttributeNS(null,"cy","5.5"),m.setAttributeNS(null,"r","5.4999962");var k=c.createNS("http://www.w3.org/2000/svg","circle");k.setAttributeNS(null,"fill","#FFFFFF"),k.setAttributeNS(null,"cx","5.5"),k.setAttributeNS(null,"cy","5.5"),k.setAttributeNS(null,"r","5.4999962"),h.appendChild(m),h.appendChild(k),f.appendChild(g),f.appendChild(i),f.appendChild(l),f.appendChild(j),f.appendChild(h),e.appendChild(f),this._element.appendChild(e),this._offset=a.Point.convert(d&&d.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(a){a.preventDefault()}),ud(this._element,this._anchor,"marker"),this._popup=null}return b&&(d.__proto__=b),d.prototype=Object.create(b&&b.prototype),d.prototype.constructor=d,d.prototype.addTo=function(a){return this.remove(),this._map=a,a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},d.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),delete this._map),c.remove(this._element),this._popup&&this._popup.remove(),this},d.prototype.getLngLat=function(){return this._lngLat},d.prototype.setLngLat=function(b){return this._lngLat=a.LngLat.convert(b),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},d.prototype.getElement=function(){return this._element},d.prototype.setPopup=function(a){if(this._popup&&(this._popup.remove(),this._popup=null),a){if(!("offset"in a.options)){var b=Math.sqrt(Math.pow(13.5,2)/2);a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[b,-1*(24.6+b)],"bottom-right":[-b,-1*(24.6+b)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=a,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},d.prototype._onMapClick=function(a){a=a.originalEvent.target;var b=this._element;this._popup&&(a===b||b.contains(a))&&this.togglePopup()},d.prototype.getPopup=function(){return this._popup},d.prototype.togglePopup=function(){var a=this._popup;return a?(a.isOpen()?a.remove():a.addTo(this._map),this):this},d.prototype._update=function(a){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=sd(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),a&&"moveend"!==a.type||(this._pos=this._pos.round()),c.setTransform(this._element,td[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"))},d.prototype.getOffset=function(){return this._offset},d.prototype.setOffset=function(b){return this._offset=a.Point.convert(b),this._update(),this},d.prototype._onMove=function(b){this._pos=b.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))},d.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new a.Event("dragend")),this._state="inactive"},d.prototype._addDragHandler=function(a){this._element.contains(a.originalEvent.target)&&(a.preventDefault(),this._positionDelta=a.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},d.prototype.setDraggable=function(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},d.prototype.isDraggable=function(){return this._draggable},d}(a.Evented),Z={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0};Qb=function(b){function d(c){b.call(this),this.options=a.extend({},Z,c),a.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return b&&(d.__proto__=b),d.prototype=Object.create(b&&b.prototype),d.prototype.constructor=d,d.prototype.onAdd=function(b){var d;return this._map=b,this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),d=this._setupUI,void 0!==vd?d(vd):void 0!==a.window.navigator.permissions?a.window.navigator.permissions.query({name:"geolocation"}).then(function(a){vd="denied"!==a.state,d(vd)}):(vd=!!a.window.navigator.geolocation,d(vd)),this._container},d.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),c.remove(this._container),this._map=void 0},d.prototype._onSuccess=function(b){if(this.options.trackUserLocation)switch(this._lastKnownPosition=b,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(b),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(b),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",b)),this._finish()},d.prototype._updateCamera=function(b){var c=new a.LngLat(b.coords.longitude,b.coords.latitude);b=b.coords.accuracy;var d=this._map.getBearing();d=a.extend({bearing:d},this.options.fitBoundsOptions);this._map.fitBounds(c.toBounds(b),d,{geolocateSource:!0})},d.prototype._updateMarker=function(a){a?this._userLocationDotMarker.setLngLat([a.coords.longitude,a.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},d.prototype._onError=function(b){if(this.options.trackUserLocation)if(1===b.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",b)),this._finish()},d.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},d.prototype._setupUI=function(b){var d=this;!1!==b?(this._container.addEventListener("contextmenu",function(a){return a.preventDefault()}),this._geolocateButton=c.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=c.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new wd(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(b){b.geolocateSource||"ACTIVE_LOCK"!==d._watchState||(d._watchState="BACKGROUND",d._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),d._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),d.fire(new a.Event("trackuserlocationend")))})):a.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},d.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},d.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},d}(a.Evented);var xd={maxWidth:100,unit:"metric"};Rb=function(b){this.options=a.extend({},xd,b),a.bindAll(["_onMove","setUnit"],this)};function yd(a,b,c){var d,e,f,h=c&&c.maxWidth||100,g=a._container.clientHeight/2;f=(d=a.unproject([0,g]),a=a.unproject([h,g]),g=Math.PI/180,e=d.lat*g,f=a.lat*g,e=Math.sin(e)*Math.sin(f)+Math.cos(e)*Math.cos(f)*Math.cos((a.lng-d.lng)*g),6371e3*Math.acos(Math.min(e,1)));if(c&&"imperial"===c.unit){a=3.2808*f;a>5280?zd(b,h,a/5280,"mi"):zd(b,h,a,"ft")}else c&&"nautical"===c.unit?zd(b,h,f/1852,"nm"):zd(b,h,f,"m")}function zd(a,b,c,d){var e,f;f=(e=c,f=Math.pow(10,(""+Math.floor(e)).length-1),e=(e=e/f)>=10?10:e>=5?5:e>=3?3:e>=2?2:e>=1?1:function(a){var b=Math.pow(10,Math.ceil(-Math.log(a)/Math.LN10));return Math.round(a*b)/b}(e),f*e);e=f/c;"m"===d&&f>=1e3&&(f/=1e3,d="km"),a.style.width=b*e+"px",a.innerHTML=f+d}Rb.prototype.getDefaultPosition=function(){return"bottom-left"},Rb.prototype._onMove=function(){yd(this._map,this._container,this.options)},Rb.prototype.onAdd=function(a){return this._map=a,this._container=c.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",a.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Rb.prototype.onRemove=function(){c.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Rb.prototype.setUnit=function(a){this.options.unit=a,yd(this._map,this._container,this.options)};Sb=function(b){this._fullscreen=!1,b&&b.container&&(b.container instanceof a.window.HTMLElement?this._container=b.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Sb.prototype.onAdd=function(b){return this._map=b,this._container||(this._container=this._map.getContainer()),this._controlContainer=c.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Sb.prototype.onRemove=function(){c.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Sb.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Sb.prototype._setupUI=function(){(this._fullscreenButton=c.create("button",this._className+"-icon "+this._className+"-fullscreen",this._controlContainer)).type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Sb.prototype._updateTitle=function(){var a=this._isFullscreen()?"Exit fullscreen":"Enter fullscreen";this._fullscreenButton.setAttribute("aria-label",a),this._fullscreenButton.title=a},Sb.prototype._isFullscreen=function(){return this._fullscreen},Sb.prototype._changeIcon=function(){(a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"),this._updateTitle())},Sb.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Ad={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"};Tb=function(b){function d(c){b.call(this),this.options=a.extend(Object.create(Ad),c),a.bindAll(["_update","_onClickClose","remove"],this)}return b&&(d.__proto__=b),d.prototype=Object.create(b&&b.prototype),d.prototype.constructor=d,d.prototype.addTo=function(b){var c=this;return this._map=b,this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",function(a){c._update(a.point)}),this._map.on("mouseup",function(a){c._update(a.point)}),this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},d.prototype.isOpen=function(){return!!this._map},d.prototype.remove=function(){return this._content&&c.remove(this._content),this._container&&(c.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),this._map.off("remove",this.remove),this._map.off("mousemove"),delete this._map),this.fire(new a.Event("close")),this},d.prototype.getLngLat=function(){return this._lngLat},d.prototype.setLngLat=function(b){return this._lngLat=a.LngLat.convert(b),this._pos=null,this._map&&(this._map.on("move",this._update),this._map.off("mousemove"),this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this._trackPointer=!1,this._update(),this},d.prototype.trackPointer=function(){var a=this;return this._trackPointer=!0,this._pos=null,this._map&&(this._map.off("move",this._update),this._map.on("mousemove",function(b){a._update(b.point)}),this._map.on("drag",function(b){a._update(b.point)}),this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},d.prototype.getElement=function(){return this._container},d.prototype.setText=function(b){return this.setDOMContent(a.window.document.createTextNode(b))},d.prototype.setHTML=function(b){var c=a.window.document.createDocumentFragment(),d=a.window.document.createElement("body");for(d.innerHTML=b;b=d.firstChild;)c.appendChild(b);return this.setDOMContent(c)},d.prototype.getMaxWidth=function(){return this._container.style.maxWidth},d.prototype.setMaxWidth=function(a){return this.options.maxWidth=a,this._update(),this},d.prototype.setDOMContent=function(a){return this._createContent(),this._content.appendChild(a),this._update(),this},d.prototype._createContent=function(){this._content&&c.remove(this._content),this._content=c.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=c.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},d.prototype._update=function(b){var d=this,e=this._lngLat||this._trackPointer;if(this._map&&e&&this._content&&(this._container||(this._container=c.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=c.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(a){return d._container.classList.add(a)})),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=sd(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||b)){e=this._pos=this._trackPointer&&b?b:this._map.project(this._lngLat);b=this.options.anchor;var f=function b(c){if(c){if("number"==typeof c){var d=Math.round(Math.sqrt(.5*Math.pow(c,2)));return{center:new a.Point(0,0),top:new a.Point(0,c),"top-left":new a.Point(d,d),"top-right":new a.Point(-d,d),bottom:new a.Point(0,-c),"bottom-left":new a.Point(d,-d),"bottom-right":new a.Point(-d,-d),left:new a.Point(c,0),right:new a.Point(-c,0)}}if(c instanceof a.Point||Array.isArray(c)){d=a.Point.convert(c);return{center:d,top:d,"top-left":d,"top-right":d,bottom:d,"bottom-left":d,"bottom-right":d,left:d,right:d}}return{center:a.Point.convert(c.center||[0,0]),top:a.Point.convert(c.top||[0,0]),"top-left":a.Point.convert(c["top-left"]||[0,0]),"top-right":a.Point.convert(c["top-right"]||[0,0]),bottom:a.Point.convert(c.bottom||[0,0]),"bottom-left":a.Point.convert(c["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(c["bottom-right"]||[0,0]),left:a.Point.convert(c.left||[0,0]),right:a.Point.convert(c.right||[0,0])}}return b(new a.Point(0,0))}(this.options.offset);if(!b){var h=this._container.offsetWidth,g=this._container.offsetHeight;g=e.y+f.bottom.y<g?["top"]:e.y>this._map.transform.height-g?["bottom"]:[],e.x<h/2?g.push("left"):e.x>this._map.transform.width-h/2&&g.push("right"),b=0===g.length?"bottom":g.join("-")}h=e.add(f[b]).round();c.setTransform(this._container,td[b]+" translate("+h.x+"px,"+h.y+"px)"),ud(this._container,b,"popup")}},d.prototype._onClickClose=function(){this.remove()},d}(a.Evented);var $={version:a.version,supported:b,setRTLTextPlugin:a.setRTLTextPlugin,Map:Ob,NavigationControl:Pb,GeolocateControl:Qb,AttributionControl:kd,ScaleControl:Rb,FullscreenControl:Sb,Popup:Tb,Marker:wd,Style:Ib,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(b){a.config.ACCESS_TOKEN=b},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(b){a.config.API_URL=b},get workerCount(){return Ia.workerCount},set workerCount(a){Ia.workerCount=a},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(b){a.config.MAX_PARALLEL_IMAGE_REQUESTS=b},clearStorage:function(b){a.clearTileCache(b)},workerUrl:""};return $});return d})}var k=!1,l=function(){k||(k=!0,j());return h.exports};a=function(a){switch(a){case void 0:return l()}};e.exports=a}),null);
__d("mapbox-gl",["mapbox-gl-1.1.1"],(function(a,b,c,d,e,f){e.exports=b("mapbox-gl-1.1.1")()}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("memoize-one-5.1.1",[],(function(a,b,c,d,e,f){"use strict";a={};var g={exports:a};function h(){function a(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}function b(b,c){c===void 0&&(c=a);var d,e=[],f,g=!1;function h(){var a=[];for(var h=0;h<arguments.length;h++)a[h]=arguments[h];if(g&&d===this&&c(a,e))return f;f=b.apply(this,a);g=!0;d=this;e=a;return f}return h}g.exports=b}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("react-is-16.8.6",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});var a="function"===typeof Symbol&&Symbol["for"],b=a?Symbol["for"]("react.element"):60103,c=a?Symbol["for"]("react.portal"):60106,d=a?Symbol["for"]("react.fragment"):60107,e=a?Symbol["for"]("react.strict_mode"):60108,f=a?Symbol["for"]("react.profiler"):60114,h=a?Symbol["for"]("react.provider"):60109,i=a?Symbol["for"]("react.context"):60110,j=a?Symbol["for"]("react.async_mode"):60111,k=a?Symbol["for"]("react.concurrent_mode"):60111,l=a?Symbol["for"]("react.forward_ref"):60112,m=a?Symbol["for"]("react.suspense"):60113,n=a?Symbol["for"]("react.memo"):60115,o=a?Symbol["for"]("react.lazy"):60116;function p(a){if("object"===typeof a&&null!==a){var g=a.$$typeof;switch(g){case b:switch(a=a.type,a){case j:case k:case d:case f:case e:case m:return a;default:switch(a=a&&a.$$typeof,a){case i:case l:case h:return a;default:return g}}case o:case n:case c:return g}}}function q(a){return p(a)===k}g.typeOf=p;g.AsyncMode=j;g.ConcurrentMode=k;g.ContextConsumer=i;g.ContextProvider=h;g.Element=b;g.ForwardRef=l;g.Fragment=d;g.Lazy=o;g.Memo=n;g.Portal=c;g.Profiler=f;g.StrictMode=e;g.Suspense=m;g.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===d||a===k||a===f||a===e||a===m||"object"===typeof a&&null!==a&&(a.$$typeof===o||a.$$typeof===n||a.$$typeof===h||a.$$typeof===i||a.$$typeof===l)};g.isAsyncMode=function(a){return q(a)||p(a)===j};g.isConcurrentMode=q;g.isContextConsumer=function(a){return p(a)===i};g.isContextProvider=function(a){return p(a)===h};g.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===b};g.isForwardRef=function(a){return p(a)===l};g.isFragment=function(a){return p(a)===d};g.isLazy=function(a){return p(a)===o};g.isMemo=function(a){return p(a)===n};g.isPortal=function(a){return p(a)===c};g.isProfiler=function(a){return p(a)===f};g.isStrictMode=function(a){return p(a)===e};g.isSuspense=function(a){return p(a)===m}}var j=!1,k=function(){j||(j=!0,i());return h.exports};a={};var l={exports:a};function m(){l.exports=k()}var n=!1,o=function(){n||(n=!0,m());return l.exports};b=function(a){switch(a){case void 0:return o()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("prop-types-15.7.2",["react-is-16.8.6","object-assign-4.1.1"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}a(b("react-is-16.8.6"));a(b("object-assign-4.1.1"));c={};var g={exports:c};function h(){var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";g.exports=a}var i=!1,j=function(){i||(i=!0,h());return g.exports};d={};var k={exports:d};function l(){function a(a,b,c,d,e){}a.resetWarningCache=function(){};k.exports=a}var m=!1,n=function(){m||(m=!0,l());return k.exports};f={};var o={exports:f};function p(){var a=j();function b(){}function c(){}c.resetWarningCache=b;o.exports=function(){function d(b,c,d,e,f,g){if(g===a)return;b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");b.name="Invariant Violation";throw b}d.isRequired=d;function e(){return d}e={array:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:e,element:d,elementType:d,instanceOf:e,node:d,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:c,resetWarningCache:b};e.PropTypes=e;return e}}var q=!1,r=function(){q||(q=!0,p());return o.exports};a={};var s={exports:a};function t(){s.exports=r()()}var u=!1,v=function(){u||(u=!0,t());return s.exports};b=function(a){switch(a){case void 0:return v();case"/checkPropTypes":return n()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("raf-schd-4.0.0",[],(function(a,b,c,d,e,f){"use strict";a={};var g={exports:a};function h(){var a=function(a){var b=[],c=null,d=function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];b=e;if(c)return;c=requestAnimationFrame(function(){c=null,a.apply(void 0,b)})};d.cancel=function(){if(!c)return;cancelAnimationFrame(c);c=null};d=d;return d};g.exports=a}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("regenerator-runtime-0.13.2",[],(function(a,b,c,d,e,f){"use strict";a={};var g={exports:a};function h(){var a=function(a){var b=Object.prototype,c=b.hasOwnProperty,d,e=typeof Symbol==="function"?Symbol:{},g=e.iterator||"@@iterator",h=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function j(a,b,c,d){b=b&&b.prototype instanceof q?b:q;b=Object.create(b.prototype);d=new B(d||[]);b._invoke=x(a,c,d);return b}a.wrap=j;function k(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}var l="suspendedStart",m="suspendedYield",n="executing",o="completed",p={};function q(){}function r(){}function s(){}e={};e[g]=function(){return this};var t=Object.getPrototypeOf;t=t&&t(t(C([])));t&&t!==b&&c.call(t,g)&&(e=t);var u=s.prototype=q.prototype=Object.create(e);r.prototype=u.constructor=s;s.constructor=r;s[i]=r.displayName="GeneratorFunction";function v(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}a.isGeneratorFunction=function(a){a=typeof a==="function"&&a.constructor;return a?a===r||(a.displayName||a.name)==="GeneratorFunction":!1};a.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,s):(a.__proto__=s,i in a||(a[i]="GeneratorFunction"));a.prototype=Object.create(u);return a};a.awrap=function(a){return{__await:a}};function w(a){function b(d,e,f,g){d=k(a[d],a,e);if(d.type==="throw")g(d.arg);else{var h=d.arg;e=h.value;return e&&typeof e==="object"&&c.call(e,"__await")?Promise.resolve(e.__await).then(function(a){b("next",a,f,g)},function(a){b("throw",a,f,g)}):Promise.resolve(e).then(function(a){h.value=a,f(h)},function(a){return b("throw",a,f,g)})}}var d;function e(a,c){function e(){return new Promise(function(d,e){b(a,c,d,e)})}return d=d?d.then(e,e):e()}this._invoke=e}v(w.prototype);w.prototype[h]=function(){return this};a.AsyncIterator=w;a.async=function(b,c,d,e){var f=new w(j(b,c,d,e));return a.isGeneratorFunction(c)?f:f.next().then(function(a){return a.done?a.value:f.next()})};function x(a,b,c){var d=l;return function(e,f){if(d===n)throw new Error("Generator is already running");if(d===o){if(e==="throw")throw f;return D()}c.method=e;c.arg=f;while(!0){e=c.delegate;if(e){f=y(e,c);if(f){if(f===p)continue;return f}}if(c.method==="next")c.sent=c._sent=c.arg;else if(c.method==="throw"){if(d===l){d=o;throw c.arg}c.dispatchException(c.arg)}else c.method==="return"&&c.abrupt("return",c.arg);d=n;e=k(a,b,c);if(e.type==="normal"){d=c.done?o:m;if(e.arg===p)continue;return{value:e.arg,done:c.done}}else e.type==="throw"&&(d=o,c.method="throw",c.arg=e.arg)}}}function y(a,b){var c=a.iterator[b.method];if(c===void 0){b.delegate=null;if(b.method==="throw"){if(a.iterator["return"]){b.method="return";b.arg=void 0;y(a,b);if(b.method==="throw")return p}b.method="throw";b.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}c=k(c,a.iterator,b.arg);if(c.type==="throw"){b.method="throw";b.arg=c.arg;b.delegate=null;return p}c=c.arg;if(!c){b.method="throw";b.arg=new TypeError("iterator result is not an object");b.delegate=null;return p}if(c.done)b[a.resultName]=c.value,b.next=a.nextLoc,b.method!=="return"&&(b.method="next",b.arg=void 0);else return c;b.delegate=null;return p}v(u);u[i]="Generator";u[g]=function(){return this};u.toString=function(){return"[object Generator]"};function z(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function A(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function B(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(z,this),this.reset(!0)}a.keys=function(a){var b=[];for(var c in a)b.push(c);b.reverse();return function c(){while(b.length){var d=b.pop();if(d in a){c.value=d;c.done=!1;return c}}c.done=!0;return c}};function C(a){if(a){var b=a[g];if(b)return b.call(a);if(typeof a.next==="function")return a;if(!isNaN(a.length)){var d=-1;b=function b(){while(++d<a.length)if(c.call(a,d)){b.value=a[d];b.done=!1;return b}b.value=void 0;b.done=!0;return b};return b.next=b}}return{next:D}}a.values=C;function D(){return{value:void 0,done:!0}}B.prototype={constructor:B,reset:function(a){this.prev=0;this.next=0;this.sent=this._sent=void 0;this.done=!1;this.delegate=null;this.method="next";this.arg=void 0;this.tryEntries.forEach(A);if(!a)for(var b in this)b.charAt(0)==="t"&&c.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=void 0)},stop:function(){this.done=!0;var a=this.tryEntries[0];a=a.completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var b=this;function d(c,d){g.type="throw";g.arg=a;b.next=c;d&&(b.method="next",b.arg=void 0);return!!d}for(var e=this.tryEntries.length-1;e>=0;--e){var f=this.tryEntries[e],g=f.completion;if(f.tryLoc==="root")return d("end");if(f.tryLoc<=this.prev){var h=c.call(f,"catchLoc"),i=c.call(f,"finallyLoc");if(h&&i){if(this.prev<f.catchLoc)return d(f.catchLoc,!0);else if(this.prev<f.finallyLoc)return d(f.finallyLoc)}else if(h){if(this.prev<f.catchLoc)return d(f.catchLoc,!0)}else if(i){if(this.prev<f.finallyLoc)return d(f.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(a,b){for(var d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d];if(e.tryLoc<=this.prev&&c.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var f=e;break}}f&&(a==="break"||a==="continue")&&f.tryLoc<=b&&b<=f.finallyLoc&&(f=null);e=f?f.completion:{};e.type=a;e.arg=b;if(f){this.method="next";this.next=f.finallyLoc;return p}return this.complete(e)},complete:function(a,b){if(a.type==="throw")throw a.arg;a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):a.type==="normal"&&b&&(this.next=b);return p},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a){this.complete(c.completion,c.afterLoc);A(c);return p}}},"catch":function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if(d.type==="throw"){var e=d.arg;A(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){this.delegate={iterator:C(a),resultName:b,nextLoc:c};this.method==="next"&&(this.arg=void 0);return p}};return a}(typeof g==="object"?g.exports:{});try{regeneratorRuntime=a}catch(b){Function("r","regeneratorRuntime = r")(a)}}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j();case"/runtime":return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/V9vdYColc4k/
 */
__d("react-dom-0.0.0",["ReactDOM"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("ReactDOM"));c={};var h={exports:c};function i(){h.exports=g}var j=!1,k=function(){j||(j=!0,i());return h.exports};d=function(a){switch(a){case void 0:return k()}};e.exports=d}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("symbol-observable-1.2.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});g["default"]=a;function a(a){var b;a=a.Symbol;typeof a==="function"?a.observable?b=a.observable:(b=a("observable"),a.observable=b):b="@@observable";return b}}var j=!1,k=function(){j||(j=!0,i());return h.exports},l={},m={exports:l};function n(){Object.defineProperty(l,"__esModule",{value:!0});var b=k();c=c(b);function c(a){return a&&a.__esModule?a:{"default":a}}typeof self!=="undefined"?b=self:typeof window!=="undefined"?b=window:typeof a!=="undefined"?b=a:typeof m!=="undefined"?b=m:b=Function("return this")();c=c["default"](b);l["default"]=c}var o=!1,p=function(){o||(o=!0,n());return m.exports};b=function(a){switch(a){case void 0:return p()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("redux-4.0.4",["symbol-observable-1.2.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("symbol-observable-1.2.0")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var b=a(g()),c=function(){return Math.random().toString(36).substring(7).split("").join(".")},d={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function e(a){if(typeof a!=="object"||a===null)return!1;var b=a;while(Object.getPrototypeOf(b)!==null)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}function f(a,c,g){var h;if(typeof c==="function"&&typeof g==="function"||typeof g==="function"&&typeof arguments[3]==="function")throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");typeof c==="function"&&typeof g==="undefined"&&(g=c,c=void 0);if(typeof g!=="undefined"){if(typeof g!=="function")throw new Error("Expected the enhancer to be a function.");return g(f)(a,c)}if(typeof a!=="function")throw new Error("Expected the reducer to be a function.");var i=a,j=c,k=[],l=k,m=!1;function n(){l===k&&(l=k.slice())}function o(){if(m)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return j}function p(a){if(typeof a!=="function")throw new Error("Expected the listener to be a function.");if(m)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var b=!0;n();l.push(a);return function(){if(!b)return;if(m)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");b=!1;n();var c=l.indexOf(a);l.splice(c,1)}}function q(a){if(!e(a))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof a.type==="undefined")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error("Reducers may not dispatch actions.");try{m=!0,j=i(j,a)}finally{m=!1}var b=k=l;for(var c=0;c<b.length;c++){var d=b[c];d()}return a}function r(a){if(typeof a!=="function")throw new Error("Expected the nextReducer to be a function.");i=a;q({type:d.REPLACE})}function s(){var a,c=p;return a={subscribe:function(a){if(typeof a!=="object"||a===null)throw new TypeError("Expected the observer to be an object.");function b(){a.next&&a.next(o())}b();b=c(b);return{unsubscribe:b}}},a[b]=function(){return this},a}q({type:d.INIT});return h={dispatch:q,subscribe:p,getState:o,replaceReducer:r},h[b]=s,h}function i(a,b){b=b&&b.type;b=b&&'action "'+String(b)+'"'||"an action";return"Given "+b+', reducer "'+a+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function j(a){Object.keys(a).forEach(function(b){var c=a[b],e=c(void 0,{type:d.INIT});if(typeof e==="undefined")throw new Error('Reducer "'+b+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(typeof c(void 0,{type:d.PROBE_UNKNOWN_ACTION()})==="undefined")throw new Error('Reducer "'+b+'" returned undefined when probed with a random type. '+("Don't try to handle "+d.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function k(a){var b=Object.keys(a),c={};for(var d=0;d<b.length;d++){var e=b[d];typeof a[e]==="function"&&(c[e]=a[e])}var f=Object.keys(c),g;try{j(c)}catch(a){g=a}return function(a,b){a===void 0&&(a={});if(g)throw g;var d=!1,e={};for(var h=0;h<f.length;h++){var j=f[h],k=c[j],l=a[j];k=k(l,b);if(typeof k==="undefined"){var m=i(j,b);throw new Error(m)}e[j]=k;d=d||k!==l}return d?e:a}}function l(a,b){return function(){return b(a.apply(this,arguments))}}function m(a,b){if(typeof a==="function")return l(a,b);if(typeof a!=="object"||a===null)throw new Error("bindActionCreators expected an object or a function, instead received "+(a===null?"null":typeof a)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var c={};for(var d in a){var e=a[d];typeof e==="function"&&(c[d]=l(e,b))}return c}function n(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}function o(a,b){var c=Object.keys(a);Object.getOwnPropertySymbols&&c.push.apply(c,Object.getOwnPropertySymbols(a));b&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable}));return c}function p(a){for(var b=1;b<arguments.length;b++){var c=arguments[b]!=null?arguments[b]:{};b%2?o(c,!0).forEach(function(b){n(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):o(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function q(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(b.length===0)return function(a){return a};return b.length===1?b[0]:b.reduce(function(a,b){return function(){return a(b.apply(void 0,arguments))}})}function r(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){return function(){var c=a.apply(void 0,arguments),d=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},e={getState:c.getState,dispatch:function(){return d.apply(void 0,arguments)}},f=b.map(function(a){return a(e)});d=q.apply(void 0,f)(c.dispatch);return p({},c,{dispatch:d})}}}h.__DO_NOT_USE__ActionTypes=d;h.applyMiddleware=r;h.bindActionCreators=m;h.combineReducers=k;h.compose=q;h.createStore=f}var k=!1,l=function(){k||(k=!0,j());return i.exports};c=function(a){switch(a){case void 0:return l()}};e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("react-redux-7.1.1",["babel-runtime-7.6.0","react-0.0.0","prop-types-15.7.2","hoist-non-react-statics-3.3.0","invariant-2.2.4","react-is-16.9.0","redux-4.0.4","react-dom-0.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("babel-runtime-7.6.0")),h=a(b("react-0.0.0")),i=a(b("prop-types-15.7.2")),j=a(b("hoist-non-react-statics-3.3.0")),k=a(b("invariant-2.2.4")),l=a(b("react-is-16.9.0")),m=a(b("redux-4.0.4")),n=a(b("react-dom-0.0.0")),o={},p={exports:o};function q(){var a=g("/helpers/interopRequireDefault");o.__esModule=!0;o["default"]=o.ReactReduxContext=void 0;a=a(h());a=a["default"].createContext(null);o.ReactReduxContext=a;a=a;o["default"]=a}var r=!1,s=function(){r||(r=!0,q());return p.exports},t={},u={exports:t};function v(){t.__esModule=!0;t.getBatch=t.setBatch=void 0;function a(a){a()}var b=a;a=function(a){return b=a};t.setBatch=a;a=function(){return b};t.getBatch=a}var w=!1,x=function(){w||(w=!0,v());return u.exports},y={},z={exports:y};function A(){y.__esModule=!0;y["default"]=void 0;var a=x(),b=null,c={notify:function(){}};function d(){var c=a.getBatch(),d=[],e=[];return{clear:function(){e=b,d=b},notify:function(){var a=d=e;c(function(){for(var b=0;b<a.length;b++)a[b]()})},get:function(){return e},subscribe:function(a){var c=!0;e===d&&(e=d.slice());e.push(a);return function(){if(!c||d===b)return;c=!1;e===d&&(e=d.slice());e.splice(e.indexOf(a),1)}}}}var e=function(){function a(a,b){this.store=a,this.parentSub=b,this.unsubscribe=null,this.listeners=c,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var b=a.prototype;b.addNestedSub=function(a){this.trySubscribe();return this.listeners.subscribe(a)};b.notifyNestedSubs=function(){this.listeners.notify()};b.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()};b.isSubscribed=function(){return Boolean(this.unsubscribe)};b.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=d())};b.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=c)};return a}();y["default"]=e}var B=!1,C=function(){B||(B=!0,A());return z.exports},D={},E={exports:D};function F(){var a=g("/helpers/interopRequireDefault"),b=g("/helpers/interopRequireWildcard");D.__esModule=!0;D["default"]=void 0;var c=b(h());b=a(i());var d=s(),e=a(C());function f(a){var b=a.store,f=a.context;a=a.children;var g=c.useMemo(function(){var a=new e["default"](b);a.onStateChange=a.notifyNestedSubs;return{store:b,subscription:a}},[b]),h=c.useMemo(function(){return b.getState()},[b]);c.useEffect(function(){var a=g.subscription;a.trySubscribe();h!==b.getState()&&a.notifyNestedSubs();return function(){a.tryUnsubscribe(),a.onStateChange=null}},[g,h]);f=f||d.ReactReduxContext;return c["default"].createElement(f.Provider,{value:g},a)}f.propTypes={store:b["default"].shape({subscribe:b["default"].func.isRequired,dispatch:b["default"].func.isRequired,getState:b["default"].func.isRequired}),context:b["default"].object,children:b["default"].any};a=f;D["default"]=a}var G=!1,H=function(){G||(G=!0,F());return E.exports},I={},J={exports:I};function K(){var a=g("/helpers/interopRequireWildcard"),b=g("/helpers/interopRequireDefault");I.__esModule=!0;I["default"]=v;var c=b(g("/helpers/extends")),d=b(g("/helpers/objectWithoutPropertiesLoose")),e=b(j()),f=b(k()),i=a(h()),m=l(),n=b(C()),o=s(),p=[],q=[null,null];function r(a,b){a=a[1];return[b.payload,a+1]}var t=function(){return[null,0]},u=typeof window!=="undefined"&&typeof window.document!=="undefined"&&typeof window.document.createElement!=="undefined"?i.useLayoutEffect:i.useEffect;function v(a,b){b===void 0&&(b={});b=b;var g=b.getDisplayName,h=g===void 0?function(a){return"ConnectAdvanced("+a+")"}:g;g=b.methodName;var j=g===void 0?"connectAdvanced":g;g=b.renderCountProp;var k=g===void 0?void 0:g;g=b.shouldHandleStateChanges;var l=g===void 0?!0:g;g=b.storeKey;var s=g===void 0?"store":g;g=b.withRef;g=g===void 0?!1:g;var v=b.forwardRef,w=v===void 0?!1:v;v=b.context;v=v===void 0?o.ReactReduxContext:v;var x=d["default"](b,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);f["default"](k===void 0,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension");f["default"](!g,"withRef is removed. To access the wrapped instance, use a ref on the connected component");b="To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";f["default"](s==="store","storeKey has been removed and does not do anything. "+b);var y=v;return function(b){var g=b.displayName||b.name||"Component",o=h(g),v=c["default"]({},x,{getDisplayName:h,methodName:j,renderCountProp:k,shouldHandleStateChanges:l,storeKey:s,displayName:o,wrappedComponentName:g,WrappedComponent:b});g=x.pure;function z(b){return a(b.dispatch,v)}var A=g?i.useMemo:function(a){return a()};function B(a){var e=i.useMemo(function(){var b=a.forwardedRef,c=d["default"](a,["forwardedRef"]);return[a.context,b,c]},[a]),g=e[0],h=e[1],j=e[2],k=i.useMemo(function(){return g&&g.Consumer&&m.isContextConsumer(i["default"].createElement(g.Consumer,null))?g:y},[g,y]),s=i.useContext(k),v=Boolean(a.store);e=Boolean(s)&&Boolean(s.store);f["default"](v||e,'Could not find "store" in the context of '+('"'+o+'". Either wrap the root component in a <Provider>, ')+"or pass a custom React context provider to <Provider> and the corresponding "+("React context consumer to "+o+" in connect options."));var w=a.store||s.store,x=i.useMemo(function(){return z(w)},[w]);e=i.useMemo(function(){if(!l)return q;var a=new n["default"](w,v?null:s.subscription),b=a.notifyNestedSubs.bind(a);return[a,b]},[w,v,s]);var B=e[0],C=e[1],D=i.useMemo(function(){return v?s:c["default"]({},s,{subscription:B})},[v,s,B]);e=i.useReducer(r,p,t);var E=e[0];E=E[0];var F=e[1];if(E&&E.error)throw E.error;var G=i.useRef(),H=i.useRef(j),I=i.useRef(),J=i.useRef(!1),K=A(function(){return I.current&&j===H.current?I.current:x(w.getState(),j)},[w,E,j]);u(function(){H.current=j,G.current=K,J.current=!1,I.current&&(I.current=null,C())});u(function(){if(!l)return;var a=!1,b=null,c=function(){if(a)return;var c=w.getState(),d,e;try{d=x(c,H.current)}catch(a){e=a,b=a}e||(b=null);d===G.current?J.current||C():(G.current=d,I.current=d,J.current=!0,F({type:"STORE_UPDATED",payload:{latestStoreState:c,error:e}}))};B.onStateChange=c;B.trySubscribe();c();c=function(){a=!0;B.tryUnsubscribe();B.onStateChange=null;if(b)throw b};return c},[w,B,x]);var L=i.useMemo(function(){return i["default"].createElement(b,c["default"]({},K,{ref:h}))},[h,b,K]);e=i.useMemo(function(){return l?i["default"].createElement(k.Provider,{value:D},L):L},[k,L,D]);return e}var C=g?i["default"].memo(B):B;C.WrappedComponent=b;C.displayName=o;if(w){g=i["default"].forwardRef(function(a,b){return i["default"].createElement(C,c["default"]({},a,{forwardedRef:b}))});g.displayName=o;g.WrappedComponent=b;return e["default"](g,b)}return e["default"](C,b)}}}var L=!1,aa=function(){L||(L=!0,K());return J.exports},M={},ba={exports:M};function ca(){M.__esModule=!0;M["default"]=c;var a=Object.prototype.hasOwnProperty;function b(a,b){if(a===b)return a!==0||b!==0||1/a===1/b;else return a!==a&&b!==b}function c(c,d){if(b(c,d))return!0;if(typeof c!=="object"||c===null||typeof d!=="object"||d===null)return!1;var e=Object.keys(c),f=Object.keys(d);if(e.length!==f.length)return!1;for(var f=0;f<e.length;f++)if(!a.call(d,e[f])||!b(c[e[f]],d[e[f]]))return!1;return!0}}var da=!1,ea=function(){da||(da=!0,ca());return ba.exports},N={},fa={exports:N};function ga(){N.__esModule=!0;N["default"]=a;function a(a){if(typeof a!=="object"||a===null)return!1;a=Object.getPrototypeOf(a);if(a===null)return!0;var b=a;while(Object.getPrototypeOf(b)!==null)b=Object.getPrototypeOf(b);return a===b}}var ha=!1,ia=function(){ha||(ha=!0,ga());return fa.exports},O={},ja={exports:O};function ka(){O.__esModule=!0;O["default"]=a;function a(a){typeof console!=="undefined"&&typeof emptyFunction==="function";try{throw new Error(a)}catch(a){}}}var la=!1,ma=function(){la||(la=!0,ka());return ja.exports},P={},na={exports:P};function oa(){var a=g("/helpers/interopRequireDefault");P.__esModule=!0;P["default"]=d;var b=a(ia()),c=a(ma());function d(a,d,e){b["default"](a)||c["default"](e+"() in "+d+" must return a plain object. Instead received "+a+".")}}var pa=!1,qa=function(){pa||(pa=!0,oa());return na.exports},Q={},ra={exports:Q};function sa(){var a=g("/helpers/interopRequireDefault");Q.__esModule=!0;Q.wrapMapToPropsConstant=b;Q.getDependsOnOwnProps=c;Q.wrapMapToPropsFunc=d;a(qa());function b(a){return function(b,c){var d=a(b,c);function e(){return d}e.dependsOnOwnProps=!1;return e}}function c(a){return a.dependsOnOwnProps!==null&&a.dependsOnOwnProps!==void 0?Boolean(a.dependsOnOwnProps):a.length!==1}function d(a,b){return function(b,d){d.displayName;var e=function(a,b){return e.dependsOnOwnProps?e.mapToProps(a,b):e.mapToProps(a)};e.dependsOnOwnProps=!0;e.mapToProps=function(b,d){e.mapToProps=a;e.dependsOnOwnProps=c(a);var f=e(b,d);typeof f==="function"&&(e.mapToProps=f,e.dependsOnOwnProps=c(f),f=e(b,d));return f};return e}}}var ta=!1,ua=function(){ta||(ta=!0,sa());return ra.exports},R={},va={exports:R};function wa(){R.__esModule=!0;R.whenMapDispatchToPropsIsFunction=c;R.whenMapDispatchToPropsIsMissing=d;R.whenMapDispatchToPropsIsObject=e;R["default"]=void 0;var a=m(),b=ua();function c(a){return typeof a==="function"?b.wrapMapToPropsFunc(a,"mapDispatchToProps"):void 0}function d(a){return a?void 0:b.wrapMapToPropsConstant(function(a){return{dispatch:a}})}function e(c){return c&&typeof c==="object"?b.wrapMapToPropsConstant(function(b){return a.bindActionCreators(c,b)}):void 0}c=[c,d,e];R["default"]=c}var xa=!1,ya=function(){xa||(xa=!0,wa());return va.exports},S={},za={exports:S};function Aa(){S.__esModule=!0;S.whenMapStateToPropsIsFunction=b;S.whenMapStateToPropsIsMissing=c;S["default"]=void 0;var a=ua();function b(b){return typeof b==="function"?a.wrapMapToPropsFunc(b,"mapStateToProps"):void 0}function c(b){return b?void 0:a.wrapMapToPropsConstant(function(){return{}})}b=[b,c];S["default"]=b}var Ba=!1,Ca=function(){Ba||(Ba=!0,Aa());return za.exports},T={},Da={exports:T};function Ea(){var a=g("/helpers/interopRequireDefault");T.__esModule=!0;T.defaultMergeProps=c;T.wrapMergePropsFunc=d;T.whenMergePropsIsFunction=e;T.whenMergePropsIsOmitted=f;T["default"]=void 0;var b=a(g("/helpers/extends"));a(qa());function c(a,c,d){return b["default"]({},d,{},a,{},c)}function d(a){return function(b,c){c.displayName;var d=c.pure,e=c.areMergedPropsEqual,f=!1,g;return function(b,c,h){b=a(b,c,h);f?(!d||!e(b,g))&&(g=b):(f=!0,g=b);return g}}}function e(a){return typeof a==="function"?d(a):void 0}function f(a){return a?void 0:function(){return c}}a=[e,f];T["default"]=a}var Fa=!1,Ga=function(){Fa||(Fa=!0,Ea());return Da.exports},Ha={},Ia={exports:Ha};function Ja(){var a=g("/helpers/interopRequireDefault");Ha.__esModule=!0;Ha["default"]=d;var b=a(ma());function c(a,c,d){if(!a)throw new Error("Unexpected value for "+c+" in "+d+".");else(c==="mapStateToProps"||c==="mapDispatchToProps")&&(Object.prototype.hasOwnProperty.call(a,"dependsOnOwnProps")||b["default"]("The selector for "+c+" of "+d+" did not specify a value for dependsOnOwnProps."))}function d(a,b,d,e){c(a,"mapStateToProps",e),c(b,"mapDispatchToProps",e),c(d,"mergeProps",e)}}var Ka=!1,La=function(){Ka||(Ka=!0,Ja());return Ia.exports},U={},Ma={exports:U};function Na(){var a=g("/helpers/interopRequireDefault");U.__esModule=!0;U.impureFinalPropsSelectorFactory=c;U.pureFinalPropsSelectorFactory=d;U["default"]=e;var b=a(g("/helpers/objectWithoutPropertiesLoose"));a(La());function c(a,b,c,d){return function(e,f){return c(a(e,f),b(d,f),f)}}function d(a,b,c,d,e){var f=e.areStatesEqual,g=e.areOwnPropsEqual,h=e.areStatePropsEqual,i=!1,j,k,l,m,n;function o(e,f){j=e;k=f;l=a(j,k);m=b(d,k);n=c(l,m,k);i=!0;return n}function p(){l=a(j,k);b.dependsOnOwnProps&&(m=b(d,k));n=c(l,m,k);return n}function q(){a.dependsOnOwnProps&&(l=a(j,k));b.dependsOnOwnProps&&(m=b(d,k));n=c(l,m,k);return n}function r(){var b=a(j,k),d=!h(b,l);l=b;d&&(n=c(l,m,k));return n}function s(a,b){var c=!g(b,k),d=!f(a,j);j=a;k=b;if(c&&d)return p();if(c)return q();return d?r():n}return function(a,b){return i?s(a,b):o(a,b)}}function e(a,e){var f=e.initMapStateToProps,g=e.initMapDispatchToProps,h=e.initMergeProps;e=b["default"](e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]);f=f(a,e);g=g(a,e);h=h(a,e);var i=e.pure?d:c;return i(f,g,h,a,e)}}var Oa=!1,Pa=function(){Oa||(Oa=!0,Na());return Ma.exports},V={},Qa={exports:V};function Ra(){var a=g("/helpers/interopRequireDefault");V.__esModule=!0;V.createConnect=m;V["default"]=void 0;var b=a(g("/helpers/extends")),c=a(g("/helpers/objectWithoutPropertiesLoose")),d=a(aa()),e=a(ea()),f=a(ya()),h=a(Ca()),i=a(Ga()),j=a(Pa());function k(a,b,c){for(var d=b.length-1;d>=0;d--){var e=b[d](a);if(e)return e}return function(b,d){throw new Error("Invalid value of type "+typeof a+" for "+c+" argument when connecting component "+d.wrappedComponentName+".")}}function l(a,b){return a===b}function m(a){a=a===void 0?{}:a;var g=a.connectHOC,m=g===void 0?d["default"]:g;g=a.mapStateToPropsFactories;var n=g===void 0?h["default"]:g;g=a.mapDispatchToPropsFactories;var o=g===void 0?f["default"]:g;g=a.mergePropsFactories;var p=g===void 0?i["default"]:g;g=a.selectorFactory;var q=g===void 0?j["default"]:g;return function(a,d,f,g){g===void 0&&(g={});g=g;var h=g.pure;h=h===void 0?!0:h;var i=g.areStatesEqual;i=i===void 0?l:i;var j=g.areOwnPropsEqual;j=j===void 0?e["default"]:j;var r=g.areStatePropsEqual;r=r===void 0?e["default"]:r;var s=g.areMergedPropsEqual;s=s===void 0?e["default"]:s;g=c["default"](g,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]);var t=k(a,n,"mapStateToProps");d=k(d,o,"mapDispatchToProps");f=k(f,p,"mergeProps");return m(q,b["default"]({methodName:"connect",getDisplayName:function(a){return"Connect("+a+")"},shouldHandleStateChanges:Boolean(a),initMapStateToProps:t,initMapDispatchToProps:d,initMergeProps:f,pure:h,areStatesEqual:i,areOwnPropsEqual:j,areStatePropsEqual:r,areMergedPropsEqual:s},g))}}a=m();V["default"]=a}var Sa=!1,Ta=function(){Sa||(Sa=!0,Ra());return Qa.exports},Ua={},Va={exports:Ua};function Wa(){var a=g("/helpers/interopRequireDefault");Ua.__esModule=!0;Ua.useReduxContext=e;var b=h(),c=a(k()),d=s();function e(){var a=b.useContext(d.ReactReduxContext);c["default"](a,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>");return a}}var Xa=!1,Ya=function(){Xa||(Xa=!0,Wa());return Va.exports},W={},Za={exports:W};function $a(){W.__esModule=!0;W.createStoreHook=d;W.useStore=void 0;var a=h(),b=s(),c=Ya();function d(d){d===void 0&&(d=b.ReactReduxContext);var e=d===b.ReactReduxContext?c.useReduxContext:function(){return a.useContext(d)};return function(){var a=e();a=a.store;return a}}d=d();W.useStore=d}var ab=!1,bb=function(){ab||(ab=!0,$a());return Za.exports},X={},cb={exports:X};function db(){X.__esModule=!0;X.createDispatchHook=c;X.useDispatch=void 0;var a=s(),b=bb();function c(c){c===void 0&&(c=a.ReactReduxContext);var d=c===a.ReactReduxContext?b.useStore:b.createStoreHook(c);return function(){var a=d();return a.dispatch}}c=c();X.useDispatch=c}var eb=!1,fb=function(){eb||(eb=!0,db());return cb.exports},Y={},gb={exports:Y};function hb(){var a=g("/helpers/interopRequireDefault");Y.__esModule=!0;Y.createSelectorHook=m;Y.useSelector=void 0;var b=h(),c=a(k()),d=Ya(),e=a(C()),f=s(),i=typeof window!=="undefined"?b.useLayoutEffect:b.useEffect,j=function(a,b){return a===b};function l(a,c,d,f){var g=b.useReducer(function(a){return a+1},0),h=g[1],j=b.useMemo(function(){return new e["default"](d,f)},[d,f]),k=b.useRef(),l=b.useRef(),m=b.useRef(),n;try{a!==l.current||k.current?n=a(d.getState()):n=m.current}catch(a){g="An error occured while selecting the store state: "+a.message+".";k.current&&(g+="\nThe error may be correlated with this previous error:\n"+k.current.stack+"\n\nOriginal stack trace:");throw new Error(g)}i(function(){l.current=a,m.current=n,k.current=void 0});i(function(){function a(){try{var a=l.current(d.getState());if(c(a,m.current))return;m.current=a}catch(a){k.current=a}h({})}j.onStateChange=a;j.trySubscribe();a();return function(){return j.tryUnsubscribe()}},[d,j]);return n}function m(a){a===void 0&&(a=f.ReactReduxContext);var e=a===f.ReactReduxContext?d.useReduxContext:function(){return b.useContext(a)};return function(a,b){b===void 0&&(b=j);c["default"](a,"You must pass a selector to useSelectors");var d=e(),f=d.store;d=d.subscription;return l(a,b,f,d)}}a=m();Y.useSelector=a}var ib=!1,jb=function(){ib||(ib=!0,hb());return gb.exports},Z={},kb={exports:Z};function lb(){Z.__esModule=!0;Z.unstable_batchedUpdates=void 0;var a=n();Z.unstable_batchedUpdates=a.unstable_batchedUpdates}var mb=!1,nb=function(){mb||(mb=!0,lb());return kb.exports},$={},ob={exports:$};function pb(){var a=g("/helpers/interopRequireDefault");$.__esModule=!0;var b=a(H());$.Provider=b["default"];b=a(aa());$.connectAdvanced=b["default"];b=s();$.ReactReduxContext=b.ReactReduxContext;b=a(Ta());$.connect=b["default"];b=fb();$.useDispatch=b.useDispatch;$.createDispatchHook=b.createDispatchHook;b=jb();$.useSelector=b.useSelector;$.createSelectorHook=b.createSelectorHook;b=bb();$.useStore=b.useStore;$.createStoreHook=b.createStoreHook;b=x();var c=nb();$.batch=c.unstable_batchedUpdates;a=a(ea());$.shallowEqual=a["default"];b.setBatch(c.unstable_batchedUpdates)}var qb=!1,rb=function(){qb||(qb=!0,pb());return ob.exports};c=function(a){switch(a){case void 0:return rb()}};e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("use-memo-one-1.1.1",["react-0.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("react-0.0.0")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});var a=g();function b(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}function c(c,d){var e=a.useState(function(){return{inputs:d,result:c()}})[0],f=a.useRef(e);e=Boolean(d&&f.current.inputs&&b(d,f.current.inputs));var g=e?f.current:{inputs:d,result:c()};a.useEffect(function(){f.current=g},[g]);return g.result}function d(a,b){return c(function(){return a},b)}var e=c,f=d;h.useCallback=f;h.useCallbackOne=d;h.useMemo=e;h.useMemoOne=c}var k=!1,l=function(){k||(k=!0,j());return i.exports};c=function(a){switch(a){case void 0:return l()}};e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/7R_-0_GF-gR/
 */
__d("react-beautiful-dnd-11.0.5",["babel-runtime-corejs2-7.6.0","react-0.0.0","use-memo-one-1.1.1","tiny-invariant-1.0.6","redux-4.0.4","react-redux-7.1.1","css-box-model-1.2.0","memoize-one-5.1.1","raf-schd-4.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("babel-runtime-corejs2-7.6.0")),h=a(b("react-0.0.0")),i=a(b("use-memo-one-1.1.1")),j=a(b("tiny-invariant-1.0.6")),k=a(b("redux-4.0.4")),l=a(b("react-redux-7.1.1")),m=a(b("css-box-model-1.2.0")),n=a(b("memoize-one-5.1.1")),o=a(b("raf-schd-4.0.0")),p={},q={exports:p};function r(){Object.defineProperty(p,"__esModule",{value:!0});function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var b=a(g("/helpers/extends")),c=h(),d=a(c),e=i(),f=a(g("/helpers/inheritsLoose")),q=a(j()),r=k(),s=l(),t=m(),u=a(n()),v=a(g("/core-js/object/values")),w=a(g("/core-js/object/keys")),x=a(g("/core-js/date/now")),y=a(o()),z=a(g("/core-js/object/assign"));a(g("/core-js/number/is-integer"));var aa=/[ \t]{2,}/g,ba=/^[ \t]*/gm,A=function(a){return a.replace(aa," ").replace(ba,"").trim()},ca=function(a){return A("\n  %creact-beautiful-dnd\n\n  %c"+A(a)+"\n\n  %c\ud83d\udc77\u200d This is a development only message. It will be removed in production builds.\n")},da;(function(a){return[ca(a),"color: #00C584; font-size: 1.2em; font-weight: bold;","line-height: 1.5","color: #723874;"]});function ea(a){var b;return;(b=console).error.apply(b,da("\n        An error has occurred while a drag is occurring.\n        Any existing drag will be cancelled.\n\n        > "+a.message+"\n        "))}function fa(a){return a.message.indexOf("Invariant failed")!==-1}var ga=function(b){f(a,b);function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];a=b.call.apply(b,[this].concat(d))||this;a.onError=void 0;a.setOnError=function(b){a.onError=b};a.onFatalError=function(b){ea(b),a.onError&&a.onError(),fa(b)&&a.setState({})};return a}var c=a.prototype;c.componentDidMount=function(){window.addEventListener("error",this.onFatalError)};c.componentWillUnmount=function(){window.removeEventListener("error",this.onFatalError)};c.componentDidCatch=function(a){this.onFatalError(a);if(!fa(a))throw a};c.render=function(){return this.props.children(this.setOnError)};return a}(d.Component),B={x:0,y:0},C=function(a,b){return{x:a.x+b.x,y:a.y+b.y}},D=function(a,b){return{x:a.x-b.x,y:a.y-b.y}},E=function(a,b){return a.x===b.x&&a.y===b.y},F=function(a){return{x:a.x!==0?-a.x:0,y:a.y!==0?-a.y:0}},G=function(a,b,c){var d;c===void 0&&(c=0);return d={},d[a]=b,d[a==="x"?"y":"x"]=c,d},ha=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))},ia=function(a,b){return Math.min.apply(Math,b.map(function(b){return ha(a,b)}))};a=function(a){return function(b){return{x:a(b.x),y:a(b.y)}}};var ja=function(a,b){b=t.getRect({top:Math.max(b.top,a.top),right:Math.min(b.right,a.right),bottom:Math.min(b.bottom,a.bottom),left:Math.max(b.left,a.left)});return b.width<=0||b.height<=0?null:b},ka=function(a,b){return{top:a.top+b.y,left:a.left+b.x,bottom:a.bottom+b.y,right:a.right+b.x}},la=function(a){return[{x:a.left,y:a.top},{x:a.right,y:a.top},{x:a.left,y:a.bottom},{x:a.right,y:a.bottom}]},ma={top:0,right:0,bottom:0,left:0},na=function(a,b){return!b?a:ka(a,b.scroll.diff.displacement)},oa=function(a,c,d){if(d&&d.increasedBy){var e;return b({},a,(e={},e[c.end]=a[c.end]+d.increasedBy[c.line],e))}return a},pa=function(a,b){return b&&b.shouldClipSubject?ja(b.pageMarginBox,a):t.getRect(a)},H=function(a){var b=a.page,c=a.withPlaceholder,d=a.axis;a=a.frame;var e=na(b.marginBox,a);e=oa(e,d,c);d=pa(e,a);return{page:b,withPlaceholder:c,active:d}},qa=function(a,c){a.frame?void 0:q(!1);var d=a.frame,e=D(c,d.scroll.initial),f=F(e);c=b({},d,{scroll:{initial:d.scroll.initial,current:c,diff:{value:e,displacement:f},max:d.scroll.max}});e=H({page:a.subject.page,withPlaceholder:a.subject.withPlaceholder,axis:a.axis,frame:c});f=b({},a,{frame:c,subject:e});return f},I=function(a){var b=a.merge;a=a.destination;if(a)return a.droppableId;return b?b.combine.droppableId:null};function J(a){return v(a)}function ra(a,b){if(a.findIndex)return a.findIndex(b);for(var c=0;c<a.length;c++)if(b(a[c]))return c;return-1}function sa(a,b){if(a.find)return a.find(b);b=ra(a,b);return b!==-1?a[b]:void 0}var ta=u(function(a){return a.reduce(function(a,b){a[b.descriptor.id]=b;return a},{})}),ua=u(function(a){return a.reduce(function(a,b){a[b.descriptor.id]=b;return a},{})}),K=u(function(a){return J(a)}),va=u(function(a){return J(a)}),L=function(a,b){return function(c){return a<=c&&c<=b}},wa=function(a){var b=L(a.top,a.bottom),c=L(a.left,a.right);return function(a){return b(a.y)&&b(a.y)&&c(a.x)&&c(a.x)}},xa=function(a){var b=a.target;a=a.droppables;a=sa(K(a),function(a){if(!a.isEnabled)return!1;a=a.subject.active;return!a?!1:wa(a)(b)});return a?a.descriptor.id:null},M=u(function(a,b){b=va(b).filter(function(b){return a===b.descriptor.droppableId}).sort(function(a,b){return a.descriptor.index-b.descriptor.index});return b}),ya=function(a,b){a=a.frame;return!a?b:C(b,a.scroll.diff.value)},za={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Aa={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Ba=function(a,b){return a===za?b.vertical==="down":b.horizontal==="right"},N=function(a,b){return Boolean(b.wasDisplaced[a])},Ca=function(a){var b=a.displaced,c=a.onLift,d=a.combineWith;a=a.displacedBy;b=Boolean(b[d]);return N(d,c)?b?B:F(a.point):b?a.point:B},Da=function(a,b,c){if(!c)return b;return a!==c.combine.draggableId?b:c.whenEntered},Ea=function(a){var b=a.id,c=a.currentCenter,d=a.axis,e=a.borderBox,f=a.displaceBy,g=a.currentUserDirection;a=a.oldMerge;var h=e[d.start]+f[d.line];f=e[d.end]+f[d.line];e=e[d.size];e=e*.666;b=Da(b,g,a);g=Ba(d,b);a=c[d.line];return g?L(h,h+e)(a):L(f-e,f)(a)},Fa=function(a){var c=a.pageBorderBoxCenterWithDroppableScrollChange,d=a.previousImpact,e=a.destination,f=a.insideDestinationWithoutDraggable,g=a.userDirection,h=a.onLift;if(!e.isCombineEnabled)return null;var i=e.axis,j=d.movement.map,k=d.movement.displacedBy,l=d.merge;a=sa(f,function(a){var b=a.descriptor.id,d=Ca({displaced:j,onLift:h,combineWith:b,displacedBy:k});return Ea({id:b,currentCenter:c,axis:i,borderBox:a.page.borderBox,displaceBy:d,currentUserDirection:g,oldMerge:l})});if(!a)return null;f={whenEntered:Da(a.descriptor.id,g,l),combine:{draggableId:a.descriptor.id,droppableId:e.descriptor.id}};a=b({},d,{destination:null,merge:f});return a},Ga=function(a){var b=L(a.top,a.bottom),c=L(a.left,a.right);return function(d){var e=b(d.top)&&b(d.bottom)&&c(d.left)&&c(d.right);if(e)return!0;e=b(d.top)||b(d.bottom);var f=c(d.left)||c(d.right),g=e&&f;if(g)return!0;g=d.top<a.top&&d.bottom>a.bottom;d=d.left<a.left&&d.right>a.right;var h=g&&d;if(h)return!0;h=g&&f||d&&e;return h}},Ha=function(a){var b=L(a.top,a.bottom),c=L(a.left,a.right);return function(a){a=b(a.top)&&b(a.bottom)&&c(a.left)&&c(a.right);return a}},Ia=function(a){return function(b){var c=L(b.top,b.bottom),d=L(b.left,b.right);return function(b){return a===za?c(b.top)&&c(b.bottom):d(b.left)&&d(b.right)}}},Ja=function(a,b){b=b.frame?b.frame.scroll.diff.displacement:B;return ka(a,b)},Ka=function(a,b,c){return!b.subject.active?!1:c(b.subject.active)(a)},La=function(a,b,c){return c(b)(a)},Ma=function(b){var c=b.target,d=b.destination,e=b.viewport,a=b.withDroppableDisplacement;b=b.isVisibleThroughFrameFn;a=a?Ja(c,d):c;return Ka(a,d,b)&&La(a,e,b)},Na=function(a){return Ma(b({},a,{isVisibleThroughFrameFn:Ga}))},Oa=function(a){return Ma(b({},a,{isVisibleThroughFrameFn:Ha}))},Pa=function(a){return Ma(b({},a,{isVisibleThroughFrameFn:Ia(a.destination.axis)}))},Qa=function(b,a,c){if(typeof b==="boolean")return b;if(!a)return!1;return!c?!0:c.shouldAnimate},Ra=function(a,b){var c=a.page.marginBox;if(!N(a.descriptor.id,b))return c;a={top:b.displacedBy.point.y,right:0,bottom:0,left:b.displacedBy.point.x};return t.getRect(t.expand(c,a))},O=function(b){var a=b.draggable,c=b.destination,d=b.previousImpact,e=b.viewport,f=b.onLift;b=b.forceShouldAnimate;var g=a.descriptor.id;d=d.movement.map;a=Ra(a,f);f=Na({target:a,destination:c,viewport:e,withDroppableDisplacement:!0});a=Qa(b,f,d[g]);c={draggableId:g,isVisible:f,shouldAnimate:a};return c},P=u(function(a){return a.reduce(function(a,b){a[b.draggableId]=b;return a},{})}),Q=u(function(a,b){b=b[a.line];return{value:b,point:G(a.line,b)}}),Sa=function(b){var c=b.pageBorderBoxCenterWithDroppableScrollChange,a=b.draggable,d=b.destination,e=b.insideDestinationWithoutDraggable,f=b.previousImpact,g=b.viewport,h=b.userDirection,i=b.onLift,j=d.axis,k=Ba(d.axis,h);b=Q(d.axis,a.displaceBy);var l=c[j.line],m=b.value;h=e.filter(function(a){var b=a.page.borderBox,c=b[j.start];b=b[j.end];a=N(a.descriptor.id,i);if(k)return a?l<c:l<c+m;return a?l<=b-m:l<=b}).map(function(a){return O({draggable:a,destination:d,previousImpact:f,viewport:g.frame,onLift:i})});a=e.length-h.length;c={displacedBy:b,displaced:h,map:P(h)};e={movement:c,destination:{droppableId:d.descriptor.id,index:a},merge:null};return e},Ta={point:B,value:0},Ua={displaced:[],map:{},displacedBy:Ta},Va={movement:Ua,destination:null,merge:null},Wa=u(function(a,b){return b.filter(function(b){return b.descriptor.id!==a.descriptor.id})}),Xa=function(b){var c=b.pageBorderBoxCenter,a=b.draggable,d=b.draggables,e=b.droppables,f=b.previousImpact,g=b.viewport,h=b.userDirection;b=b.onLift;var i=xa({target:c,droppables:e});if(!i)return Va;e=e[i];i=M(e.descriptor.id,d);d=Wa(a,i);i=ya(e,c);c=Fa({pageBorderBoxCenterWithDroppableScrollChange:i,previousImpact:f,destination:e,insideDestinationWithoutDraggable:d,userDirection:h,onLift:b});return c?c:Sa({pageBorderBoxCenterWithDroppableScrollChange:i,destination:e,draggable:a,insideDestinationWithoutDraggable:d,previousImpact:f,viewport:g,userDirection:h,onLift:b})},Ya=function(a){return{index:a.index,droppableId:a.droppableId}},Za=function(c){var a=c.draggable,b=c.home,d=c.draggables,e=c.viewport;c=Q(b.axis,a.displaceBy);d=M(b.descriptor.id,d);d=d.slice(a.descriptor.index+1);var f=d.reduce(function(a,b){a[b.descriptor.id]=!0;return a},{}),g={displacedBy:c,wasDisplaced:f};f=d.map(function(a){return O({draggable:a,destination:b,previousImpact:Va,viewport:e.frame,forceShouldAnimate:!1,onLift:g})});d={displaced:f,map:P(f),displacedBy:c};f={movement:d,destination:Ya(a.descriptor),merge:null};return{impact:f,onLift:g}},$a=function(a){var b=a.initial,c=a.current,d=a.oldClientBorderBoxCenter,e=a.newClientBorderBoxCenter,f=a.viewport,g=D(e,d),h=function(){var a={selection:C(b.client.selection,g),borderBoxCenter:e,offset:B},c={selection:C(a.selection,f.scroll.initial),borderBoxCenter:C(a.selection,f.scroll.initial)};return{client:a,page:c}}();a=function(){var a=F(g);a=C(c.client.offset,a);a={selection:C(h.client.selection,a),borderBoxCenter:C(h.client.borderBoxCenter,a),offset:a};var b={selection:C(a.selection,f.scroll.current),borderBoxCenter:C(a.borderBoxCenter,f.scroll.current)};E(c.client.borderBoxCenter,a.borderBoxCenter)?void 0:q(!1);return{client:a,page:b}}();return{current:a,initial:h}},ab=function(c){var a=c.draggable,d=c.offset;c=c.initialWindowScroll;d=t.offset(a.client,d);c=t.withScroll(d,c);a=b({},a,{placeholder:b({},a.placeholder,{client:d}),client:d,page:c});return a},bb=function(a){var c=a.existing,d=a.droppables,e=a.additions,f=a.removals,g=a.viewport,h={};K(d).forEach(function(a){var d=a.axis,i=M(a.descriptor.id,c),j={},k=function(a,b){var c=j[a];if(!c){j[a]=b;return}j[a]={indexChange:c.indexChange+b.indexChange,offset:C(c.offset,b.offset)}},l=ua(f.map(function(a){a=c[a];a?void 0:q(!1);return a}).filter(function(b){return b.descriptor.droppableId===a.descriptor.id})),m=i.filter(function(a,b){var c=Boolean(l[a.descriptor.id]);if(!c)return!0;var e=F(G(d.line,a.displaceBy[d.line]));i.slice(b).forEach(function(a){if(l[a.descriptor.id])return;k(a.descriptor.id,{indexChange:-1,offset:e})});return!1}),n=e.filter(function(b){return b.descriptor.droppableId===a.descriptor.id}),o=m.slice(0);n.forEach(function(a){o.splice(a.descriptor.index,0,a)});var p=ua(n);o.forEach(function(a,b){var c=Boolean(p[a.descriptor.id]);if(!c)return;var e=G(d.line,a.client.marginBox[d.size]);o.slice(b).forEach(function(a){if(p[a.descriptor.id])return;k(a.descriptor.id,{indexChange:1,offset:e})})});o.forEach(function(a){if(p[a.descriptor.id])return;var c=j[a.descriptor.id];if(!c)return;var d=ab({draggable:a,offset:c.offset,initialWindowScroll:g.scroll.initial});c=a.descriptor.index+c.indexChange;a=b({},d,{descriptor:b({},a.descriptor,{index:c})});h[d.descriptor.id]=a})});a=b({},c,h);return a},cb=function(a){var b=a.additions,c=a.updatedDroppables,d=a.viewport,e=d.scroll.diff.value;return b.map(function(a){var b=a.descriptor.droppableId;b=c[b];b=b.frame;b?void 0:q(!1);b=b.scroll.diff.value;b=C(e,b);a=ab({draggable:a,offset:b,initialWindowScroll:d.scroll.initial});return a})},db=function(b){var c=b.additions,d=b.dragging,a=b.home,e=b.viewport,f=Q(a.axis,d.displaceBy);return c.map(function(b){if(b.descriptor.droppableId!==a.descriptor.id)return b;return b.descriptor.index<d.descriptor.index?b:ab({draggable:b,offset:f.point,initialWindowScroll:e.scroll.initial})})},eb=function(c){var d=c.updatedDroppables,e=c.criticalId,f=c.existing,g=c.additions,h=c.removals;c=c.viewport;f=bb({droppables:d,existing:f,additions:g,removals:h,viewport:c});e=f[e];var a=d[e.descriptor.droppableId];g=cb({additions:g,updatedDroppables:d,viewport:c});d=db({additions:g,dragging:e,home:a,viewport:c});var i=b({},f,ua(d));h.forEach(function(a){delete i[a]});return i},fb=function(a){var b=a.scrollHeight,c=a.scrollWidth,d=a.height;a=a.width;c=D({x:c,y:b},{x:a,y:d});b={x:Math.max(0,c.x),y:Math.max(0,c.y)};return b},gb=function(b){var c=b.descriptor,d=b.isEnabled,e=b.isCombineEnabled,f=b.isFixedOnPage,g=b.direction,h=b.client,i=b.page,a=b.closest;b=function(){if(!a)return null;var b=a.scrollSize,c=a.client,d=fb({scrollHeight:b.scrollHeight,scrollWidth:b.scrollWidth,height:c.paddingBox.height,width:c.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:c,scrollSize:b,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:d,diff:{value:B,displacement:B}}}}();g=g==="vertical"?za:Aa;var j=H({page:i,withPlaceholder:null,axis:g,frame:b});c={descriptor:c,isCombineEnabled:e,isFixedOnPage:f,axis:g,isEnabled:d,client:h,page:i,frame:b,subject:j};return c},hb=function(a,b){return a.descriptor.droppableId===b.descriptor.id},ib=function(a,b,c){var d=a.axis,e=a.subject.page.contentBox[d.size];a=M(a.descriptor.id,c);c=a.reduce(function(a,b){return a+b.client.marginBox[d.size]},0);a=c+b[d.line];c=a-e;return c<=0?null:G(d.line,c)},jb=function(a,c){return b({},a,{scroll:b({},a.scroll,{max:c})})},kb=function(c,a,d){var e=c.frame;hb(a,c)?q(!1):void 0;c.subject.withPlaceholder?q(!1):void 0;a=Q(c.axis,a.displaceBy).point;d=ib(c,a,d);a={placeholderSize:a,increasedBy:d,oldFrameMaxScroll:c.frame?c.frame.scroll.max:null};if(!e){var f=H({page:c.subject.page,withPlaceholder:a,axis:c.axis,frame:c.frame});return b({},c,{subject:f})}f=d?C(e.scroll.max,d):e.scroll.max;d=jb(e,f);e=H({page:c.subject.page,withPlaceholder:a,axis:c.axis,frame:d});return b({},c,{subject:e,frame:d})},lb=function(a){var c=a.subject.withPlaceholder;c?void 0:q(!1);var d=a.frame;if(!d){var e=H({page:a.subject.page,axis:a.axis,frame:null,withPlaceholder:null});return b({},a,{subject:e})}e=c.oldFrameMaxScroll;e?void 0:q(!1);c=jb(d,e);d=H({page:a.subject.page,axis:a.axis,frame:c,withPlaceholder:null});return b({},a,{subject:d,frame:c})},mb=function(a){a=a.frame;a?void 0:q(!1);return a},nb=function(a,b,c){return{top:b.top,left:b.left,right:b.left+c.width,bottom:b.top+c.height}},ob=function(a){var c=a.modified,d=a.existing,e=a.viewport;if(!c.length)return d;a=c.map(function(a){var b=d[a.descriptor.id];b?void 0:q(!1);var c=Boolean(b.subject.withPlaceholder);c=c?lb(b):b;b=c.client;var f=a.client,g=mb(c),h=mb(a);c=t.createBox({borderBox:nb(c.axis,b.borderBox,f.borderBox),margin:b.margin,border:b.border,padding:b.padding});f={client:g.frameClient,page:t.withScroll(g.frameClient,e.scroll.initial),shouldClipSubject:g.shouldClipSubject,scrollSize:h.scrollSize,scroll:g.scroll.initial};b=gb({descriptor:a.descriptor,isEnabled:a.isEnabled,isCombineEnabled:a.isCombineEnabled,isFixedOnPage:a.isFixedOnPage,direction:a.axis.direction,client:c,page:t.withScroll(c,e.scroll.initial),closest:f});g=qa(b,h.scroll.current);return g});c=b({},d,ta(a));return c},pb=function(a){var c=a.movement.displaced;if(!c.length)return a;c=c.map(function(a){if(!a.isVisible)return a;return!a.shouldAnimate?a:b({},a,{shouldAnimate:!1})});a=b({},a,{movement:b({},a.movement,{displaced:c,map:P(c)})});return a},qb=function(a,c){return b({},a,(a={},a[c.descriptor.id]=c,a))},rb=function(a){var b=a.previousImpact,c=a.impact;a=a.droppables;b=I(b);c=I(c);if(!b)return a;if(b===c)return a;c=a[b];if(!c.subject.withPlaceholder)return a;b=lb(c);return qb(a,b)},sb=function(b){var a=b.draggable,c=b.draggables,d=b.droppables,e=b.previousImpact;b=b.impact;e=rb({previousImpact:e,impact:b,droppables:d});b=I(b);if(!b)return e;d=d[b];if(hb(a,d))return e;if(d.subject.withPlaceholder)return e;b=kb(d,a,c);return qb(e,b)},tb=function(a){var c=a.state;a=a.published;var d=ob({modified:a.modified,existing:c.dimensions.droppables,viewport:c.viewport});a=eb({updatedDroppables:d,criticalId:c.critical.draggable.id,existing:c.dimensions.draggables,additions:a.additions,removals:a.removals,viewport:c.viewport});var e={draggable:a[c.critical.draggable.id].descriptor,droppable:d[c.critical.droppable.id].descriptor},f=c.dimensions.draggables[e.draggable.id],g=a[e.draggable.id];d=sb({draggable:g,draggables:a,droppables:d,previousImpact:c.impact,impact:c.impact});a={draggables:a,droppables:d};d=$a({initial:c.initial,current:c.current,oldClientBorderBoxCenter:f.client.borderBox.center,newClientBorderBoxCenter:g.client.borderBox.center,viewport:c.viewport});f=d.initial;d=d.current;var h=Za({draggable:g,home:a.droppables[e.droppable.id],draggables:a.draggables,viewport:c.viewport}),i=h.impact;h=h.onLift;g=pb(Xa({pageBorderBoxCenter:d.page.borderBoxCenter,draggable:g,draggables:a.draggables,droppables:a.droppables,previousImpact:i,viewport:c.viewport,userDirection:c.userDirection,onLift:h}));var j=Boolean(c.movementMode==="SNAP"&&!I(g));j?q(!1):void 0;e=b({phase:"DRAGGING"},c,(j={},j.phase="DRAGGING",j.critical=e,j.current=d,j.initial=f,j.impact=g,j.dimensions=a,j.onLift=h,j.onLiftImpact=i,j.forceShouldAnimate=!1,j));if(c.phase==="COLLECTING")return e;f=b({phase:"DROP_PENDING"},e,(d={},d.phase="DROP_PENDING",d.reason=c.reason,d.isWaiting=!1,d));return f},ub={vertical:"down",horizontal:"right"},vb={vertical:"up",horizontal:"left"},wb=function(b){var c=b.isMovingForward,d=b.isInHomeList,a=b.draggable,e=b.destination,f=b.insideDestination;b=b.previousImpact;if(!e.isCombineEnabled)return null;if(b.merge)return null;var g=b.destination;g?void 0:q(!1);var h=g.index,i=function(){var b=f.slice();d&&b.splice(a.descriptor.index,1);b.splice(g.index,0,a);return b}();h=c?h+1:h-1;if(h<0)return null;if(h>i.length-1)return null;i=i[h];i!==a?void 0:q(!1);h={whenEntered:c?ub:vb,combine:{draggableId:i.descriptor.id,droppableId:e.descriptor.id}};c={movement:b.movement,destination:null,merge:h};return c},xb=function(a,b){a={draggableId:a.descriptor.id,isVisible:!0,shouldAnimate:!0};return[a].concat(b)},yb=function(a){return a.slice(1)},zb=function(b){var c=b.isMovingForward,d=b.isInHomeList,a=b.draggable,e=b.insideDestination;b=b.location;e=e.slice();var f=b.index;d=!d;d&&e.splice(b.index,0,a);d=c?f+1:f-1;if(d<0)return null;return d>e.length-1?null:{proposedIndex:d,modifyDisplacement:!0}},Ab=function(a){var b=a.isMovingForward,c=a.destination,d=a.previousImpact,e=a.draggables,f=a.merge;a=a.onLift;if(!c.isCombineEnabled)return null;c=d.movement;d=f.combine.draggableId;f=e[d];e=f.descriptor.index;f=N(d,a);if(f){a=!c.map[d];if(a)return b?{proposedIndex:e,modifyDisplacement:!1}:{proposedIndex:e-1,modifyDisplacement:!0};return b?{proposedIndex:e,modifyDisplacement:!0}:{proposedIndex:e-1,modifyDisplacement:!1}}f=Boolean(c.map[d]);if(f)return b?{proposedIndex:e+1,modifyDisplacement:!0}:{proposedIndex:e,modifyDisplacement:!1};return b?{proposedIndex:e+1,modifyDisplacement:!1}:{proposedIndex:e,modifyDisplacement:!0}},Bb=function(b){var c=b.isMovingForward,d=b.isInHomeList,a=b.draggable,e=b.draggables,f=b.destination,g=b.insideDestination,h=b.previousImpact,i=b.onLift;b=function(){if(h.destination)return zb({isMovingForward:c,isInHomeList:d,draggable:a,location:h.destination,insideDestination:g});return h.merge?Ab({isMovingForward:c,destination:f,previousImpact:h,draggables:e,merge:h.merge,onLift:i}):null}();if(b==null)return null;var j=b.proposedIndex,k=b.modifyDisplacement;b=Q(f.axis,a.displaceBy);var l=function(){var b=h.movement.displaced;if(!k)return b;if(c)return yb(b);var d=Wa(a,g);d=d[j];return xb(d,b)}();return{movement:{displacedBy:b,displaced:l,map:P(l)},destination:{droppableId:f.descriptor.id,index:j},merge:null}},Cb=function(b){var a=b.combine,c=b.onLift,d=b.movement;b=b.draggables;a=a.draggableId;b=b[a].page.borderBox.center;c=Ca({displaced:d.map,onLift:c,combineWith:a,displacedBy:d.displacedBy});return C(b,c)},Db=function(a,b){return b.margin[a.start]+b.borderBox[a.size]/2},Eb=function(a,b){return b.margin[a.end]+b.borderBox[a.size]/2},Fb=function(a,b,c){return b[a.crossAxisStart]+c.margin[a.crossAxisStart]+c.borderBox[a.crossAxisSize]/2},Gb=function(a){var b=a.axis,c=a.moveRelativeTo;a=a.isMoving;return G(b.line,c.marginBox[b.end]+Db(b,a),Fb(b,c.marginBox,a))},Hb=function(a){var b=a.axis,c=a.moveRelativeTo;a=a.isMoving;return G(b.line,c.marginBox[b.start]-Eb(b,a),Fb(b,c.marginBox,a))},Ib=function(a){var b=a.axis,c=a.moveInto;a=a.isMoving;return G(b.line,c.contentBox[b.start]+Db(b,a),Fb(b,c.contentBox,a))},Jb=function(c){var d=c.movement,a=c.draggable,e=c.draggables,b=c.droppable;c=c.onLift;var f=M(b.descriptor.id,e),g=a.page,h=b.axis;if(!f.length)return Ib({axis:h,moveInto:b.page,isMoving:g});b=d.displaced;d=d.displacedBy;if(b.length){e=e[b[0].draggableId];if(N(e.descriptor.id,c))return Hb({axis:h,moveRelativeTo:e.page,isMoving:g});b=t.offset(e.page,d.point);return Hb({axis:h,moveRelativeTo:b,isMoving:g})}e=f[f.length-1];if(e.descriptor.id===a.descriptor.id)return g.borderBox.center;if(N(e.descriptor.id,c)){d=t.offset(e.page,F(c.displacedBy.point));return Gb({axis:h,moveRelativeTo:d,isMoving:g})}return Gb({axis:h,moveRelativeTo:e.page,isMoving:g})},Kb=function(a,b){a=a.frame;return!a?b:C(b,a.scroll.diff.displacement)},Lb=function(c){var d=c.impact,a=c.draggable,b=c.droppable,e=c.draggables;c=c.onLift;var f=d.merge,g=d.destination,h=a.page.borderBox.center;if(!b)return h;if(g)return Jb({movement:d.movement,draggable:a,draggables:e,droppable:b,onLift:c});return f?Cb({movement:d.movement,combine:f.combine,draggables:e,onLift:c}):h},Mb=function(a){var b=Lb(a);a=a.droppable;a=a?Kb(a,b):b;return a},Nb=function(a,b){var c=D(b,a.scroll.initial),d=F(c),e=t.getRect({top:b.y,bottom:b.y+a.frame.height,left:b.x,right:b.x+a.frame.width});e={frame:e,scroll:{initial:a.scroll.initial,max:a.scroll.max,current:b,diff:{value:c,displacement:d}}};return e},Ob=function(a,c){return b({},a,{movement:b({},a.movement,{displaced:c,map:P(c)})})},Pb=function(a){var b=a.impact,c=a.viewport,d=a.destination,e=a.draggables,f=a.maxScrollChange,g=a.onLift;a=b.movement.displaced;var h=Nb(c,C(c.scroll.current,f)),i=d.frame?qa(d,C(d.frame.scroll.current,f)):d;f=a.map(function(f){if(f.isVisible)return f;var a=e[f.draggableId],j=O({draggable:a,destination:d,previousImpact:b,viewport:h.frame,onLift:g,forceShouldAnimate:!1});if(j.isVisible)return j;j=O({draggable:a,destination:i,previousImpact:b,viewport:c.frame,onLift:g,forceShouldAnimate:!1});return j.isVisible?j:f});return Ob(b,f)},Qb=function(a,b){return C(a.scroll.diff.displacement,b)},Rb=function(b){var c=b.pageBorderBoxCenter,a=b.draggable;b=b.viewport;b=Qb(b,c);c=D(b,a.page.borderBox.center);return C(a.client.borderBox.center,c)},Sb=function(c){var b=c.draggable,d=c.destination,e=c.newPageBorderBoxCenter,f=c.viewport,a=c.withDroppableDisplacement;c=c.onlyOnMainAxis;c=c===void 0?!1:c;e=D(e,b.page.borderBox.center);b=ka(b.page.borderBox,e);e={target:b,destination:d,withDroppableDisplacement:a,viewport:f};return c?Pa(e):Oa(e)},Tb=function(b){var c=b.isMovingForward,a=b.draggable,d=b.destination,e=b.draggables,f=b.previousImpact,g=b.viewport,h=b.previousPageBorderBoxCenter,i=b.previousClientSelection;b=b.onLift;if(!d.isEnabled)return null;var j=M(d.descriptor.id,e),k=hb(a,d);c=wb({isInHomeList:k,isMovingForward:c,draggable:a,destination:d,insideDestination:j,previousImpact:f})||Bb({isMovingForward:c,isInHomeList:k,draggable:a,draggables:e,destination:d,insideDestination:j,previousImpact:f,onLift:b});if(!c)return null;k=Mb({impact:c,draggable:a,droppable:d,draggables:e,onLift:b});j=Sb({draggable:a,destination:d,newPageBorderBoxCenter:k,viewport:g.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(j){f=Rb({pageBorderBoxCenter:k,draggable:a,viewport:g});return{clientSelection:f,impact:c,scrollJumpRequest:null}}j=D(k,h);a=Pb({impact:c,viewport:g,destination:d,draggables:e,maxScrollChange:j,onLift:b});return{clientSelection:i,impact:a,scrollJumpRequest:j}},R=function(a){a=a.subject.active;a?void 0:q(!1);return a},Ub=function(a){var b=a.isMovingForward,c=a.pageBorderBoxCenter,d=a.source,e=a.droppables,f=a.viewport,g=d.subject.active;if(!g)return null;var h=d.axis,i=L(g[h.start],g[h.end]);a=K(e).filter(function(a){return a!==d}).filter(function(a){return a.isEnabled}).filter(function(a){return Boolean(a.subject.active)}).filter(function(a){return Ga(f.frame)(R(a))}).filter(function(a){a=R(a);return b?g[h.crossAxisEnd]<a[h.crossAxisEnd]:a[h.crossAxisStart]<g[h.crossAxisStart]}).filter(function(a){a=R(a);var b=L(a[h.start],a[h.end]);return i(a[h.start])||i(a[h.end])||b(g[h.start])||b(g[h.end])}).sort(function(a,c){a=R(a)[h.crossAxisStart];c=R(c)[h.crossAxisStart];return b?a-c:c-a}).filter(function(a,b,c){return R(a)[h.crossAxisStart]===R(c[0])[h.crossAxisStart]});if(!a.length)return null;if(a.length===1)return a[0];e=a.filter(function(a){a=L(R(a)[h.start],R(a)[h.end]);return a(c[h.line])});if(e.length===1)return e[0];return e.length>1?e.sort(function(a,b){return R(a)[h.start]-R(b)[h.start]})[0]:a.sort(function(a,b){var d=ia(c,la(R(a))),e=ia(c,la(R(b)));return d!==e?d-e:R(a)[h.start]-R(b)[h.start]})[0]},Vb=function(a,b){var c=a.page.borderBox.center;return N(a.descriptor.id,b)?D(c,b.displacedBy.point):c},Wb=function(a,b){var c=a.page.borderBox;return N(a.descriptor.id,b)?ka(c,F(b.displacedBy.point)):c},Xb=function(a){var b=a.pageBorderBoxCenter,c=a.viewport,d=a.destination,e=a.insideDestination,f=a.onLift;a=e.filter(function(a){return Oa({target:Wb(a,f),destination:d,viewport:c.frame,withDroppableDisplacement:!0})}).sort(function(a,c){var e=ha(b,Kb(d,Vb(a,f))),g=ha(b,Kb(d,Vb(c,f)));if(e<g)return-1;return g<e?1:a.descriptor.index-c.descriptor.index});return a[0]||null},Yb=function(b){var c=b.previousPageBorderBoxCenter,d=b.moveRelativeTo,e=b.insideDestination,a=b.draggable,f=b.draggables,g=b.destination,h=b.previousImpact,i=b.viewport,j=b.onLift;if(!d){if(e.length)return null;b={movement:Ua,destination:{droppableId:g.descriptor.id,index:0},merge:null};var k=Mb({impact:b,draggable:a,droppable:g,draggables:f,onLift:j});f=hb(a,g)?g:kb(g,a,f);f=Sb({draggable:a,destination:f,newPageBorderBoxCenter:k,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?b:null}var l=Boolean(c[g.axis.line]<d.page.borderBox.center[g.axis.line]),m=e.indexOf(d);m!==-1?void 0:q(!1);k=function(){if(d.descriptor.id===a.descriptor.id)return m;return l?m:m+1}();f=Wa(a,e).slice(k).map(function(a){return O({draggable:a,destination:g,viewport:i.frame,previousImpact:h,onLift:j})});b=Q(g.axis,a.displaceBy);c={movement:{displacedBy:b,displaced:f,map:P(f)},destination:{droppableId:g.descriptor.id,index:k},merge:null};return c},Zb=function(b){var c=b.isMovingForward,d=b.previousPageBorderBoxCenter,a=b.draggable,e=b.isOver,f=b.draggables,g=b.droppables,h=b.previousImpact,i=b.viewport;b=b.onLift;c=Ub({isMovingForward:c,pageBorderBoxCenter:d,source:e,droppables:g,viewport:i});if(!c)return null;e=M(c.descriptor.id,f);g=Xb({pageBorderBoxCenter:d,viewport:i,destination:c,insideDestination:e,onLift:b});d=Yb({previousPageBorderBoxCenter:d,destination:c,draggable:a,draggables:f,moveRelativeTo:g,insideDestination:e,previousImpact:h,viewport:i,onLift:b});if(!d)return null;g=Mb({impact:d,draggable:a,droppable:c,draggables:f,onLift:b});e=Rb({pageBorderBoxCenter:g,draggable:a,viewport:i});return{clientSelection:e,impact:d,scrollJumpRequest:null}},$b=function(a,b){a=I(a);return a?b[a]:null},ac=function(b){var c=b.state;b=b.type;var d=$b(c.impact,c.dimensions.droppables),e=Boolean(d),a=c.dimensions.droppables[c.critical.droppable.id];d=d||a;a=d.axis.direction;a=a==="vertical"&&(b==="MOVE_UP"||b==="MOVE_DOWN")||a==="horizontal"&&(b==="MOVE_LEFT"||b==="MOVE_RIGHT");if(a&&!e)return null;e=b==="MOVE_DOWN"||b==="MOVE_RIGHT";b=c.dimensions.draggables[c.critical.draggable.id];var f=c.current.page.borderBoxCenter,g=c.dimensions,h=g.draggables;g=g.droppables;return a?Tb({isMovingForward:e,previousPageBorderBoxCenter:f,draggable:b,destination:d,draggables:h,viewport:c.viewport,previousClientSelection:c.current.client.selection,previousImpact:c.impact,onLift:c.onLift}):Zb({isMovingForward:e,previousPageBorderBoxCenter:f,draggable:b,isOver:d,draggables:h,droppables:g,previousImpact:c.impact,viewport:c.viewport,onLift:c.onLift})};function S(a){return a.phase==="DRAGGING"||a.phase==="COLLECTING"}var bc=function(a,b){return b===0?a:b>0?"down":"up"},cc=function(a,b){return b===0?a:b>0?"right":"left"},dc=function(a,b,c){c=D(c,b);return{horizontal:cc(a.horizontal,c.x),vertical:bc(a.vertical,c.y)}},T=function(c){var d=c.state,e=c.clientSelection,f=c.dimensions,g=c.viewport,h=c.impact;c=c.scrollJumpRequest;g=g||d.viewport;var i=g.scroll.current;f=f||d.dimensions;e=e||d.current.client.selection;var j=D(e,d.initial.client.selection);e={offset:j,selection:e,borderBoxCenter:C(d.initial.client.borderBoxCenter,j)};j={selection:C(e.selection,i),borderBoxCenter:C(e.borderBoxCenter,i)};i={client:e,page:j};e=dc(d.userDirection,d.current.page.borderBoxCenter,i.page.borderBoxCenter);if(d.phase==="COLLECTING")return b({phase:"COLLECTING"},d,{dimensions:f,viewport:g,current:i,userDirection:e});var a=f.draggables[d.critical.draggable.id];h=h||Xa({pageBorderBoxCenter:j.borderBoxCenter,draggable:a,draggables:f.draggables,droppables:f.droppables,previousImpact:d.impact,viewport:g,userDirection:e,onLift:d.onLift});j=sb({draggable:a,impact:h,previousImpact:d.impact,draggables:f.draggables,droppables:f.droppables});a=b({},d,{current:i,userDirection:e,dimensions:{draggables:f.draggables,droppables:j},impact:h,viewport:g,scrollJumpRequest:c||null,forceShouldAnimate:c?!1:null});return a},ec=function(a){var b=a.impact,c=a.viewport,d=a.destination,e=a.draggables,f=a.onLift,g=a.forceShouldAnimate;a=b.movement.displaced.map(function(a){return O({draggable:e[a.draggableId],destination:d,previousImpact:b,viewport:c.frame,onLift:f,forceShouldAnimate:g})});return Ob(b,a)},fc=function(c){var d=c.impact,a=c.draggable,b=c.droppable,e=c.draggables,f=c.viewport;c=c.onLift;d=Mb({impact:d,draggable:a,draggables:e,droppable:b,onLift:c});return Rb({pageBorderBoxCenter:d,draggable:a,viewport:f})},gc=function(b){var c=b.state,d=b.dimensions;b=b.viewport;c.movementMode==="SNAP"?void 0:q(!1);var e=c.impact;b=b||c.viewport;d=d||c.dimensions;var f=d.draggables,g=d.droppables,a=f[c.critical.draggable.id],h=I(e);h?void 0:q(!1);g=g[h];h=ec({impact:e,viewport:b,destination:g,draggables:f,onLift:c.onLift});e=fc({impact:h,draggable:a,droppable:g,draggables:f,viewport:b,onLift:c.onLift});return T({impact:h,clientSelection:e,state:c,dimensions:d,viewport:b})},hc=function(a,b){return{draggables:a.draggables,droppables:qb(a.droppables,b)}},ic=function(a){return a.movementMode==="SNAP"},jc=function(a,b,c){b=hc(a.dimensions,b);return!ic(a)||c?T({state:a,dimensions:b}):gc({state:a,dimensions:b})},kc={phase:"IDLE",completed:null,shouldFlush:!1},lc=function(d,e){d===void 0&&(d=kc);if(e.type==="CLEAN")return b({},kc,{shouldFlush:e.payload.shouldFlush});if(e.type==="INITIAL_PUBLISH"){d.phase==="IDLE"?void 0:q(!1);var f=e.payload,g=f.critical,h=f.clientSelection,i=f.viewport,j=f.dimensions;f=f.movementMode;var a=j.draggables[g.draggable.id],c=j.droppables[g.droppable.id];h={selection:h,borderBoxCenter:a.client.borderBox.center,offset:B};h={client:h,page:{selection:C(h.selection,i.scroll.initial),borderBoxCenter:C(h.selection,i.scroll.initial)}};var k=K(j.droppables).every(function(a){return!a.isFixedOnPage});a=Za({draggable:a,home:c,draggables:j.draggables,viewport:i});c=a.impact;a=a.onLift;g={phase:"DRAGGING",isDragging:!0,critical:g,movementMode:f,dimensions:j,initial:h,current:h,isWindowScrollAllowed:k,impact:c,onLift:a,onLiftImpact:c,viewport:i,userDirection:ub,scrollJumpRequest:null,forceShouldAnimate:null};return g}if(e.type==="COLLECTION_STARTING"){if(d.phase==="COLLECTING"||d.phase==="DROP_PENDING")return d;d.phase==="DRAGGING"?void 0:q(!1);j=b({phase:"COLLECTING"},d,(f={},f.phase="COLLECTING",f));return j}if(e.type==="PUBLISH_WHILE_DRAGGING"){d.phase==="COLLECTING"||d.phase==="DROP_PENDING"?void 0:q(!1);return tb({state:d,published:e.payload})}if(e.type==="MOVE"){if(d.phase==="DROP_PENDING")return d;S(d)?void 0:q(!1);h=e.payload.client;return E(h,d.current.client.selection)?d:T({state:d,clientSelection:h,impact:ic(d)?d.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(d.phase==="DROP_PENDING")return d;if(d.phase==="COLLECTING")return d;S(d)?void 0:q(!1);k=e.payload;a=k.id;c=k.offset;i=d.dimensions.droppables[a];if(!i)return d;g=qa(i,c);return jc(d,g,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(d.phase==="DROP_PENDING")return d;S(d)?void 0:q(!1);f=e.payload;j=f.id;h=f.isEnabled;k=d.dimensions.droppables[j];k?void 0:q(!1);k.isEnabled!==h?void 0:q(!1);a=b({},k,{isEnabled:h});return jc(d,a,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(d.phase==="DROP_PENDING")return d;S(d)?void 0:q(!1);i=e.payload;c=i.id;g=i.isCombineEnabled;f=d.dimensions.droppables[c];f?void 0:q(!1);f.isCombineEnabled!==g?void 0:q(!1);j=b({},f,{isCombineEnabled:g});return jc(d,j,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(d.phase==="DROP_PENDING"||d.phase==="DROP_ANIMATING")return d;S(d)?void 0:q(!1);d.isWindowScrollAllowed?void 0:q(!1);k=e.payload.newScroll;if(E(d.viewport.scroll.current,k))return d;h=Nb(d.viewport,k);return ic(d)?gc({state:d,viewport:h}):T({state:d,viewport:h})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!S(d))return d;a=e.payload.maxScroll;if(E(a,d.viewport.scroll.max))return d;i=b({},d.viewport,{scroll:b({},d.viewport.scroll,{max:a})});return b({phase:"DRAGGING"},d,{viewport:i})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(d.phase==="COLLECTING"||d.phase==="DROP_PENDING")return d;d.phase==="DRAGGING"?void 0:q(!1);c=ac({state:d,type:e.type});return!c?d:T({state:d,impact:c.impact,clientSelection:c.clientSelection,scrollJumpRequest:c.scrollJumpRequest})}if(e.type==="DROP_PENDING"){f=e.payload.reason;d.phase==="COLLECTING"?void 0:q(!1);j=b({phase:"DROP_PENDING"},d,(g={},g.phase="DROP_PENDING",g.isWaiting=!0,g.reason=f,g));return j}if(e.type==="DROP_ANIMATE"){k=e.payload;h=k.completed;a=k.dropDuration;i=k.newHomeClientOffset;d.phase==="DRAGGING"||d.phase==="DROP_PENDING"?void 0:q(!1);c={phase:"DROP_ANIMATING",dimensions:d.dimensions,completed:h,dropDuration:a,newHomeClientOffset:i};return c}if(e.type==="DROP_COMPLETE"){f=e.payload;g=f.completed;j=f.shouldFlush;return{phase:"IDLE",completed:g,shouldFlush:j}}return d};Ta=function(a){return{type:"LIFT",payload:a}};var mc=function(a){return{type:"INITIAL_PUBLISH",payload:a}},nc=function(a){return{type:"PUBLISH_WHILE_DRAGGING",payload:a}},oc=function(){return{type:"COLLECTION_STARTING",payload:null}},pc=function(a){return{type:"UPDATE_DROPPABLE_SCROLL",payload:a}},qc=function(a){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:a}},rc=function(a){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:a}},sc=function(a){return{type:"MOVE",payload:a}},tc=function(a){return{type:"MOVE_BY_WINDOW_SCROLL",payload:a}},uc=function(a){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:a}},vc=function(){return{type:"MOVE_UP",payload:null}},wc=function(){return{type:"MOVE_DOWN",payload:null}},xc=function(){return{type:"MOVE_RIGHT",payload:null}},yc=function(){return{type:"MOVE_LEFT",payload:null}},zc=function(a){a===void 0&&(a={shouldFlush:!1});return{type:"CLEAN",payload:a}},Ac=function(a){return{type:"DROP_ANIMATE",payload:a}},Bc=function(a){return{type:"DROP_COMPLETE",payload:a}},Cc=function(a){return{type:"DROP",payload:a}},Dc=function(a){return{type:"DROP_PENDING",payload:a}},Ec=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Fc=function(a){return function(b){var c=b.getState,d=b.dispatch;return function(b){return function(e){if(e.type!=="LIFT"){b(e);return}e=e.payload;var f=e.id,g=e.clientSelection;e=e.movementMode;var h=c();h.phase==="DROP_ANIMATING"&&d(Bc({completed:h.completed,shouldFlush:!0}));c().phase==="IDLE"?void 0:q(!1);h={shouldPublishImmediately:e==="SNAP"};f={draggableId:f,scrollOptions:h};h=a.startPublishing(f);f=h.critical;var i=h.dimensions;h=h.viewport;d(mc({critical:f,dimensions:i,clientSelection:g,movementMode:e,viewport:h}))}}}},Gc=function(a){return function(){return function(b){return function(c){c.type==="INITIAL_PUBLISH"&&a.dragging(),c.type==="DROP_ANIMATE"&&a.dropping(c.payload.completed.result.reason),(c.type==="CLEAN"||c.type==="DROP_COMPLETE")&&a.resting(),b(c)}}}},Hc={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ic={opacity:{drop:0,combining:.7},scale:{drop:.75}},U={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},V=U.outOfTheWay+"s "+Hc.outOfTheWay,Jc={fluid:"opacity "+V,snap:"transform "+V+", opacity "+V,drop:function(a){a=a+"s "+Hc.drop;return"transform "+a+", opacity "+a},outOfTheWay:"transform "+V,placeholder:"height "+V+", width "+V+", margin "+V},Kc=function(a){return E(a,B)?null:"translate("+a.x+"px, "+a.y+"px)"},Lc={moveTo:Kc,drop:function(a,b){a=Kc(a);if(!a)return null;return!b?a:a+" scale("+Ic.scale.drop+")"}},Mc=U.minDropTime,Nc=U.maxDropTime,Oc=Nc-Mc,Pc=1500,Qc=.6,Rc=function(a){var b=a.current,c=a.destination;a=a.reason;b=ha(b,c);if(b<=0)return Mc;if(b>=Pc)return Nc;c=b/Pc;b=Mc+Oc*c;c=a==="CANCEL"?b*Qc:b;return Number(c.toFixed(2))},Sc=function(b){var c=b.impact,a=b.draggable,d=b.dimensions,e=b.viewport;b=b.onLift;var f=d.draggables;d=d.droppables;var g=I(c);g=g?d[g]:null;d=d[a.descriptor.droppableId];f=fc({impact:c,draggable:a,draggables:f,onLift:b,droppable:g||d,viewport:e});g=D(f,a.client.borderBox.center);d=c.merge;return d&&N(d.combine.draggableId,b)?D(g,b.displacedBy.point):g},Tc=function(c){var d=c.reason,e=c.lastImpact,a=c.home,f=c.viewport,g=c.draggables,h=c.onLiftImpact;c=c.onLift;d=d==="DROP"&&Boolean(I(e));if(!d){h=ec({impact:h,destination:a,viewport:f,draggables:g,onLift:c,forceShouldAnimate:!0});return{impact:h,didDropInsideDroppable:d}}if(e.destination)return{impact:e,didDropInsideDroppable:d};a=b({},e,{movement:Ua});return{impact:a,didDropInsideDroppable:d}},Uc=function(a){var b=a.getState,c=a.dispatch;return function(a){return function(e){if(e.type!=="DROP"){a(e);return}var f=b();e=e.payload.reason;if(f.phase==="COLLECTING"){c(Dc({reason:e}));return}if(f.phase==="IDLE")return;var g=f.phase==="DROP_PENDING"&&f.isWaiting;g?q(!1):void 0;f.phase==="DRAGGING"||f.phase==="DROP_PENDING"?void 0:q(!1);g=f.critical;var h=f.dimensions,i=Tc({reason:e,lastImpact:f.impact,onLift:f.onLift,onLiftImpact:f.onLiftImpact,home:f.dimensions.droppables[f.critical.droppable.id],viewport:f.viewport,draggables:f.dimensions.draggables}),j=i.impact;i=i.didDropInsideDroppable;var d=h.draggables[f.critical.draggable.id],k=i?j.destination:null;i=i&&j.merge?j.merge.combine:null;g={index:g.draggable.index,droppableId:g.droppable.id};g={draggableId:d.descriptor.id,type:d.descriptor.type,source:g,reason:e,mode:f.movementMode,destination:k,combine:i};k=Sc({impact:j,draggable:d,dimensions:h,viewport:f.viewport,onLift:f.onLift});i={critical:f.critical,result:g,impact:j};d=!E(f.current.client.offset,k)||Boolean(g.combine);if(!d){c(Bc({completed:i,shouldFlush:!1}));return}h=Rc({current:f.current.client.offset,destination:k,reason:e});j={newHomeClientOffset:k,dropDuration:h,completed:i};c(Ac(j))}}},Vc=function(a){return a+1};V=function(a){return"\n  You have lifted an item in position "+Vc(a.source.index)+".\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\n"};var Wc=function(a,b){var c=a.droppableId===b.droppableId,d=Vc(a.index),e=Vc(b.index);return c?"\n      You have moved the item from position "+d+"\n      to position "+e+"\n    ":"\n    You have moved the item from position "+d+"\n    in list "+a.droppableId+"\n    to list "+b.droppableId+"\n    in position "+e+"\n  "},Xc=function(b,c,a){var d=c.droppableId===a.droppableId;return d?"\n      The item "+b+"\n      has been combined with "+a.draggableId:"\n      The item "+b+"\n      in list "+c.droppableId+"\n      has been combined with "+a.draggableId+"\n      in list "+a.droppableId+"\n    "};U=function(a){var b=a.destination;if(b)return Wc(a.source,b);b=a.combine;return b?Xc(a.draggableId,a.source,b):"You are over an area that cannot be dropped on"};var Yc=function(a){return"\n  The item has returned to its starting position\n  of "+Vc(a.index)+"\n"},W=function(b){if(b.reason==="CANCEL")return"\n      Movement cancelled.\n      "+Yc(b.source)+"\n    ";var c=b.destination,a=b.combine;if(c)return"\n      You have dropped the item.\n      "+Wc(b.source,c)+"\n    ";return a?"\n      You have dropped the item.\n      "+Xc(b.draggableId,b.source,a)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Yc(b.source)+"\n  "},Zc={onDragStart:V,onDragUpdate:U,onDragEnd:W},$c=function(a){var b=!1,c=!1,d=setTimeout(function(){c=!0}),e=function(e){if(b)return;if(c)return;b=!0;a(e);clearTimeout(d)};e.wasCalled=function(){return b};return e},ad=function(){var c=[],b=function(a){var b=ra(c,function(b){return b.timerId===a});b!==-1?void 0:q(!1);b=c.splice(b,1);b=b[0];b.callback()},a=function(a){var d=setTimeout(function(){return b(d)});a={timerId:d,callback:a};c.push(a)},d=function(){if(!c.length)return;var a=[].concat(c);c.length=0;a.forEach(function(a){clearTimeout(a.timerId),a.callback()})};return{add:a,flush:d}},bd=function(a,b){if(a==null&&b==null)return!0;return a==null||b==null?!1:a.droppableId===b.droppableId&&a.index===b.index},cd=function(a,b){if(a==null&&b==null)return!0;return a==null||b==null?!1:a.draggableId===b.draggableId&&a.droppableId===b.droppableId},dd=function(a,b){if(a===b)return!0;var c=a.draggable.id===b.draggable.id&&a.draggable.droppableId===b.draggable.droppableId&&a.draggable.type===b.draggable.type&&a.draggable.index===b.draggable.index;a=a.droppable.id===b.droppable.id&&a.droppable.type===b.droppable.type;return c&&a},ed=function(a,b){b()},fd=function(a,b){return{draggableId:a.draggable.id,type:a.droppable.type,source:{droppableId:a.droppable.id,index:a.draggable.index},mode:b}},gd=function(a,b,c,d){if(!a){c(d(b));return}var e=$c(c),f={announce:e};a(b,f);e.wasCalled()||c(d(b))},hd=function(d,e){var f=ad(),g=null,h=function(a,b){g?q(!1):void 0,ed("onBeforeDragStart",function(){var c=d().onBeforeDragStart;c&&c(fd(a,b))})},i=function(a,b){g?q(!1):void 0;var c=fd(a,b);g={mode:b,lastCritical:a,lastLocation:c.source,lastCombine:null};f.add(function(){ed("onDragStart",function(){return gd(d().onDragStart,c,e,Zc.onDragStart)})})},a=function(a,c){var h=c.destination;c=c.merge?c.merge.combine:null;g?void 0:q(!1);var i=!dd(a,g.lastCritical);i&&(g.lastCritical=a);var j=!bd(g.lastLocation,h);j&&(g.lastLocation=h);var k=!cd(g.lastCombine,c);k&&(g.lastCombine=c);if(!i&&!j&&!k)return;var l=b({},fd(a,g.mode),{combine:c,destination:h});f.add(function(){ed("onDragUpdate",function(){return gd(d().onDragUpdate,l,e,Zc.onDragUpdate)})})},j=function(){g?void 0:q(!1),f.flush()},c=function(a){g?void 0:q(!1),g=null,ed("onDragEnd",function(){return gd(d().onDragEnd,a,e,Zc.onDragEnd)})},k=function(){if(!g)return;var a=b({},fd(g.lastCritical,g.mode),{combine:null,destination:null,reason:"CANCEL"});c(a)};return{beforeStart:h,start:i,update:a,flush:j,drop:c,abort:k}},id=function(a,b){var c=hd(a,b);return function(a){return function(b){return function(d){if(d.type==="INITIAL_PUBLISH"){var e=d.payload.critical;c.beforeStart(e,d.payload.movementMode);b(d);c.start(e,d.payload.movementMode);return}if(d.type==="DROP_COMPLETE"){e=d.payload.completed.result;c.flush();b(d);c.drop(e);return}b(d);if(d.type==="CLEAN"){c.abort();return}e=a.getState();e.phase==="DRAGGING"&&c.update(e.critical,e.impact)}}}},jd=function(a){return function(b){return function(c){if(c.type!=="DROP_ANIMATION_FINISHED"){b(c);return}c=a.getState();c.phase==="DROP_ANIMATING"?void 0:q(!1);a.dispatch(Bc({completed:c.completed,shouldFlush:!1}))}}},kd=function(a){return function(){return function(b){return function(c){(c.type==="DROP_COMPLETE"||c.type==="CLEAN"||c.type==="DROP_ANIMATE")&&a.stopPublishing(),b(c)}}}},ld=function(a){return a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATE"||a.type==="CLEAN"},md=function(a){return a.type==="COLLECTION_STARTING"},nd=function(a){return function(b){return function(c){return function(d){if(ld(d)){a.stop();c(d);return}if(md(d)){a.cancelPending();c(d);return}if(d.type==="INITIAL_PUBLISH"){c(d);var e=b.getState();e.phase==="DRAGGING"?void 0:q(!1);a.start(e);return}c(d);a.scroll(b.getState())}}}},od=function(a){return function(b){return function(c){b(c);if(c.type!=="PUBLISH_WHILE_DRAGGING")return;c=a.getState();if(c.phase!=="DROP_PENDING")return;if(c.isWaiting)return;a.dispatch(Cc({reason:c.reason}))}}},pd=r.compose,qd=function(a){var b=a.dimensionMarshal,c=a.styleMarshal,d=a.getResponders,e=a.announce;a=a.autoScroller;return r.createStore(lc,pd(r.applyMiddleware(Gc(c),kd(b),Fc(b),Uc,jd,od,nd(a),id(d,e))))},rd=function(){return{additions:{},removals:{},modified:{}}},sd=function(a){var b=a.getEntries,c=a.callbacks,d=rd(),e=null,f=function(){if(e)return;e=requestAnimationFrame(function(){e=null;c.collectionStarting();var a=c.getCritical(),f=b(),g=d,h=g.additions,i=g.removals;g=g.modified;h=w(h).map(function(a){return f.draggables[a].getDimension(B)}).sort(function(a,b){return a.descriptor.index-b.descriptor.index});g=w(g).map(function(b){b=f.droppables[b];b?void 0:q(!1);var c=b.descriptor.id===a.droppable.id;c={withoutPlaceholder:!c};return b.callbacks.recollect(c)});h={additions:h,removals:w(i),modified:g};d=rd();c.publish(h)})};a=function(a){d.additions[a.id]=a,d.modified[a.droppableId]=!0,d.removals[a.id]&&delete d.removals[a.id],f()};var g=function(a){d.removals[a.id]=a,d.modified[a.droppableId]=!0,d.additions[a.id]&&delete d.additions[a.id],f()},h=function(){if(!e)return;cancelAnimationFrame(e);e=null;d=rd()};return{add:a,remove:g,stop:h}},td=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ud=function(){var a=document.documentElement;a?void 0:q(!1);return a},vd=function(){var a=ud();a=fb({scrollHeight:a.scrollHeight,scrollWidth:a.scrollWidth,width:a.clientWidth,height:a.clientHeight});return a},wd=function(){var a=td(),b=vd(),c=a.y,d=a.x,e=ud(),f=e.clientWidth;e=e.clientHeight;f=d+f;e=c+e;c=t.getRect({top:c,left:d,right:f,bottom:e});d={frame:c,scroll:{initial:a,current:a,max:b,diff:{value:B,displacement:B}}};return d},xd=function(b){var c=b.critical,d=b.scrollOptions;b=b.entries;var e=wd(),f=e.scroll.current,a=c.droppable,g=J(b.droppables).filter(function(b){return b.descriptor.type===a.type}).map(function(a){return a.callbacks.getDimensionAndWatchScroll(f,d)});b=J(b.draggables).filter(function(a){return a.descriptor.type===c.draggable.type}).map(function(a){return a.getDimension(f)});b={draggables:ua(b),droppables:ta(g)};g={dimensions:b,critical:c,viewport:e};return g},yd=function(a,b){a.critical.draggable.type===b.type?void 0:q(!1)},zd=function(e){var f={droppables:{},draggables:{}},g=null,h=sd({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting,getCritical:function(){g?void 0:q(!1);return g.critical}},getEntries:function(){return f}}),i=function(b,a){a={descriptor:b,getDimension:a};f.draggables[b.id]=a;if(!g)return;yd(g,b);h.add(b)},j=function(b,c,a){var d=f.draggables[b.id];d?void 0:q(!1);d.descriptor===b&&delete f.draggables[b.id];d={descriptor:c,getDimension:a};f.draggables[c.id]=d},k=function(a){var b=f.draggables[a.id];b?void 0:q(!1);if(b.descriptor!==a)return;delete f.draggables[a.id];if(!g)return;g.critical.draggable.id!==a.id?void 0:q(!1);yd(g,a);h.remove(a)},l=function(a,b){var c=a.id;f.droppables[c]={descriptor:a,callbacks:b};g?q(!1):void 0},m=function(a){var b=f.droppables[a.id];b?void 0:q(!1);if(b.descriptor!==a)return;delete f.droppables[a.id];g?q(!1):void 0},c=function(a,b){f.droppables[a]?void 0:q(!1);if(!g)return;e.updateDroppableIsEnabled({id:a,isEnabled:b})},d=function(a,b){f.droppables[a]?void 0:q(!1);if(!g)return;e.updateDroppableIsCombineEnabled({id:a,isCombineEnabled:b})},b=function(a,b){f.droppables[a]?void 0:q(!1);if(!g)return;e.updateDroppableScroll({id:a,offset:b})},a=function(a,b){a=f.droppables[a];a?void 0:q(!1);if(!g)return;a.callbacks.scroll(b)},n=function(){if(!g)return;h.stop();var a=g.critical.droppable;J(f.droppables).filter(function(b){return b.descriptor.type===a.type}).forEach(function(a){return a.callbacks.dragStopped()});g=null},o=function(b){g?q(!1):void 0;var c=f.draggables[b.draggableId];c?void 0:q(!1);var a=f.droppables[c.descriptor.droppableId];a?void 0:q(!1);c={draggable:c.descriptor,droppable:a.descriptor};g={critical:c};return xd({critical:c,entries:f,scrollOptions:b.scrollOptions})};i={registerDraggable:i,updateDraggable:j,unregisterDraggable:k,registerDroppable:l,unregisterDroppable:m,updateDroppableIsEnabled:c,updateDroppableIsCombineEnabled:d,scrollDroppable:a,updateDroppableScroll:b,startPublishing:o,stopPublishing:n};return i},Ad=function(a,b){if(a.phase==="IDLE")return!0;if(a.phase!=="DROP_ANIMATING")return!1;return a.completed.result.draggableId===b?!1:a.completed.result.reason==="DROP"},Bd=function(a){window.scrollBy(a.x,a.y)},Cd=u(function(a){return K(a).filter(function(a){if(!a.isEnabled)return!1;return!a.frame?!1:!0})}),Dd=function(a,b){b=sa(Cd(b),function(b){b.frame?void 0:q(!1);return wa(b.frame.pageMarginBox)(a)});return b},Ed=function(a){var b=a.center,c=a.destination;a=a.droppables;if(c){c=a[c];return!c.frame?null:c}c=Dd(b,a);return c},X={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(a){return Math.pow(a,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Fd=function(a,b){var c=a[b.size]*X.startFromPercentage;a=a[b.size]*X.maxScrollAtPercentage;b={startScrollingFrom:c,maxScrollValueAt:a};return b},Gd=function(a){var b=a.startOfRange,c=a.endOfRange;a=a.current;c=c-b;if(c===0)return 0;a=a-b;b=a/c;return b},Hd=1,Id=function(a,b){if(a>b.startScrollingFrom)return 0;if(a<=b.maxScrollValueAt)return X.maxPixelScroll;if(a===b.startScrollingFrom)return Hd;b=Gd({startOfRange:b.maxScrollValueAt,endOfRange:b.startScrollingFrom,current:a});a=1-b;b=X.maxPixelScroll*X.ease(a);return Math.ceil(b)},Jd=X.durationDampening.accelerateAt,Kd=X.durationDampening.stopDampeningAt,Ld=function(a,b){b=b;var c=Kd,d=x();d=d-b;if(d>=Kd)return a;if(d<Jd)return Hd;b=Gd({startOfRange:Jd,endOfRange:c,current:d});c=a*X.ease(b);return Math.ceil(c)},Md=function(a){var b=a.distanceToEdge,c=a.thresholds,d=a.dragStartTime;a=a.shouldUseTimeDampening;b=Id(b,c);if(b===0)return 0;return!a?b:Math.max(Ld(b,d),Hd)},Nd=function(a){var b=a.container,c=a.distanceToEdges,d=a.dragStartTime,e=a.axis;a=a.shouldUseTimeDampening;b=Fd(b,e);var f=c[e.end]<c[e.start];return f?Md({distanceToEdge:c[e.end],thresholds:b,dragStartTime:d,shouldUseTimeDampening:a}):-1*Md({distanceToEdge:c[e.start],thresholds:b,dragStartTime:d,shouldUseTimeDampening:a})},Od=function(a){var b=a.container,c=a.subject;a=a.proposedScroll;var d=c.height>b.height;c=c.width>b.width;if(!c&&!d)return a;return c&&d?null:{x:c?0:a.x,y:d?0:a.y}},Pd=a(function(a){return a===0?0:a}),Qd=function(a){var b=a.dragStartTime,c=a.container,d=a.subject,e=a.center;a=a.shouldUseTimeDampening;e={top:e.y-c.top,right:c.right-e.x,bottom:c.bottom-e.y,left:e.x-c.left};var f=Nd({container:c,distanceToEdges:e,dragStartTime:b,axis:za,shouldUseTimeDampening:a});e=Nd({container:c,distanceToEdges:e,dragStartTime:b,axis:Aa,shouldUseTimeDampening:a});b=Pd({x:e,y:f});if(E(b,B))return null;a=Od({container:c,subject:d,proposedScroll:b});return!a?null:E(a,B)?null:a},Rd=a(function(a){return a===0?0:a>0?1:-1}),Sd=function(){var a=function(a,b){if(a<0)return a;return a>b?a-b:0};return function(b){var c=b.current,d=b.max;b=b.change;c=C(c,b);b={x:a(c.x,d.x),y:a(c.y,d.y)};return E(b,B)?null:b}}(),Td=function(a){var b=a.max,c=a.current;a=a.change;b={x:Math.max(c.x,b.x),y:Math.max(c.y,b.y)};a=Rd(a);b=Sd({max:b,current:c,change:a});if(!b)return!0;if(a.x!==0&&b.x===0)return!0;return a.y!==0&&b.y===0?!0:!1},Ud=function(a,b){return Td({current:a.scroll.current,max:a.scroll.max,change:b})},Vd=function(a,b){if(!Ud(a,b))return null;var c=a.scroll.max;a=a.scroll.current;return Sd({current:a,max:c,change:b})},Wd=function(a,b){a=a.frame;return!a?!1:Td({current:a.scroll.current,max:a.scroll.max,change:b})},Xd=function(a,b){var c=a.frame;if(!c)return null;return!Wd(a,b)?null:Sd({current:c.scroll.current,max:c.scroll.max,change:b})},Yd=function(a){var b=a.viewport,c=a.subject,d=a.center,e=a.dragStartTime;a=a.shouldUseTimeDampening;e=Qd({dragStartTime:e,container:b.frame,subject:c,center:d,shouldUseTimeDampening:a});return e&&Ud(b,e)?e:null},Zd=function(b){var a=b.droppable,c=b.subject,d=b.center,e=b.dragStartTime;b=b.shouldUseTimeDampening;var f=a.frame;if(!f)return null;e=Qd({dragStartTime:e,container:f.pageMarginBox,subject:c,center:d,shouldUseTimeDampening:b});return e&&Wd(a,e)?e:null},$d=function(c){var d=c.state,e=c.dragStartTime,f=c.shouldUseTimeDampening,a=c.scrollWindow;c=c.scrollDroppable;var g=d.current.page.borderBoxCenter,b=d.dimensions.draggables[d.critical.draggable.id];b=b.page.marginBox;if(d.isWindowScrollAllowed){var h=d.viewport;h=Yd({dragStartTime:e,viewport:h,subject:b,center:g,shouldUseTimeDampening:f});if(h){a(h);return}}a=Ed({center:g,destination:I(d.impact),droppables:d.dimensions.droppables});if(!a)return;h=Zd({dragStartTime:e,droppable:a,subject:b,center:g,shouldUseTimeDampening:f});h&&c(a.descriptor.id,h)},ae=function(b){var a=b.scrollWindow;b=b.scrollDroppable;var c=y(a),d=y(b),e=null,f=function(a){e?void 0:q(!1);var b=e,f=b.shouldUseTimeDampening;b=b.dragStartTime;$d({state:a,scrollWindow:c,scrollDroppable:d,dragStartTime:b,shouldUseTimeDampening:f})},g=function(){e?void 0:q(!1),c.cancel(),d.cancel()};a=function(a){e?q(!1):void 0;var b=x(),c=!1,d=function(){c=!0};$d({state:a,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:d,scrollDroppable:d});e={dragStartTime:b,shouldUseTimeDampening:c};c&&f(a)};b=function(){if(!e)return;g();e=null};return{start:a,stop:b,cancelPending:g,scroll:f}},be=function(d){var b=d.move,a=d.scrollDroppable,c=d.scrollWindow,e=function(a,c){a=C(a.current.client.selection,c);b({client:a})},f=function(b,c){if(!Wd(b,c))return c;var d=Xd(b,c);if(!d){a(b.descriptor.id,c);return null}d=D(c,d);a(b.descriptor.id,d);b=D(c,d);return b},g=function(a,b,d){if(!a)return d;if(!Ud(b,d))return d;a=Vd(b,d);if(!a){c(d);return null}b=D(d,a);c(b);a=D(d,b);return a};d=function(a){var b=a.scrollJumpRequest;if(!b)return;var c=I(a.impact);c?void 0:q(!1);c=f(a.dimensions.droppables[c],b);if(!c)return;b=a.viewport;b=g(a.isWindowScrollAllowed,b,c);if(!b)return;e(a,b)};return d},ce=function(c){var a=c.scrollDroppable,b=c.scrollWindow;c=c.move;var d=ae({scrollWindow:b,scrollDroppable:a}),e=be({move:c,scrollWindow:b,scrollDroppable:a});c=function(a){if(a.phase!=="DRAGGING")return;if(a.movementMode==="FLUID"){d.scroll(a);return}if(!a.scrollJumpRequest)return;e(a)};b={scroll:c,cancelPending:d.cancelPending,start:d.start,stop:d.stop};return b},de="data-react-beautiful-dnd",ee=de+"-drag-handle",fe=de+"-draggable",ge=de+"-droppable",he=function(a){return function(b){return"["+b+'="'+a+'"]'}},ie=function(a,b){return a.map(function(a){var c=a.styles[b];return!c?"":a.selector+" { "+c+" }"}).join(" ")},je="pointer-events: none;",ke=function(a){var b=he(a);a=function(){var a="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:b(ee),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:a,dragging:je,dropAnimating:a}}}();var c=function(){var a="\n      transition: "+Jc.outOfTheWay+";\n    ";return{selector:b(fe),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),d={selector:b(ge),styles:{always:"overflow-anchor: none;"}},e={selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}};c=[c,a,d,e];return{always:ie(c,"always"),resting:ie(c,"resting"),dragging:ie(c,"dragging"),dropAnimating:ie(c,"dropAnimating"),userCancel:ie(c,"userCancel")}},Y=typeof window!=="undefined"?c.useLayoutEffect:c.useEffect,le=function(){var a=document.querySelector("head");a?void 0:q(!1);return a},me=function(){var a=document.createElement("style");a.type="text/css";return a};function ne(a){var b=e.useMemo(function(){return""+a},[a]),d=e.useMemo(function(){return ke(b)},[b]),f=c.useRef(null),g=c.useRef(null),h=e.useCallback(u(function(a){var b=g.current;b?void 0:q(!1);b.textContent=a}),[]),i=e.useCallback(function(a){var b=f.current;b?void 0:q(!1);b.textContent=a},[]);Y(function(){!f.current&&!g.current?void 0:q(!1);var a=me(),c=me();f.current=a;g.current=c;a.setAttribute(de+"-always",b);c.setAttribute(de+"-dynamic",b);le().appendChild(a);le().appendChild(c);i(d.always);h(d.resting);return function(){var a=function(a){var b=a.current;b?void 0:q(!1);le().removeChild(b);a.current=null};a(f);a(g)}},[i,h,d.always,d.resting,b]);var j=e.useCallback(function(){return h(d.dragging)},[h,d.dragging]),k=e.useCallback(function(a){if(a==="DROP"){h(d.dropAnimating);return}h(d.userCancel)},[h,d.dropAnimating,d.userCancel]),l=e.useCallback(function(){if(!g.current)return;h(d.resting)},[h,d.resting]),m=e.useMemo(function(){return{dragging:j,dropping:k,resting:l,styleContext:b}},[j,k,l,b]);return m}var oe=d.createContext(null),pe=function(){var a=document.body;a?void 0:q(!1);return a},qe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},re=function(a){return"react-beautiful-dnd-announcement-"+a};function se(a){var b=e.useMemo(function(){return re(a)},[a]),d=c.useRef(null);c.useEffect(function(){d.current?q(!1):void 0;var a=document.createElement("div");d.current=a;a.id=b;a.setAttribute("aria-live","assertive");a.setAttribute("role","log");a.setAttribute("aria-atomic","true");z(a.style,qe);pe().appendChild(a);return function(){var a=d.current;a?void 0:q(!1);pe().removeChild(a);d.current=null}},[b]);var f=e.useCallback(function(a){var b=d.current;if(b){b.textContent=a;return}},[]);return f}var Z=d.createContext(null),te;({react:"^16.8.5"});var ue=/(\d+)\.(\d+)\.(\d+)/,ve=function(a){var b=ue.exec(a);b!=null?void 0:q(!1);var c=Number(b[1]),d=Number(b[2]);b=Number(b[3]);return{major:c,minor:d,patch:b,raw:a}},we=function(a,b){if(b.major>a.major)return!0;if(b.major<a.major)return!1;if(b.minor>a.minor)return!0;return b.minor<a.minor?!1:b.patch>=a.patch},xe;(function(a,b){a=ve(a);b=ve(b);if(we(a,b))return});var ye;(function(a){a=a.doctype;if(!a)return;a.name.toLowerCase()!=="html";a.publicId!==""});function ze(){c.useEffect(function(){return;xe(te.react,d.version);ye(document)},[])}function Ae(a){var b=c.useRef(a);c.useEffect(function(){b.current=a});return b}var Be=function(a){return{onBeforeDragStart:a.onBeforeDragStart,onDragStart:a.onDragStart,onDragEnd:a.onDragEnd,onDragUpdate:a.onDragUpdate}};function Ce(a){a.current?void 0:q(!1);return a.current}function De(a){var f=a.uniqueId,g=a.setOnError,h=c.useRef(null);ze();var i=Ae(a),j=e.useCallback(function(){return Be(i.current)},[i]),k=se(f),l=ne(f),m=e.useCallback(function(a){Ce(h).dispatch(a)},[]),n=e.useMemo(function(){return r.bindActionCreators({publishWhileDragging:nc,updateDroppableScroll:pc,updateDroppableIsEnabled:qc,updateDroppableIsCombineEnabled:rc,collectionStarting:oc},m)},[m]),o=e.useMemo(function(){return zd(n)},[n]),p=e.useMemo(function(){return ce(b({scrollWindow:Bd,scrollDroppable:o.scrollDroppable},r.bindActionCreators({move:sc},m)))},[o.scrollDroppable,m]);f=e.useMemo(function(){return qd({dimensionMarshal:o,styleMarshal:l,announce:k,autoScroller:p,getResponders:j})},[k,p,o,j,l]);h.current=f;var q=e.useCallback(function(){var a=Ce(h),b=a.getState();b.phase!=="IDLE"&&a.dispatch(zc({shouldFlush:!0}))},[]);g(q);var t=e.useCallback(function(a){return Ad(Ce(h).getState(),a)},[]),u=e.useCallback(function(){return S(Ce(h).getState())},[]);g=e.useMemo(function(){return{marshal:o,style:l.styleContext,canLift:t,isMovementAllowed:u}},[o,t,u,l.styleContext]);c.useEffect(function(){return q},[q]);return d.createElement(Z.Provider,{value:g},d.createElement(s.Provider,{context:oe,store:f},a.children))}var Ee=0;function Fe(){Ee=0}function Ge(a){var c=e.useMemo(function(){return Ee++},[]);return d.createElement(ga,null,function(e){return d.createElement(De,b({setOnError:e,uniqueId:c},a),a.children)})}V=function(a){return function(b){return a===b}};var He=V("scroll"),Ie=V("auto"),Je;V("visible");var Ke=function(a,b){return b(a.overflowX)||b(a.overflowY)},Le;(function(a,b){return b(a.overflowX)&&b(a.overflowY)});var Me=function(a){a=window.getComputedStyle(a);a={overflowX:a.overflowX,overflowY:a.overflowY};return Ke(a,He)||Ke(a,Ie)},Ne=function(){return!1;var a;pe();var b;document.documentElement;b?void 0:q(!1);if(!Me(a))return!1;var c;window.getComputedStyle(b);var d;({overflowX:c.overflowX,overflowY:c.overflowY});return Le(d,Je)?!1:!1},Oe=function a(b){if(b==null)return null;if(b===document.body)return Ne()?b:null;if(b===document.documentElement)return null;return!Me(b)?a(b.parentElement):b},Pe=function(a){return{x:a.scrollLeft,y:a.scrollTop}},Qe=function a(c){if(!c)return!1;var b=window.getComputedStyle(c);return b.position==="fixed"?!0:a(c.parentElement)},Re=function(a){var b=Oe(a);a=Qe(a);return{closestScrollable:b,isFixedOnPage:a}},Se=function(a,b){var c=t.getBox(a);if(!b)return c;if(a!==b)return c;a=c.paddingBox.top-b.scrollTop;var d=c.paddingBox.left-b.scrollLeft,e=a+b.scrollHeight;b=d+b.scrollWidth;a={top:a,right:b,bottom:e,left:d};b=t.expand(a,c.border);e=t.createBox({borderBox:b,margin:c.margin,border:c.border,padding:c.padding});return e},Te=function(b){var c=b.ref,d=b.descriptor,e=b.env,f=b.windowScroll,g=b.direction,h=b.isDropDisabled,i=b.isCombineEnabled,j=b.shouldClipSubject,k=e.closestScrollable;b=Se(c,k);c=t.withScroll(b,f);var a=function(){if(!k)return null;var a=t.getBox(k),b={scrollHeight:k.scrollHeight,scrollWidth:k.scrollWidth};return{client:a,page:t.withScroll(a,f),scroll:Pe(k),scrollSize:b,shouldClipSubject:j}}();d=gb({descriptor:d,isEnabled:!h,isCombineEnabled:i,isFixedOnPage:e.isFixedOnPage,direction:g,client:b,page:c,closest:a});return d};function Ue(a,b){if(!a)return b();var c=a.style.display;a.style.display="none";b=b();a.style.display=c;return b}var Ve={passive:!1},We={passive:!0},Xe=function(a){return a.shouldPublishImmediately?Ve:We};function Ye(a){a=c.useContext(a);a?void 0:q(!1);return a}var Ze=function(a){return a&&a.env.closestScrollable||null};function $e(b){var d=c.useRef(null),f=Ye(Z),g=f.marshal,h=Ae(b),i=e.useMemo(function(){return{id:b.droppableId,type:b.type}},[b.droppableId,b.type]),j=c.useRef(i),k=e.useMemo(function(){return u(function(a,b){d.current?void 0:q(!1);a={x:a,y:b};g.updateDroppableScroll(i.id,a)})},[i.id,g]),l=e.useCallback(function(){var a=d.current;return!a||!a.env.closestScrollable?B:Pe(a.env.closestScrollable)},[]),m=e.useCallback(function(){var a=l();k(a.x,a.y)},[l,k]),n=e.useMemo(function(){return y(m)},[m]),o=e.useCallback(function(){var b=d.current,a=Ze(b);b&&a?void 0:q(!1);a=b.scrollOptions;if(a.shouldPublishImmediately){m();return}n()},[n,m]),p=e.useCallback(function(a,b){d.current?q(!1):void 0;var c=h.current,e=c.getDroppableRef();e?void 0:q(!1);var f=Re(e);b={ref:e,descriptor:i,env:f,scrollOptions:b};d.current=b;e=Te({ref:e,descriptor:i,env:f,windowScroll:a,direction:c.direction,isDropDisabled:c.isDropDisabled,isCombineEnabled:c.isCombineEnabled,shouldClipSubject:!c.ignoreContainerClipping});f.closestScrollable&&f.closestScrollable.addEventListener("scroll",o,Xe(b.scrollOptions));return e},[i,o,h]),r=e.useCallback(function(b){var c=d.current,a=Ze(c);c&&a?void 0:q(!1);var e=h.current;a=function(){return Te({ref:c.ref,descriptor:c.descriptor,env:c.env,windowScroll:B,direction:e.direction,isDropDisabled:e.isDropDisabled,isCombineEnabled:e.isCombineEnabled,shouldClipSubject:!e.ignoreContainerClipping})};return!b.withoutPlaceholder?a():Ue(e.getPlaceholderRef(),a)},[h]),s=e.useCallback(function(){var b=d.current;b?void 0:q(!1);var a=Ze(b);d.current=null;if(!a)return;n.cancel();a.removeEventListener("scroll",o,Xe(b.scrollOptions))},[o,n]),a=e.useCallback(function(a){var b=d.current;b?void 0:q(!1);b=Ze(b);b?void 0:q(!1);b.scrollTop+=a.y;b.scrollLeft+=a.x},[]),t=e.useMemo(function(){return{getDimensionAndWatchScroll:p,recollect:r,dragStopped:s,scroll:a}},[s,p,r,a]);Y(function(){j.current=i;g.registerDroppable(i,t);return function(){d.current&&s(),g.unregisterDroppable(i)}},[t,i,s,g]);Y(function(){if(!d.current)return;g.updateDroppableIsEnabled(j.current.id,!b.isDropDisabled)},[b.isDropDisabled,g]);Y(function(){if(!d.current)return;g.updateDroppableIsCombineEnabled(j.current.id,b.isCombineEnabled)},[b.isCombineEnabled,g])}function af(){}var bf={width:0,height:0,margin:ma},cf=function(a){var b=a.isAnimatingOpenOnMount,c=a.placeholder;a=a.animate;if(b)return bf;return a==="close"?bf:{height:c.client.borderBox.height,width:c.client.borderBox.width,margin:c.client.margin}},df=function(a){var b=a.isAnimatingOpenOnMount,c=a.placeholder;a=a.animate;b=cf({isAnimatingOpenOnMount:b,placeholder:c,animate:a});return{display:c.display,boxSizing:"border-box",width:b.width,height:b.height,marginTop:b.margin.top,marginRight:b.margin.right,marginBottom:b.margin.bottom,marginLeft:b.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:Jc.placeholder}};function ef(b){var f=c.useRef(null),g=e.useCallback(function(){if(!f.current)return;clearTimeout(f.current);f.current=null},[]),h=b.animate,i=b.onTransitionEnd,j=b.onClose,k=b.styleContext,l=c.useState(b.animate==="open"),m=l[0],n=l[1];c.useEffect(function(){if(!m)return af;if(h!=="open"){g();n(!1);return af}if(f.current)return af;f.current=setTimeout(function(){f.current=null,n(!1)});return g},[h,m,g]);l=e.useCallback(function(a){if(a.propertyName!=="height")return;i();h==="close"&&j()},[h,j,i]);var a=df({isAnimatingOpenOnMount:m,animate:b.animate,placeholder:b.placeholder});return d.createElement(b.placeholder.tagName,{style:a,"data-react-beautiful-dnd-placeholder":k,onTransitionEnd:l,ref:b.innerRef})}var ff=d.memo(ef),gf=d.createContext(null),hf=function(a){return a&&a.ownerDocument?a.ownerDocument.defaultView:window};function jf(a){return a instanceof hf(a).HTMLElement}function kf(a){a.props,a.getDroppableRef,a.getPlaceholderRef,c.useEffect(function(){})}var lf=function(b){f(a,b);function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];a=b.call.apply(b,[this].concat(d))||this;a.state={isVisible:Boolean(a.props.on),data:a.props.on,animate:a.props.shouldAnimate&&a.props.on?"open":"none"};a.onClose=function(){if(a.state.animate!=="close")return;a.setState({isVisible:!1})};return a}a.getDerivedStateFromProps=function(a,b){if(!a.shouldAnimate)return{isVisible:Boolean(a.on),data:a.on,animate:"none"};if(a.on)return{isVisible:!0,data:a.on,animate:"open"};return b.isVisible?{isVisible:!0,data:b.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}};var c=a.prototype;c.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)};return a}(d.PureComponent);function mf(f){var g=c.useContext(Z);g?void 0:q(!1);var h=g.style,a=g.isMovementAllowed,i=c.useRef(null),j=c.useRef(null);g=f.children;var k=f.droppableId,l=f.type,m=f.direction,n=f.ignoreContainerClipping,o=f.isDropDisabled,p=f.isCombineEnabled,r=f.snapshot,b=f.updateViewportMaxScroll,s=e.useCallback(function(){return i.current},[]),t=e.useCallback(function(){return j.current},[]),u=e.useCallback(function(a){i.current=a},[]),v=e.useCallback(function(a){j.current=a},[]),w=e.useCallback(function(){a()&&b({maxScroll:vd()})},[a,b]);$e({droppableId:k,type:l,direction:m,isDropDisabled:o,isCombineEnabled:p,ignoreContainerClipping:n,getDroppableRef:s,getPlaceholderRef:t});var x=d.createElement(lf,{on:f.placeholder,shouldAnimate:f.shouldAnimatePlaceholder},function(a){var b=a.onClose,c=a.data;a=a.animate;return d.createElement(ff,{placeholder:c,onClose:b,innerRef:v,animate:a,styleContext:h,onTransitionEnd:w})});m=e.useMemo(function(){return{innerRef:u,placeholder:x,droppableProps:{"data-react-beautiful-dnd-droppable":h}}},[x,u,h]);o=e.useMemo(function(){return{droppableId:k,type:l}},[k,l]);kf({props:f,getDroppableRef:function(){return i.current},getPlaceholderRef:function(){return j.current}});return d.createElement(gf.Provider,{value:o},g(m,r))}U=function(a,b){return a===b};var nf=function(b){var a=b.combine;b=b.destination;if(b)return b.droppableId;return a?a.droppableId:null},of=function(a,b){return a===b.droppable.type},pf=function(a,b){return b.draggables[a.draggable.id]};W=function(){var a={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null}},d=b({},a,{shouldAnimatePlaceholder:!1}),e=u(function(b,c,d,e){b=d.descriptor.droppableId===b;if(b)return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:e};return!c?a:{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:e}}),f=u(function(a,b,c){var d=c.descriptor.id;c=c.descriptor.droppableId===a;a=b?d:null;c=c?d:null;return{isDraggingOver:b,draggingOverWith:a,draggingFromThisWith:c}}),c=function(b,c){var g=c.droppableId;c=c.type;if(b.isDragging){var h=b.critical;if(!of(c,h))return a;h=pf(h,b.dimensions);var i=I(b.impact)===g,j=f(g,i,h);return e(g,i,h,j)}if(b.phase==="DROP_ANIMATING"){i=b.completed;if(!of(c,i.critical))return a;h=pf(i.critical,b.dimensions);j=f(g,nf(i.result)===g,h);return e(g,I(i.impact)===g,h,j)}if(b.phase==="IDLE"&&!b.completed&&b.shouldFlush)return d;if(b.phase==="IDLE"&&b.completed){i=b.completed;if(!of(c,i.critical))return a;h=I(i.impact)===g;j=Boolean(i.impact.merge);if(b.shouldFlush)return d;return h?j?a:d:a}return a};return c};a={updateViewportMaxScroll:uc};V={type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1};ma=s.connect(W,a,null,{context:oe,pure:!0,areStatePropsEqual:U})(mf);ma.defaultProps=V;var qf={dragging:5e3,dropAnimating:4500},rf=function(a,b){if(b)return Jc.drop(b.duration);return a?Jc.snap:Jc.fluid},sf=function(a,b){return!a?null:b?Ic.opacity.drop:Ic.opacity.combining},tf=function(a){return a.forceShouldAnimate!=null?a.forceShouldAnimate:a.mode==="SNAP"};function uf(a){var b=a.dimension;b=b.client;var c=a.offset,d=a.combineWith,e=a.dropping;d=Boolean(d);a=tf(a);var f=Boolean(e);c=f?Lc.drop(c,d):Lc.moveTo(c);b={position:"fixed",top:b.marginBox.top,left:b.marginBox.left,boxSizing:"border-box",width:b.borderBox.width,height:b.borderBox.height,transition:rf(a,e),transform:c,opacity:sf(d,f),zIndex:f?qf.dropAnimating:qf.dragging,pointerEvents:"none"};return b}function vf(a){return{transform:Lc.moveTo(a.offset),transition:a.shouldAnimateDisplacement?null:"none"}}function wf(a){return a.type==="DRAGGING"?uf(a):vf(a)}ef=function(){var a=!1,b=function(){a?q(!1):void 0,a=!0},c=function(){return a},d=function(){a=!1};return{handle:b,isHandled:c,reset:d}};var xf=function(a,c){return b({},a,c)},yf=function(b,c,a){c.forEach(function(c){var d=xf(a,c.options);b.addEventListener(c.eventName,c.fn,d)})},zf=function(b,c,a){c.forEach(function(c){var d=xf(a,c.options);b.removeEventListener(c.eventName,c.fn,d)})},Af=function(f){var g=u(function(a,b){a={x:a,y:b};f.onMove(a)}),a=y(function(a){return g(a.x,a.y)}),b=y(f.onMoveUp),c=y(f.onMoveDown),d=y(f.onMoveRight),e=y(f.onMoveLeft),h=y(f.onWindowScroll),i=function(){a.cancel(),b.cancel(),c.cancel(),d.cancel(),e.cancel(),h.cancel()};return{move:a,moveUp:b,moveDown:c,moveRight:d,moveLeft:e,windowScrollMove:h,cancel:i}};uc=9;W=13;var Bf=27,Cf=32;a=33;mf=34;V=35;var Df=36,Ef=37,Ff=38,Gf=39,Hf=40,If=function(){var a="visibilitychange";if(typeof document==="undefined")return a;var b=[a,"ms"+a,"webkit"+a,"moz"+a,"o"+a];b=sa(b,function(a){return"on"+a in document});return b||a}(),Jf={capture:!0},Kf=function(a){var b=!1,c=function(){if(b)return;b=!0;yf(a(),e,Jf)},d=function(){if(!b)return;b=!1;zf(a(),e,Jf)},e=[{eventName:"click",fn:function(a){a.preventDefault(),d()}},{eventName:"mousedown",fn:d},{eventName:"touchstart",fn:d}],f=function(){b&&d(),c()};f={preventNext:f,abort:d};return f},Lf=5,Mf=function(a,b){return Math.abs(b.x-a.x)>=Lf||Math.abs(b.y-a.y)>=Lf},$,Nf=($={},$[W]=!0,$[uc]=!0,$),Of=function(a){Nf[a.keyCode]&&a.preventDefault()},Pf=0,Qf=function(){},Rf=ef();function Sf(a){var b=a.canStartCapturing,d=a.getWindow,f=a.callbacks,g=a.onCaptureStart,h=a.onCaptureEnd,i=c.useRef(null),j=c.useRef(!1),k=c.useRef(Qf),l=e.useCallback(function(){return Boolean(i.current||j.current)},[]),m=e.useMemo(function(){l()?q(!1):void 0;return Af(f)},[f,l]),n=e.useMemo(function(){return Kf(d)},[d]),o=e.useCallback(function(){if(!l())return;m.cancel();k.current();var a=j.current;Rf.reset();a&&n.preventNext();i.current=null;j.current=!1;h()},[l,h,n,m]),p=e.useCallback(function(){var a=j.current;o();a&&f.onCancel()},[f,o]),r=e.useCallback(function(){j.current?q(!1):void 0;var a=i.current;a?void 0:q(!1);i.current=null;j.current=!0;f.onLift({clientSelection:a,movementMode:"FLUID"})},[f]),s=e.useMemo(function(){l()?q(!1):void 0;var a=[{eventName:"mousemove",fn:function(a){var b=a.button,c=a.clientX,d=a.clientY;if(b!==Pf)return;b={x:c,y:d};if(j.current){a.preventDefault();m.move(b);return}c=i.current;c||(o(),q(!1));if(!Mf(c,b))return;a.preventDefault();r()}},{eventName:"mouseup",fn:function(a){var b=j.current;o();b&&(a.preventDefault(),f.onDrop())}},{eventName:"mousedown",fn:function(a){j.current&&a.preventDefault(),p()}},{eventName:"keydown",fn:function(a){if(i.current){o();return}if(a.keyCode===Bf){a.preventDefault();p();return}Of(a)}},{eventName:"resize",fn:p},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(a){if(a.currentTarget!==d())return;if(i.current){o();return}m.windowScrollMove()}},{eventName:"webkitmouseforcedown",fn:function(){p()}},{eventName:If,fn:p}];return a},[l,p,r,m,o,f,d]),t=e.useCallback(function(){var a=d(),b={capture:!0};k.current=function(){return zf(a,s,b)};yf(a,s,b)},[d,s]),u=e.useCallback(function(a){i.current?q(!1):void 0,i.current=a,g(o),t()},[t,g,o]);a=e.useCallback(function(a){if(Rf.isHandled())return;l()?q(!1):void 0;if(!b(a))return;if(a.button!==Pf)return;if(a.ctrlKey||a.metaKey||a.shiftKey||a.altKey)return;Rf.handle();a.preventDefault();a={x:a.clientX,y:a.clientY};u(a)},[b,l,u]);return a}function Tf(a){return a instanceof hf(a).Element}var Uf={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0},Vf=function a(b,c){if(c==null)return!1;var d=Boolean(Uf[c.tagName.toLowerCase()]);if(d)return!0;d=c.getAttribute("contenteditable");if(d==="true"||d==="")return!0;return c===b?!1:a(b,c.parentElement)},Wf=function(a,b){if(b)return!0;b=a.target;a=a.currentTarget;return!Tf(b)||!Tf(a)?!0:!Vf(a,b)},Xf=function(a){return t.getRect(a.getBoundingClientRect()).center},Yf=(W={},W[mf]=!0,W[a]=!0,W[Df]=!0,W[V]=!0,W);function Zf(){}function $f(a){var b=a.canStartCapturing,d=a.getWindow,f=a.callbacks,g=a.onCaptureStart,h=a.onCaptureEnd,i=a.getDraggableRef,j=c.useRef(!1),k=c.useRef(Zf),l=e.useCallback(function(){return j.current},[]),m=e.useMemo(function(){l()?q(!1):void 0;return Af(f)},[f,l]),n=e.useCallback(function(){if(!l())return;m.cancel();k.current();j.current=!1;h()},[l,h,m]),o=e.useCallback(function(){var a=j.current;n();a&&f.onCancel()},[f,n]),p=e.useMemo(function(){l()?q(!1):void 0;return[{eventName:"mousedown",fn:o},{eventName:"mouseup",fn:o},{eventName:"click",fn:o},{eventName:"touchstart",fn:o},{eventName:"resize",fn:o},{eventName:"wheel",fn:o,options:{passive:!0}},{eventName:"scroll",options:{capture:!1},fn:function(a){if(a.currentTarget!==d())return;f.onWindowScroll()}},{eventName:If,fn:o}]},[f,o,l,d]),r=e.useCallback(function(){var a=d(),b={capture:!0};k.current=function(){return zf(a,p,b)};yf(a,p,b)},[d,p]),s=e.useCallback(function(){j.current?q(!1):void 0;var a=i();a?void 0:q(!1);j.current=!0;g(n);r();a=Xf(a);f.onLift({clientSelection:a,movementMode:"SNAP"})},[r,f,i,g,n]);a=e.useCallback(function(a){if(!l()){if(a.defaultPrevented)return;if(!b(a))return;if(a.keyCode!==Cf)return;a.preventDefault();s();return}if(a.keyCode===Bf){a.preventDefault();o();return}if(a.keyCode===Cf){a.preventDefault();n();f.onDrop();return}if(a.keyCode===Hf){a.preventDefault();m.moveDown();return}if(a.keyCode===Ff){a.preventDefault();m.moveUp();return}if(a.keyCode===Gf){a.preventDefault();m.moveRight();return}if(a.keyCode===Ef){a.preventDefault();m.moveLeft();return}if(Yf[a.keyCode]){a.preventDefault();return}Of(a)},[f,b,o,l,m,s,n]);return a}var ag=120,bg=.15,cg=ef(),dg=function(){};function eg(a){var b=a.callbacks,d=a.getWindow,f=a.canStartCapturing,g=a.getShouldRespectForcePress,h=a.onCaptureStart,i=a.onCaptureEnd,j=c.useRef(null),k=c.useRef(!1),l=c.useRef(!1),m=c.useRef(dg),n=e.useCallback(function(){return Boolean(j.current||k.current)},[]),o=e.useMemo(function(){return Kf(d)},[d]),p=e.useMemo(function(){n()?q(!1):void 0;return Af(b)},[b,n]),r=e.useCallback(function(){if(!n())return;p.cancel();m.current();cg.reset();l.current=!1;i();if(k.current){o.preventNext();k.current=!1;return}var a=j.current;a?void 0:q(!1);clearTimeout(a.longPressTimerId);j.current=null},[n,i,o,p]),s=e.useCallback(function(){var a=k.current;r();a&&b.onCancel()},[b,r]),t=e.useMemo(function(){n()?q(!1):void 0;var a=[{eventName:"touchmove",options:{passive:!1,capture:!1},fn:function(a){if(!k.current){r();return}l.current||(l.current=!0);var b=a.touches[0];if(!b)return;b={x:b.clientX,y:b.clientY};a.preventDefault();p.move(b)}},{eventName:"touchend",fn:function(a){if(!k.current){r();return}a.preventDefault();r();b.onDrop()}},{eventName:"touchcancel",fn:function(a){if(!k.current){r();return}a.preventDefault();s()}},{eventName:"touchstart",fn:s},{eventName:"orientationchange",fn:s},{eventName:"resize",fn:s},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){if(j.current){r();return}p.windowScrollMove()}},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(!k.current){s();return}a.keyCode===Bf&&a.preventDefault();s()}},{eventName:"touchforcechange",fn:function(a){var b=a.touches[0];b=b.force>=bg;if(!b)return;b=g();if(j.current){b&&s();return}if(b){if(l.current){a.preventDefault();return}s();return}a.preventDefault()}},{eventName:If,fn:s}];return a},[b,s,n,g,p,r]),u=e.useCallback(function(){var a=d(),b={capture:!0};m.current=function(){return zf(a,t,b)};yf(a,t,b)},[d,t]),v=e.useCallback(function(){var a=j.current;a?void 0:q(!1);k.current=!0;j.current=null;l.current=!1;b.onLift({clientSelection:a.point,movementMode:"FLUID"})},[b]),w=e.useCallback(function(a){j.current?q(!1):void 0;a=a.touches[0];var b=a.clientX;a=a.clientY;b={x:b,y:a};a=setTimeout(v,ag);b={point:b,longPressTimerId:a};j.current=b;h(r);u()},[u,h,v,r]);a=function(a){if(cg.isHandled())return;n()?q(!1):void 0;if(!f(a))return;cg.handle();w(a)};Y(function(){var a=yf(window,[{eventName:"touchmove",fn:dg,options:{capture:!1,passive:!1}}]);return a},[]);return a}function fg(a){return Boolean(hf(a).SVGElement)&&a instanceof hf(a).SVGElement}var gg="["+ee+"]",hg=function(a){fg(a)?q(!1):void 0},ig=function(a){if(a.hasAttribute(ee)){hg(a);return a}var b=a.querySelector(gg);hg(a);b?void 0:q(!1);jf(b)?void 0:q(!1);return b};function jg(a){var b=a.isEnabled;a=a.getDraggableRef;c.useEffect(function(){},[a,b])}var kg=null,lg={capture:!0},mg=function(){var a=!1,b=function(){if(a)return;a=!0;window.addEventListener("focus",d,lg)},c=function(){if(!a)return;a=!1;window.removeEventListener("focus",d,lg)},d=function(){c(),kg=null},e=function(){return b()};e.cancel=function(){return c()};return e}();uc=function(a){kg=a,mg()};$=function(a,b){if(!kg)return;if(a!==kg)return;kg=null;mg.cancel();a=ig(b);if(!a)return;a.focus()};var ng={retain:uc,tryRestoreFocus:$};function og(){}function pg(a){var b=c.useRef(!1),d=Ae(a),f=a.getDraggableRef;a=e.useCallback(function(){b.current=!0},[]);var g=e.useCallback(function(){b.current=!1},[]);Y(function(){var c=d.current;if(!c.isEnabled)return og;var a=f();a?void 0:q(!1);a=ig(a);ng.tryRestoreFocus(c.draggableId,a);return function(){var a=d.current,c=function(){if(!a.isEnabled)return!1;return!b.current?!1:a.isDragging||a.isDropAnimating}();c&&ng.retain(a.draggableId)}},[f,d]);var h=c.useRef(null);Y(function(){if(!h.current)return;var a=f();if(!a)return;if(a===h.current)return;b.current&&d.current.isEnabled&&ig(a).focus()});Y(function(){h.current=f()});return{onBlur:g,onFocus:a}}function qg(a){a.preventDefault()}function rg(a){var b=c.useRef(null),d=e.useCallback(function(a){b.current?q(!1):void 0,b.current={abort:a}},[]),f=e.useCallback(function(){b.current?void 0:q(!1),b.current=null},[]),g=e.useCallback(function(){b.current?void 0:q(!1),b.current.abort()},[]),h=Ye(Z),i=h.canLift,j=h.style,k=a.isDragging,l=a.isEnabled,m=a.draggableId,n=a.callbacks,o=a.getDraggableRef,p=a.getShouldRespectForcePress,r=a.canDragInteractiveElements,s=Ae(a);jg({isEnabled:l,getDraggableRef:o});var t=e.useCallback(function(){return hf(o())},[o]),u=e.useCallback(function(a){if(!l)return!1;if(b.current)return!1;return!i(m)?!1:Wf(a,r)},[r,i,m,l]);h=pg(a);var v=h.onBlur,w=h.onFocus;a=e.useMemo(function(){return{callbacks:n,getDraggableRef:o,getWindow:t,canStartCapturing:u,onCaptureStart:d,onCaptureEnd:f,getShouldRespectForcePress:p}},[n,o,t,u,d,f,p]);var x=Sf(a);h=e.useMemo(function(){return{callbacks:n,getDraggableRef:o,getWindow:t,canStartCapturing:u,onCaptureStart:d,onCaptureEnd:f}},[n,u,o,t,f,d]);var y=$f(h);a=e.useMemo(function(){return{callbacks:n,getDraggableRef:o,getWindow:t,canStartCapturing:u,getShouldRespectForcePress:p,onCaptureStart:d,onCaptureEnd:f}},[n,o,t,u,p,d,f]);var z=eg(a);Y(function(){return function(){if(!b.current)return;g();s.current.isDragging&&s.current.callbacks.onCancel()}},[]);!l&&b.current&&(g(),s.current.isDragging&&n.onCancel());Y(function(){!k&&b.current&&g()},[g,k]);h=e.useMemo(function(){return!l?null:{onMouseDown:x,onKeyDown:y,onTouchStart:z,onFocus:w,onBlur:v,tabIndex:0,"data-react-beautiful-dnd-drag-handle":j,"aria-roledescription":"Draggable item. Press space bar to lift",draggable:!1,onDragStart:qg}},[l,v,w,y,x,z,j]);return h}function sg(a,b,c){c===void 0&&(c=B);var d=window.getComputedStyle(b),e=b.getBoundingClientRect();e=t.calculateBox(e,d);c=t.withScroll(e,c);b={client:e,tagName:b.tagName.toLowerCase(),display:d.display};d={x:e.marginBox.width,y:e.marginBox.height};a={descriptor:a,placeholder:b,displaceBy:d,client:e,page:c};return a}function tg(a){var b=a.draggableId,d=a.index,f=a.getDraggableRef;a=Ye(Z);var g=a.marshal;a=Ye(gf);var h=a.droppableId,i=a.type,j=e.useMemo(function(){var a={id:b,droppableId:h,type:i,index:d};return a},[b,h,d,i]),k=c.useRef(j),l=e.useCallback(function(a){var b=k.current,c=f();c?void 0:q(!1);return sg(b,c,a)},[f]);Y(function(){g.registerDraggable(k.current,l);return function(){return g.unregisterDraggable(k.current)}},[l,g]);Y(function(){if(k.current===j)return;var a=k.current;k.current=j;g.updateDraggable(a,j,l)},[j,l,g])}function ug(a,b){c.useEffect(function(){})}function vg(a){var b=c.useRef(null),d=e.useCallback(function(a){b.current=a},[]),f=e.useCallback(function(){return b.current},[]),g=Ye(Z);ug(a,f);var h=a.children,i=a.draggableId,j=a.isDragDisabled,k=a.shouldRespectForcePress,l=a.disableInteractiveElementBlocking,m=a.index,n=a.mapped,o=a.moveUp,p=a.move,r=a.drop,s=a.moveDown,t=a.moveRight,u=a.moveLeft,v=a.moveByWindowScroll,w=a.lift,x=a.dropAnimationFinished;a=e.useMemo(function(){return{draggableId:i,index:m,getDraggableRef:f}},[i,f,m]);tg(a);var y=e.useCallback(function(a){var c=b.current;c?void 0:q(!1);j?q(!1):void 0;c=a.clientSelection;a=a.movementMode;w({id:i,clientSelection:c,movementMode:a})},[i,j,w]),z=e.useCallback(function(){return k},[k]),aa=e.useMemo(function(){return{onLift:y,onMove:function(a){return p({client:a})},onDrop:function(){return r({reason:"DROP"})},onCancel:function(){return r({reason:"CANCEL"})},onMoveUp:o,onMoveDown:s,onMoveRight:t,onMoveLeft:u,onWindowScroll:function(){return v({newScroll:td()})}}},[r,p,v,s,u,t,o,y]),ba=n.type==="DRAGGING",A=n.type==="DRAGGING"&&Boolean(n.dropping);a=e.useMemo(function(){return{draggableId:i,isDragging:ba,isDropAnimating:A,isEnabled:!j,callbacks:aa,getDraggableRef:f,canDragInteractiveElements:l,getShouldRespectForcePress:z}},[aa,l,i,f,z,j,ba,A]);var ca=rg(a),da=e.useCallback(function(a){if(n.type!=="DRAGGING")return;if(!n.dropping)return;if(a.propertyName!=="transform")return;x()},[x,n]);a=e.useMemo(function(){var a=wf(n),b=n.type==="DRAGGING"&&n.dropping?da:null;a={innerRef:d,draggableProps:{"data-react-beautiful-dnd-draggable":g.style,style:a,onTransitionEnd:b},dragHandleProps:ca};return a},[g.style,ca,n,da,d]);return h(a,n.snapshot)}var wg=function(a){return a.combine?a.combine.draggableId:null},xg=function(a){return a.merge?a.merge.combine.draggableId:null};mf=function(){var b=u(function(a,b,c,d){return{isDragging:!0,isDropAnimating:Boolean(d),dropAnimation:d,mode:a,draggingOver:b,combineWith:c,combineTargetFor:null}}),c=u(function(a){return{isDragging:!1,isDropAnimating:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:a,combineWith:null}}),d={mapped:{type:"SECONDARY",offset:B,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:c(null)}},e=u(function(a,b){return{x:a,y:b}}),f=u(function(a,c,d,e,f,g){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:e,combineWith:f,mode:c,offset:a,dimension:d,forceShouldAnimate:g,snapshot:b(c,e,f,null)}}}),g=u(function(a,b,d){b===void 0&&(b=null);return{mapped:{type:"SECONDARY",offset:a,combineTargetFor:b,shouldAnimateDisplacement:d,snapshot:c(b)}}}),h=function(a,b,c){var d=c.movement.map;d=d[a];var f=c.movement;c=c.merge;c=Boolean(c&&c.combine.draggableId===a);a=f.displacedBy.point;f=e(a.x,a.y);if(c)return g(d?f:B,b,d?d.shouldAnimate:!0);if(!d)return null;return!d.isVisible?null:g(f,null,d.shouldAnimate)},i=function(a,c){if(a.isDragging){if(a.critical.draggable.id!==c.draggableId)return null;var d=a.current.client.offset,g=a.dimensions.draggables[c.draggableId],h=a.movementMode,i=I(a.impact),j=xg(a.impact),k=a.forceShouldAnimate;return f(e(d.x,d.y),h,g,i,j,k)}if(a.phase==="DROP_ANIMATING"){d=a.completed;if(d.result.draggableId!==c.draggableId)return null;h=a.dimensions.draggables[c.draggableId];g=d.result;i=g.mode;j=nf(g);k=wg(g);c=a.dropDuration;d={duration:c,curve:Hc.drop,moveTo:a.newHomeClientOffset,opacity:k?Ic.opacity.drop:null,scale:k?Ic.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:h,dropping:d,draggingOver:j,combineWith:k,mode:i,forceShouldAnimate:null,snapshot:b(i,j,k,d)}}}return null},j=function(a,b){if(a.isDragging)return a.critical.draggable.id===b.draggableId?null:h(b.draggableId,a.critical.draggable.id,a.impact);if(a.phase==="DROP_ANIMATING"){a=a.completed;return a.result.draggableId===b.draggableId?null:h(b.draggableId,a.result.draggableId,a.impact)}return null},a=function(a,b){return i(a,b)||j(a,b)||d};return a};a={lift:Ta,move:sc,moveUp:vc,moveDown:wc,moveLeft:yc,moveRight:xc,moveByWindowScroll:tc,drop:Cc,dropAnimationFinished:Ec};Df={isDragDisabled:!1,disableInteractiveElementBlocking:!1,shouldRespectForcePress:!1};V=s.connect(mf,a,null,{context:oe,pure:!0,areStatePropsEqual:U})(vg);V.defaultProps=Df;p.DragDropContext=Ge;p.Draggable=V;p.Droppable=ma;p.resetServerContext=Fe}var s=!1,t=function(){s||(s=!0,r());return q.exports};c=function(a){switch(a){case void 0:return t()}};e.exports=c}),null);
__d("react-beautiful-dnd",["react-beautiful-dnd-11.0.5"],(function(a,b,c,d,e,f){e.exports=b("react-beautiful-dnd-11.0.5")()}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("turf-helpers-6.1.4",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});g.earthRadius=6371008.8;g.factors={centimeters:g.earthRadius*100,centimetres:g.earthRadius*100,degrees:g.earthRadius/111325,feet:g.earthRadius*3.28084,inches:g.earthRadius*39.37,kilometers:g.earthRadius/1e3,kilometres:g.earthRadius/1e3,meters:g.earthRadius,metres:g.earthRadius,miles:g.earthRadius/1609.344,millimeters:g.earthRadius*1e3,millimetres:g.earthRadius*1e3,nauticalmiles:g.earthRadius/1852,radians:1,yards:g.earthRadius/1.0936};g.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/g.earthRadius,yards:1/1.0936};g.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function a(a,b,c){c===void 0&&(c={});var d={type:"Feature"};(c.id===0||c.id)&&(d.id=c.id);c.bbox&&(d.bbox=c.bbox);d.properties=b||{};d.geometry=a;return d}g.feature=a;function b(a,b,d){d===void 0&&({});switch(a){case"Point":return c(b).geometry;case"LineString":return h(b).geometry;case"Polygon":return e(b).geometry;case"MultiPoint":return l(b).geometry;case"MultiLineString":return k(b).geometry;case"MultiPolygon":return m(b).geometry;default:throw new Error(a+" is invalid")}}g.geometry=b;function c(b,c,d){d===void 0&&(d={});b={type:"Point",coordinates:b};return a(b,c,d)}g.point=c;function d(a,b,d){d===void 0&&(d={});return j(a.map(function(a){return c(a,b)}),d)}g.points=d;function e(b,c,d){d===void 0&&(d={});for(var e=0,f=b;e<f.length;e++){var g=f[e];if(g.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var h=0;h<g[g.length-1].length;h++)if(g[g.length-1][h]!==g[0][h])throw new Error("First and last Position are not equivalent.")}h={type:"Polygon",coordinates:b};return a(h,c,d)}g.polygon=e;function f(a,b,c){c===void 0&&(c={});return j(a.map(function(a){return e(a,b)}),c)}g.polygons=f;function h(b,c,d){d===void 0&&(d={});if(b.length<2)throw new Error("coordinates must be an array of two or more positions");b={type:"LineString",coordinates:b};return a(b,c,d)}g.lineString=h;function i(a,b,c){c===void 0&&(c={});return j(a.map(function(a){return h(a,b)}),c)}g.lineStrings=i;function j(a,b){b===void 0&&(b={});var c={type:"FeatureCollection"};b.id&&(c.id=b.id);b.bbox&&(c.bbox=b.bbox);c.features=a;return c}g.featureCollection=j;function k(b,c,d){d===void 0&&(d={});b={type:"MultiLineString",coordinates:b};return a(b,c,d)}g.multiLineString=k;function l(b,c,d){d===void 0&&(d={});b={type:"MultiPoint",coordinates:b};return a(b,c,d)}g.multiPoint=l;function m(b,c,d){d===void 0&&(d={});b={type:"MultiPolygon",coordinates:b};return a(b,c,d)}g.multiPolygon=m;function n(b,c,d){d===void 0&&(d={});b={type:"GeometryCollection",geometries:b};return a(b,c,d)}g.geometryCollection=n;function o(a,b){b===void 0&&(b=0);if(b&&!(b>=0))throw new Error("precision must be a positive number");b=Math.pow(10,b||0);return Math.round(a*b)/b}g.round=o;function p(a,b){b===void 0&&(b="kilometers");var c=g.factors[b];if(!c)throw new Error(b+" units is invalid");return a*c}g.radiansToLength=p;function q(a,b){b===void 0&&(b="kilometers");var c=g.factors[b];if(!c)throw new Error(b+" units is invalid");return a/c}g.lengthToRadians=q;function r(a,b){return t(q(a,b))}g.lengthToDegrees=r;function s(a){a=a%360;a<0&&(a+=360);return a}g.bearingToAzimuth=s;function t(a){a=a%(2*Math.PI);return a*180/Math.PI}g.radiansToDegrees=t;function u(a){a=a%360;return a*Math.PI/180}g.degreesToRadians=u;function v(a,b,c){b===void 0&&(b="kilometers");c===void 0&&(c="kilometers");if(!(a>=0))throw new Error("length must be a positive number");return p(q(a,b),c)}g.convertLength=v;function w(a,b,c){b===void 0&&(b="meters");c===void 0&&(c="kilometers");if(!(a>=0))throw new Error("area must be a positive number");b=g.areaFactors[b];if(!b)throw new Error("invalid original units");c=g.areaFactors[c];if(!c)throw new Error("invalid final units");return a/b*c}g.convertArea=w;function x(a){return!isNaN(a)&&a!==null&&!Array.isArray(a)&&!/^\s*$/.test(a)}g.isNumber=x;function y(a){return!!a&&a.constructor===Object}g.isObject=y;function z(a){if(!a)throw new Error("bbox is required");if(!Array.isArray(a))throw new Error("bbox must be an Array");if(a.length!==4&&a.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");a.forEach(function(a){if(!x(a))throw new Error("bbox must only contain numbers")})}g.validateBBox=z;function A(a){if(!a)throw new Error("id is required");if(["string","number"].indexOf(typeof a)===-1)throw new Error("id must be a number or a string")}g.validateId=A;function B(){throw new Error("method has been renamed to `radiansToDegrees`")}g.radians2degrees=B;function C(){throw new Error("method has been renamed to `degreesToRadians`")}g.degrees2radians=C;function D(){throw new Error("method has been renamed to `lengthToDegrees`")}g.distanceToDegrees=D;function E(){throw new Error("method has been renamed to `lengthToRadians`")}g.distanceToRadians=E;function F(){throw new Error("method has been renamed to `radiansToLength`")}g.radiansToDistance=F;function G(){throw new Error("method has been renamed to `bearingToAzimuth`")}g.bearingToAngle=G;function H(){throw new Error("method has been renamed to `convertLength`")}g.convertDistance=H}var j=!1,k=function(){j||(j=!0,i());return h.exports};a=function(a){switch(a){case void 0:return k()}};e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("turf-invariant-6.1.2",["turf-helpers-6.1.4"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-helpers-6.1.4")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});var a=g();function b(a){if(!a)throw new Error("coord is required");if(!Array.isArray(a)){if(a.type==="Feature"&&a.geometry!==null&&a.geometry.type==="Point")return a.geometry.coordinates;if(a.type==="Point")return a.coordinates}if(Array.isArray(a)&&a.length>=2&&!Array.isArray(a[0])&&!Array.isArray(a[1]))return a;throw new Error("coord must be GeoJSON Point or an Array of numbers")}h.getCoord=b;function c(a){if(Array.isArray(a))return a;if(a.type==="Feature"){if(a.geometry!==null)return a.geometry.coordinates}else if(a.coordinates)return a.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}h.getCoords=c;function d(b){if(b.length>1&&a.isNumber(b[0])&&a.isNumber(b[1]))return!0;if(Array.isArray(b[0])&&b[0].length)return d(b[0]);throw new Error("coordinates must only contain numbers")}h.containsNumber=d;function e(a,b,c){if(!b||!c)throw new Error("type and name required");if(!a||a.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.type)}h.geojsonType=e;function f(a,b,c){if(!a)throw new Error("No feature passed");if(!c)throw new Error(".featureOf() requires a name");if(!a||a.type!=="Feature"||!a.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!a.geometry||a.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.geometry.type)}h.featureOf=f;function i(a,b,c){if(!a)throw new Error("No featureCollection passed");if(!c)throw new Error(".collectionOf() requires a name");if(!a||a.type!=="FeatureCollection")throw new Error("Invalid input to "+c+", FeatureCollection required");for(var d=0,a=a.features;d<a.length;d++){var e=a[d];if(!e||e.type!=="Feature"||!e.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!e.geometry||e.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+e.geometry.type)}}h.collectionOf=i;function j(a){return a.type==="Feature"?a.geometry:a}h.getGeom=j;function k(a,b){if(a.type==="FeatureCollection")return"FeatureCollection";if(a.type==="GeometryCollection")return"GeometryCollection";return a.type==="Feature"&&a.geometry!==null?a.geometry.type:a.type}h.getType=k}var k=!1,l=function(){k||(k=!0,j());return i.exports};c=function(a){switch(a){case void 0:return l()}};e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("turf-destination-6.0.1",["turf-helpers-6.1.4","turf-invariant-6.1.2"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-helpers-6.1.4")),h=a(b("turf-invariant-6.1.2")),i={},j={exports:i};function k(){Object.defineProperty(i,"__esModule",{value:!0});var a=g(),b=h();function c(c,d,e,f){f===void 0&&(f={});c=b.getCoord(c);var g=a.degreesToRadians(c[0]);c=a.degreesToRadians(c[1]);e=a.degreesToRadians(e);d=a.lengthToRadians(d,f.units);var h=Math.asin(Math.sin(c)*Math.cos(d)+Math.cos(c)*Math.sin(d)*Math.cos(e));g=g+Math.atan2(Math.sin(e)*Math.sin(d)*Math.cos(c),Math.cos(d)-Math.sin(c)*Math.sin(h));e=a.radiansToDegrees(g);d=a.radiansToDegrees(h);return a.point([e,d],f.properties)}i["default"]=c}var l=!1,m=function(){l||(l=!0,k());return j.exports};c=function(a){switch(a){case void 0:return m()}};e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("turf-circle-6.0.1",["turf-destination-6.0.1","turf-helpers-6.1.4"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-destination-6.0.1")),h=a(b("turf-helpers-6.1.4")),i={},j={exports:i};function k(){Object.defineProperty(i,"__esModule",{value:!0});var a=g(),b=h();function c(c,d,e){e===void 0&&(e={});var f=e.steps||64,g=e.properties?e.properties:!Array.isArray(c)&&c.type==="Feature"&&c.properties?c.properties:{},h=[];for(var i=0;i<f;i++)h.push(a["default"](c,d,i*-360/f,e).geometry.coordinates);h.push(h[0]);return b.polygon([h],g)}i["default"]=c}var l=!1,m=function(){l||(l=!0,k());return j.exports};c=function(a){switch(a){case void 0:return m()}};e.exports=c}),null);
__d("turf-circle",["turf-circle-6.0.1"],(function(a,b,c,d,e,f){e.exports=b("turf-circle-6.0.1")()}),null);
__d("castToEnum",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=Object.keys(b);for(var e=0;e<d.length;e++)if(b[d[e]]===a)return b[d[e]];return c}e.exports=a}),null);
__d("FullViewLogger",["Banzai","ScriptPath","SubscriptionsHandler","URI"],(function(a,b,c,d,e,f){var g;a=function(){"use strict";function a(){}a.logFromViewableImpressionTracker=function(b){var c=new a();c.subscribeToTrackerEvents(b)};var c=a.prototype;c.subscribeToTrackerEvents=function(a){this.subscriptionsHandler=new(b("SubscriptionsHandler"))(),this.subscriptionsHandler.addSubscriptions(a.addListener("full_view",this.onFullView,this))};c.onFullView=function(a){this.$1()&&this.$2(a);a={token:a.token,fullViewType:a.fullViewType,scriptPath:b("ScriptPath").getTopViewEndpoint()};b("Banzai").post("xtrackable:full_view",a);this.$1()&&this.$3(a)};c.$1=function(){return 0};c.$2=function(a){};c.$3=function(a){};return a}();e.exports=a}),null);
__d("GHLDelay",["AdImpressionLoggingConfig"],(function(a,b,c,d,e,f){var g=null;a={getEnabled:function(){return g===null?b("AdImpressionLoggingConfig").enableDelayedHiddenCheck:g},setEnabled:function(a){g=a}};e.exports=a}),null);
__d("PercentVisible",[],(function(a,b,c,d,e,f){e.exports={NO_VISIBLE:-1,VISIBLE_0_PCT:0,VISIBLE_50_PCT:50,VISIBLE_100_PCT:100}}),null);
__d("ViewableImpressionTracker",["csx","cx","requireCond","AdImpressionLoggingConfig","Banzai","BanzaiODS","BrowseClientEventLogger","DataAttributeUtils","DOM","FBFeedImpressionTopMarginGetter","FBImpressionValidationUtils","FeedAdXoutEventTracker","GHLDelay","GHLTestElement","NonBlockingIFrame","PercentVisible","Run","Style","URI","ViewabilityFramework","ViewableImpressionUtils","cr:1095627","ViewableSessionStore","Visibility","WebSession","WebStorage","ge","getCentralImpressionTimeAfterRefresh","getElementPosition","cr:943110","getViewportDimensions","ghlTestUBT","gkx","isImpressionTargetOccluded","mixInEventEmitter","qex","randomInt","cr:1095628","ScriptPath"],(function(a,b,c,d,e,f,g,h){var i,j,k=b("FBFeedImpressionTopMarginGetter").getTopMargin,l=b("ViewableSessionStore").onEventLogged,m=(i||(i=b("WebStorage"))).getLocalStorage(),n="imp_seq_num";a=function(){"use strict";function a(a,c,d){var e=this;this.checkAndLogImpressionIfPendingOnExit=function(){b("AdImpressionLoggingConfig").enableFlushDelayLogOnCleanup&&e.waitForDelayLogged&&(clearTimeout(e.delayedLoggingTimeout),e.delayLogImpression())};this.delayLogImpression=function(){e.waitForDelayLogged=!1;var a="other";e.element.id.startsWith("hyperfeed")&&(a="16");a=b("GHLTestElement").testElementI(e.element,".vit."+a);if(a){e.$14();b("AdImpressionLoggingConfig").logForHiddenAds&&e.logImpression(1,!0,{});return}e.logImpression(1,!1,{});e.$12()};this.id=a;this.element=c;this.config=d;this.iframe=null;this.viewableTimeout=null;this.delayedLoggingTimeout=null;this.clearSubsequentTimeout=null;this.waitForSubsequent=!1;this.waitForLogged=!1;this.waitForDelayLogged=!1;this.isNonViewableLogged=!1;this.isVisible=!1;this.iframeLogged=!1;this.banzaiLogged=!1;this.topLeftInViewport=!1;this.bottomRightInViewport=!1;this.isHidden=!0;this.lastInvisibleReason=null;this.isSubsequentImp=!1;this.lastHiddenCause="none";this.lastImpressedAt=null;this.lastEnterWithPercent=null;b("Run").onUnload(this.checkAndLogImpressionIfPendingOnExit);b("Run").onLeave(this.checkAndLogImpressionIfPendingOnExit);b("ghlTestUBT")(function(a){a===!0&&b("GHLDelay").setEnabled(!0)})}var c=a.prototype;c.getID=function(){return this.id};c.getConfig=function(){return this.config};c.getPercentInViewport=function(){var a=b("getViewportDimensions")(),c=b("getElementPosition")(this.element);return this.$1(a,c)};c.$2=function(a,c,d,e){d===void 0&&(d=0);e===void 0&&(e=!1);var f={target_rect:c,root:{x:0,y:d,height:a.height-d,width:a.width}};if(c.height===0||c.width===0)return{rects:f,percentage:0,invisibleReason:"TARGET_SIZE_0"};var g=b("Style").get(this.element,"visibility")==="hidden",h=b("Style").get(this.element,"opacity")==="0";if(c.x<a.width&&c.x+c.width>0&&c.y<a.height&&c.y+c.height>d&&!g&&!h){var i=Math.max(c.x,0),j=Math.min(c.x+c.width,a.width);d=Math.max(c.y,d);a=Math.min(c.y+c.height,a.height);if(c.height*c.width===0)return{rects:f,percentage:100,invisibleReason:null};c=100*(j-i)*(a-d)/(c.height*c.width);var k=!1;if(c>0&&(e||this.config.should_not_log_on_occlusion)){k=b("isImpressionTargetOccluded")(this.element,{x:i,y:d,width:j-i,height:a-d});if(this.config.should_not_log_on_occlusion&&k)return{rects:f,percentage:0,invisibleReason:"IS_OCCLUDED"}}return{rects:f,percentage:c,invisibleReason:c>0?null:"NOT_IN_VIEWPORT",isOccluded:k}}return{rects:f,percentage:0,invisibleReason:g?"TARGET_HIDDEN":h?"TARGET_TRANSPARENT":"NOT_IN_VIEWPORT"}};c.$3=function(a,b,c){c===void 0&&(c=0);return this.$2(a,b,c).percentage};c.$4=function(a,c,d,e){d===void 0&&(d=0);e===void 0&&(e=!1);return this.config.require_horizontally_onscreen&&b("ViewableImpressionUtils").isHorizontallyOffscreen(this.element,c,a)?{rects:{target_rect:c},percentage:0,invisibleReason:"NOT_IN_VIEWPORT"}:this.$2(a,c,d,e)};c.$1=function(a,b,c){c===void 0&&(c=0);return this.$4(a,b,c).percentage};c.$5=function(a,c,d){a=this.$3(a,c,d);if(a===0)return b("PercentVisible").NO_VISIBLE;else if(a<50)return b("PercentVisible").VISIBLE_0_PCT;else if(a<100)return b("PercentVisible").VISIBLE_50_PCT;else return b("PercentVisible").VISIBLE_100_PCT};c.$6=function(a,c,d){d===void 0&&(d=0);var e=Math.max(c.y,d);c=Math.min(c.y+c.height,a.height);c=100*(c-e)/(a.height-d);if(c<50)return b("PercentVisible").VISIBLE_0_PCT;else if(c<100)return b("PercentVisible").VISIBLE_50_PCT;else return b("PercentVisible").VISIBLE_100_PCT};c.$7=function(a,c){var d=0,e=b("ge")("pagelet_bluebar");e&&e.offsetHeight&&(d=e.offsetHeight+e.offsetTop);if(this.config.should_log_viewport_duration){e=this.$6(a,c,d);switch(e){case b("PercentVisible").VISIBLE_0_PCT:case b("PercentVisible").VISIBLE_50_PCT:case b("PercentVisible").VISIBLE_100_PCT:this.emit("viewport_viewability",{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:e});break;default:break}}e=this.$5(a,c,d);switch(e){case b("PercentVisible").VISIBLE_0_PCT:case b("PercentVisible").VISIBLE_50_PCT:case b("PercentVisible").VISIBLE_100_PCT:this.emit("viewability",{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:e});break;default:this.emit("hidden",{id:this.getID(),token:this.getToken()});break}};c.$8=function(a,c){if(b("Style").get(this.element,"visibility")==="hidden"||b("Style").get(this.element,"opacity")==="0")return!1;var d=c.x,e=c.y,f=c.x+c.width;c=c.y+c.height;this.topLeftInViewport=this.topLeftInViewport||d>=0&&d<=a.width&&e>=0&&e<=a.height;this.bottomRightInViewport=this.bottomRightInViewport||f>=0&&f<=a.width&&c>=0&&c<=a.height;return this.topLeftInViewport&&this.bottomRightInViewport};c.$9=function(a,b){if(this.hasEmittedFullViewEvent)return;this.$8(a,b)&&(this.emit("full_view",{tracker:this,id:this.getID(),token:this.getToken(),fullViewType:1}),this.hasEmittedFullViewEvent=!0)};c.$10=function(a,c,d,e,f){f===void 0&&(f=!1);a=a>0;d=d;a&&b("Visibility").isHidden()&&(a=!1,d="PAGE_VISIBILITY_HIDDEN");a&&this.isHidden?(this.lastImpressedAt=Date.now(),this.lastEnterWithPercent=c,this.logViewabilityEventsForAudit(c,this.lastInvisibleReason,e,f),this.isHidden=!1,b("cr:1095627")&&b("cr:1095627").onItemEnterViewport(b("ViewabilityFramework").VIEWABLE_TRACKER_BLUE,this.element),b("cr:1095628")&&b("cr:1095628")(b("ViewabilityFramework").VIEWABLE_TRACKER_BLUE,this.element,"enter","blue")):!a&&!this.isHidden&&(this.isHidden=!0,this.lastInvisibleReason=d,this.lastHiddenCause="none",b("cr:1095627")&&b("cr:1095627").onItemExitViewport(b("ViewabilityFramework").VIEWABLE_TRACKER_BLUE,this.element),b("cr:1095628")&&b("cr:1095628")(b("ViewabilityFramework").VIEWABLE_TRACKER_BLUE,this.element,"exit","blue"))};c.onVisible=function(a){var c=this;a=this.isVisible;var d=b("getViewportDimensions")(),e=b("getElementPosition")(this.element),f=this.config.count_blue_bar_height?k():0;f=this.$4(d,e,f,this.config.detect_occlusion||!1);var g=f.percentage,h=f.invisibleReason,i=f.rects;f=f.isOccluded;var j=g>this.config.pixel_in_percentage;this.config.log_viewability_events_for_infra_validation&&this.$10(j,g,h,i,f);var l=[];h=[];(this.config.skip_imp_if_no_images||this.config.check_images_before_log)&&(l=Array.from(this.element.querySelectorAll("img")),h=Array.from(this.element.getElementsByClassName("_7cqq")),b("BanzaiODS").bumpEntityKey(2966,"feed_ads","ViewableImpressionTracker.delayLogImpression.isFeedLoadedCheck."+(l.length===0)+"."+(h.length===0)));if(this.config.skip_imp_if_no_images&&l.length===0){this.handleLogNonViewableOnInvisible(a);this.isVisible=!1;return}this.emit("visible",{tracker:this,id:this.getID(),token:this.getToken(),percentInViewport:g});this.config.should_log_viewability_duration&&this.$7(d,e);this.$9(d,e);if(!j){this.$11();this.handleLogNonViewableOnInvisible(a);this.isVisible=!1;return}this.isLogged()?this.$12():this.$13();i=this.config.fam_delivery_integrity_enable_user_hide_ads_check_and_is_feed?b("FeedAdXoutEventTracker").checkIfHidden(this.element):!1;this.isVisible=!(b("AdImpressionLoggingConfig").blockInvisible&&b("Visibility").isHidden())&&!i;f=this.isVisible&&!a;this.isVisible||this.handleLogNonViewableOnInvisible(a);if((this.config.client_no_dedup?f:this.isVisible)&&!this.waitForLogged&&!this.waitForDelayLogged&&!this.isLogged()){h=function(){c.waitForLogged=!1;if(b("AdImpressionLoggingConfig").blockInvisible&&b("Visibility").isHidden())return;var a=c.getPercentInViewport();a=a>c.config.pixel_in_percentage;if(!a){c.$14();return}c.config.check_images_before_log&&(l.length===0&&b("BanzaiODS").bumpEntityKey(2966,"feed_ads","ViewableImpressionTracker.log_without_load."+c.config.trackable_identifier));if(b("GHLDelay").getEnabled()&&c.config.can_delay_log_impression===!0){c.waitForDelayLogged=!0;a=b("AdImpressionLoggingConfig").maxHiddenCheckDelay;a=a-c.config.duration_in_ms;a<0&&(a=0);c.delayedLoggingTimeout=setTimeout(c.delayLogImpression,a)}else c.logImpression(1,!1,{}),c.$12()};this.waitForLogged=!0;this.viewableTimeout=setTimeout(h,this.config.duration_in_ms)}};c.handleLogNonViewableOnInvisible=function(a){this.config.log_initial_nonviewable&&!this.isLogged()&&!this.isNonViewableLogged?this.logNonViewableImpression():!this.config.log_initial_nonviewable&&!this.isLogged()&&a&&this.logNonViewableImpression()};c.onHidden=function(a){var c=this;this.lastHiddenCause=a;this.isHidden||(this.isHidden=!0,this.lastInvisibleReason="NOT_IN_VIEWPORT",b("cr:1095627")&&b("cr:1095627").onItemExitViewport(b("ViewabilityFramework").VIEWABLE_TRACKER_BLUE,this.element),b("cr:1095628")&&b("cr:1095628")(b("ViewabilityFramework").VIEWABLE_TRACKER_BLUE,this.element,"exit","blue"));this.emit("hidden",{id:this.getID(),token:this.getToken()});a=this.isVisible;this.handleLogNonViewableOnInvisible(a);this.isVisible=!1;this.waitForLogged&&(this.waitForLogged=!1,clearTimeout(this.viewableTimeout));this.config.client_no_dedup&&this.config.subsequent_gap_in_ms===0&&this.config.client_track_subsequent_impression?this.reset():this.isLogged()&&!this.waitForSubsequent&&this.config.subsequent_gap_in_ms>=0&&this.config.client_track_subsequent_impression&&(this.waitForSubsequent=!0,this.clearSubsequentTimeout=setTimeout(function(){c.waitForSubsequent=!1,c.reset(),c.isVisible&&c.onVisible()},this.config.subsequent_gap_in_ms));this.$14()};c.onRemoved=function(){this.isVisible=!1};c.getToken=function(){return b("DataAttributeUtils").getDataAttribute(this.element,"data-xt")};c.logViewabilityEventsForAudit=function(a,c,d,e){var f=this.getToken(),g=Math.floor(Date.now()/1e3),h=this.$15(),i=b("FBImpressionValidationUtils").getFBFeedLocation(this.element);f={xt:f,cts:g,csp:h,endpoint:b("ScriptPath").getTopViewEndpoint(),vp:a,fbfeed_location:i,scroll_speed:b("cr:943110")?b("cr:943110")():null,time_from_load:b("getCentralImpressionTimeAfterRefresh")(),sk:b("WebSession").getId(),pre_rs:c,sub_imp:this.isSubsequentImp,last_hidden_cause:this.lastHiddenCause,rects:d,behind_popout:e};g=babelHelpers["extends"]({},b("Banzai").VITAL);g.signal=!0;b("Banzai").post("viewability_events:"+(this.config.is_rhc?b("ViewabilityFramework").VIEWABLE_TRACKER_BLUE_RHC:b("ViewabilityFramework").VIEWABLE_TRACKER_BLUE),f,g);this.isSubsequentImp=!0};c.logImpression=function(a,c,d){if(this.isLogged())return;var e=this.getToken(),f=Math.floor(Date.now()/1e3),g=this.$15(),h=Date.now()+"_"+(b("randomInt")(0,4294967295)+1);e={xt:e,isv:a,cts:f,csp:g,hba:c,etid:h,sender:"ViewableImpressionTracker"};this.config.should_log_endpoint_info&&(e.me=b("ScriptPath").getTopViewEndpoint());if(b("gkx")("940796")&&m){a=m.getItem(n);a==null&&(a=0);e.event_count=parseInt(a,10);m.setItem(n,e.event_count+1)}if(b("Banzai").isEnabled("xtrackable_clientview_batch")&&this.config.should_batch||this.config.vital_mode_for_ss||this.config.signal_mode_for_ss){e.transmission_channel="banzai";f=this.config.vital_mode_for_ss?babelHelpers["extends"]({},b("Banzai").VITAL):{};f.signal=this.config.signal_mode_for_ss;this.logWithBanzai(e,f)}else e.transmission_channel="iframe",this.logWithIFrame(Object.assign(e,d));if(b("gkx")("876709"))try{g=JSON.parse(b("DataAttributeUtils").getDataFt(this.element));c=g.page_id;h=g.top_level_post_id;a=g.fbfeed_location;c&&h&&l("page_post_impression",h,a)}catch(a){b("BanzaiODS").bumpEntityKey(2966,"impression_logging_debug","viewable_session_validation_exception."+a.message)}};c.logNonViewableImpression=function(){if(this.config.nonviewableEnabled){var a=this.getToken();b("Banzai").post("xtrackable:nonviewable",{xt:a})}this.isNonViewableLogged=!0};c.isLogged=function(){return this.iframeLogged||this.banzaiLogged};c.reset=function(){this.iframeLogged&&(this.iframeLogged=!1),this.iframe&&(b("DOM").remove(this.iframe),this.iframe=null),this.banzaiLogged&&(this.banzaiLogged=!1),this.isNonViewableLogged=!1,this.isVisible=!1,this.waitForLogged=!1,this.waitForDelayLogged=!1,this.waitForSubsequent=!1};c.logWithBanzai=function(a,c){this.banzaiLogged=!0;b("BrowseClientEventLogger").maybeLogClientViewEvent(a);b("Banzai").post("xtrackable:clientview_batch",a,c);b("cr:1095628")&&b("cr:1095628")(b("ViewabilityFramework").VIEWABLE_TRACKER_BLUE,this.element,"log","blue");if(this.config.log_viewability_events_for_infra_validation){c=babelHelpers["extends"]({},b("Banzai").VITAL);c.signal=!0;b("Banzai").post("viewability_events:"+b("ViewabilityFramework").VIEWABLE_TRACKER_BLUE_AFTER_DEDUP,babelHelpers["extends"]({},a,{fbfeed_location:b("FBImpressionValidationUtils").getFBFeedLocation(this.element),scroll_speed:b("cr:943110")?b("cr:943110")():null,time_from_load:b("getCentralImpressionTimeAfterRefresh")(),sk:b("WebSession").getId()}),c)}};c.logWithIFrame=function(a){this.iframeLogged=!0,this.config.is_instream_story?b("NonBlockingIFrame").loadIFrame(new(j||(j=b("URI")))(this.config.impressionURL).addQueryData(a).toString()):(this.iframe=b("DOM").create("iframe",{src:new(j||(j=b("URI")))(this.config.impressionURL).addQueryData(a).toString(),width:0,height:0,frameborder:0,scrolling:"no",className:"fbEmuTracking"}),this.iframe.setAttribute("aria-hidden","true"),b("DOM").appendContent(this.element,this.iframe))};c.$15=function(){var a=b("DataAttributeUtils").getDataAttribute(this.element,"data-dedupekey");if(a===null)return null;var c=this.$16();if(c===null||c.length===0)return null;var d=c.length;while(--d>=0){var e=b("DataAttributeUtils").getDataAttribute(c[d],"data-dedupekey");if(e!==null&&a===e)break}return d+1};c.$16=function(){var a=b("ge")("contentArea");if(a){var c="._5jmm";a=b("DOM").scry(a,c);return a.filter(function(a){return b("DataAttributeUtils").getDataAttribute(a,"data-dedupekey")})}else{c=b("ge")("m_newsfeed_stream");return c===null?null:c.getElementsByTagName("article")}};c.$17=function(){return 0};c.$11=function(){this.$17()&&(b("Style").set(this.element,"background-color","#abab9a"),b("Style").set(this.element,"outline","3px solid #abab9a"))};c.$13=function(){this.$17()&&(b("Style").set(this.element,"background-color","#e4f70a"),b("Style").set(this.element,"outline","3px solid #e4f70a"))};c.$14=function(){this.$17()&&(b("Style").set(this.element,"background-color",null),b("Style").set(this.element,"outline",null))};c.$12=function(){this.$17()&&(b("Style").set(this.element,"background-color","#047515"),b("Style").set(this.element,"outline","3px solid #047515"))};return a}();b("mixInEventEmitter")(a,{visible:!0,hidden:!0,full_view:!0,viewability:!0,viewport_viewability:!0,viewability_debug:!0});e.exports=a}),null);
__d("ViewabilityDurationSegmentLogger",["Banzai","PercentVisible","ViewableImpressionTracker"],(function(a,b,c,d,e,f){"use strict";var g=8e3;a=function(){a.logFromViewableImpressionTracker=function(b){var c=new a();c.subscribeToTrackerEvents(b)};function a(){this.$1=new Map(),this.$2=new Map(),this.$3=new Map(),this.$4=new Map(),this.$5=new Map()}var c=a.prototype;c.subscribeToTrackerEvents=function(a){a.addListener("viewability",this.onViewable.bind(this)),a.addListener("viewport_viewability",this.onViewport.bind(this)),a.addListener("hidden",this.onHidden.bind(this))};c.onViewable=function(a){var c=a.id,d=a.percentVisible,e=Date.now(),f;switch(d){case b("PercentVisible").VISIBLE_0_PCT:d=this.$1.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_0_PCT,e,"feed_unit"):this.$7(d,c,e);d=this.$2.get(c);d&&(f=this.$8(d,c,e,!0),this.$9(f,c));d=this.$4.get(c);d&&(f=this.$8(d,c,e,!0),this.$9(f,c));break;case b("PercentVisible").VISIBLE_50_PCT:d=this.$1.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_0_PCT,e,"feed_unit"):this.$7(d,c,e);d=this.$2.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_50_PCT,e,"feed_unit"):this.$7(d,c,e);d=this.$4.get(c);d&&(f=this.$8(d,c,e,!0),this.$9(f,c));break;case b("PercentVisible").VISIBLE_100_PCT:d=this.$1.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_0_PCT,e,"feed_unit"):this.$7(d,c,e);d=this.$2.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_50_PCT,e,"feed_unit"):this.$7(d,c,e);d=this.$4.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_100_PCT,e,"feed_unit"):this.$7(d,c,e);break}};c.onViewport=function(a){var c=a.id,d=a.percentVisible,e=Date.now(),f;switch(d){case b("PercentVisible").VISIBLE_0_PCT:d=this.$3.get(c);d&&(f=this.$8(d,c,e,!0),this.$9(f,c));d=this.$5.get(c);d&&(f=this.$8(d,c,e,!0),this.$9(f,c));break;case b("PercentVisible").VISIBLE_50_PCT:d=this.$3.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_50_PCT,e,"viewport"):this.$7(d,c,e);d=this.$5.get(c);d&&(f=this.$8(d,c,e,!0),this.$9(f,c));break;case b("PercentVisible").VISIBLE_100_PCT:d=this.$3.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_50_PCT,e,"viewport"):this.$7(d,c,e);d=this.$5.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_100_PCT,e,"viewport"):this.$7(d,c,e);break}};c.onHidden=function(a){a=a.id;var b=Date.now(),c=this.$1.get(a),d=this.$2.get(a),e=this.$3.get(a),f=this.$4.get(a),g=this.$5.get(a);c&&this.$9(this.$8(c,a,b,!0),a);d&&this.$9(this.$8(d,a,b,!0),a);e&&this.$9(this.$8(e,a,b,!0),a);f&&this.$9(this.$8(f,a,b,!0),a);g&&this.$9(this.$8(g,a,b,!0),a)};c.$6=function(a,c,d,e){d={token:a.token,startedTrackingTS:d,percentVisible:c,visibilityUnit:e,intervalMs:0,cumulativeMs:0,segmentIdx:0};switch(c){case b("PercentVisible").VISIBLE_0_PCT:this.$1.set(a.id,d);break;case b("PercentVisible").VISIBLE_50_PCT:e==="feed_unit"?this.$2.set(a.id,d):this.$3.set(a.id,d);break;case b("PercentVisible").VISIBLE_100_PCT:e==="feed_unit"?this.$4.set(a.id,d):this.$5.set(a.id,d);break}};c.$8=function(a,c,d,e){d=d-a.startedTrackingTS;var f=d-a.cumulativeMs,g=a.percentVisible;f={token:a.token,startedTrackingTS:a.startedTrackingTS,percentVisible:g,visibilityUnit:a.visibilityUnit,intervalMs:f,cumulativeMs:d,segmentIdx:++a.segmentIdx};e&&(f.duration=d);switch(g){case b("PercentVisible").VISIBLE_0_PCT:this.$1.set(c,f);break;case b("PercentVisible").VISIBLE_50_PCT:a.visibilityUnit==="feed_unit"?this.$2.set(c,f):this.$3.set(c,f);break;case b("PercentVisible").VISIBLE_100_PCT:a.visibilityUnit==="feed_unit"?this.$4.set(c,f):this.$5.set(c,f);break}return f};c.$7=function(a,c,d){var e=a.intervalMs,f=d-a.startedTrackingTS-a.cumulativeMs;if(this.$10(e,f)){e=this.$8(a,c,d,!1);b("Banzai").post("xtrackable:viewability",e,b("Banzai").VITAL)}};c.$10=function(a,b){if(a>=g)return!1;if(a==0)return!0;if(a<1e3)return b>=1e3;a=a/1e3;b=b/1e3;return b>=2*a};c.$9=function(a,c){var d=a.percentVisible;switch(d){case b("PercentVisible").VISIBLE_0_PCT:this.$1["delete"](c);break;case b("PercentVisible").VISIBLE_50_PCT:a.visibilityUnit==="feed_unit"?this.$2["delete"](c):this.$3["delete"](c);break;case b("PercentVisible").VISIBLE_100_PCT:a.visibilityUnit==="feed_unit"?this.$4["delete"](c):this.$5["delete"](c);break}b("Banzai").post("xtrackable:viewability",a,b("Banzai").VITAL)};return a}();e.exports=a}),null);
__d("ViewableImpressionDurationLogger",["Banzai"],(function(a,b,c,d,e,f){"use strict";a=function(){a.logFromViewableImpressionTracker=function(b){var c=new a();c.subscribeToTrackerEvents(b)};function a(){this.$1=new Map()}var c=a.prototype;c.subscribeToTrackerEvents=function(a){a.addListener("visible",this.onElementVisible.bind(this)),a.addListener("hidden",this.onElementHidden.bind(this))};c.onElementVisible=function(a){if(this.$1.get(a.id))return null;var b={token:a.token,startedTrackingTS:this.getTimeNow()};this.$1.set(a.id,b);return b};c.onElementHidden=function(a){var b=this.$1.get(a.id);if(!b)return!1;b.trackingDuration=this.getTimeNow()-b.startedTrackingTS;return this.sendLog(a.id)};c.sendLog=function(a){var c=this.$1.get(a);if(!c||!c.trackingDuration)return!1;b("Banzai").post("xtrackable:duration",c);this.$1["delete"](a);return!0};c.getTimeNow=function(){return parseFloat((Date.now()/1e3).toFixed(2))};return a}();e.exports=a}),null);
__d("ViewableImpressionHeatmapLogger",["Banzai"],(function(a,b,c,d,e,f){a=function(){"use strict";a.logFromViewableImpressionTracker=function(b,c){c=new a(c);c.subscribeToTrackerEvents(b)};function a(a){this.loggingDurationMS=a,this.trackingEntries={}}var c=a.prototype;c.subscribeToTrackerEvents=function(a){this.visibleSubscription=a.addListener("visible",this.onElementVisible,this),this.hiddenSubscription=a.addListener("hidden",this.onElementHidden,this)};c.onElementVisible=function(a){var b=this.getCurrentTimestamp(),c=this.trackingEntries[a.id];c||(c=this.createTrackingEntry(a),this.beginTracking(a.id,c),b=c.startedTrackingTS);c.viewportProgressEvents.push({timestamp:b,percentInViewport:a.percentInViewport.toFixed(2)})};c.onElementHidden=function(a){var b=this.getCurrentTimestamp();a=this.trackingEntries[a.id];if(!a)return;a.viewportProgressEvents.push({timestamp:b,percentInViewport:0})};c.onTrackingCompleted=function(a){var b=this.trackingEntries[a];b.viewportProgressEvents.push({timestamp:this.getCurrentTimestamp(),percentInViewport:b.tracker.getPercentInViewport().toFixed(2)});this.$1()&&this.$2(a,b);this.logToServer(b);delete this.trackingEntries[a]};c.logToServer=function(a){a=a;delete a.tracker;b("Banzai").post("xtrackable:heatmap",a)};c.beginTracking=function(a,b){var c=this;this.trackingEntries[a]=b;setTimeout(function(){return c.onTrackingCompleted(a)},this.loggingDurationMS)};c.createTrackingEntry=function(a){return{tracker:a.tracker,token:a.token,startedTrackingTS:this.getCurrentTimestamp(),viewportProgressEvents:[]}};c.getCurrentTimestamp=function(){return(Date.now()/1e3).toFixed(2)};c.$1=function(){return 0};c.$2=function(a,b){var c="Completed tracking for id "+a+" token="+b.token+" startedTrackingTS="+b.startedTrackingTS+"\n";b.viewportProgressEvents.forEach(function(a){c+="% in view: "+a.percentInViewport+" timestamp="+a.timestamp+"\n"})};return a}();e.exports=a}),null);
__d("ViewableImpressionEventHandler",["DataAttributeUtils","FullViewLogger","ViewabilityDurationSegmentLogger","ViewableImpressionDurationLogger","ViewableImpressionHeatmapLogger","ViewableImpressionTracker","VisibilityTracking"],(function(a,b,c,d,e,f){"use strict";var g=1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.extraInit=function(){this.impressionTrackers={}};d.getDataFromConfig=function(b){a.prototype.getDataFromConfig.call(this,b),this.doHeatmapLogging=b.doHeatmapLogging,this.heatmapLoggingDurationMS=b.heatmapLoggingDurationMS,b.impressionURL=b.impressionURL!==void 0?b.impressionURL:"/xti.php",b.nonviewableEnabled=b.nonviewableEnabled!==void 0?b.nonviewableEnabled:!1};d.getImpressionTracking=function(a){var c=this.getElementID(a),d=this.impressionTrackers[c];if(!d){var e=babelHelpers["extends"]({},this.getConfigFromElement(a),this.config);d=new(b("ViewableImpressionTracker"))(c,a,e);this.impressionTrackers[c]=d;e.log_impression_duration&&b("ViewableImpressionDurationLogger").logFromViewableImpressionTracker(d);this.doHeatmapLogging&&b("ViewableImpressionHeatmapLogger").logFromViewableImpressionTracker(d,this.heatmapLoggingDurationMS);e.should_log_full_views&&b("FullViewLogger").logFromViewableImpressionTracker(d);e.should_log_viewability_duration&&b("ViewabilityDurationSegmentLogger").logFromViewableImpressionTracker(d)}return d};d.handleEvent=function(a,b){var c=this.getImpressionTracking(a);if(!c)return;if(b.name==="visible")c.onVisible(b),this.visibleElementInfo[c.getID()]||(this.visibleElementInfo[c.getID()]={elem:a});else if(b.name==="hidden"){a=c.getConfig();b.cause==="default"||a.log_visibility_hidden_when_browser_inactive&&b.cause==="browser"||a.addCauseToAllHiddenEvents&&(b.cause==="updateVisible"||b.cause==="unload")?(c.onHidden(b.cause),delete this.visibleElementInfo[c.getID()]):b.cause==="removed"&&(c.onRemoved(),delete this.visibleElementInfo[c.getID()],delete this.impressionTrackers[c.getID()])}};d.isInstreamAdStoryElement=function(a){a=babelHelpers["extends"]({},this.getConfigFromElement(a),this.config);return!!a.is_instream_story};d.getConfigFromElement=function(a){return JSON.parse(b("DataAttributeUtils").getDataAttribute(a,"data-xt-vimp"))};d.getElementID=function(a){a.getAttribute("id")||a.setAttribute("id","xt_uniq_"+g++);return a.getAttribute("id")};return c}(b("VisibilityTracking"));e.exports=a}),null);
__d("GamesVideoStreamerDashboardGoalDeleteMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1848069258622226"};b.getQueryID=function(){return"2170418329885943"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("XAdsEducationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/about/",{page_number:{type:"Enum",defaultValue:0,enumType:0},entry_product:{type:"Enum",enumType:1}})}),null);
__d("XAdsPreferencesAdInfoController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/waist_content/dialog/",{id:{type:"Int"},client_token:{type:"String"},optout_url:{type:"String"},page_type:{type:"Int"},rtb_partner_id:{type:"Int"},serialized_nfx_action_info:{type:"String"},session_id:{type:"String"},use_adchoices:{type:"Bool",defaultValue:!1},tracking:{type:"String"},matched_asset_target_rule_id:{type:"Int"},__asyncDialog:{type:"Int"}})}),null);
__d("XBrowseLoggerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/browse/logger/",{data:{type:"HackType",required:!0}})}),null);
__d("XCMSBlockDeliveryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/cms/render_block/",{})}),null);
__d("XCommerceProductItemsDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/products/{item_id}/_dialog/",{rid:{type:"Int"},rt:{type:"Enum",enumType:0},location:{type:"Enum",enumType:1},share_id:{type:"Int"},surface:{type:"String"},ref:{type:"String"},referral_story_type:{type:"Enum",enumType:1},referral_code:{type:"String"},marketplace_initial_tracking:{type:"String"},marketplace_referral_story_type:{type:"Enum",enumType:1},marketplace_tracking:{type:"String"},item_id:{type:"Int",required:!0},is_sponsored:{type:"Int"},preview_image_id:{type:"Int"},ad_id:{type:"String"}})}),null);
__d("XCommerceVerticalProductTypeaheadAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/commerce/verticals/products/typeahead/",{value:{type:"String"},existing_ids:{type:"String"},search_options:{type:"String"},make:{type:"String"},model:{type:"String"},trim:{type:"String"},year:{type:"Int"},category:{type:"String"},vehicle_type:{type:"String"},suggestion_surface:{type:"String"},use_canonical_ids:{type:"Bool",defaultValue:!1}})}),null);
__d("XEventPromotionAlertInterestedController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/overlay/live_music/event/",{event_id:{type:"Int"},interested_or_going:{type:"Bool",defaultValue:!1}})}),null);
__d("XGamesVideoFollowGameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/gaming/follow_game/",{game_id:{type:"FBID",required:!0},is_follow:{type:"Bool",defaultValue:!1}})}),null);
__d("XGamesVideoStreamerGoalInfoController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/gaming/streamer/goal/{?goal_id}/",{goal_id:{type:"FBID",required:!0},star_alerts:{type:"Bool",defaultValue:!0},share_alerts:{type:"Bool",defaultValue:!0},reaction_alerts:{type:"Bool",defaultValue:!1},star_sounds:{type:"Enum",enumType:1},stream_chain_alerts:{type:"Bool",defaultValue:!0},supporter_alerts:{type:"Bool",defaultValue:!0},subscription_gift_alerts:{type:"Bool",defaultValue:!0},charitable_donation_alerts:{type:"Bool",defaultValue:!0},clip_alerts:{type:"Bool",defaultValue:!0},page:{type:"String"}})}),null);
__d("XGroupCommerceMarketplaceProductDetailMessageButtonController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace/message_button/",{sale_post_id:{type:"String",required:!0}})}),null);
__d("XGroupCommerceMarketplaceProductDetailUFIController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace/product_detail_ufi/",{sale_post_id:{type:"String",required:!0},ufi_instance_id:{type:"String",required:!0}})}),null);
__d("XGroupDiscoverTabLoggingAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/discover/logging/",{tracking:{type:"String"},event:{type:"String",required:!0}})}),null);
__d("XGroupsCancelJoinRequestAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/groups/confirm_cancel_join_dialog/",{group_id:{type:"FBID",required:!0},response_type:{type:"Enum",enumType:1},ref:{type:"Enum",enumType:1},cancel_remote_uid:{type:"FBID"},element_selector:{type:"String"}})}),null);
__d("XGroupsMembershipCriteriaAnswerDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/membership_criteria_answer/edit/",{group_id:{type:"Int",required:!0},source:{type:"Enum",required:!0,enumType:1},redirect_to_group:{type:"Bool",defaultValue:!1},__asyncDialog:{type:"Int"}})}),null);
__d("XGroupsRequestToJoinRequestAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/membership/r2j/",{group_id:{type:"FBID"},ref:{type:"Enum",enumType:1},unconnected_source:{type:"String"},page_id:{type:"FBID"},ego_id:{type:"String"},ad_client_token:{type:"String"},replace_join_button:{type:"Bool",defaultValue:!0},redirect_to_group:{type:"Bool",defaultValue:!1},client_custom_questions:{type:"Bool",defaultValue:!1},element_selector:{type:"String"},vaccine_warning_confirmed:{type:"Bool",defaultValue:!1},integrity_warning_confirmed:{type:"Bool",defaultValue:!1},vax_reset_page_self_join_button:{type:"Bool",defaultValue:!1},integrity_reset_page_self_join_button:{type:"Bool",defaultValue:!1}})}),null);
__d("XLiveScheduleSubscriptionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live_video_schedule/subscription/",{video_broadcast_schedule_id:{type:"FBID"},video_id:{type:"FBID"},subscribe:{type:"Bool",defaultValue:!1},origin:{type:"String"},suborigin:{type:"String"}})}),null);
__d("XLiveSubscriptionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/subscribe/",{video_id:{type:"Int"},action:{type:"Enum",enumType:1},subscription_surface:{type:"Enum",defaultValue:"www_video_overlay",enumType:1}})}),null);
__d("XLiveVideoMakeAnnouncementController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live_video/make_announcement/",{broadcast_id:{type:"FBID",required:!0},announcement_type:{type:"Enum",required:!0,enumType:1},announcement_game_id:{type:"FBID"},target_page_id:{type:"FBID"},goal_id:{type:"FBID"}})}),null);
__d("XLiveVideoPollsVoteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/livevideo/polls/vote/",{poll_id:{type:"FBID"},poll_option_id:{type:"FBID"},undo_vote:{type:"Bool",defaultValue:!1},video_id:{type:"FBID"},live_video_card_id:{type:"FBID"}})}),null);
__d("XLiveVideoRegisterCUEImpressionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/overlay/register_impression/",{video_id:{type:"FBID",required:!0}})}),null);
__d("XLoggedOutInlineLoginDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logged_out_inline_modal/content/",{redirect_uri:{type:"String"}})}),null);
__d("XMarketplaceB2CUnifiedLandingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace/b2c_unified_landing/",{source_type:{type:"Enum",enumType:1},source_params:{type:"String"},referral_code:{type:"String"}})}),null);
__d("XMarketplaceCategoryBrowseController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace/{location_id}/{category_id}/",{location_id:{type:"String",required:!0},category_id:{type:"String",required:!0},time:{type:"Int"},ref:{type:"String"},radius_in_km:{type:"String"},ref_object_id:{type:"String"},bedrooms:{type:"Int"},type:{type:"String"},top_level_vehicle_type:{type:"String"},vehicle_type:{type:"String"},vehicle_make:{type:"String"},vehicle_model:{type:"String"},vehicle_is_dealership:{type:"Int"},vehicle_is_manual_transmission:{type:"Int"},seller_type:{type:"String"},condition:{type:"String"},min_price:{type:"Int"},max_price:{type:"Int"},min_vehicle_year:{type:"Int"},max_vehicle_year:{type:"Int"},max_bedrooms:{type:"Int"},min_bedrooms:{type:"Int"},max_rooms:{type:"Int"},min_rooms:{type:"Int"},max_bathrooms:{type:"Int"},min_bathrooms:{type:"Int"},max_floor_area:{type:"Int"},min_floor_area:{type:"Int"},cat_friendly:{type:"Int"},dog_friendly:{type:"Int"},property_type:{type:"String"},sale_type:{type:"String"},construction_status:{type:"String"}})}),null);
__d("XMarketplaceECommGamesUpsellProductDetailsAsyncDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace/ecommerce/games_upsell/product_details/{item_id}/",{item_id:{type:"FBID",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("XMarketplaceHomePageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace/{?*rest}/",{rest:{type:"String"},ref:{type:"String"},ref_object_id:{type:"Int"},launch_creation:{type:"Bool",defaultValue:!1},query:{type:"String"},seller_profile:{type:"Int"},sold_by:{type:"String"},serp_query:{type:"String"},latitude:{type:"Float"},longitude:{type:"Float"},for_sale_item_id:{type:"FBID"}})}),null);
__d("XMarketplaceLoggedOutLoginDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace/logged_out_modal/content/",{redirect_uri:{type:"String"},__asyncDialog:{type:"Int"}})}),null);
__d("XMarketplaceMessageSellerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace/_message_seller/",{for_sale_item_id:{type:"Int"},initial_clicked_component:{type:"String"},initial_tracking:{type:"String"},message:{type:"String"},referral_surface:{type:"String"},referral_story_type:{type:"String"},referral_ui_component:{type:"String"},surface:{type:"String"},tracking:{type:"String"},ui_component:{type:"String"},ad_id:{type:"String"}})}),null);
__d("XMarketplacePostPermalinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace/item/{listing_id}/",{listing_id:{type:"FBID"},ref:{type:"String"},location_id:{type:"Int"},category_id:{type:"Int"},post_id:{type:"FBID"},search_query:{type:"String"},link_ref:{type:"String"},ad_id:{type:"String"},group_id:{type:"FBID"},hoisted_items:{type:"IntVector"},tracking:{type:"String"},referral_code:{type:"String"}})}),null);
__d("XMarketplaceRecordPDPTimeSpentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace/pdp-time-spent/",{})}),null);
__d("XMarketplaceSearchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace/search/",{callsite:{type:"String"},category_id:{type:"String"},hoisted_item:{type:"FBID"},query:{type:"String",required:!0},ref:{type:"String"}})}),null);
__d("XMarketplaceSellYourItemsOnMarketplaceXOutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace/_sell_your_items_on_marketplace_xout/",{get_is_xout:{type:"Bool",defaultValue:!1},increment_impression_count:{type:"Bool",defaultValue:!1},set_is_xout_true:{type:"Bool",defaultValue:!1},set_is_xout_false:{type:"Bool",defaultValue:!1}})}),null);
__d("XMarketplaceSellingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/marketplace/selling/",{ref:{type:"String"},tab:{type:"Enum",enumType:1},page_id:{type:"FBID"},post_id:{type:"FBID"},launch_creation:{type:"Int"},vertical:{type:"Enum",enumType:1}})}),null);
__d("XMessengerActionLinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger-destination/cta/",{ad_id:{type:"Int"},adgroup_id:{type:"Int"},page_id:{type:"Int"},is_preview:{type:"Bool",defaultValue:!1},post_id:{type:"Int"},cta_label:{type:"Enum",enumType:1},is_photo_viewer:{type:"Bool",defaultValue:!1},product_id:{type:"Int"}})}),null);
__d("XNeedleSearchSurveyAfterEntityNavController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/serp/survey/",{})}),null);
__d("XRelayBootloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/relay/bootload/",{component:{type:"String",required:!0},params:{type:"String",required:!0},route:{type:"String",required:!0},uri:{type:"String",required:!0}})}),null);
__d("XSearchBEMUnitDataLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/log_bem_unit_data/",{session_id:{type:"String",required:!0},logging_unit_id:{type:"String",required:!0},query:{type:"String",required:!0},query_function:{type:"String",required:!0},results_module_role:{type:"String",required:!0},tapped_result_entity_id:{type:"String"},entity_ids:{type:"StringSet"},bootstrap_item_count:{type:"Int"},should_log_module_impression:{type:"Bool",defaultValue:!1},is_high_confidence_module:{type:"Bool",defaultValue:!1}})}),null);
__d("XSearchBrowseActionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/browse_actions/",{id:{type:"String",required:!0},result_type:{type:"String",required:!0},session_id:{type:"String",required:!0},query:{type:"String",required:!0},logging_unit_id:{type:"String",required:!0},actions_id:{type:"String"}})}),null);
__d("XSearchProfilePictureController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/profile_picture/",{fbid:{type:"FBID",required:!0},width:{type:"Int",required:!0},height:{type:"Int",required:!0}})}),null);
__d("XTypeaheadReportController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/typeahead/search_suggestion_report/",{search_suggestion:{type:"String",required:!0},typed_query:{type:"String",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("XVODStreamingReactionsAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/vodreactions/",{eft_id:{type:"String",required:!0},start_time:{type:"Float",required:!0},end_time:{type:"Float",required:!0}})}),null);
__d("XVanityURLController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{vanity}/",{and:{type:"String"},filter:{type:"Int"},sk:{type:"String"},v:{type:"String"},vanity:{type:"String",required:!0},__xts__:{type:"StringVector"},__tn__:{type:"String"},redto:{type:"String"}})}),null);
__d("XVideoHomeShowController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/watch/{?section_id}/",{from:{type:"String"},section_id:{type:"String"},query:{type:"String"},video_id:{type:"String"},upstream_player_source:{type:"Enum",enumType:1},start_timestamp_s:{type:"Int"},autoplay_expanded:{type:"Bool",defaultValue:!1}})}),null);
__d("XVideoPollVoteCardTallyController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/poll_tally/",{poll_id:{type:"Int",required:!0},video_id:{type:"Int",required:!0}})}),null);
__d("XWarmUserRequestArgsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/browse/warm/requestargs/",{query:{type:"String"},csid:{type:"String"}})}),null);
__d("XWoodhengeSignupFlowDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/becomesupporter/dialog/",{page_id:{type:"FBID",required:!0},surface:{type:"String"},entrypoint_surface:{type:"String"},post_id:{type:"String"}})}),null);
__d("XWorkInviteCoworkersDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/invite_coworkers/dialog/",{source:{type:"Enum",required:!0,enumType:1},group_id:{type:"FBID"},undelivered_users:{type:"FBIDVector"},__asyncDialog:{type:"Int"}})}),null);