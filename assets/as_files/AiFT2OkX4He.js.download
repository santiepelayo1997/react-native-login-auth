if (self.CavalryLogger) { CavalryLogger.start_js(["UkU7+"]); }

__d("FBRTCConfig",["CurrentUser"],(function(a,b,c,d,e,f){var g=!1,h=null,i=null,j=0,k={};a={setConfig:function(a){var b=a.isVCEndpointCall,c=a.meetingID,d=a.meetingPassword,e=a.peerID;a=a.serverConfig;g=b;h=c;i=d;j=e;k=a},isVCEndpointCall:function(){return g},getMeetingID:function(){return h},getMeetingPassword:function(){return i},getPeerID:function(){return j},statsInterpreterConfig:function(){return{bad_score_count:3,frr_weight:800,plr_weight:500,rtt_weight:2,score_threshold:1e3}},unsupportedBrowserUrl:function(){if(k.troubleshooting_urls&&k.troubleshooting_urls.unsupported_browser)return k.troubleshooting_urls.unsupported_browser;if(b("CurrentUser").isWorkUser())return"https://www.facebook.com/help/work/919532078125908";else return"https://www.facebook.com/help/211644178877843"},userMediaErrorUrl:function(){if(k.troubleshooting_urls&&k.troubleshooting_urls.user_media_error)return k.troubleshooting_urls.user_media_error;if(b("CurrentUser").isWorkUser())return"https://www.facebook.com/help/work/180714775754632";else return"https://www.facebook.com/help/232232800134371"},userMediaPermissionErrorUrl:function(){if(k.troubleshooting_urls&&k.troubleshooting_urls.user_media_permission_error)return k.troubleshooting_urls.user_media_permission_error;if(b("CurrentUser").isWorkUser())return"https://www.facebook.com/help/work/180714775754632";else return"https://www.facebook.com/help/232232800134371"},isMessengerDotCom:function(){return k.is_messenger_dot_com},useMessengerCallUI:function(){return k.messenger_call_ui},shouldUseHDVideoQuality:function(){return k.use_hd_video_quality},shouldCreateDataChannel:function(){return k.data_channel},disableURLManager:function(){return k.disable_url_manager}};e.exports=a}),null);
__d("keyMirror",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a){var c={};if(!(a instanceof Object&&!Array.isArray(a)))throw b("unrecoverableViolation")("keyMirror(...): Argument must be an object.","comet_infra");for(var d in a){if(!Object.prototype.hasOwnProperty.call(a,d))continue;c[d]=d}return c}e.exports=a}),null);
__d("FBRTCConstants",["keyMirror"],(function(a,b,c,d,e,f){a=Object.freeze({OFFER:"offer",ANSWER:"answer",ICE_CANDIDATE:"ice_candidate",OK:"ok",PING:"ping",PING_ACK:"ping_ack",HANGUP:"hang_up",OTHER_DISMISS:"other_dismiss",MSG_ACK:"msg_ack",PRANSWER:"pranswer",ICERESTART_OFFER:"icerestart_offer",ICERESTART_ANSWER:"icerestart_answer",PCRESTART_OFFER:"pcrestart_offer",PCRESTART_ANSWER:"pcrestart_answer",SDP_UPDATE:"sdp_update",OFFER_ACK:"offer_ack",OFFER_NACK:"offer_nack",ANSWER_ACK:"answer_ack",SET_VIDEO:"set_video",VIDEO_REQUEST:"video_request",ACK:"ack",SWITCH_TO_MULTIWAY:"switch_to_multiway",CLIENT_REPORTED_EVENT:"client_reported_event"});c=Object.freeze({CHILD_WINDOW_READY:"rtc_child_window_ready",CHILD_WINDOW_START_CALL:"rtc_child_window_start_call",CHILD_WINDOW_MESSAGE:"rtc_child_window_message"});d=Object.freeze({DIRECT_VIDEO:"direct_video",ESCALATED:"escalated",ESCALATION_DECLINED:"escalation_declined",VOIP:"voip"});f=b("keyMirror")({SCREEN:null,CAMERA:null});var g=Object.freeze({LL_NONE:0,LL_BASIC:1,LL_DEBUG:2,LL_WARNING:3,LL_INFO:4,LL_VERBOSE:5}),h=Object.freeze({AUDIO_ONLY:"audio_only",AUDIO_VIDEO:"audio_video",SCREEN_CONTENT:"screen"}),i=Object.freeze({CUSTOM_VIDEO_STREAM_SIZE:"CUSTOM_VIDEO_STREAM_SIZE",CUSTOM_VIDEO:"CUSTOM_VIDEO",FHD_VIDEO:"FHD_VIDEO",HD_VIDEO:"HD_VIDEO",LQ_VIDEO:"LQ_VIDEO",SD_VIDEO:"SD_VIDEO",HD_IDEAL_LQ_REQUIRED_VIDEO:"HD_IDEAL_LQ_REQUIRED_VIDEO",FHD_IDEAL_LQ_REQUIRED_VIDEO:"FHD_IDEAL_LQ_REQUIRED_VIDEO"}),j=Object.freeze({FHD_HEIGHT:1080,HD_HEIGHT:720,LQ_HEIGHT:180,SD_HEIGHT:480,FHD_WIDTH:1920,HD_WIDTH:1280,LQ_WIDTH:320,SD_WIDTH:848,VLQ_FRAME_RATE:5,LQ_FRAME_RATE:15,FRAME_RATE:30}),k=Object.freeze({UNKNOWN:-1,IGNORE_CALL:0,HANGUP_CALL:1,IN_ANOTHER_CALL:2,ACCEPT_AFTER_HANGUP:3,NO_ANSWER_TIMEOUT:4,INCOMING_TIMEOUT:5,OTHER_INSTANCE_HANDLED:6,SIGNALING_MESSAGE_FAILED:7,CONNECTION_DROPPED:8,CLIENT_INTERRUPTED:9,WEBRTC_ERROR:10,CLIENT_ERROR:11,NO_PERMISSION:12,OTHER_NOT_CAPABLE:13,NO_UI_ERROR:14,UNSUPPORTED_VERSION:15,CALLER_NOT_VISIBLE:16,CARRIER_BLOCKED:17,OTHER_CARRIER_BLOCKED:18,CLIENT_ENCRYPTION_ERROR:19,INACTIVE_TIMEOUT:20,KILLED:21}),l=["IgnoreCall","HangupCall","InAnotherCall","CallEndAcceptAfterHangUp","NoAnswerTimeout","IncomingTimeout","OtherInstanceHandled","SignalingMessageFailed","ConnectionDropped","ClientInterrupted","WebRTCError","ClientError","NoPermission","OtherNotCapable","NoUIShown","VersionUnsupported","CallerNotVisible","CarrierBlocked","OtherCarrierBlocked","ClientEncryptionError","InactiveTimeout","Killed"],m=Object.freeze({CALL_INITIALIZATION_FAILED:"CollabCallInitializationFailed",CLOSED_AS_STALE:"CollabClosedAsStale",CLOSED_BY_MCU:"CollabClosedByMcu",INVALID_MEETING_ID:"CollabInvalidMeetingId",LOST_MCU_CONNECTION:"CollabLostMcuConnection",LOST_MCU_THRIFT_CONNECTION:"CollabLostMcuThriftConnection",LOST_SIP_ADAPTER_CONNECTION:"CollabLostSipAdapterConnection",MCU_INVALID_STREAM_CONFIGURATION:"CollabMcuInvalidStreamConfiguration",MCU_NO_AUDIO_STREAM:"CollabMcuNoAudioStream",REMOTE_PEER_HANGUP:"CollabRemotePeerHangup",REMOTE_PEER_REJECT:"CollabRemotePeerReject",SIP_CONNECTION_INITIALIZATION_FAILED:"CollabSipConnectionInitializationFailed",AUDIO_ONLY_DISALLOWED:"CollabAudioOnlyDisallowed",UNKNOWN:"CollabUnknown",KILLED_VIA_THRIFT_API:"CollabKilledViaThriftApi"}),n=Object.freeze({TOGGLE_SELF_VIEW:5,SUBMIT_STAR_RATING:6,SUBMIT_FEEDBACK:7,START_CALL:9,OPEN_SCREEN_IN_NEW:10}),o=Object.freeze({ONE_HOUR:"1hour",UNTIL_EIGHT_AM:"8am",ALWAYS:"always"});b=b("keyMirror")({AUDIO:null,VIDEO:null});var p=Object.freeze({CUSTOM:"custom",MULTIWAY:"multiway",P2P:"p2p"}),q=Object.freeze({DOMINANT_SPEAKER:"DOMINANT_SPEAKER",GRID:"GRID"}),r=Object.freeze({LANDSCAPE:"LANDSCAPE",PORTRAIT:"PORTRAIT"}),s=Object.freeze({UNKNOWN:0,MEDIA_CONNECTED:1}),t=Object.freeze({PLAN_B:"plan-b",UNIFIED_PLAN:"unified-plan"});o={CallBlockingConstants:o,CallEndReason:k,CallType:d,ChildWindowMessageType:c,CollabCallEndSubreason:m,GroupVideoViewLayout:q,IncomingCallDialogTypes:b,Orientation:r,PayloadType:a,RTCConstraints:j,SDPSemantics:t,SignalingProtocol:p,StreamType:h,UIEventType:n,UploadLogLevel:g,VideoQuality:i,MediaContentTypes:f,ClientReportedEventType:s,convertFromUploadLogLevel:function(a){switch(a){case g.LL_DEBUG:return"d";case g.LL_BASIC:return"b";case g.LL_WARNING:return"w";case g.LL_INFO:return"i";case g.LL_VERBOSE:return"v";case g.LL_NONE:default:return null}},convertToUploadLogLevel:function(a){switch(a){case"d":return g.LL_DEBUG;case"b":return g.LL_BASIC;case"w":return g.LL_WARNING;case"i":return g.LL_INFO;case"v":return g.LL_VERBOSE;default:return g.LL_NONE}},uploadLogLevelString:function(a){switch(a){case g.LL_BASIC:return"basic";case g.LL_DEBUG:return"debug";case g.LL_WARNING:return"warning";case g.LL_INFO:return"info";case g.LL_VERBOSE:return"verbose";default:return""}},endCallReasonFromString:function(a){return l.indexOf(a)},callEndReasonString:function(a){a=l[a];return!a?"Unknown":a},fullCallEndReasonString:function(a,b){return this.callEndReasonString(a)+"_"+(b?"remote":"local")}};e.exports=o}),null);
__d("RTWebExperiments",["FBRTCConfig","qex"],(function(a,b,c,d,e,f){"use strict";a={enableCallCollisionFix:function(){return b("FBRTCConfig").isVCEndpointCall()?!1:b("qex")._("771668")},passOfferWithWindowMessages:function(){return b("FBRTCConfig").isVCEndpointCall()?!1:b("qex")._("771669")}};e.exports=a}),null);
__d("FBRTCLocalMessageQueue",["CacheStorage","FBRTCConstants","RTWebExperiments"],(function(a,b,c,d,e,f){var g="localstorage",h="RTC_",i="offer",j="offer_msg",k="data_",l=30*1e3,m=new Map(),n={STORAGE_TYPE:g,PREFIX:h,OFFER_KEY:i,OFFER_SUFFIX:j,DATA_KEY_PREFIX:k,CACHE_LIFE:l,clearQueue:function(a){m.set(a,new Map())},writePeerOfferToStorage:function(a,b){a=n.getStorage(a,j);n._storeData(a,i,b)},getPeerOfferFromStorage:function(a){a=n.getStorage(a,j);return n._getData(a,i)},clearPeerOfferFromStorage:function(a){a=n.getStorage(a,j);a.remove(i)},pluckOffer:function(a){if(b("RTWebExperiments").passOfferWithWindowMessages()){var c=m.get(a)||new Map(),d=c.get(i);c["delete"](i);return d||null}else{c=n.getPeerOfferFromStorage(a);n.clearPeerOfferFromStorage(a);return c||null}},enqueueMessage:function(a,c,d){c=k+c.toString();var e=m.get(a)||new Map();d.msg_type===b("FBRTCConstants").PayloadType.OFFER&&(c=i);e.set(c,d);m.set(a,e)},drainQueue:function(a,b){var c=m.get(a)||new Map();for(var c=c,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f[0];f=f[1];b(f)}m.set(a,new Map())},_storeData:function(a,b,c){c={__t:Date.now(),__d:c};a.set(b,c)},_getData:function(a,b){var c=a.get(b);if(c&&n._isValid(c))return c.__d;else c&&a.remove(b);return null},_getAndRemoveData:function(a,b){var c=n._getData(a,b);if(c!==null){a.remove(b);return c}return null},_isValid:function(a){return Date.now()-a.__t<l},getStorage:function(a,c){return new(b("CacheStorage"))(g,""+h+a+"_"+c+"_")}};e.exports=n}),null);
__d("uuid",[],(function(a,b,c,d,e,f){function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;a=a=="x"?b:b&3|8;return a.toString(16)})}e.exports=a}),null);
__d("ChannelClientID",["MqttWebDeviceID","uuid"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("MqttWebDeviceID")==null?void 0:b("MqttWebDeviceID").clientID)!=null?a:b("uuid")();c={getID:function(){return g}};e.exports=c}),null);
__d("SchedulerFeatureFlags",["gkx"],(function(a,b,c,d,e,f){a={enableSchedulerDebugging:!0,enableIsInputPending:!1,enableProfiling:b("gkx")("1099893"),enableMessageLoopImplementation:!0};e.exports=a}),null);
__d("Scheduler-dev.classic",["SchedulerFeatureFlags"],(function(a,b,c,d,e,f){"use strict"}),null);
__d("Scheduler-profiling.classic",["SchedulerFeatureFlags"],(function(b,c,d,e,f,g){"use strict";d=c("SchedulerFeatureFlags").enableIsInputPending;var h=c("SchedulerFeatureFlags").enableSchedulerDebugging,i=c("SchedulerFeatureFlags").enableProfiling,j,k,l,m;if("undefined"===typeof window||"function"!==typeof MessageChannel){var n=null,o=null,p=function b(){if(null!==n)try{var c=g.unstable_now();n(!0,c);n=null}catch(c){throw setTimeout(b,0),c}},q=Date.now();g.unstable_now=function(){return Date.now()-q};j=function(b){null!==n?setTimeout(j,0,b):(n=b,setTimeout(p,0))};k=function(b,c){o=setTimeout(b,c)};l=function(){clearTimeout(o)};m=function(){return!1};e=g.unstable_forceFrameRate=function(){}}else{var r=window.performance,s=window.Date,t=window.setTimeout,ba=window.clearTimeout;if("undefined"!==typeof console){f=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&!1;"function"!==typeof f&&!1}if("object"===typeof r&&"function"===typeof r.now)g.unstable_now=function(){return r.now()};else{var ca=s.now();g.unstable_now=function(){return s.now()-ca}}var u=!1,v=null,w=-1,x=5,y=0,z=!1;if(d&&void 0!==navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending){var da=navigator.scheduling;m=function(){var b=g.unstable_now();return b>=y?z||da.isInputPending()?!0:300<=b:!1};e=function(){z=!0}}else m=function(){return g.unstable_now()>=y},e=function(){};g.unstable_forceFrameRate=function(b){0>b||125<b?!1:x=0<b?Math.floor(1e3/b):5};c=new MessageChannel();var A=c.port2;c.port1.onmessage=function(){if(null!==v){var b=g.unstable_now();y=b+x;try{v(!0,b)?A.postMessage(null):(u=!1,v=null)}catch(b){throw A.postMessage(null),b}}else u=!1;z=!1};j=function(b){v=b,u||(u=!0,A.postMessage(null))};k=function(b,c){w=t(function(){b(g.unstable_now())},c)};l=function(){ba(w),w=-1}}function B(b,c){var d=b.length;b.push(c);a:for(;;){var e=d-1>>>1,f=b[e];if(void 0!==f&&0<E(f,c))b[e]=c,b[d]=f,d=e;else break a}}function C(b){b=b[0];return void 0===b?null:b}function D(b){var c=b[0];if(void 0!==c){var d=b.pop();if(d!==c){b[0]=d;a:for(var e=0,f=b.length;e<f;){var g=2*(e+1)-1,h=b[g],i=g+1,j=b[i];if(void 0!==h&&0>E(h,d))void 0!==j&&0>E(j,h)?(b[e]=j,b[i]=d,e=i):(b[e]=h,b[g]=d,e=g);else if(void 0!==j&&0>E(j,d))b[e]=j,b[i]=d,e=i;else break a}}return c}return null}function E(b,c){var d=b.sortIndex-c.sortIndex;return 0!==d?d:b.id-c.id}var F=0,G=0;f=i?"function"===typeof SharedArrayBuffer?new SharedArrayBuffer(4*Int32Array.BYTES_PER_ELEMENT):"function"===typeof ArrayBuffer?new ArrayBuffer(4*Int32Array.BYTES_PER_ELEMENT):null:null;var H=i&&null!==f?new Int32Array(f):[];i&&(H[0]=0,H[3]=0,H[1]=0);var I=0,J=null,K=null,L=0;function M(b){if(null!==K){var c=L;L+=b.length;if(L+1>I){I*=2;if(524288<I){N();return}var d=new Int32Array(4*I);d.set(K);J=d.buffer;K=d}K.set(b,c)}}function b(){I=131072,J=new ArrayBuffer(4*I),K=new Int32Array(J),L=0}function N(){var b=J;I=0;K=J=null;L=0;return b}function O(b,c){i&&(H[3]++,null!==K&&M([1,1e3*c,b.id,b.priorityLevel]))}var P=[],Q=[],ea=1,R=!1,S=null,T=3,U=!1,V=!1,W=!1;function X(b){for(var c=C(Q);null!==c;){if(null===c.callback)D(Q);else if(c.startTime<=b)D(Q),c.sortIndex=c.expirationTime,B(P,c),i&&(O(c,b),c.isQueued=!0);else break;c=C(Q)}}function Y(b){W=!1;X(b);if(!V)if(null!==C(P))V=!0,j(Z);else{var c=C(Q);null!==c&&k(Y,c.startTime-b)}}function Z(c,b){i&&i&&null!==K&&M([8,1e3*b,G]);V=!1;W&&(W=!1,l());U=!0;var d=T;try{if(i)try{return $(c,b)}catch(b){if(null!==S){var e=g.unstable_now();c=S;i&&(H[0]=0,H[1]=0,H[3]--,null!==K&&M([3,1e3*e,c.id]));S.isQueued=!1}throw b}else return $(c,b)}finally{S=null,T=d,U=!1,i&&(d=g.unstable_now(),i&&(G++,null!==K&&M([7,1e3*d,G])))}}function $(c,b){X(b);for(S=C(P);!(null===S||h&&R||S.expirationTime>b&&(!c||m()));){var d=S.callback;if(null!==d){S.callback=null;T=S.priorityLevel;var e=S.expirationTime<=b,f=S;i&&(F++,H[0]=f.priorityLevel,H[1]=f.id,H[2]=F,null!==K&&M([5,1e3*b,f.id,F]));d=d(e);b=g.unstable_now();"function"===typeof d?(S.callback=d,d=S,e=b,i&&(H[0]=0,H[1]=0,H[2]=0,null!==K&&M([6,1e3*e,d.id,F]))):(i&&(d=S,e=b,i&&(H[0]=0,H[1]=0,H[3]--,null!==K&&M([2,1e3*e,d.id])),S.isQueued=!1),S===C(P)&&D(P));X(b)}else D(P);S=C(P)}if(null!==S)return!0;c=C(Q);null!==c&&k(Y,c.startTime-b);return!1}function aa(b){switch(b){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}d=e;c=i?{startLoggingProfilingEvents:b,stopLoggingProfilingEvents:N,sharedProfilingBuffer:f}:null;g.unstable_IdlePriority=5;g.unstable_ImmediatePriority=1;g.unstable_LowPriority=4;g.unstable_NormalPriority=3;g.unstable_Profiling=c;g.unstable_UserBlockingPriority=2;g.unstable_cancelCallback=function(b){if(i&&b.isQueued){var c=g.unstable_now();i&&(H[3]--,null!==K&&M([4,1e3*c,b.id]));b.isQueued=!1}b.callback=null};g.unstable_continueExecution=function(){R=!1,V||U||(V=!0,j(Z))};g.unstable_getCurrentPriorityLevel=function(){return T};g.unstable_getFirstCallbackNode=function(){return C(P)};g.unstable_next=function(b){switch(T){case 1:case 2:case 3:var c=3;break;default:c=T}var d=T;T=c;try{return b()}finally{T=d}};g.unstable_pauseExecution=function(){R=!0};g.unstable_requestPaint=d;g.unstable_runWithPriority=function(b,c){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var d=T;T=b;try{return c()}finally{T=d}};g.unstable_scheduleCallback=function(b,c,d){var e=g.unstable_now();if("object"===typeof d&&null!==d){var f=d.delay;f="number"===typeof f&&0<f?e+f:e;d="number"===typeof d.timeout?d.timeout:aa(b)}else d=aa(b),f=e;d=f+d;b={id:ea++,callback:c,priorityLevel:b,startTime:f,expirationTime:d,sortIndex:-1};i&&(b.isQueued=!1);f>e?(b.sortIndex=f,B(Q,b),null===C(P)&&b===C(Q)&&(W?l():W=!0,k(Y,f-e))):(b.sortIndex=d,B(P,b),i&&(O(b,e),b.isQueued=!0),V||U||(V=!0,j(Z)));return b};g.unstable_shouldYield=function(){var b=g.unstable_now();X(b);var c=C(P);return c!==S&&null!==S&&null!==c&&null!==c.callback&&c.startTime<=b&&c.expirationTime<S.expirationTime||m()};g.unstable_wrapCallback=function(b){var c=T;return function(){var d=T;T=c;try{return b.apply(this,arguments)}finally{T=d}}}}),null);
__d("SchedulerFb-Internals_DO_NOT_USE",["ifRequireable","requestAnimationFramePolyfill","Scheduler-dev.classic","Scheduler-profiling.classic"],(function(a,b,c,d,e,f){"use strict";a.requestAnimationFrame===void 0&&(a.requestAnimationFrame=b("requestAnimationFramePolyfill"));var g;g=b("Scheduler-profiling.classic");var h=0;e.exports={unstable_ImmediatePriority:g.unstable_ImmediatePriority,unstable_UserBlockingPriority:g.unstable_UserBlockingPriority,unstable_NormalPriority:g.unstable_NormalPriority,unstable_LowPriority:g.unstable_LowPriority,unstable_IdlePriority:g.unstable_IdlePriority,unstable_getCurrentPriorityLevel:g.unstable_getCurrentPriorityLevel,unstable_runWithPriority:g.unstable_runWithPriority,unstable_next:g.unstable_next,unstable_now:g.unstable_now,unstable_scheduleCallback:function(a,c,d){var e=b("ifRequireable")("m#TimeSlice",function(a){return a.guard(c,"unstable_scheduleCallback",{propagationType:a.PropagationType.CONTINUATION,registerCallStack:!0})},function(){return c});a=g.unstable_scheduleCallback(a,e,d);var f="scheduler."+h++;a._id=f;b("ifRequireable")("m#TimeSlice",function(a){a.registerForCancelling(f,e)});return a},unstable_cancelCallback:function(a){var c=a._id;b("ifRequireable")("m#TimeSlice",function(a){a.cancelWithToken(c)});return g.unstable_cancelCallback(a)},unstable_wrapCallback:function(a){var c=b("ifRequireable")("m#TimeSlice",function(b){return b.guard(a,"unstable_wrapCallback",{propagationType:b.PropagationType.CONTINUATION,registerCallStack:!0})},function(){return a});return g.unstable_wrapCallback(c)},unstable_pauseExecution:function(){return g.unstable_pauseExecution()},unstable_continueExecution:function(){return g.unstable_continueExecution()},unstable_shouldYield:g.unstable_shouldYield,unstable_forceFrameRate:g.unstable_forceFrameRate,unstable_Profiling:g.unstable_Profiling}}),null);
__d("JSScheduler",["SchedulerFb-Internals_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";var g={unstable_Immediate:(c=b("SchedulerFb-Internals_DO_NOT_USE")).unstable_ImmediatePriority,unstable_UserBlocking:c.unstable_UserBlockingPriority,unstable_Normal:c.unstable_NormalPriority,unstable_Low:c.unstable_LowPriority,unstable_Idle:c.unstable_IdlePriority},h=!1,i=c.unstable_scheduleCallback,j=c.unstable_cancelCallback;a.__fbNativeSetTimeout||a.setTimeout;a.__fbNativeClearTimeout||a.clearTimeout;var k={priorities:g,shouldYield:b("SchedulerFb-Internals_DO_NOT_USE").unstable_shouldYield,getCurrentPriorityLevel:b("SchedulerFb-Internals_DO_NOT_USE").unstable_getCurrentPriorityLevel,runWithPriority:b("SchedulerFb-Internals_DO_NOT_USE").unstable_runWithPriority,defer:function(a){var b=k.getCurrentPriorityLevel();return i(b,a)},next:function(a){return b("SchedulerFb-Internals_DO_NOT_USE").unstable_next(a)},getCallbackScheduler:function(){var a=k.getCurrentPriorityLevel();return function(b){return i(a,b)}},getUserBlockingRunAtCurrentPriCallbackScheduler_DO_NOT_USE:function(){var a=k.getCurrentPriorityLevel();return function(c){return i(g.unstable_UserBlocking,function(){b("SchedulerFb-Internals_DO_NOT_USE").unstable_runWithPriority(a,c)})}},deferUserBlockingRunAtCurrentPri_DO_NOT_USE:function(a){var c=k.getCurrentPriorityLevel();return i(g.unstable_UserBlocking,function(){b("SchedulerFb-Internals_DO_NOT_USE").unstable_runWithPriority(c,a)})},scheduleNormalPriCallback:function(a){return i(g.unstable_Normal,a)},scheduleLoggingPriCallback:function(a){return i(g.unstable_Low,a)},scheduleSpeculativeCallback:function(a){return i(g.unstable_Idle,a)},cancelCallback:function(a){j(a)},scheduleDelayedCallback_DO_NOT_USE:function(a,b,c){a=i(a,c,{delay:b});return a},cancelDelayedCallback_DO_NOT_USE:function(a){a=a;return j(a)},startEventProfiling:function(){var a;a=(a=b("SchedulerFb-Internals_DO_NOT_USE").unstable_Profiling)==null?void 0:a.startLoggingProfilingEvents;typeof a=="function"&&a()},stopEventProfiling:function(){var a;a=(a=b("SchedulerFb-Internals_DO_NOT_USE").unstable_Profiling)==null?void 0:a.stopLoggingProfilingEvents;return typeof a=="function"?a():null},makeSchedulerGlobalEntry:function(c,d){c===void 0&&(c=null),d===void 0&&(d=!1),c!==null&&c!==void 0&&b("SchedulerFb-Internals_DO_NOT_USE").unstable_forceFrameRate(c),d&&k.startEventProfiling(),a.ScheduleJSWork=function(a){return function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];h?a.apply(void 0,c):k.deferUserBlockingRunAtCurrentPri_DO_NOT_USE(function(){h=!0;try{a.apply(void 0,c)}finally{h=!1}})}}}};e.exports=k}),null);
__d("FBRTCMessageListener",["invariant","Bootloader","FBMqttChannel","FBRTCConstants","FBRTCLocalMessageQueue","FBRTCSupport","RTWebExperiments","Run","gkx","guid","mixInEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBRTCConstants").ChildWindowMessageType,i=45*1e3,j=[],k=null,l=null,m,n=null,o=null,p=!1,q=!1,r=null,s=null,t=null,u=null,v=null,w=[];a={logCheckpoint:function(a){b("Bootloader").loadModules(["RTWebUserActionLogger"],function(b){b.logCheckpoint({checkpoint:a})},"FBRTCMessageListener")},init:function(a,c){var d=this;if(p)return;p=!0;q=a;r=c;this.subscribeToMqtt();if(b("FBRTCSupport").isWebrtcSupported()&&window.addEventListener){var e=a?this._handleWindowMessageToChild.bind(this):this._handleWindowMessageToParent.bind(this);window.addEventListener("message",e,!1)}a&&this._connectToParentWindow(c);b("Run").onUnload(function(){d.unsubscribeToAll()})},subscribeToMqtt:function(){var a=this;w.push("/webrtc");b("FBMqttChannel").subscribe("/webrtc",function(b){b=JSON.parse(b);a._onMessage(b)});w.push("/rtc_multi");b("FBMqttChannel").subscribe("/rtc_multi",function(b){b=JSON.parse(b);a._onMultiwayMessage(b)});w.push("/onevc");b("FBMqttChannel").subscribe("/onevc",function(b){b=JSON.parse(b);a._onOneVCMessage(b)})},unsubscribeToAll:function(){w.forEach(function(a){b("FBMqttChannel").unsubscribeAll(a)})},setParentWindowNonce:function(a){n=a},generateNewNonce:function(){o=b("guid")();return o},setMultiwayMessageHandler:function(a){s&&g(0,1011),s=a},removeMultiwayMessageHandler:function(){s=null},_emit:function(a,b){this.emit(a,b)},_onMultiwayMessage:function(a){this._emit("multiwayMessageReceived",a),s&&s(a)},setOneVCMessegeHandler:function(a){t==null&&(t=a)},_onOneVCMessage:function(a){t!=null&&t(a)},setMessageHandler:function(a){k&&g(0,1013);k=a;while(j.length)k(j.shift())},removeMessageHandler:function(){k=null},removeOneVCMessageHandler:function(){t=null},setParentWindowStartCallHandler:function(a){u=a},_onMessage:function(a){a.from&&(a.from=a.from.toString()),this._emit("messageReceived",a),k?k(a):j.push(a),q||this._passOrQueueToChildWindow(a)},_connectToParentWindow:function(a){var b=this;if(window.opener&&window.opener.postMessage){a={type:h.CHILD_WINDOW_READY,nonce:n,childNonce:this.generateNewNonce(),peerID:a};var c=new MessageChannel();c.port1.onmessage=function(a){b._handleWindowMessageToChild(a,!0)};window.opener.postMessage(a,window.location.origin,[c.port2])}},_verifyWindowMessage:function(a){return Boolean(a.origin===window.location.origin&&a.data&&o!==null&&a.data.nonce===o)},_verifyPortMessage:function(a){return Boolean(o!==null&&(a==null?void 0:(a=a.data)==null?void 0:a.nonce)===o)},_handleWindowMessageToParent:function(a){if(!this._verifyWindowMessage(a))return;if(a.data.type===h.CHILD_WINDOW_READY){var c=a.data,d=c.childNonce;c=c.peerID;b("gkx")("1098789")&&a.ports!=null&&Array.isArray(a.ports)&&a.ports[0]!=null&&(v=a.ports[0]);this.setParentWindowNonce(d);this._setChildWindow(a.source);this._startCallInChildWindow(c);this.generateNewNonce();this._replayQueuedMessagesToChild(c,l)}},_handleWindowMessageToChild:function(a,c){c===void 0&&(c=!1);if(c&&!this._verifyPortMessage(a)||!c&&!this._verifyWindowMessage(a))return;a.data.type===h.CHILD_WINDOW_MESSAGE&&this._onMessage(a.data.message);if(a.data.type===h.CHILD_WINDOW_START_CALL&&u){c=a.data.offer;!c&&r&&(c=b("FBRTCLocalMessageQueue").getPeerOfferFromStorage(r),c&&b("RTWebExperiments").passOfferWithWindowMessages()&&this.logCheckpoint("got_offer_from_storage_while_in_experiment"));u(c)}},_replayQueuedMessagesToChild:function(a,c){var d=this;b("FBRTCLocalMessageQueue").drainQueue(a,function(a){d._postToChildWindowMessage(c,a)})},_setChildWindow:function(a){l=a,window.clearTimeout(m),m=window.setTimeout(function(){l=null},i)},_postToChildWindowMessage:function(a,c){c={type:h.CHILD_WINDOW_MESSAGE,nonce:n,message:c};b("gkx")("1098789")&&v!=null?v.postMessage(c):a.postMessage(c,window.location.origin)},_passOrQueueToChildWindow:function(a){l&&this._postToChildWindowMessage(l,a),b("RTWebExperiments").enableCallCollisionFix()&&b("FBRTCLocalMessageQueue").enqueueMessage(a.from,a.id,a)},_startCallInChildWindow:function(a){if(l){a={type:h.CHILD_WINDOW_START_CALL,nonce:n,offer:b("RTWebExperiments").passOfferWithWindowMessages()?b("FBRTCLocalMessageQueue").pluckOffer(a):null};b("gkx")("1098789")&&v!=null?v.postMessage(a):l.postMessage(a,window.location.origin)}},listenOnce:function(a,b){this.once(a,b)}};b("mixInEventEmitter")(a,{messageReceived:!0,multiwayMessageReceived:!0});e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/WRsJ32R7YJG/
 */
__d("SnappyCompress",[],(function(a,b,c,d,e,f){"use strict";function g(){return typeof process==="object"&&(typeof process.versions==="object"&&typeof process.versions.node!=="undefined")?!0:!1}function h(a){return a instanceof Uint8Array&&(!g()||!Buffer.isBuffer(a))}function i(a){return a instanceof ArrayBuffer}function j(a){return!g()?!1:Buffer.isBuffer(a)}var k="Argument compressed must be type of ArrayBuffer, Buffer, or Uint8Array";function a(a){if(!h(a)&&!i(a)&&!j(a))throw new TypeError(k);var b=!1,c=!1;h(a)?b=!0:i(a)&&(c=!0,a=new Uint8Array(a));a=new A(a);var d=a.readUncompressedLength();if(d===-1)throw new Error("Invalid Snappy bitstream");if(b){b=new Uint8Array(d);if(!a.uncompressToBuffer(b))throw new Error("Invalid Snappy bitstream")}else if(c){b=new ArrayBuffer(d);c=new Uint8Array(b);if(!a.uncompressToBuffer(c))throw new Error("Invalid Snappy bitstream")}else{b=Buffer.alloc(d);if(!a.uncompressToBuffer(b))throw new Error("Invalid Snappy bitstream")}return b}function b(a){if(!h(a)&&!i(a)&&!j(a))throw new TypeError(k);var b=!1,c=!1;h(a)?b=!0:i(a)&&(c=!0,a=new Uint8Array(a));a=new x(a);var d=a.maxCompressedLength(),e,f,g;b?(e=new Uint8Array(d),g=a.compressToBuffer(e)):c?(e=new ArrayBuffer(d),f=new Uint8Array(e),g=a.compressToBuffer(f)):(e=Buffer.alloc(d),g=a.compressToBuffer(e));if(!e.slice){f=new Uint8Array(Array.prototype.slice.call(e,0,g));if(b)return f;else if(c)return f.buffer;else throw new Error("not implemented")}return e.slice(0,g)}c=16;var l=1<<c,m=14,n=new Array(m+1);function o(a,b){return a*506832829>>>b}function p(a,b){return a[b]+(a[b+1]<<8)+(a[b+2]<<16)+(a[b+3]<<24)}function q(a,b,c){return a[b]===a[c]&&a[b+1]===a[c+1]&&a[b+2]===a[c+2]&&a[b+3]===a[c+3]}function r(a,b,c,d,e){var f;for(f=0;f<e;f++)c[d+f]=a[b+f]}function s(a,b,c,d,e){c<=60?(d[e]=c-1<<2,e+=1):c<256?(d[e]=60<<2,d[e+1]=c-1,e+=2):(d[e]=61<<2,d[e+1]=c-1&255,d[e+2]=c-1>>>8,e+=3);r(a,b,d,e,c);return e+c}function t(a,b,c,d){if(d<12&&c<2048){a[b]=1+(d-4<<2)+(c>>>8<<5);a[b+1]=c&255;return b+2}else{a[b]=2+(d-1<<2);a[b+1]=c&255;a[b+2]=c>>>8;return b+3}}function u(a,b,c,d){while(d>=68)b=t(a,b,c,64),d-=64;d>64&&(b=t(a,b,c,60),d-=60);return t(a,b,c,d)}function v(a,b,c,d,e){var f=1;while(1<<f<=c&&f<=m)f+=1;f-=1;var g=32-f;typeof n[f]==="undefined"&&(n[f]=new Uint16Array(1<<f));f=n[f];var h;for(h=0;h<f.length;h++)f[h]=0;h=b+c;var i=b,j=b,k,l,r,t,v,w=!0,x=15;if(c>=x){c=h-x;b+=1;x=o(p(a,b),g);while(w){t=32;l=b;do{b=l;k=x;v=t>>>5;t+=1;l=b+v;if(b>c){w=!1;break}x=o(p(a,l),g);r=i+f[k];f[k]=b-i}while(!q(a,b,r));if(!w)break;e=s(a,j,b-j,d,e);do{v=b;k=4;while(b+k<h&&a[b+k]===a[r+k])k+=1;b+=k;l=v-r;e=u(d,e,l,k);j=b;if(b>=c){w=!1;break}t=o(p(a,b-1),g);f[t]=b-1-i;v=o(p(a,b),g);r=i+f[v];f[v]=b-i}while(q(a,b,r));if(!w)break;b+=1;x=o(p(a,b),g)}}j<h&&(e=s(a,j,h-j,d,e));return e}function w(a,b,c){do b[c]=a&127,a=a>>>7,a>0&&(b[c]+=128),c+=1;while(a>0);return c}function x(a){this.array=a}x.prototype.maxCompressedLength=function(){var a=this.array.length;return 32+a+Math.floor(a/6)};x.prototype.compressToBuffer=function(a){var b=this.array,c=b.length,d=0,e=0,f;e=w(c,a,e);while(d<c)f=Math.min(c-d,l),e=v(b,d,f,a,e),d+=f;return e};var y=[0,255,65535,16777215,4294967295];function r(a,b,c,d,e){var f;for(f=0;f<e;f++)c[d+f]=a[b+f]}function z(a,b,c,d){var e;for(e=0;e<d;e++)a[b+e]=a[b-c+e]}function A(a){this.array=a,this.pos=0}A.prototype.readUncompressedLength=function(){var a=0,b=0,c,d;while(b<32&&this.pos<this.array.length){c=this.array[this.pos];this.pos+=1;d=c&127;if(d<<b>>>b!==d)return-1;a|=d<<b;if(c<128)return a;b+=7}return-1};A.prototype.uncompressToBuffer=function(a){var b=this.array,c=b.length,d=this.pos,e=0,f,g,h,i;while(d<b.length){f=b[d];d+=1;if((f&3)===0){g=(f>>>2)+1;if(g>60){if(d+3>=c)return!1;h=g-60;g=b[d]+(b[d+1]<<8)+(b[d+2]<<16)+(b[d+3]<<24);g=(g&y[h])+1;d+=h}if(d+g>c)return!1;r(b,d,a,e,g);d+=g;e+=g}else{switch(f&3){case 1:g=(f>>>2&7)+4;i=b[d]+(f>>>5<<8);d+=1;break;case 2:if(d+1>=c)return!1;g=(f>>>2)+1;i=b[d]+(b[d+1]<<8);d+=2;break;case 3:if(d+3>=c)return!1;g=(f>>>2)+1;i=b[d]+(b[d+1]<<8)+(b[d+2]<<16)+(b[d+3]<<24);d+=4;break;default:break}if(i===0||i>e)return!1;z(a,e,i,g);e+=g}}return!0};e.exports.uncompress=a;e.exports.compress=b}),null);
__d("SnappyCompressUtil",["SnappyCompress"],(function(a,b,c,d,e,f){"use strict";var g={compressUint8ArrayToSnappy:function(c){if(c==null)return null;var d=null;try{d=b("SnappyCompress").compress(c)}catch(a){return null}c="";for(var e=0;e<d.length;e++)c+=String.fromCharCode(d[e]);return a.btoa(c)},compressStringToSnappy:function(b){if(a.Uint8Array===void 0||a.btoa===void 0)return null;var c=new a.Uint8Array(b.length);for(var d=0;d<b.length;d++){var e=b.charCodeAt(d);if(e>127)return null;c[d]=e}return g.compressUint8ArrayToSnappy(c)},compressStringToSnappyBinary:function(c){if(a.Uint8Array===void 0)return null;var d=null;if(a.TextEncoder!==void 0)d=new TextEncoder().encode(c);else{d=new a.Uint8Array(c.length);for(var e=0;e<c.length;e++){var f=c.charCodeAt(e);if(f>127)return null;d[e]=f}}f=null;try{f=b("SnappyCompress").compress(d)}catch(a){return null}return f}};e.exports=g}),null);