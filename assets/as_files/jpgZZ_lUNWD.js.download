if (self.CavalryLogger) { CavalryLogger.start_js(["Cw8hi"]); }

__d("CometSuspenseList.react",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");e.exports=a.SuspenseList}),null);
__d("CometPagelet.react",["requireCond","CometBackupPlaceholder.react","CometPlaceholder.react","CometSuspenseList.react","LegacyHidden","cr:1191379","React"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");f=h.forwardRef(function(a,b){a=a.children;return h.jsxs(h.Fragment,{children:[" ",a(b,function(){return null})," "]})});var i=(g=b("cr:1191379"))!=null?g:f;function a(a,c){var d=a.children,e=a.className,f=a.fallback,g=a.hidden,j=a.name,k=a.position;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","fallback","hidden","name","position"]);var l=j;k!=null&&k<2?l+="_"+k:k!=null&&(l+="_{n}");return h.jsx(i,babelHelpers["extends"]({},a,{name:l,position:k,ref:c,children:function(a,c){return h.jsxs(b("CometPlaceholder.react"),{fallback:f,children:[h.jsx(c,{}),h.jsx(b("LegacyHidden"),{htmlAttributes:{className:e,"data-pagelet":l},mode:g===!0?"hidden":"visible",ref:a,children:d})]})}}))}function c(a,c){var d=a.children,e=a.className,f=a.fallback,g=a.hidden,j=a.name,k=a.position;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","fallback","hidden","name","position"]);var l=j;k!=null&&k<2?l+="_"+k:k!=null&&(l+="_{n}");return h.jsx(i,babelHelpers["extends"]({},a,{name:l,position:k,ref:c,children:function(a,c){return h.jsxs(b("CometBackupPlaceholder.react"),{fallback:f,children:[h.jsx(c,{}),h.jsx(b("LegacyHidden"),{ref:a,mode:g===!0?"hidden":"visible",htmlAttributes:{className:e,"data-pagelet":l},children:d})]})}}))}function d(a,c){var d=a.children,e=a.className,f=a.hidden,g=a.name,j=a.position,k=a.revealOrder,l=a.tail;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","hidden","name","position","revealOrder","tail"]);var m=g;j!=null&&j<2?m+="_"+j:j!=null&&(m+="_{n}");return h.jsx(i,babelHelpers["extends"]({},a,{name:m,position:j,ref:c,children:function(a,c){return h.jsxs(b("LegacyHidden"),{htmlAttributes:{className:e,"data-pagelet":m},mode:f===!0?"hidden":"visible",ref:a,children:[h.jsx(c,{}),h.jsx(b("CometSuspenseList.react"),{revealOrder:k,tail:l,children:d})]})}}))}g={BackupPlaceholder:h.forwardRef(c),Placeholder:h.forwardRef(a),SuspenseList:h.forwardRef(d)};e.exports=g}),null);
__d("MWChatPopper.re",["MWChatPopper.bs"],(function(a,b,c,d,e,f){a=b("MWChatPopper.bs").useHook;f.useHook=a}),null);
__d("MWChatStateThread.re",["bs_block","MWChatStateThread.bs"],(function(a,b,c,d,e,f){var g={Search:0};a=function(a){a=b("MWChatStateThread.bs").toInteractionIDKey(typeof a==="object"?b("bs_block").__(0,[a.value]):g[a]);return a};f.toInteractionIDKey=a}),null);
__d("MWChatThreadId.re",["MWChatThreadId.bs"],(function(a,b,c,d,e,f){a=b("MWChatThreadId.bs").getMercuryID;f.getMercuryID=a;c=b("MWChatThreadId.bs").fromJs;f.fromJs=c}),null);
__d("MWChatThreadIDFromState.re",["MWChatThreadIDFromState.bs"],(function(a,b,c,d,e,f){var g={0:"Search"};a=function(a){a=b("MWChatThreadIDFromState.bs").getThreadIDFromState(a);return a==null?a:typeof a==="object"?{tag:"Thread",value:a[0]}:g[a]};f.getThreadIDFromState=a}),null);
__d("MWChatTabSync.re",["MWChatTabSync.bs"],(function(a,b,c,d,e,f){a=b("MWChatTabSync.bs").useHook;f.useHook=a}),null);
__d("MWChatTabContainerLoading.re",["MWChatTabContainerLoading.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MWChatTabContainerLoading.bs").make;f.make=a}),null);
__d("MWChatWithSidebarCollapseContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext();e.exports=c}),null);
__d("MWChatWithSidebarCurrentTab.bs",["React","requireCond","MWChatThreadId.bs","MWCurrentThread.bs","MWUIChatTabState.bs","cr:1465917"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c,d){return g.jsx(b("MWCurrentThread.bs").Provider.make,{thread:a,children:g.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:[a],children:g.jsx(b("cr:1465917").make,{threadID:a,isTabFocused:d,hasContent:c,isMultitab:!1,useSidebarChatStyles:!0},b("MWChatThreadId.bs").getMercuryID(a))})})}c=b("cr:1465917");f.$MWChatTabContainerWithEarlierLoading$OR$MWChatTabContainerWithoutPreloading$requireCond=b("cr:1465917");f.TabContainer=c;f.make=a}),null);
__d("MWChatWithSidebarCurrentTab.re",["bs_curry","MWChatWithSidebarCurrentTab.bs"],(function(a,b,c,d,e,f){a=function(a){a=b("bs_curry")._3(b("MWChatWithSidebarCurrentTab.bs").make,a.threadID,a.hasContent,a.isTabFocused);return a};f.make=a}),null);
__d("MWChatWithSidebarCurrentTabContainer.react",["CometPlaceholder.react","JSResource","MWChatTabContainerLoading.re","MWChatWithSidebarCurrentTab.re","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("MWChatTabContainerNew.react").__setRef("MWChatWithSidebarCurrentTabContainer.react"));function a(a){var c,d=a.openThreadID;return g.jsx(b("CometPlaceholder.react"),{fallback:g.jsx(b("MWChatTabContainerLoading.re").make,{threadID:(c=d)!=null?c:void 0,useSidebarChatStyles:!0}),children:d==null?g.jsx(h,{hasContent:a.hasContent,isTabFocused:a.isTabFocused,searchInitialParticipant:a.searchInitialParticipant}):g.jsx(b("MWChatWithSidebarCurrentTab.re").make,{hasContent:a.hasContent,isTabFocused:a.isTabFocused,threadID:d})})}e.exports=a}),null);
__d("useMWChatWithSidebarBreakpointHandle",["React"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useLayoutEffect,h=c.useRef;function a(a){var b=h(null),c=h(null),d=function(a){a.preventDefault(),c.current!=null&&(c.current.style.width="100%"),b.current={x:a.clientX,y:a.clientY},document.body!=null&&(document.body.style.cursor="ew-resize")},e=function(d){var e=b.current;if(e!=null){var f=Math.abs(d.clientX-e.x);d=Math.abs(d.clientY-e.y);d<2&&f<2&&a({deltaX:f,deltaY:d,directionH:null,directionV:null,isClick:!0})}c.current!=null&&(c.current.style.width="8px");b.current=null;document.body!=null&&(document.body.style.cursor="")},f=function(c){var d=b.current;if(d!=null){var e={x:c.clientX-d.x,y:c.clientY-d.y},f=Math.abs(c.clientX-d.x);c=Math.abs(c.clientY-d.y);d=e.x>0?"right":"left";e=e.y>0?"down":"up";a({deltaX:f,deltaY:c,directionH:d,directionV:e,isClick:!1})}};g(function(){if(c.current==null)return;var a=c.current;a.addEventListener("mousedown",d);window.addEventListener("mouseup",e);window.addEventListener("mousemove",f);return function(){a!=null&&(a.removeEventListener("mousedown",d),window.removeEventListener("mouseup",e),window.removeEventListener("mousemove",f))}});return c}e.exports=a}),null);
__d("MWChatWithSidebar.react",["fbt","requireDeferred","BanzaiODS","CometContextualLayerAnchorRoot.react","CometErrorBoundary.react","CometHeroInteractionWithDiv.react","CometPagelet.react","CometPlaceholder.react","CometProgressRingIndeterminate.react","HiddenSubtreeContextProvider.react","JSResource","Locale","MessengerInteractionContext.re","MWChatBlockList","MWChatDisabled.re","MWChatOpenTabState.re","MWChatPopper.re","MWChatStateThread.re","MWChatSyncEnvironment","MWChatTabState.re","MWChatTabSync.re","MWChatThreadId.re","MWChatThreadIDFromState.re","MWChatWithSidebarCollapseContext","MWChatWithSidebarCurrentTabContainer.react","React","WebStorage","deferredLoadComponent","gkx","lazyLoadComponent","stylex","useCometDisplayTimingTrackerForInteraction","useMWChatWithSidebarBreakpointHandle"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("React");c=b("React");var k=c.useContext,l=c.useMemo,m=c.useRef,n=c.useState,o=(h||(h=b("WebStorage"))).getLocalStorage(),p=b("lazyLoadComponent")(b("JSResource")("MWChatWithSidebarLHS.react").__setRef("MWChatWithSidebar.react")),q=b("deferredLoadComponent")(b("requireDeferred")("MWChatSidebarHeaderMinimizedWrapper.react")),r="chat_sidebar_is_collapsed",s={collapsedSidebar:{width:"hg3jlj2n"},container:{backgroundColor:"nred35xi",borderTopStartRadius:"ue3kfks5",boxShadow:"h0eh6jkb",display:"j83agx80",overflowX:"ni8dbmo4",overflowY:"stjgntxs",transform:"fh5enmmv"},glimmer:{alignItems:"bp9cbjyn",display:"j83agx80",height:"datstx6m",justifyContent:"taijpn5t"},hidden:{display:"mkhogb32"},interactionTracingDiv:{display:"a8s20v7p"},resizeHandle:{cursor:"d3beu7q1",height:"datstx6m",position:"pmk7jnqg",width:"c9rrlmt1"},root:{bottom:"i09qtzwb",end:"n7fi1qx3",position:"poy2od1o"},threads:{display:"j83agx80",flexDirection:"cbu4d94t",height:"kwja4m9d",maxHeight:"la0exbxb",width:"hql46x9e"},threadsWithDynamicHeight:{"@media (max-height: 699px)":{height:"qnav23dy"},"@media (min-height: 1400px)":{height:"t73yfllj"}}};function a(a){return j.jsx(b("HiddenSubtreeContextProvider.react"),{isHidden:!a.showChat,children:j.jsx(b("CometErrorBoundary.react"),{fallback:function(){return j.jsx(b("MWChatDisabled.re").make,{showChat:a.showChat})},children:j.jsx(b("CometPagelet.react").Placeholder,{className:(i||(i=b("stylex")))(s.root,a.showChat?null:s.hidden),excludeFromMainVC:!0,fallback:null,name:"ChatContainer",children:j.jsx(b("CometContextualLayerAnchorRoot.react"),{children:j.jsx(t,{})})})})})}function t(){b("MWChatBlockList").useHook();b("MWChatSyncEnvironment").useHook();b("MWChatPopper.re").useHook();b("MWChatTabSync.re").useHook();var a=b("MWChatTabState.re").useHook_DEPRECATED(),c=l(function(){return b("MWChatThreadIDFromState.re").getThreadIDFromState(a)},[a]),d=m(null),e=l(function(){return b("MWChatOpenTabState.re").get(a)},[a]),f=e==null?void 0:e.threadID,h=k(b("MessengerInteractionContext.re").context);h=h!=null?h.interactions:{};c=c!=null?b("MWChatStateThread.re").toInteractionIDKey(c):null;h=c!=null?h[c]:null;f!=null&&(d.current=f);c=!0;if(o!=null){var t=o.getItem(r);t==null?c=window.innerWidth<1920:c=t!=="0"}t=n(c);var u=t[0],v=t[1],w=function(a){if(o!=null)try{o.setItem(r,a?"1":"0")}catch(a){}b("BanzaiODS").bumpEntityKey(3185,"mwchat_miniapp",a?"collapse":"expand");v(a)};c=b("useMWChatWithSidebarBreakpointHandle")(function(a){var c=a.deltaX,d=a.directionH;a=a.isClick;if(a)w(!u);else if(c>10){a=b("Locale").isRTL()?"right":"left";c=b("Locale").isRTL()?"left":"right";u===!1&&d===c&&w(!0);u===!0&&d===a&&w(!1)}});t=b("useCometDisplayTimingTrackerForInteraction")("ChatMain",!0);return j.jsxs("div",{className:(i||(i=b("stylex")))(s.container),children:[j.jsx(b("CometHeroInteractionWithDiv.react"),{excludeFromMainVC:!0,interactionDesc:"ChatTab",interactionUUID:h,pageletName:"ChatTab",ref:t,xstyle:s.interactionTracingDiv,children:e!=null?j.jsxs(b("MWChatWithSidebarCollapseContext").Provider,{value:{isCollapsed:u,setIsCollapsed:w},children:[j.jsx("div",{className:(i||(i=b("stylex")))(s.threads,b("gkx")("1478555")?s.threadsWithDynamicHeight:null,u?s.collapsedSidebar:null),children:j.jsx(b("CometPlaceholder.react"),{fallback:j.jsx("div",{className:(i||(i=b("stylex")))(s.glimmer),children:j.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:20})}),children:j.jsx(p,{isSidebarCollapsed:u,openThreadID:f,setIsCollapsed:w})})}),j.jsx(b("MWChatWithSidebarCurrentTabContainer.react"),{hasContent:e.hasContent,isTabFocused:e.isTabFocused,openThreadID:f,searchInitialParticipant:e.searchInitialParticipant})]}):null}),e==null?j.jsx(b("CometPlaceholder.react"),{fallback:null,children:j.jsx(q,{lastOpenThreadId:d.current!=null?b("MWChatThreadId.re").getMercuryID(d.current):null})}):null,j.jsx("div",{"aria-label":g._("Expand or collapse thread list"),className:i(s.resizeHandle),ref:c})]})}e.exports=a}),null);